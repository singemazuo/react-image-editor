var VZ=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Kst=VZ((rs,fi)=>{function D8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function UZ(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var F8={exports:{}},uw={},L8={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry=Symbol.for("react.element"),WZ=Symbol.for("react.portal"),GZ=Symbol.for("react.fragment"),HZ=Symbol.for("react.strict_mode"),qZ=Symbol.for("react.profiler"),KZ=Symbol.for("react.provider"),XZ=Symbol.for("react.context"),QZ=Symbol.for("react.forward_ref"),YZ=Symbol.for("react.suspense"),JZ=Symbol.for("react.memo"),ZZ=Symbol.for("react.lazy"),NF=Symbol.iterator;function eee(t){return t===null||typeof t!="object"?null:(t=NF&&t[NF]||t["@@iterator"],typeof t=="function"?t:null)}var M8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B8=Object.assign,z8={};function Bh(t,e,n){this.props=t,this.context=e,this.refs=z8,this.updater=n||M8}Bh.prototype.isReactComponent={};Bh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function j8(){}j8.prototype=Bh.prototype;function gN(t,e,n){this.props=t,this.context=e,this.refs=z8,this.updater=n||M8}var yN=gN.prototype=new j8;yN.constructor=gN;B8(yN,Bh.prototype);yN.isPureReactComponent=!0;var OF=Array.isArray,V8=Object.prototype.hasOwnProperty,vN={current:null},U8={key:!0,ref:!0,__self:!0,__source:!0};function W8(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)V8.call(e,r)&&!U8.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ry,type:t,key:s,ref:o,props:i,_owner:vN.current}}function tee(t,e){return{$$typeof:ry,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xN(t){return typeof t=="object"&&t!==null&&t.$$typeof===ry}function nee(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var RF=/\/+/g;function pE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nee(""+t.key):e.toString(36)}function J1(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ry:case WZ:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+pE(o,0):r,OF(i)?(n="",t!=null&&(n=t.replace(RF,"$&/")+"/"),J1(i,e,n,"",function(c){return c})):i!=null&&(xN(i)&&(i=tee(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(RF,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",OF(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+pE(s,a);o+=J1(s,e,n,l,i)}else if(l=eee(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+pE(s,a++),o+=J1(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Y0(t,e,n){if(t==null)return t;var r=[],i=0;return J1(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ree(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yi={current:null},Z1={transition:null},iee={ReactCurrentDispatcher:yi,ReactCurrentBatchConfig:Z1,ReactCurrentOwner:vN};function G8(){throw Error("act(...) is not supported in production builds of React.")}mt.Children={map:Y0,forEach:function(t,e,n){Y0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Y0(t,function(){e++}),e},toArray:function(t){return Y0(t,function(e){return e})||[]},only:function(t){if(!xN(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};mt.Component=Bh;mt.Fragment=GZ;mt.Profiler=qZ;mt.PureComponent=gN;mt.StrictMode=HZ;mt.Suspense=YZ;mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iee;mt.act=G8;mt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=B8({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vN.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)V8.call(e,l)&&!U8.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ry,type:t.type,key:i,ref:s,props:r,_owner:o}};mt.createContext=function(t){return t={$$typeof:XZ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KZ,_context:t},t.Consumer=t};mt.createElement=W8;mt.createFactory=function(t){var e=W8.bind(null,t);return e.type=t,e};mt.createRef=function(){return{current:null}};mt.forwardRef=function(t){return{$$typeof:QZ,render:t}};mt.isValidElement=xN;mt.lazy=function(t){return{$$typeof:ZZ,_payload:{_status:-1,_result:t},_init:ree}};mt.memo=function(t,e){return{$$typeof:JZ,type:t,compare:e===void 0?null:e}};mt.startTransition=function(t){var e=Z1.transition;Z1.transition={};try{t()}finally{Z1.transition=e}};mt.unstable_act=G8;mt.useCallback=function(t,e){return yi.current.useCallback(t,e)};mt.useContext=function(t){return yi.current.useContext(t)};mt.useDebugValue=function(){};mt.useDeferredValue=function(t){return yi.current.useDeferredValue(t)};mt.useEffect=function(t,e){return yi.current.useEffect(t,e)};mt.useId=function(){return yi.current.useId()};mt.useImperativeHandle=function(t,e,n){return yi.current.useImperativeHandle(t,e,n)};mt.useInsertionEffect=function(t,e){return yi.current.useInsertionEffect(t,e)};mt.useLayoutEffect=function(t,e){return yi.current.useLayoutEffect(t,e)};mt.useMemo=function(t,e){return yi.current.useMemo(t,e)};mt.useReducer=function(t,e,n){return yi.current.useReducer(t,e,n)};mt.useRef=function(t){return yi.current.useRef(t)};mt.useState=function(t){return yi.current.useState(t)};mt.useSyncExternalStore=function(t,e,n){return yi.current.useSyncExternalStore(t,e,n)};mt.useTransition=function(){return yi.current.useTransition()};mt.version="18.3.1";L8.exports=mt;var A=L8.exports;const M=nl(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var see=A,oee=Symbol.for("react.element"),aee=Symbol.for("react.fragment"),lee=Object.prototype.hasOwnProperty,cee=see.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uee={key:!0,ref:!0,__self:!0,__source:!0};function H8(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lee.call(e,r)&&!uee.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:oee,type:t,key:s,ref:o,props:i,_owner:cee.current}}uw.Fragment=aee;uw.jsx=H8;uw.jsxs=H8;F8.exports=uw;var R=F8.exports,c_={},q8={exports:{}},hs={},K8={exports:{}},X8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,H){var Y=V.length;V.push(H);e:for(;0<Y;){var Z=Y-1>>>1,se=V[Z];if(0<i(se,H))V[Z]=H,V[Y]=se,Y=Z;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var H=V[0],Y=V.pop();if(Y!==H){V[0]=Y;e:for(var Z=0,se=V.length,ce=se>>>1;Z<ce;){var de=2*(Z+1)-1,fe=V[de],ge=de+1,ke=V[ge];if(0>i(fe,Y))ge<se&&0>i(ke,fe)?(V[Z]=ke,V[ge]=Y,Z=ge):(V[Z]=fe,V[de]=Y,Z=de);else if(ge<se&&0>i(ke,Y))V[Z]=ke,V[ge]=Y,Z=ge;else break e}}return H}function i(V,H){var Y=V.sortIndex-H.sortIndex;return Y!==0?Y:V.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=V)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function k(V){if(y=!1,w(V),!m)if(n(l)!==null)m=!0,Q(E);else{var H=n(c);H!==null&&ee(k,H.startTime-V)}}function E(V,H){m=!1,y&&(y=!1,v(N),N=-1),h=!0;var Y=f;try{for(w(H),d=n(l);d!==null&&(!(d.expirationTime>H)||V&&!F());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,f=d.priorityLevel;var se=Z(d.expirationTime<=H);H=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&r(l),w(H)}else r(l);d=n(l)}if(d!==null)var ce=!0;else{var de=n(c);de!==null&&ee(k,de.startTime-H),ce=!1}return ce}finally{d=null,f=Y,h=!1}}var _=!1,I=null,N=-1,D=5,P=-1;function F(){return!(t.unstable_now()-P<D)}function U(){if(I!==null){var V=t.unstable_now();P=V;var H=!0;try{H=I(!0,V)}finally{H?j():(_=!1,I=null)}}else _=!1}var j;if(typeof b=="function")j=function(){b(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,q=W.port2;W.port1.onmessage=U,j=function(){q.postMessage(null)}}else j=function(){x(U,0)};function Q(V){I=V,_||(_=!0,j())}function ee(V,H){N=x(function(){V(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,Q(E))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var Y=f;f=H;try{return V()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,H){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=f;f=V;try{return H()}finally{f=Y}},t.unstable_scheduleCallback=function(V,H,Y){var Z=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Z+Y:Z):Y=Z,V){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Y+se,V={id:u++,callback:H,priorityLevel:V,startTime:Y,expirationTime:se,sortIndex:-1},Y>Z?(V.sortIndex=Y,e(c,V),n(l)===null&&V===n(c)&&(y?(v(N),N=-1):y=!0,ee(k,Y-Z))):(V.sortIndex=se,e(l,V),m||h||(m=!0,Q(E))),V},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(V){var H=f;return function(){var Y=f;f=H;try{return V.apply(this,arguments)}finally{f=Y}}}})(X8);K8.exports=X8;var Pm=K8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dee=A,as=Pm;function xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q8=new Set,og={};function td(t,e){rh(t,e),rh(t+"Capture",e)}function rh(t,e){for(og[t]=e,t=0;t<e.length;t++)Q8.add(e[t])}var Ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u_=Object.prototype.hasOwnProperty,fee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,AF={},PF={};function hee(t){return u_.call(PF,t)?!0:u_.call(AF,t)?!1:fee.test(t)?PF[t]=!0:(AF[t]=!0,!1)}function pee(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mee(t,e,n,r){if(e===null||typeof e>"u"||pee(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mr[t]=new vi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mr[e]=new vi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mr[t]=new vi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mr[t]=new vi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mr[t]=new vi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mr[t]=new vi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mr[t]=new vi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mr[t]=new vi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mr[t]=new vi(t,5,!1,t.toLowerCase(),null,!1,!1)});var bN=/[\-:]([a-z])/g;function wN(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bN,wN);Mr[e]=new vi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bN,wN);Mr[e]=new vi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bN,wN);Mr[e]=new vi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mr[t]=new vi(t,1,!1,t.toLowerCase(),null,!1,!1)});Mr.xlinkHref=new vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mr[t]=new vi(t,1,!1,t.toLowerCase(),null,!0,!0)});function SN(t,e,n,r){var i=Mr.hasOwnProperty(e)?Mr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mee(e,n,i,r)&&(n=null),r||i===null?hee(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rl=dee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J0=Symbol.for("react.element"),yf=Symbol.for("react.portal"),vf=Symbol.for("react.fragment"),kN=Symbol.for("react.strict_mode"),d_=Symbol.for("react.profiler"),Y8=Symbol.for("react.provider"),J8=Symbol.for("react.context"),CN=Symbol.for("react.forward_ref"),f_=Symbol.for("react.suspense"),h_=Symbol.for("react.suspense_list"),EN=Symbol.for("react.memo"),Rl=Symbol.for("react.lazy"),Z8=Symbol.for("react.offscreen"),DF=Symbol.iterator;function Up(t){return t===null||typeof t!="object"?null:(t=DF&&t[DF]||t["@@iterator"],typeof t=="function"?t:null)}var Cn=Object.assign,mE;function pm(t){if(mE===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mE=e&&e[1]||""}return`
`+mE+t}var gE=!1;function yE(t,e){if(!t||gE)return"";gE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{gE=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pm(t):""}function gee(t){switch(t.tag){case 5:return pm(t.type);case 16:return pm("Lazy");case 13:return pm("Suspense");case 19:return pm("SuspenseList");case 0:case 2:case 15:return t=yE(t.type,!1),t;case 11:return t=yE(t.type.render,!1),t;case 1:return t=yE(t.type,!0),t;default:return""}}function p_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vf:return"Fragment";case yf:return"Portal";case d_:return"Profiler";case kN:return"StrictMode";case f_:return"Suspense";case h_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case J8:return(t.displayName||"Context")+".Consumer";case Y8:return(t._context.displayName||"Context")+".Provider";case CN:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case EN:return e=t.displayName||null,e!==null?e:p_(t.type)||"Memo";case Rl:e=t._payload,t=t._init;try{return p_(t(e))}catch{}}return null}function yee(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return p_(e);case 8:return e===kN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ez(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vee(t){var e=ez(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Z0(t){t._valueTracker||(t._valueTracker=vee(t))}function tz(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ez(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nx(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function m_(t,e){var n=e.checked;return Cn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function FF(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nz(t,e){e=e.checked,e!=null&&SN(t,"checked",e,!1)}function g_(t,e){nz(t,e);var n=oc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?y_(t,e.type,n):e.hasOwnProperty("defaultValue")&&y_(t,e.type,oc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function LF(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function y_(t,e,n){(e!=="number"||Nx(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mm=Array.isArray;function Lf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function v_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(xe(91));return Cn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function MF(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(xe(92));if(mm(n)){if(1<n.length)throw Error(xe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oc(n)}}function rz(t,e){var n=oc(e.value),r=oc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function BF(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iz(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function x_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iz(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var e1,sz=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(e1=e1||document.createElement("div"),e1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=e1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ag(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Dm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xee=["Webkit","ms","Moz","O"];Object.keys(Dm).forEach(function(t){xee.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dm[e]=Dm[t]})});function oz(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Dm.hasOwnProperty(t)&&Dm[t]?(""+e).trim():e+"px"}function az(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=oz(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bee=Cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function b_(t,e){if(e){if(bee[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(xe(62))}}function w_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S_=null;function TN(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var k_=null,Mf=null,Bf=null;function zF(t){if(t=oy(t)){if(typeof k_!="function")throw Error(xe(280));var e=t.stateNode;e&&(e=mw(e),k_(t.stateNode,t.type,e))}}function lz(t){Mf?Bf?Bf.push(t):Bf=[t]:Mf=t}function cz(){if(Mf){var t=Mf,e=Bf;if(Bf=Mf=null,zF(t),e)for(t=0;t<e.length;t++)zF(e[t])}}function uz(t,e){return t(e)}function dz(){}var vE=!1;function fz(t,e,n){if(vE)return t(e,n);vE=!0;try{return uz(t,e,n)}finally{vE=!1,(Mf!==null||Bf!==null)&&(dz(),cz())}}function lg(t,e){var n=t.stateNode;if(n===null)return null;var r=mw(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(xe(231,e,typeof n));return n}var C_=!1;if(Ua)try{var Wp={};Object.defineProperty(Wp,"passive",{get:function(){C_=!0}}),window.addEventListener("test",Wp,Wp),window.removeEventListener("test",Wp,Wp)}catch{C_=!1}function wee(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Fm=!1,Ox=null,Rx=!1,E_=null,See={onError:function(t){Fm=!0,Ox=t}};function kee(t,e,n,r,i,s,o,a,l){Fm=!1,Ox=null,wee.apply(See,arguments)}function Cee(t,e,n,r,i,s,o,a,l){if(kee.apply(this,arguments),Fm){if(Fm){var c=Ox;Fm=!1,Ox=null}else throw Error(xe(198));Rx||(Rx=!0,E_=c)}}function nd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hz(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jF(t){if(nd(t)!==t)throw Error(xe(188))}function Eee(t){var e=t.alternate;if(!e){if(e=nd(t),e===null)throw Error(xe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return jF(i),t;if(s===r)return jF(i),e;s=s.sibling}throw Error(xe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(xe(189))}}if(n.alternate!==r)throw Error(xe(190))}if(n.tag!==3)throw Error(xe(188));return n.stateNode.current===n?t:e}function pz(t){return t=Eee(t),t!==null?mz(t):null}function mz(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mz(t);if(e!==null)return e;t=t.sibling}return null}var gz=as.unstable_scheduleCallback,VF=as.unstable_cancelCallback,Tee=as.unstable_shouldYield,_ee=as.unstable_requestPaint,Mn=as.unstable_now,Iee=as.unstable_getCurrentPriorityLevel,_N=as.unstable_ImmediatePriority,yz=as.unstable_UserBlockingPriority,Ax=as.unstable_NormalPriority,$ee=as.unstable_LowPriority,vz=as.unstable_IdlePriority,dw=null,Xo=null;function Nee(t){if(Xo&&typeof Xo.onCommitFiberRoot=="function")try{Xo.onCommitFiberRoot(dw,t,void 0,(t.current.flags&128)===128)}catch{}}var vo=Math.clz32?Math.clz32:Aee,Oee=Math.log,Ree=Math.LN2;function Aee(t){return t>>>=0,t===0?32:31-(Oee(t)/Ree|0)|0}var t1=64,n1=4194304;function gm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Px(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=gm(a):(s&=o,s!==0&&(r=gm(s)))}else o=n&~i,o!==0?r=gm(o):s!==0&&(r=gm(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vo(e),i=1<<n,r|=t[n],e&=~i;return r}function Pee(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dee(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-vo(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Pee(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function T_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xz(){var t=t1;return t1<<=1,!(t1&4194240)&&(t1=64),t}function xE(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function iy(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vo(e),t[e]=n}function Fee(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vo(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function IN(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var At=0;function bz(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wz,$N,Sz,kz,Cz,__=!1,r1=[],Kl=null,Xl=null,Ql=null,cg=new Map,ug=new Map,Ll=[],Lee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function UF(t,e){switch(t){case"focusin":case"focusout":Kl=null;break;case"dragenter":case"dragleave":Xl=null;break;case"mouseover":case"mouseout":Ql=null;break;case"pointerover":case"pointerout":cg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ug.delete(e.pointerId)}}function Gp(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=oy(e),e!==null&&$N(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Mee(t,e,n,r,i){switch(e){case"focusin":return Kl=Gp(Kl,t,e,n,r,i),!0;case"dragenter":return Xl=Gp(Xl,t,e,n,r,i),!0;case"mouseover":return Ql=Gp(Ql,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return cg.set(s,Gp(cg.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ug.set(s,Gp(ug.get(s)||null,t,e,n,r,i)),!0}return!1}function Ez(t){var e=hu(t.target);if(e!==null){var n=nd(e);if(n!==null){if(e=n.tag,e===13){if(e=hz(n),e!==null){t.blockedOn=e,Cz(t.priority,function(){Sz(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ex(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=I_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);S_=r,n.target.dispatchEvent(r),S_=null}else return e=oy(n),e!==null&&$N(e),t.blockedOn=n,!1;e.shift()}return!0}function WF(t,e,n){ex(t)&&n.delete(e)}function Bee(){__=!1,Kl!==null&&ex(Kl)&&(Kl=null),Xl!==null&&ex(Xl)&&(Xl=null),Ql!==null&&ex(Ql)&&(Ql=null),cg.forEach(WF),ug.forEach(WF)}function Hp(t,e){t.blockedOn===e&&(t.blockedOn=null,__||(__=!0,as.unstable_scheduleCallback(as.unstable_NormalPriority,Bee)))}function dg(t){function e(i){return Hp(i,t)}if(0<r1.length){Hp(r1[0],t);for(var n=1;n<r1.length;n++){var r=r1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Kl!==null&&Hp(Kl,t),Xl!==null&&Hp(Xl,t),Ql!==null&&Hp(Ql,t),cg.forEach(e),ug.forEach(e),n=0;n<Ll.length;n++)r=Ll[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ll.length&&(n=Ll[0],n.blockedOn===null);)Ez(n),n.blockedOn===null&&Ll.shift()}var zf=rl.ReactCurrentBatchConfig,Dx=!0;function zee(t,e,n,r){var i=At,s=zf.transition;zf.transition=null;try{At=1,NN(t,e,n,r)}finally{At=i,zf.transition=s}}function jee(t,e,n,r){var i=At,s=zf.transition;zf.transition=null;try{At=4,NN(t,e,n,r)}finally{At=i,zf.transition=s}}function NN(t,e,n,r){if(Dx){var i=I_(t,e,n,r);if(i===null)$E(t,e,r,Fx,n),UF(t,r);else if(Mee(i,t,e,n,r))r.stopPropagation();else if(UF(t,r),e&4&&-1<Lee.indexOf(t)){for(;i!==null;){var s=oy(i);if(s!==null&&wz(s),s=I_(t,e,n,r),s===null&&$E(t,e,r,Fx,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $E(t,e,r,null,n)}}var Fx=null;function I_(t,e,n,r){if(Fx=null,t=TN(r),t=hu(t),t!==null)if(e=nd(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hz(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fx=t,null}function Tz(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iee()){case _N:return 1;case yz:return 4;case Ax:case $ee:return 16;case vz:return 536870912;default:return 16}default:return 16}}var jl=null,ON=null,tx=null;function _z(){if(tx)return tx;var t,e=ON,n=e.length,r,i="value"in jl?jl.value:jl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return tx=i.slice(t,1<r?1-r:void 0)}function nx(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function i1(){return!0}function GF(){return!1}function ps(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?i1:GF,this.isPropagationStopped=GF,this}return Cn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=i1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=i1)},persist:function(){},isPersistent:i1}),e}var zh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},RN=ps(zh),sy=Cn({},zh,{view:0,detail:0}),Vee=ps(sy),bE,wE,qp,fw=Cn({},sy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AN,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qp&&(qp&&t.type==="mousemove"?(bE=t.screenX-qp.screenX,wE=t.screenY-qp.screenY):wE=bE=0,qp=t),bE)},movementY:function(t){return"movementY"in t?t.movementY:wE}}),HF=ps(fw),Uee=Cn({},fw,{dataTransfer:0}),Wee=ps(Uee),Gee=Cn({},sy,{relatedTarget:0}),SE=ps(Gee),Hee=Cn({},zh,{animationName:0,elapsedTime:0,pseudoElement:0}),qee=ps(Hee),Kee=Cn({},zh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xee=ps(Kee),Qee=Cn({},zh,{data:0}),qF=ps(Qee),Yee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ete(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zee[t])?!!e[t]:!1}function AN(){return ete}var tte=Cn({},sy,{key:function(t){if(t.key){var e=Yee[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nx(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jee[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AN,charCode:function(t){return t.type==="keypress"?nx(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nx(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nte=ps(tte),rte=Cn({},fw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KF=ps(rte),ite=Cn({},sy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AN}),ste=ps(ite),ote=Cn({},zh,{propertyName:0,elapsedTime:0,pseudoElement:0}),ate=ps(ote),lte=Cn({},fw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cte=ps(lte),ute=[9,13,27,32],PN=Ua&&"CompositionEvent"in window,Lm=null;Ua&&"documentMode"in document&&(Lm=document.documentMode);var dte=Ua&&"TextEvent"in window&&!Lm,Iz=Ua&&(!PN||Lm&&8<Lm&&11>=Lm),XF=" ",QF=!1;function $z(t,e){switch(t){case"keyup":return ute.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nz(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xf=!1;function fte(t,e){switch(t){case"compositionend":return Nz(e);case"keypress":return e.which!==32?null:(QF=!0,XF);case"textInput":return t=e.data,t===XF&&QF?null:t;default:return null}}function hte(t,e){if(xf)return t==="compositionend"||!PN&&$z(t,e)?(t=_z(),tx=ON=jl=null,xf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Iz&&e.locale!=="ko"?null:e.data;default:return null}}var pte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YF(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pte[t.type]:e==="textarea"}function Oz(t,e,n,r){lz(r),e=Lx(e,"onChange"),0<e.length&&(n=new RN("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Mm=null,fg=null;function mte(t){Vz(t,0)}function hw(t){var e=Sf(t);if(tz(e))return t}function gte(t,e){if(t==="change")return e}var Rz=!1;if(Ua){var kE;if(Ua){var CE="oninput"in document;if(!CE){var JF=document.createElement("div");JF.setAttribute("oninput","return;"),CE=typeof JF.oninput=="function"}kE=CE}else kE=!1;Rz=kE&&(!document.documentMode||9<document.documentMode)}function ZF(){Mm&&(Mm.detachEvent("onpropertychange",Az),fg=Mm=null)}function Az(t){if(t.propertyName==="value"&&hw(fg)){var e=[];Oz(e,fg,t,TN(t)),fz(mte,e)}}function yte(t,e,n){t==="focusin"?(ZF(),Mm=e,fg=n,Mm.attachEvent("onpropertychange",Az)):t==="focusout"&&ZF()}function vte(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hw(fg)}function xte(t,e){if(t==="click")return hw(e)}function bte(t,e){if(t==="input"||t==="change")return hw(e)}function wte(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var So=typeof Object.is=="function"?Object.is:wte;function hg(t,e){if(So(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u_.call(e,i)||!So(t[i],e[i]))return!1}return!0}function e4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function t4(t,e){var n=e4(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=e4(n)}}function Pz(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Pz(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Dz(){for(var t=window,e=Nx();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nx(t.document)}return e}function DN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ste(t){var e=Dz(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Pz(n.ownerDocument.documentElement,n)){if(r!==null&&DN(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=t4(n,s);var o=t4(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kte=Ua&&"documentMode"in document&&11>=document.documentMode,bf=null,$_=null,Bm=null,N_=!1;function n4(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;N_||bf==null||bf!==Nx(r)||(r=bf,"selectionStart"in r&&DN(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bm&&hg(Bm,r)||(Bm=r,r=Lx($_,"onSelect"),0<r.length&&(e=new RN("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bf)))}function s1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wf={animationend:s1("Animation","AnimationEnd"),animationiteration:s1("Animation","AnimationIteration"),animationstart:s1("Animation","AnimationStart"),transitionend:s1("Transition","TransitionEnd")},EE={},Fz={};Ua&&(Fz=document.createElement("div").style,"AnimationEvent"in window||(delete wf.animationend.animation,delete wf.animationiteration.animation,delete wf.animationstart.animation),"TransitionEvent"in window||delete wf.transitionend.transition);function pw(t){if(EE[t])return EE[t];if(!wf[t])return t;var e=wf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Fz)return EE[t]=e[n];return t}var Lz=pw("animationend"),Mz=pw("animationiteration"),Bz=pw("animationstart"),zz=pw("transitionend"),jz=new Map,r4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sc(t,e){jz.set(t,e),td(e,[t])}for(var TE=0;TE<r4.length;TE++){var _E=r4[TE],Cte=_E.toLowerCase(),Ete=_E[0].toUpperCase()+_E.slice(1);Sc(Cte,"on"+Ete)}Sc(Lz,"onAnimationEnd");Sc(Mz,"onAnimationIteration");Sc(Bz,"onAnimationStart");Sc("dblclick","onDoubleClick");Sc("focusin","onFocus");Sc("focusout","onBlur");Sc(zz,"onTransitionEnd");rh("onMouseEnter",["mouseout","mouseover"]);rh("onMouseLeave",["mouseout","mouseover"]);rh("onPointerEnter",["pointerout","pointerover"]);rh("onPointerLeave",["pointerout","pointerover"]);td("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));td("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));td("onBeforeInput",["compositionend","keypress","textInput","paste"]);td("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));td("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));td("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ym="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tte=new Set("cancel close invalid load scroll toggle".split(" ").concat(ym));function i4(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Cee(r,e,void 0,t),t.currentTarget=null}function Vz(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;i4(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;i4(i,a,c),s=l}}}if(Rx)throw t=E_,Rx=!1,E_=null,t}function nn(t,e){var n=e[D_];n===void 0&&(n=e[D_]=new Set);var r=t+"__bubble";n.has(r)||(Uz(e,t,2,!1),n.add(r))}function IE(t,e,n){var r=0;e&&(r|=4),Uz(n,t,r,e)}var o1="_reactListening"+Math.random().toString(36).slice(2);function pg(t){if(!t[o1]){t[o1]=!0,Q8.forEach(function(n){n!=="selectionchange"&&(Tte.has(n)||IE(n,!1,t),IE(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[o1]||(e[o1]=!0,IE("selectionchange",!1,e))}}function Uz(t,e,n,r){switch(Tz(e)){case 1:var i=zee;break;case 4:i=jee;break;default:i=NN}n=i.bind(null,e,n,t),i=void 0,!C_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $E(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=hu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}fz(function(){var c=s,u=TN(n),d=[];e:{var f=jz.get(t);if(f!==void 0){var h=RN,m=t;switch(t){case"keypress":if(nx(n)===0)break e;case"keydown":case"keyup":h=nte;break;case"focusin":m="focus",h=SE;break;case"focusout":m="blur",h=SE;break;case"beforeblur":case"afterblur":h=SE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=HF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Wee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ste;break;case Lz:case Mz:case Bz:h=qee;break;case zz:h=ate;break;case"scroll":h=Vee;break;case"wheel":h=cte;break;case"copy":case"cut":case"paste":h=Xee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=KF}var y=(e&4)!==0,x=!y&&t==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var b=c,w;b!==null;){w=b;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,v!==null&&(k=lg(b,v),k!=null&&y.push(mg(b,k,w)))),x)break;b=b.return}0<y.length&&(f=new h(f,m,null,n,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==S_&&(m=n.relatedTarget||n.fromElement)&&(hu(m)||m[Wa]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=c,m=m?hu(m):null,m!==null&&(x=nd(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(y=HF,k="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=KF,k="onPointerLeave",v="onPointerEnter",b="pointer"),x=h==null?f:Sf(h),w=m==null?f:Sf(m),f=new y(k,b+"leave",h,n,u),f.target=x,f.relatedTarget=w,k=null,hu(u)===c&&(y=new y(v,b+"enter",m,n,u),y.target=w,y.relatedTarget=x,k=y),x=k,h&&m)t:{for(y=h,v=m,b=0,w=y;w;w=Bd(w))b++;for(w=0,k=v;k;k=Bd(k))w++;for(;0<b-w;)y=Bd(y),b--;for(;0<w-b;)v=Bd(v),w--;for(;b--;){if(y===v||v!==null&&y===v.alternate)break t;y=Bd(y),v=Bd(v)}y=null}else y=null;h!==null&&s4(d,f,h,y,!1),m!==null&&x!==null&&s4(d,x,m,y,!0)}}e:{if(f=c?Sf(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=gte;else if(YF(f))if(Rz)E=bte;else{E=vte;var _=yte}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=xte);if(E&&(E=E(t,c))){Oz(d,E,n,u);break e}_&&_(t,f,c),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&y_(f,"number",f.value)}switch(_=c?Sf(c):window,t){case"focusin":(YF(_)||_.contentEditable==="true")&&(bf=_,$_=c,Bm=null);break;case"focusout":Bm=$_=bf=null;break;case"mousedown":N_=!0;break;case"contextmenu":case"mouseup":case"dragend":N_=!1,n4(d,n,u);break;case"selectionchange":if(kte)break;case"keydown":case"keyup":n4(d,n,u)}var I;if(PN)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else xf?$z(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Iz&&n.locale!=="ko"&&(xf||N!=="onCompositionStart"?N==="onCompositionEnd"&&xf&&(I=_z()):(jl=u,ON="value"in jl?jl.value:jl.textContent,xf=!0)),_=Lx(c,N),0<_.length&&(N=new qF(N,t,null,n,u),d.push({event:N,listeners:_}),I?N.data=I:(I=Nz(n),I!==null&&(N.data=I)))),(I=dte?fte(t,n):hte(t,n))&&(c=Lx(c,"onBeforeInput"),0<c.length&&(u=new qF("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=I))}Vz(d,e)})}function mg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lx(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=lg(t,n),s!=null&&r.unshift(mg(t,s,i)),s=lg(t,e),s!=null&&r.push(mg(t,s,i))),t=t.return}return r}function Bd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function s4(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=lg(n,s),l!=null&&o.unshift(mg(n,l,a))):i||(l=lg(n,s),l!=null&&o.push(mg(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _te=/\r\n?/g,Ite=/\u0000|\uFFFD/g;function o4(t){return(typeof t=="string"?t:""+t).replace(_te,`
`).replace(Ite,"")}function a1(t,e,n){if(e=o4(e),o4(t)!==e&&n)throw Error(xe(425))}function Mx(){}var O_=null,R_=null;function A_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var P_=typeof setTimeout=="function"?setTimeout:void 0,$te=typeof clearTimeout=="function"?clearTimeout:void 0,a4=typeof Promise=="function"?Promise:void 0,Nte=typeof queueMicrotask=="function"?queueMicrotask:typeof a4<"u"?function(t){return a4.resolve(null).then(t).catch(Ote)}:P_;function Ote(t){setTimeout(function(){throw t})}function NE(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),dg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);dg(e)}function Yl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function l4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jh=Math.random().toString(36).slice(2),Go="__reactFiber$"+jh,gg="__reactProps$"+jh,Wa="__reactContainer$"+jh,D_="__reactEvents$"+jh,Rte="__reactListeners$"+jh,Ate="__reactHandles$"+jh;function hu(t){var e=t[Go];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wa]||n[Go]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=l4(t);t!==null;){if(n=t[Go])return n;t=l4(t)}return e}t=n,n=t.parentNode}return null}function oy(t){return t=t[Go]||t[Wa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(xe(33))}function mw(t){return t[gg]||null}var F_=[],kf=-1;function kc(t){return{current:t}}function on(t){0>kf||(t.current=F_[kf],F_[kf]=null,kf--)}function Yt(t,e){kf++,F_[kf]=t.current,t.current=e}var ac={},ni=kc(ac),Li=kc(!1),Nu=ac;function ih(t,e){var n=t.type.contextTypes;if(!n)return ac;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mi(t){return t=t.childContextTypes,t!=null}function Bx(){on(Li),on(ni)}function c4(t,e,n){if(ni.current!==ac)throw Error(xe(168));Yt(ni,e),Yt(Li,n)}function Wz(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(xe(108,yee(t)||"Unknown",i));return Cn({},n,r)}function zx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ac,Nu=ni.current,Yt(ni,t),Yt(Li,Li.current),!0}function u4(t,e,n){var r=t.stateNode;if(!r)throw Error(xe(169));n?(t=Wz(t,e,Nu),r.__reactInternalMemoizedMergedChildContext=t,on(Li),on(ni),Yt(ni,t)):on(Li),Yt(Li,n)}var Ia=null,gw=!1,OE=!1;function Gz(t){Ia===null?Ia=[t]:Ia.push(t)}function Pte(t){gw=!0,Gz(t)}function Cc(){if(!OE&&Ia!==null){OE=!0;var t=0,e=At;try{var n=Ia;for(At=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ia=null,gw=!1}catch(i){throw Ia!==null&&(Ia=Ia.slice(t+1)),gz(_N,Cc),i}finally{At=e,OE=!1}}return null}var Cf=[],Ef=0,jx=null,Vx=0,$s=[],Ns=0,Ou=null,Da=1,Fa="";function Jc(t,e){Cf[Ef++]=Vx,Cf[Ef++]=jx,jx=t,Vx=e}function Hz(t,e,n){$s[Ns++]=Da,$s[Ns++]=Fa,$s[Ns++]=Ou,Ou=t;var r=Da;t=Fa;var i=32-vo(r)-1;r&=~(1<<i),n+=1;var s=32-vo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Da=1<<32-vo(e)+i|n<<i|r,Fa=s+t}else Da=1<<s|n<<i|r,Fa=t}function FN(t){t.return!==null&&(Jc(t,1),Hz(t,1,0))}function LN(t){for(;t===jx;)jx=Cf[--Ef],Cf[Ef]=null,Vx=Cf[--Ef],Cf[Ef]=null;for(;t===Ou;)Ou=$s[--Ns],$s[Ns]=null,Fa=$s[--Ns],$s[Ns]=null,Da=$s[--Ns],$s[Ns]=null}var is=null,ts=null,mn=!1,lo=null;function qz(t,e){var n=As(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function d4(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,is=t,ts=Yl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,is=t,ts=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ou!==null?{id:Da,overflow:Fa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=As(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,is=t,ts=null,!0):!1;default:return!1}}function L_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function M_(t){if(mn){var e=ts;if(e){var n=e;if(!d4(t,e)){if(L_(t))throw Error(xe(418));e=Yl(n.nextSibling);var r=is;e&&d4(t,e)?qz(r,n):(t.flags=t.flags&-4097|2,mn=!1,is=t)}}else{if(L_(t))throw Error(xe(418));t.flags=t.flags&-4097|2,mn=!1,is=t}}}function f4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;is=t}function l1(t){if(t!==is)return!1;if(!mn)return f4(t),mn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!A_(t.type,t.memoizedProps)),e&&(e=ts)){if(L_(t))throw Kz(),Error(xe(418));for(;e;)qz(t,e),e=Yl(e.nextSibling)}if(f4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ts=Yl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ts=null}}else ts=is?Yl(t.stateNode.nextSibling):null;return!0}function Kz(){for(var t=ts;t;)t=Yl(t.nextSibling)}function sh(){ts=is=null,mn=!1}function MN(t){lo===null?lo=[t]:lo.push(t)}var Dte=rl.ReactCurrentBatchConfig;function Kp(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xe(309));var r=n.stateNode}if(!r)throw Error(xe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(xe(284));if(!n._owner)throw Error(xe(290,t))}return t}function c1(t,e){throw t=Object.prototype.toString.call(e),Error(xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function h4(t){var e=t._init;return e(t._payload)}function Xz(t){function e(v,b){if(t){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=tc(v,b),v.index=0,v.sibling=null,v}function s(v,b,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,b,w,k){return b===null||b.tag!==6?(b=ME(w,v.mode,k),b.return=v,b):(b=i(b,w),b.return=v,b)}function l(v,b,w,k){var E=w.type;return E===vf?u(v,b,w.props.children,k,w.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Rl&&h4(E)===b.type)?(k=i(b,w.props),k.ref=Kp(v,b,w),k.return=v,k):(k=cx(w.type,w.key,w.props,null,v.mode,k),k.ref=Kp(v,b,w),k.return=v,k)}function c(v,b,w,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=BE(w,v.mode,k),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function u(v,b,w,k,E){return b===null||b.tag!==7?(b=Su(w,v.mode,k,E),b.return=v,b):(b=i(b,w),b.return=v,b)}function d(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=ME(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case J0:return w=cx(b.type,b.key,b.props,null,v.mode,w),w.ref=Kp(v,null,b),w.return=v,w;case yf:return b=BE(b,v.mode,w),b.return=v,b;case Rl:var k=b._init;return d(v,k(b._payload),w)}if(mm(b)||Up(b))return b=Su(b,v.mode,w,null),b.return=v,b;c1(v,b)}return null}function f(v,b,w,k){var E=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:a(v,b,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case J0:return w.key===E?l(v,b,w,k):null;case yf:return w.key===E?c(v,b,w,k):null;case Rl:return E=w._init,f(v,b,E(w._payload),k)}if(mm(w)||Up(w))return E!==null?null:u(v,b,w,k,null);c1(v,w)}return null}function h(v,b,w,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(w)||null,a(b,v,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case J0:return v=v.get(k.key===null?w:k.key)||null,l(b,v,k,E);case yf:return v=v.get(k.key===null?w:k.key)||null,c(b,v,k,E);case Rl:var _=k._init;return h(v,b,w,_(k._payload),E)}if(mm(k)||Up(k))return v=v.get(w)||null,u(b,v,k,E,null);c1(b,k)}return null}function m(v,b,w,k){for(var E=null,_=null,I=b,N=b=0,D=null;I!==null&&N<w.length;N++){I.index>N?(D=I,I=null):D=I.sibling;var P=f(v,I,w[N],k);if(P===null){I===null&&(I=D);break}t&&I&&P.alternate===null&&e(v,I),b=s(P,b,N),_===null?E=P:_.sibling=P,_=P,I=D}if(N===w.length)return n(v,I),mn&&Jc(v,N),E;if(I===null){for(;N<w.length;N++)I=d(v,w[N],k),I!==null&&(b=s(I,b,N),_===null?E=I:_.sibling=I,_=I);return mn&&Jc(v,N),E}for(I=r(v,I);N<w.length;N++)D=h(I,v,N,w[N],k),D!==null&&(t&&D.alternate!==null&&I.delete(D.key===null?N:D.key),b=s(D,b,N),_===null?E=D:_.sibling=D,_=D);return t&&I.forEach(function(F){return e(v,F)}),mn&&Jc(v,N),E}function y(v,b,w,k){var E=Up(w);if(typeof E!="function")throw Error(xe(150));if(w=E.call(w),w==null)throw Error(xe(151));for(var _=E=null,I=b,N=b=0,D=null,P=w.next();I!==null&&!P.done;N++,P=w.next()){I.index>N?(D=I,I=null):D=I.sibling;var F=f(v,I,P.value,k);if(F===null){I===null&&(I=D);break}t&&I&&F.alternate===null&&e(v,I),b=s(F,b,N),_===null?E=F:_.sibling=F,_=F,I=D}if(P.done)return n(v,I),mn&&Jc(v,N),E;if(I===null){for(;!P.done;N++,P=w.next())P=d(v,P.value,k),P!==null&&(b=s(P,b,N),_===null?E=P:_.sibling=P,_=P);return mn&&Jc(v,N),E}for(I=r(v,I);!P.done;N++,P=w.next())P=h(I,v,N,P.value,k),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?N:P.key),b=s(P,b,N),_===null?E=P:_.sibling=P,_=P);return t&&I.forEach(function(U){return e(v,U)}),mn&&Jc(v,N),E}function x(v,b,w,k){if(typeof w=="object"&&w!==null&&w.type===vf&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case J0:e:{for(var E=w.key,_=b;_!==null;){if(_.key===E){if(E=w.type,E===vf){if(_.tag===7){n(v,_.sibling),b=i(_,w.props.children),b.return=v,v=b;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Rl&&h4(E)===_.type){n(v,_.sibling),b=i(_,w.props),b.ref=Kp(v,_,w),b.return=v,v=b;break e}n(v,_);break}else e(v,_);_=_.sibling}w.type===vf?(b=Su(w.props.children,v.mode,k,w.key),b.return=v,v=b):(k=cx(w.type,w.key,w.props,null,v.mode,k),k.ref=Kp(v,b,w),k.return=v,v=k)}return o(v);case yf:e:{for(_=w.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(v,b.sibling),b=i(b,w.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=BE(w,v.mode,k),b.return=v,v=b}return o(v);case Rl:return _=w._init,x(v,b,_(w._payload),k)}if(mm(w))return m(v,b,w,k);if(Up(w))return y(v,b,w,k);c1(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,w),b.return=v,v=b):(n(v,b),b=ME(w,v.mode,k),b.return=v,v=b),o(v)):n(v,b)}return x}var oh=Xz(!0),Qz=Xz(!1),Ux=kc(null),Wx=null,Tf=null,BN=null;function zN(){BN=Tf=Wx=null}function jN(t){var e=Ux.current;on(Ux),t._currentValue=e}function B_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function jf(t,e){Wx=t,BN=Tf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pi=!0),t.firstContext=null)}function js(t){var e=t._currentValue;if(BN!==t)if(t={context:t,memoizedValue:e,next:null},Tf===null){if(Wx===null)throw Error(xe(308));Tf=t,Wx.dependencies={lanes:0,firstContext:t}}else Tf=Tf.next=t;return e}var pu=null;function VN(t){pu===null?pu=[t]:pu.push(t)}function Yz(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,VN(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ga(t,r)}function Ga(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Al=!1;function UN(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jz(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ba(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ga(t,n)}return i=r.interleaved,i===null?(e.next=e,VN(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ga(t,n)}function rx(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,IN(t,n)}}function p4(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gx(t,e,n,r){var i=t.updateQueue;Al=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(f=e,h=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(h,d,f):m,f==null)break e;d=Cn({},d,f);break e;case 2:Al=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Au|=o,t.lanes=o,t.memoizedState=d}}function m4(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(xe(191,i));i.call(r)}}}var ay={},Qo=kc(ay),yg=kc(ay),vg=kc(ay);function mu(t){if(t===ay)throw Error(xe(174));return t}function WN(t,e){switch(Yt(vg,e),Yt(yg,t),Yt(Qo,ay),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:x_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=x_(e,t)}on(Qo),Yt(Qo,e)}function ah(){on(Qo),on(yg),on(vg)}function Zz(t){mu(vg.current);var e=mu(Qo.current),n=x_(e,t.type);e!==n&&(Yt(yg,t),Yt(Qo,n))}function GN(t){yg.current===t&&(on(Qo),on(yg))}var wn=kc(0);function Hx(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var RE=[];function HN(){for(var t=0;t<RE.length;t++)RE[t]._workInProgressVersionPrimary=null;RE.length=0}var ix=rl.ReactCurrentDispatcher,AE=rl.ReactCurrentBatchConfig,Ru=0,kn=null,nr=null,pr=null,qx=!1,zm=!1,xg=0,Fte=0;function Hr(){throw Error(xe(321))}function qN(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!So(t[n],e[n]))return!1;return!0}function KN(t,e,n,r,i,s){if(Ru=s,kn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ix.current=t===null||t.memoizedState===null?zte:jte,t=n(r,i),zm){s=0;do{if(zm=!1,xg=0,25<=s)throw Error(xe(301));s+=1,pr=nr=null,e.updateQueue=null,ix.current=Vte,t=n(r,i)}while(zm)}if(ix.current=Kx,e=nr!==null&&nr.next!==null,Ru=0,pr=nr=kn=null,qx=!1,e)throw Error(xe(300));return t}function XN(){var t=xg!==0;return xg=0,t}function jo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pr===null?kn.memoizedState=pr=t:pr=pr.next=t,pr}function Vs(){if(nr===null){var t=kn.alternate;t=t!==null?t.memoizedState:null}else t=nr.next;var e=pr===null?kn.memoizedState:pr.next;if(e!==null)pr=e,nr=t;else{if(t===null)throw Error(xe(310));nr=t,t={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},pr===null?kn.memoizedState=pr=t:pr=pr.next=t}return pr}function bg(t,e){return typeof e=="function"?e(t):e}function PE(t){var e=Vs(),n=e.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=t;var r=nr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Ru&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,kn.lanes|=u,Au|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,So(r,e.memoizedState)||(Pi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,kn.lanes|=s,Au|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function DE(t){var e=Vs(),n=e.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);So(s,e.memoizedState)||(Pi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ej(){}function tj(t,e){var n=kn,r=Vs(),i=e(),s=!So(r.memoizedState,i);if(s&&(r.memoizedState=i,Pi=!0),r=r.queue,QN(ij.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||pr!==null&&pr.memoizedState.tag&1){if(n.flags|=2048,wg(9,rj.bind(null,n,r,i,e),void 0,null),yr===null)throw Error(xe(349));Ru&30||nj(n,e,i)}return i}function nj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=kn.updateQueue,e===null?(e={lastEffect:null,stores:null},kn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rj(t,e,n,r){e.value=n,e.getSnapshot=r,sj(e)&&oj(t)}function ij(t,e,n){return n(function(){sj(e)&&oj(t)})}function sj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!So(t,n)}catch{return!0}}function oj(t){var e=Ga(t,1);e!==null&&xo(e,t,1,-1)}function g4(t){var e=jo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bg,lastRenderedState:t},e.queue=t,t=t.dispatch=Bte.bind(null,kn,t),[e.memoizedState,t]}function wg(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=kn.updateQueue,e===null?(e={lastEffect:null,stores:null},kn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aj(){return Vs().memoizedState}function sx(t,e,n,r){var i=jo();kn.flags|=t,i.memoizedState=wg(1|e,n,void 0,r===void 0?null:r)}function yw(t,e,n,r){var i=Vs();r=r===void 0?null:r;var s=void 0;if(nr!==null){var o=nr.memoizedState;if(s=o.destroy,r!==null&&qN(r,o.deps)){i.memoizedState=wg(e,n,s,r);return}}kn.flags|=t,i.memoizedState=wg(1|e,n,s,r)}function y4(t,e){return sx(8390656,8,t,e)}function QN(t,e){return yw(2048,8,t,e)}function lj(t,e){return yw(4,2,t,e)}function cj(t,e){return yw(4,4,t,e)}function uj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dj(t,e,n){return n=n!=null?n.concat([t]):null,yw(4,4,uj.bind(null,e,t),n)}function YN(){}function fj(t,e){var n=Vs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qN(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hj(t,e){var n=Vs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qN(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pj(t,e,n){return Ru&21?(So(n,e)||(n=xz(),kn.lanes|=n,Au|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pi=!0),t.memoizedState=n)}function Lte(t,e){var n=At;At=n!==0&&4>n?n:4,t(!0);var r=AE.transition;AE.transition={};try{t(!1),e()}finally{At=n,AE.transition=r}}function mj(){return Vs().memoizedState}function Mte(t,e,n){var r=ec(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gj(t))yj(e,n);else if(n=Yz(t,e,n,r),n!==null){var i=hi();xo(n,t,r,i),vj(n,e,r)}}function Bte(t,e,n){var r=ec(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gj(t))yj(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,So(a,o)){var l=e.interleaved;l===null?(i.next=i,VN(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Yz(t,e,i,r),n!==null&&(i=hi(),xo(n,t,r,i),vj(n,e,r))}}function gj(t){var e=t.alternate;return t===kn||e!==null&&e===kn}function yj(t,e){zm=qx=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,IN(t,n)}}var Kx={readContext:js,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},zte={readContext:js,useCallback:function(t,e){return jo().memoizedState=[t,e===void 0?null:e],t},useContext:js,useEffect:y4,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sx(4194308,4,uj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sx(4194308,4,t,e)},useInsertionEffect:function(t,e){return sx(4,2,t,e)},useMemo:function(t,e){var n=jo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Mte.bind(null,kn,t),[r.memoizedState,t]},useRef:function(t){var e=jo();return t={current:t},e.memoizedState=t},useState:g4,useDebugValue:YN,useDeferredValue:function(t){return jo().memoizedState=t},useTransition:function(){var t=g4(!1),e=t[0];return t=Lte.bind(null,t[1]),jo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=kn,i=jo();if(mn){if(n===void 0)throw Error(xe(407));n=n()}else{if(n=e(),yr===null)throw Error(xe(349));Ru&30||nj(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,y4(ij.bind(null,r,s,t),[t]),r.flags|=2048,wg(9,rj.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=jo(),e=yr.identifierPrefix;if(mn){var n=Fa,r=Da;n=(r&~(1<<32-vo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Fte++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jte={readContext:js,useCallback:fj,useContext:js,useEffect:QN,useImperativeHandle:dj,useInsertionEffect:lj,useLayoutEffect:cj,useMemo:hj,useReducer:PE,useRef:aj,useState:function(){return PE(bg)},useDebugValue:YN,useDeferredValue:function(t){var e=Vs();return pj(e,nr.memoizedState,t)},useTransition:function(){var t=PE(bg)[0],e=Vs().memoizedState;return[t,e]},useMutableSource:ej,useSyncExternalStore:tj,useId:mj,unstable_isNewReconciler:!1},Vte={readContext:js,useCallback:fj,useContext:js,useEffect:QN,useImperativeHandle:dj,useInsertionEffect:lj,useLayoutEffect:cj,useMemo:hj,useReducer:DE,useRef:aj,useState:function(){return DE(bg)},useDebugValue:YN,useDeferredValue:function(t){var e=Vs();return nr===null?e.memoizedState=t:pj(e,nr.memoizedState,t)},useTransition:function(){var t=DE(bg)[0],e=Vs().memoizedState;return[t,e]},useMutableSource:ej,useSyncExternalStore:tj,useId:mj,unstable_isNewReconciler:!1};function oo(t,e){if(t&&t.defaultProps){e=Cn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function z_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Cn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vw={isMounted:function(t){return(t=t._reactInternals)?nd(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hi(),i=ec(t),s=Ba(r,i);s.payload=e,n!=null&&(s.callback=n),e=Jl(t,s,i),e!==null&&(xo(e,t,i,r),rx(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hi(),i=ec(t),s=Ba(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Jl(t,s,i),e!==null&&(xo(e,t,i,r),rx(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hi(),r=ec(t),i=Ba(n,r);i.tag=2,e!=null&&(i.callback=e),e=Jl(t,i,r),e!==null&&(xo(e,t,r,n),rx(e,t,r))}};function v4(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!hg(n,r)||!hg(i,s):!0}function xj(t,e,n){var r=!1,i=ac,s=e.contextType;return typeof s=="object"&&s!==null?s=js(s):(i=Mi(e)?Nu:ni.current,r=e.contextTypes,s=(r=r!=null)?ih(t,i):ac),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function x4(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vw.enqueueReplaceState(e,e.state,null)}function j_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},UN(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=js(s):(s=Mi(e)?Nu:ni.current,i.context=ih(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(z_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vw.enqueueReplaceState(i,i.state,null),Gx(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function lh(t,e){try{var n="",r=e;do n+=gee(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function FE(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function V_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ute=typeof WeakMap=="function"?WeakMap:Map;function bj(t,e,n){n=Ba(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qx||(Qx=!0,J_=r),V_(t,e)},n}function wj(t,e,n){n=Ba(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){V_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){V_(t,e),typeof r!="function"&&(Zl===null?Zl=new Set([this]):Zl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function b4(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ute;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rne.bind(null,t,e,n),e.then(t,t))}function w4(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function S4(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ba(-1,1),e.tag=2,Jl(n,e,1))),n.lanes|=1),t)}var Wte=rl.ReactCurrentOwner,Pi=!1;function ci(t,e,n,r){e.child=t===null?Qz(e,null,n,r):oh(e,t.child,n,r)}function k4(t,e,n,r,i){n=n.render;var s=e.ref;return jf(e,i),r=KN(t,e,n,r,s,i),n=XN(),t!==null&&!Pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ha(t,e,i)):(mn&&n&&FN(e),e.flags|=1,ci(t,e,r,i),e.child)}function C4(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!sO(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Sj(t,e,s,r,i)):(t=cx(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:hg,n(o,r)&&t.ref===e.ref)return Ha(t,e,i)}return e.flags|=1,t=tc(s,r),t.ref=e.ref,t.return=e,e.child=t}function Sj(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(hg(s,r)&&t.ref===e.ref)if(Pi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Pi=!0);else return e.lanes=t.lanes,Ha(t,e,i)}return U_(t,e,n,r,i)}function kj(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(If,Zi),Zi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Yt(If,Zi),Zi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Yt(If,Zi),Zi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Yt(If,Zi),Zi|=r;return ci(t,e,i,n),e.child}function Cj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function U_(t,e,n,r,i){var s=Mi(n)?Nu:ni.current;return s=ih(e,s),jf(e,i),n=KN(t,e,n,r,s,i),r=XN(),t!==null&&!Pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ha(t,e,i)):(mn&&r&&FN(e),e.flags|=1,ci(t,e,n,i),e.child)}function E4(t,e,n,r,i){if(Mi(n)){var s=!0;zx(e)}else s=!1;if(jf(e,i),e.stateNode===null)ox(t,e),xj(e,n,r),j_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=js(c):(c=Mi(n)?Nu:ni.current,c=ih(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&x4(e,o,r,c),Al=!1;var f=e.memoizedState;o.state=f,Gx(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Li.current||Al?(typeof u=="function"&&(z_(e,n,u,r),l=e.memoizedState),(a=Al||v4(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Jz(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:oo(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=js(l):(l=Mi(n)?Nu:ni.current,l=ih(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&x4(e,o,r,l),Al=!1,f=e.memoizedState,o.state=f,Gx(e,r,o,i);var m=e.memoizedState;a!==d||f!==m||Li.current||Al?(typeof h=="function"&&(z_(e,n,h,r),m=e.memoizedState),(c=Al||v4(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return W_(t,e,n,r,s,i)}function W_(t,e,n,r,i,s){Cj(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&u4(e,n,!1),Ha(t,e,s);r=e.stateNode,Wte.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=oh(e,t.child,null,s),e.child=oh(e,null,a,s)):ci(t,e,a,s),e.memoizedState=r.state,i&&u4(e,n,!0),e.child}function Ej(t){var e=t.stateNode;e.pendingContext?c4(t,e.pendingContext,e.pendingContext!==e.context):e.context&&c4(t,e.context,!1),WN(t,e.containerInfo)}function T4(t,e,n,r,i){return sh(),MN(i),e.flags|=256,ci(t,e,n,r),e.child}var G_={dehydrated:null,treeContext:null,retryLane:0};function H_(t){return{baseLanes:t,cachePool:null,transitions:null}}function Tj(t,e,n){var r=e.pendingProps,i=wn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Yt(wn,i&1),t===null)return M_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ww(o,r,0,null),t=Su(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=H_(n),e.memoizedState=G_,t):JN(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Gte(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=tc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=tc(a,s):(s=Su(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?H_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=G_,r}return s=t.child,t=s.sibling,r=tc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function JN(t,e){return e=ww({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function u1(t,e,n,r){return r!==null&&MN(r),oh(e,t.child,null,n),t=JN(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Gte(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=FE(Error(xe(422))),u1(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ww({mode:"visible",children:r.children},i,0,null),s=Su(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&oh(e,t.child,null,o),e.child.memoizedState=H_(o),e.memoizedState=G_,s);if(!(e.mode&1))return u1(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(xe(419)),r=FE(s,r,void 0),u1(t,e,o,r)}if(a=(o&t.childLanes)!==0,Pi||a){if(r=yr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ga(t,i),xo(r,t,i,-1))}return iO(),r=FE(Error(xe(421))),u1(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ine.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ts=Yl(i.nextSibling),is=e,mn=!0,lo=null,t!==null&&($s[Ns++]=Da,$s[Ns++]=Fa,$s[Ns++]=Ou,Da=t.id,Fa=t.overflow,Ou=e),e=JN(e,r.children),e.flags|=4096,e)}function _4(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),B_(t.return,e,n)}function LE(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function _j(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ci(t,e,r.children,n),r=wn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_4(t,n,e);else if(t.tag===19)_4(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Yt(wn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hx(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),LE(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hx(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}LE(e,!0,n,null,s);break;case"together":LE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ox(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ha(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Au|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(xe(153));if(e.child!==null){for(t=e.child,n=tc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=tc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Hte(t,e,n){switch(e.tag){case 3:Ej(e),sh();break;case 5:Zz(e);break;case 1:Mi(e.type)&&zx(e);break;case 4:WN(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Yt(Ux,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Yt(wn,wn.current&1),e.flags|=128,null):n&e.child.childLanes?Tj(t,e,n):(Yt(wn,wn.current&1),t=Ha(t,e,n),t!==null?t.sibling:null);Yt(wn,wn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _j(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yt(wn,wn.current),r)break;return null;case 22:case 23:return e.lanes=0,kj(t,e,n)}return Ha(t,e,n)}var Ij,q_,$j,Nj;Ij=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};q_=function(){};$j=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,mu(Qo.current);var s=null;switch(n){case"input":i=m_(t,i),r=m_(t,r),s=[];break;case"select":i=Cn({},i,{value:void 0}),r=Cn({},r,{value:void 0}),s=[];break;case"textarea":i=v_(t,i),r=v_(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mx)}b_(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(og.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(og.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Nj=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xp(t,e){if(!mn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qte(t,e,n){var r=e.pendingProps;switch(LN(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(e),null;case 1:return Mi(e.type)&&Bx(),qr(e),null;case 3:return r=e.stateNode,ah(),on(Li),on(ni),HN(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(l1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lo!==null&&(tI(lo),lo=null))),q_(t,e),qr(e),null;case 5:GN(e);var i=mu(vg.current);if(n=e.type,t!==null&&e.stateNode!=null)$j(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(xe(166));return qr(e),null}if(t=mu(Qo.current),l1(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Go]=e,r[gg]=s,t=(e.mode&1)!==0,n){case"dialog":nn("cancel",r),nn("close",r);break;case"iframe":case"object":case"embed":nn("load",r);break;case"video":case"audio":for(i=0;i<ym.length;i++)nn(ym[i],r);break;case"source":nn("error",r);break;case"img":case"image":case"link":nn("error",r),nn("load",r);break;case"details":nn("toggle",r);break;case"input":FF(r,s),nn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},nn("invalid",r);break;case"textarea":MF(r,s),nn("invalid",r)}b_(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&a1(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&a1(r.textContent,a,t),i=["children",""+a]):og.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nn("scroll",r)}switch(n){case"input":Z0(r),LF(r,s,!0);break;case"textarea":Z0(r),BF(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Mx)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iz(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Go]=e,t[gg]=r,Ij(t,e,!1,!1),e.stateNode=t;e:{switch(o=w_(n,r),n){case"dialog":nn("cancel",t),nn("close",t),i=r;break;case"iframe":case"object":case"embed":nn("load",t),i=r;break;case"video":case"audio":for(i=0;i<ym.length;i++)nn(ym[i],t);i=r;break;case"source":nn("error",t),i=r;break;case"img":case"image":case"link":nn("error",t),nn("load",t),i=r;break;case"details":nn("toggle",t),i=r;break;case"input":FF(t,r),i=m_(t,r),nn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Cn({},r,{value:void 0}),nn("invalid",t);break;case"textarea":MF(t,r),i=v_(t,r),nn("invalid",t);break;default:i=r}b_(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?az(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sz(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ag(t,l):typeof l=="number"&&ag(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(og.hasOwnProperty(s)?l!=null&&s==="onScroll"&&nn("scroll",t):l!=null&&SN(t,s,l,o))}switch(n){case"input":Z0(t),LF(t,r,!1);break;case"textarea":Z0(t),BF(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oc(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Lf(t,!!r.multiple,s,!1):r.defaultValue!=null&&Lf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Mx)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qr(e),null;case 6:if(t&&e.stateNode!=null)Nj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(xe(166));if(n=mu(vg.current),mu(Qo.current),l1(e)){if(r=e.stateNode,n=e.memoizedProps,r[Go]=e,(s=r.nodeValue!==n)&&(t=is,t!==null))switch(t.tag){case 3:a1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&a1(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Go]=e,e.stateNode=r}return qr(e),null;case 13:if(on(wn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mn&&ts!==null&&e.mode&1&&!(e.flags&128))Kz(),sh(),e.flags|=98560,s=!1;else if(s=l1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(xe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(xe(317));s[Go]=e}else sh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qr(e),s=!1}else lo!==null&&(tI(lo),lo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||wn.current&1?ir===0&&(ir=3):iO())),e.updateQueue!==null&&(e.flags|=4),qr(e),null);case 4:return ah(),q_(t,e),t===null&&pg(e.stateNode.containerInfo),qr(e),null;case 10:return jN(e.type._context),qr(e),null;case 17:return Mi(e.type)&&Bx(),qr(e),null;case 19:if(on(wn),s=e.memoizedState,s===null)return qr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Xp(s,!1);else{if(ir!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hx(t),o!==null){for(e.flags|=128,Xp(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Yt(wn,wn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Mn()>ch&&(e.flags|=128,r=!0,Xp(s,!1),e.lanes=4194304)}else{if(!r)if(t=Hx(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!mn)return qr(e),null}else 2*Mn()-s.renderingStartTime>ch&&n!==1073741824&&(e.flags|=128,r=!0,Xp(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Mn(),e.sibling=null,n=wn.current,Yt(wn,r?n&1|2:n&1),e):(qr(e),null);case 22:case 23:return rO(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zi&1073741824&&(qr(e),e.subtreeFlags&6&&(e.flags|=8192)):qr(e),null;case 24:return null;case 25:return null}throw Error(xe(156,e.tag))}function Kte(t,e){switch(LN(e),e.tag){case 1:return Mi(e.type)&&Bx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ah(),on(Li),on(ni),HN(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return GN(e),null;case 13:if(on(wn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(xe(340));sh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return on(wn),null;case 4:return ah(),null;case 10:return jN(e.type._context),null;case 22:case 23:return rO(),null;case 24:return null;default:return null}}var d1=!1,Qr=!1,Xte=typeof WeakSet=="function"?WeakSet:Set,Le=null;function _f(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){In(t,e,r)}else n.current=null}function K_(t,e,n){try{n()}catch(r){In(t,e,r)}}var I4=!1;function Qte(t,e){if(O_=Dx,t=Dz(),DN(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(R_={focusedElem:t,selectionRange:n},Dx=!1,Le=e;Le!==null;)if(e=Le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Le=t;else for(;Le!==null;){e=Le;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,x=m.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:oo(e.type,y),x);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(k){In(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Le=t;break}Le=e.return}return m=I4,I4=!1,m}function jm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&K_(e,n,s)}i=i.next}while(i!==r)}}function xw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function X_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Oj(t){var e=t.alternate;e!==null&&(t.alternate=null,Oj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Go],delete e[gg],delete e[D_],delete e[Rte],delete e[Ate])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rj(t){return t.tag===5||t.tag===3||t.tag===4}function $4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Q_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mx));else if(r!==4&&(t=t.child,t!==null))for(Q_(t,e,n),t=t.sibling;t!==null;)Q_(t,e,n),t=t.sibling}function Y_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Y_(t,e,n),t=t.sibling;t!==null;)Y_(t,e,n),t=t.sibling}var Or=null,ao=!1;function _l(t,e,n){for(n=n.child;n!==null;)Aj(t,e,n),n=n.sibling}function Aj(t,e,n){if(Xo&&typeof Xo.onCommitFiberUnmount=="function")try{Xo.onCommitFiberUnmount(dw,n)}catch{}switch(n.tag){case 5:Qr||_f(n,e);case 6:var r=Or,i=ao;Or=null,_l(t,e,n),Or=r,ao=i,Or!==null&&(ao?(t=Or,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Or.removeChild(n.stateNode));break;case 18:Or!==null&&(ao?(t=Or,n=n.stateNode,t.nodeType===8?NE(t.parentNode,n):t.nodeType===1&&NE(t,n),dg(t)):NE(Or,n.stateNode));break;case 4:r=Or,i=ao,Or=n.stateNode.containerInfo,ao=!0,_l(t,e,n),Or=r,ao=i;break;case 0:case 11:case 14:case 15:if(!Qr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&K_(n,e,o),i=i.next}while(i!==r)}_l(t,e,n);break;case 1:if(!Qr&&(_f(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){In(n,e,a)}_l(t,e,n);break;case 21:_l(t,e,n);break;case 22:n.mode&1?(Qr=(r=Qr)||n.memoizedState!==null,_l(t,e,n),Qr=r):_l(t,e,n);break;default:_l(t,e,n)}}function N4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Xte),e.forEach(function(r){var i=sne.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ro(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Or=a.stateNode,ao=!1;break e;case 3:Or=a.stateNode.containerInfo,ao=!0;break e;case 4:Or=a.stateNode.containerInfo,ao=!0;break e}a=a.return}if(Or===null)throw Error(xe(160));Aj(s,o,i),Or=null,ao=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){In(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Pj(e,t),e=e.sibling}function Pj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ro(e,t),Lo(t),r&4){try{jm(3,t,t.return),xw(3,t)}catch(y){In(t,t.return,y)}try{jm(5,t,t.return)}catch(y){In(t,t.return,y)}}break;case 1:ro(e,t),Lo(t),r&512&&n!==null&&_f(n,n.return);break;case 5:if(ro(e,t),Lo(t),r&512&&n!==null&&_f(n,n.return),t.flags&32){var i=t.stateNode;try{ag(i,"")}catch(y){In(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nz(i,s),w_(a,o);var c=w_(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?az(i,d):u==="dangerouslySetInnerHTML"?sz(i,d):u==="children"?ag(i,d):SN(i,u,d,c)}switch(a){case"input":g_(i,s);break;case"textarea":rz(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Lf(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?Lf(i,!!s.multiple,s.defaultValue,!0):Lf(i,!!s.multiple,s.multiple?[]:"",!1))}i[gg]=s}catch(y){In(t,t.return,y)}}break;case 6:if(ro(e,t),Lo(t),r&4){if(t.stateNode===null)throw Error(xe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){In(t,t.return,y)}}break;case 3:if(ro(e,t),Lo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dg(e.containerInfo)}catch(y){In(t,t.return,y)}break;case 4:ro(e,t),Lo(t);break;case 13:ro(e,t),Lo(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(tO=Mn())),r&4&&N4(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Qr=(c=Qr)||u,ro(e,t),Qr=c):ro(e,t),Lo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Le=t,u=t.child;u!==null;){for(d=Le=u;Le!==null;){switch(f=Le,h=f.child,f.tag){case 0:case 11:case 14:case 15:jm(4,f,f.return);break;case 1:_f(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){In(r,n,y)}}break;case 5:_f(f,f.return);break;case 22:if(f.memoizedState!==null){R4(d);continue}}h!==null?(h.return=f,Le=h):R4(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=oz("display",o))}catch(y){In(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){In(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ro(e,t),Lo(t),r&4&&N4(t);break;case 21:break;default:ro(e,t),Lo(t)}}function Lo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Rj(n)){var r=n;break e}n=n.return}throw Error(xe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ag(i,""),r.flags&=-33);var s=$4(t);Y_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$4(t);Q_(t,a,o);break;default:throw Error(xe(161))}}catch(l){In(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yte(t,e,n){Le=t,Dj(t)}function Dj(t,e,n){for(var r=(t.mode&1)!==0;Le!==null;){var i=Le,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||d1;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qr;a=d1;var c=Qr;if(d1=o,(Qr=l)&&!c)for(Le=i;Le!==null;)o=Le,l=o.child,o.tag===22&&o.memoizedState!==null?A4(i):l!==null?(l.return=o,Le=l):A4(i);for(;s!==null;)Le=s,Dj(s),s=s.sibling;Le=i,d1=a,Qr=c}O4(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Le=s):O4(t)}}function O4(t){for(;Le!==null;){var e=Le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qr||xw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:oo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&m4(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}m4(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&dg(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Qr||e.flags&512&&X_(e)}catch(f){In(e,e.return,f)}}if(e===t){Le=null;break}if(n=e.sibling,n!==null){n.return=e.return,Le=n;break}Le=e.return}}function R4(t){for(;Le!==null;){var e=Le;if(e===t){Le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Le=n;break}Le=e.return}}function A4(t){for(;Le!==null;){var e=Le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xw(4,e)}catch(l){In(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){In(e,i,l)}}var s=e.return;try{X_(e)}catch(l){In(e,s,l)}break;case 5:var o=e.return;try{X_(e)}catch(l){In(e,o,l)}}}catch(l){In(e,e.return,l)}if(e===t){Le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Le=a;break}Le=e.return}}var Jte=Math.ceil,Xx=rl.ReactCurrentDispatcher,ZN=rl.ReactCurrentOwner,Bs=rl.ReactCurrentBatchConfig,kt=0,yr=null,Un=null,Ar=0,Zi=0,If=kc(0),ir=0,Sg=null,Au=0,bw=0,eO=0,Vm=null,Ri=null,tO=0,ch=1/0,_a=null,Qx=!1,J_=null,Zl=null,f1=!1,Vl=null,Yx=0,Um=0,Z_=null,ax=-1,lx=0;function hi(){return kt&6?Mn():ax!==-1?ax:ax=Mn()}function ec(t){return t.mode&1?kt&2&&Ar!==0?Ar&-Ar:Dte.transition!==null?(lx===0&&(lx=xz()),lx):(t=At,t!==0||(t=window.event,t=t===void 0?16:Tz(t.type)),t):1}function xo(t,e,n,r){if(50<Um)throw Um=0,Z_=null,Error(xe(185));iy(t,n,r),(!(kt&2)||t!==yr)&&(t===yr&&(!(kt&2)&&(bw|=n),ir===4&&Ml(t,Ar)),Bi(t,r),n===1&&kt===0&&!(e.mode&1)&&(ch=Mn()+500,gw&&Cc()))}function Bi(t,e){var n=t.callbackNode;Dee(t,e);var r=Px(t,t===yr?Ar:0);if(r===0)n!==null&&VF(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&VF(n),e===1)t.tag===0?Pte(P4.bind(null,t)):Gz(P4.bind(null,t)),Nte(function(){!(kt&6)&&Cc()}),n=null;else{switch(bz(r)){case 1:n=_N;break;case 4:n=yz;break;case 16:n=Ax;break;case 536870912:n=vz;break;default:n=Ax}n=Uj(n,Fj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Fj(t,e){if(ax=-1,lx=0,kt&6)throw Error(xe(327));var n=t.callbackNode;if(Vf()&&t.callbackNode!==n)return null;var r=Px(t,t===yr?Ar:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jx(t,r);else{e=r;var i=kt;kt|=2;var s=Mj();(yr!==t||Ar!==e)&&(_a=null,ch=Mn()+500,wu(t,e));do try{tne();break}catch(a){Lj(t,a)}while(!0);zN(),Xx.current=s,kt=i,Un!==null?e=0:(yr=null,Ar=0,e=ir)}if(e!==0){if(e===2&&(i=T_(t),i!==0&&(r=i,e=eI(t,i))),e===1)throw n=Sg,wu(t,0),Ml(t,r),Bi(t,Mn()),n;if(e===6)Ml(t,r);else{if(i=t.current.alternate,!(r&30)&&!Zte(i)&&(e=Jx(t,r),e===2&&(s=T_(t),s!==0&&(r=s,e=eI(t,s))),e===1))throw n=Sg,wu(t,0),Ml(t,r),Bi(t,Mn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(xe(345));case 2:Zc(t,Ri,_a);break;case 3:if(Ml(t,r),(r&130023424)===r&&(e=tO+500-Mn(),10<e)){if(Px(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){hi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=P_(Zc.bind(null,t,Ri,_a),e);break}Zc(t,Ri,_a);break;case 4:if(Ml(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-vo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Mn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jte(r/1960))-r,10<r){t.timeoutHandle=P_(Zc.bind(null,t,Ri,_a),r);break}Zc(t,Ri,_a);break;case 5:Zc(t,Ri,_a);break;default:throw Error(xe(329))}}}return Bi(t,Mn()),t.callbackNode===n?Fj.bind(null,t):null}function eI(t,e){var n=Vm;return t.current.memoizedState.isDehydrated&&(wu(t,e).flags|=256),t=Jx(t,e),t!==2&&(e=Ri,Ri=n,e!==null&&tI(e)),t}function tI(t){Ri===null?Ri=t:Ri.push.apply(Ri,t)}function Zte(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!So(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ml(t,e){for(e&=~eO,e&=~bw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vo(e),r=1<<n;t[n]=-1,e&=~r}}function P4(t){if(kt&6)throw Error(xe(327));Vf();var e=Px(t,0);if(!(e&1))return Bi(t,Mn()),null;var n=Jx(t,e);if(t.tag!==0&&n===2){var r=T_(t);r!==0&&(e=r,n=eI(t,r))}if(n===1)throw n=Sg,wu(t,0),Ml(t,e),Bi(t,Mn()),n;if(n===6)throw Error(xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zc(t,Ri,_a),Bi(t,Mn()),null}function nO(t,e){var n=kt;kt|=1;try{return t(e)}finally{kt=n,kt===0&&(ch=Mn()+500,gw&&Cc())}}function Pu(t){Vl!==null&&Vl.tag===0&&!(kt&6)&&Vf();var e=kt;kt|=1;var n=Bs.transition,r=At;try{if(Bs.transition=null,At=1,t)return t()}finally{At=r,Bs.transition=n,kt=e,!(kt&6)&&Cc()}}function rO(){Zi=If.current,on(If)}function wu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$te(n)),Un!==null)for(n=Un.return;n!==null;){var r=n;switch(LN(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bx();break;case 3:ah(),on(Li),on(ni),HN();break;case 5:GN(r);break;case 4:ah();break;case 13:on(wn);break;case 19:on(wn);break;case 10:jN(r.type._context);break;case 22:case 23:rO()}n=n.return}if(yr=t,Un=t=tc(t.current,null),Ar=Zi=e,ir=0,Sg=null,eO=bw=Au=0,Ri=Vm=null,pu!==null){for(e=0;e<pu.length;e++)if(n=pu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}pu=null}return t}function Lj(t,e){do{var n=Un;try{if(zN(),ix.current=Kx,qx){for(var r=kn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qx=!1}if(Ru=0,pr=nr=kn=null,zm=!1,xg=0,ZN.current=null,n===null||n.return===null){ir=1,Sg=e,Un=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ar,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=w4(o);if(h!==null){h.flags&=-257,S4(h,o,a,s,e),h.mode&1&&b4(s,c,e),e=h,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){b4(s,c,e),iO();break e}l=Error(xe(426))}}else if(mn&&a.mode&1){var x=w4(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),S4(x,o,a,s,e),MN(lh(l,a));break e}}s=l=lh(l,a),ir!==4&&(ir=2),Vm===null?Vm=[s]:Vm.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=bj(s,l,e);p4(s,v);break e;case 1:a=l;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Zl===null||!Zl.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=wj(s,a,e);p4(s,k);break e}}s=s.return}while(s!==null)}zj(n)}catch(E){e=E,Un===n&&n!==null&&(Un=n=n.return);continue}break}while(!0)}function Mj(){var t=Xx.current;return Xx.current=Kx,t===null?Kx:t}function iO(){(ir===0||ir===3||ir===2)&&(ir=4),yr===null||!(Au&268435455)&&!(bw&268435455)||Ml(yr,Ar)}function Jx(t,e){var n=kt;kt|=2;var r=Mj();(yr!==t||Ar!==e)&&(_a=null,wu(t,e));do try{ene();break}catch(i){Lj(t,i)}while(!0);if(zN(),kt=n,Xx.current=r,Un!==null)throw Error(xe(261));return yr=null,Ar=0,ir}function ene(){for(;Un!==null;)Bj(Un)}function tne(){for(;Un!==null&&!Tee();)Bj(Un)}function Bj(t){var e=Vj(t.alternate,t,Zi);t.memoizedProps=t.pendingProps,e===null?zj(t):Un=e,ZN.current=null}function zj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Kte(n,e),n!==null){n.flags&=32767,Un=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ir=6,Un=null;return}}else if(n=qte(n,e,Zi),n!==null){Un=n;return}if(e=e.sibling,e!==null){Un=e;return}Un=e=t}while(e!==null);ir===0&&(ir=5)}function Zc(t,e,n){var r=At,i=Bs.transition;try{Bs.transition=null,At=1,nne(t,e,n,r)}finally{Bs.transition=i,At=r}return null}function nne(t,e,n,r){do Vf();while(Vl!==null);if(kt&6)throw Error(xe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(xe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Fee(t,s),t===yr&&(Un=yr=null,Ar=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||f1||(f1=!0,Uj(Ax,function(){return Vf(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Bs.transition,Bs.transition=null;var o=At;At=1;var a=kt;kt|=4,ZN.current=null,Qte(t,n),Pj(n,t),Ste(R_),Dx=!!O_,R_=O_=null,t.current=n,Yte(n),_ee(),kt=a,At=o,Bs.transition=s}else t.current=n;if(f1&&(f1=!1,Vl=t,Yx=i),s=t.pendingLanes,s===0&&(Zl=null),Nee(n.stateNode),Bi(t,Mn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qx)throw Qx=!1,t=J_,J_=null,t;return Yx&1&&t.tag!==0&&Vf(),s=t.pendingLanes,s&1?t===Z_?Um++:(Um=0,Z_=t):Um=0,Cc(),null}function Vf(){if(Vl!==null){var t=bz(Yx),e=Bs.transition,n=At;try{if(Bs.transition=null,At=16>t?16:t,Vl===null)var r=!1;else{if(t=Vl,Vl=null,Yx=0,kt&6)throw Error(xe(331));var i=kt;for(kt|=4,Le=t.current;Le!==null;){var s=Le,o=s.child;if(Le.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Le=c;Le!==null;){var u=Le;switch(u.tag){case 0:case 11:case 15:jm(8,u,s)}var d=u.child;if(d!==null)d.return=u,Le=d;else for(;Le!==null;){u=Le;var f=u.sibling,h=u.return;if(Oj(u),u===c){Le=null;break}if(f!==null){f.return=h,Le=f;break}Le=h}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Le=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Le=o;else e:for(;Le!==null;){if(s=Le,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jm(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Le=v;break e}Le=s.return}}var b=t.current;for(Le=b;Le!==null;){o=Le;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Le=w;else e:for(o=b;Le!==null;){if(a=Le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xw(9,a)}}catch(E){In(a,a.return,E)}if(a===o){Le=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Le=k;break e}Le=a.return}}if(kt=i,Cc(),Xo&&typeof Xo.onPostCommitFiberRoot=="function")try{Xo.onPostCommitFiberRoot(dw,t)}catch{}r=!0}return r}finally{At=n,Bs.transition=e}}return!1}function D4(t,e,n){e=lh(n,e),e=bj(t,e,1),t=Jl(t,e,1),e=hi(),t!==null&&(iy(t,1,e),Bi(t,e))}function In(t,e,n){if(t.tag===3)D4(t,t,n);else for(;e!==null;){if(e.tag===3){D4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zl===null||!Zl.has(r))){t=lh(n,t),t=wj(e,t,1),e=Jl(e,t,1),t=hi(),e!==null&&(iy(e,1,t),Bi(e,t));break}}e=e.return}}function rne(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hi(),t.pingedLanes|=t.suspendedLanes&n,yr===t&&(Ar&n)===n&&(ir===4||ir===3&&(Ar&130023424)===Ar&&500>Mn()-tO?wu(t,0):eO|=n),Bi(t,e)}function jj(t,e){e===0&&(t.mode&1?(e=n1,n1<<=1,!(n1&130023424)&&(n1=4194304)):e=1);var n=hi();t=Ga(t,e),t!==null&&(iy(t,e,n),Bi(t,n))}function ine(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jj(t,n)}function sne(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(xe(314))}r!==null&&r.delete(e),jj(t,n)}var Vj;Vj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Li.current)Pi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pi=!1,Hte(t,e,n);Pi=!!(t.flags&131072)}else Pi=!1,mn&&e.flags&1048576&&Hz(e,Vx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ox(t,e),t=e.pendingProps;var i=ih(e,ni.current);jf(e,n),i=KN(null,e,r,t,i,n);var s=XN();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mi(r)?(s=!0,zx(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,UN(e),i.updater=vw,e.stateNode=i,i._reactInternals=e,j_(e,r,t,n),e=W_(null,e,r,!0,s,n)):(e.tag=0,mn&&s&&FN(e),ci(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ox(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ane(r),t=oo(r,t),i){case 0:e=U_(null,e,r,t,n);break e;case 1:e=E4(null,e,r,t,n);break e;case 11:e=k4(null,e,r,t,n);break e;case 14:e=C4(null,e,r,oo(r.type,t),n);break e}throw Error(xe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oo(r,i),U_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oo(r,i),E4(t,e,r,i,n);case 3:e:{if(Ej(e),t===null)throw Error(xe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Jz(t,e),Gx(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=lh(Error(xe(423)),e),e=T4(t,e,r,n,i);break e}else if(r!==i){i=lh(Error(xe(424)),e),e=T4(t,e,r,n,i);break e}else for(ts=Yl(e.stateNode.containerInfo.firstChild),is=e,mn=!0,lo=null,n=Qz(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sh(),r===i){e=Ha(t,e,n);break e}ci(t,e,r,n)}e=e.child}return e;case 5:return Zz(e),t===null&&M_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,A_(r,i)?o=null:s!==null&&A_(r,s)&&(e.flags|=32),Cj(t,e),ci(t,e,o,n),e.child;case 6:return t===null&&M_(e),null;case 13:return Tj(t,e,n);case 4:return WN(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oh(e,null,r,n):ci(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oo(r,i),k4(t,e,r,i,n);case 7:return ci(t,e,e.pendingProps,n),e.child;case 8:return ci(t,e,e.pendingProps.children,n),e.child;case 12:return ci(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Yt(Ux,r._currentValue),r._currentValue=o,s!==null)if(So(s.value,o)){if(s.children===i.children&&!Li.current){e=Ha(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ba(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),B_(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(xe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),B_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ci(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,jf(e,n),i=js(i),r=r(i),e.flags|=1,ci(t,e,r,n),e.child;case 14:return r=e.type,i=oo(r,e.pendingProps),i=oo(r.type,i),C4(t,e,r,i,n);case 15:return Sj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oo(r,i),ox(t,e),e.tag=1,Mi(r)?(t=!0,zx(e)):t=!1,jf(e,n),xj(e,r,i),j_(e,r,i,n),W_(null,e,r,!0,t,n);case 19:return _j(t,e,n);case 22:return kj(t,e,n)}throw Error(xe(156,e.tag))};function Uj(t,e){return gz(t,e)}function one(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function As(t,e,n,r){return new one(t,e,n,r)}function sO(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ane(t){if(typeof t=="function")return sO(t)?1:0;if(t!=null){if(t=t.$$typeof,t===CN)return 11;if(t===EN)return 14}return 2}function tc(t,e){var n=t.alternate;return n===null?(n=As(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cx(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")sO(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vf:return Su(n.children,i,s,e);case kN:o=8,i|=8;break;case d_:return t=As(12,n,e,i|2),t.elementType=d_,t.lanes=s,t;case f_:return t=As(13,n,e,i),t.elementType=f_,t.lanes=s,t;case h_:return t=As(19,n,e,i),t.elementType=h_,t.lanes=s,t;case Z8:return ww(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y8:o=10;break e;case J8:o=9;break e;case CN:o=11;break e;case EN:o=14;break e;case Rl:o=16,r=null;break e}throw Error(xe(130,t==null?t:typeof t,""))}return e=As(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Su(t,e,n,r){return t=As(7,t,r,e),t.lanes=n,t}function ww(t,e,n,r){return t=As(22,t,r,e),t.elementType=Z8,t.lanes=n,t.stateNode={isHidden:!1},t}function ME(t,e,n){return t=As(6,t,null,e),t.lanes=n,t}function BE(t,e,n){return e=As(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lne(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xE(0),this.expirationTimes=xE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function oO(t,e,n,r,i,s,o,a,l){return t=new lne(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=As(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},UN(s),t}function cne(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yf,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wj(t){if(!t)return ac;t=t._reactInternals;e:{if(nd(t)!==t||t.tag!==1)throw Error(xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(xe(171))}if(t.tag===1){var n=t.type;if(Mi(n))return Wz(t,n,e)}return e}function Gj(t,e,n,r,i,s,o,a,l){return t=oO(n,r,!0,t,i,s,o,a,l),t.context=Wj(null),n=t.current,r=hi(),i=ec(n),s=Ba(r,i),s.callback=e??null,Jl(n,s,i),t.current.lanes=i,iy(t,i,r),Bi(t,r),t}function Sw(t,e,n,r){var i=e.current,s=hi(),o=ec(i);return n=Wj(n),e.context===null?e.context=n:e.pendingContext=n,e=Ba(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Jl(i,e,o),t!==null&&(xo(t,i,o,s),rx(t,i,o)),o}function Zx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function F4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function aO(t,e){F4(t,e),(t=t.alternate)&&F4(t,e)}function une(){return null}var Hj=typeof reportError=="function"?reportError:function(t){console.error(t)};function lO(t){this._internalRoot=t}kw.prototype.render=lO.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(xe(409));Sw(t,e,null,null)};kw.prototype.unmount=lO.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pu(function(){Sw(null,t,null,null)}),e[Wa]=null}};function kw(t){this._internalRoot=t}kw.prototype.unstable_scheduleHydration=function(t){if(t){var e=kz();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ll.length&&e!==0&&e<Ll[n].priority;n++);Ll.splice(n,0,t),n===0&&Ez(t)}};function cO(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function L4(){}function dne(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Zx(o);s.call(c)}}var o=Gj(e,r,t,0,null,!1,!1,"",L4);return t._reactRootContainer=o,t[Wa]=o.current,pg(t.nodeType===8?t.parentNode:t),Pu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Zx(l);a.call(c)}}var l=oO(t,0,!1,null,null,!1,!1,"",L4);return t._reactRootContainer=l,t[Wa]=l.current,pg(t.nodeType===8?t.parentNode:t),Pu(function(){Sw(e,l,n,r)}),l}function Ew(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Zx(o);a.call(l)}}Sw(e,o,t,i)}else o=dne(n,e,t,i,r);return Zx(o)}wz=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gm(e.pendingLanes);n!==0&&(IN(e,n|1),Bi(e,Mn()),!(kt&6)&&(ch=Mn()+500,Cc()))}break;case 13:Pu(function(){var r=Ga(t,1);if(r!==null){var i=hi();xo(r,t,1,i)}}),aO(t,1)}};$N=function(t){if(t.tag===13){var e=Ga(t,134217728);if(e!==null){var n=hi();xo(e,t,134217728,n)}aO(t,134217728)}};Sz=function(t){if(t.tag===13){var e=ec(t),n=Ga(t,e);if(n!==null){var r=hi();xo(n,t,e,r)}aO(t,e)}};kz=function(){return At};Cz=function(t,e){var n=At;try{return At=t,e()}finally{At=n}};k_=function(t,e,n){switch(e){case"input":if(g_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=mw(r);if(!i)throw Error(xe(90));tz(r),g_(r,i)}}}break;case"textarea":rz(t,n);break;case"select":e=n.value,e!=null&&Lf(t,!!n.multiple,e,!1)}};uz=nO;dz=Pu;var fne={usingClientEntryPoint:!1,Events:[oy,Sf,mw,lz,cz,nO]},Qp={findFiberByHostInstance:hu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hne={bundleType:Qp.bundleType,version:Qp.version,rendererPackageName:Qp.rendererPackageName,rendererConfig:Qp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pz(t),t===null?null:t.stateNode},findFiberByHostInstance:Qp.findFiberByHostInstance||une,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var h1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!h1.isDisabled&&h1.supportsFiber)try{dw=h1.inject(hne),Xo=h1}catch{}}hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fne;hs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cO(e))throw Error(xe(200));return cne(t,e,null,n)};hs.createRoot=function(t,e){if(!cO(t))throw Error(xe(299));var n=!1,r="",i=Hj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=oO(t,1,!1,null,null,n,!1,r,i),t[Wa]=e.current,pg(t.nodeType===8?t.parentNode:t),new lO(e)};hs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(xe(188)):(t=Object.keys(t).join(","),Error(xe(268,t)));return t=pz(e),t=t===null?null:t.stateNode,t};hs.flushSync=function(t){return Pu(t)};hs.hydrate=function(t,e,n){if(!Cw(e))throw Error(xe(200));return Ew(null,t,e,!0,n)};hs.hydrateRoot=function(t,e,n){if(!cO(t))throw Error(xe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Hj;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Gj(e,null,t,1,n??null,i,!1,s,o),t[Wa]=e.current,pg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new kw(e)};hs.render=function(t,e,n){if(!Cw(e))throw Error(xe(200));return Ew(null,t,e,!1,n)};hs.unmountComponentAtNode=function(t){if(!Cw(t))throw Error(xe(40));return t._reactRootContainer?(Pu(function(){Ew(null,null,t,!1,function(){t._reactRootContainer=null,t[Wa]=null})}),!0):!1};hs.unstable_batchedUpdates=nO;hs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cw(n))throw Error(xe(200));if(t==null||t._reactInternals===void 0)throw Error(xe(38));return Ew(t,e,n,!1,r)};hs.version="18.3.1-next-f1338f8080-20240426";function qj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qj)}catch(t){console.error(t)}}qj(),q8.exports=hs;var uO=q8.exports;const gu=nl(uO);var M4=uO;c_.createRoot=M4.createRoot,c_.hydrateRoot=M4.hydrateRoot;var Kj={exports:{}},Xj={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh=A;function pne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mne=typeof Object.is=="function"?Object.is:pne,gne=uh.useState,yne=uh.useEffect,vne=uh.useLayoutEffect,xne=uh.useDebugValue;function bne(t,e){var n=e(),r=gne({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return vne(function(){i.value=n,i.getSnapshot=e,zE(i)&&s({inst:i})},[t,n,e]),yne(function(){return zE(i)&&s({inst:i}),t(function(){zE(i)&&s({inst:i})})},[t]),xne(n),n}function zE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mne(t,n)}catch{return!0}}function wne(t,e){return e()}var Sne=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wne:bne;Xj.useSyncExternalStore=uh.useSyncExternalStore!==void 0?uh.useSyncExternalStore:Sne;Kj.exports=Xj;var kne=Kj.exports,Qj={exports:{}},Yj={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw=A,Cne=kne;function Ene(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tne=typeof Object.is=="function"?Object.is:Ene,_ne=Cne.useSyncExternalStore,Ine=Tw.useRef,$ne=Tw.useEffect,Nne=Tw.useMemo,One=Tw.useDebugValue;Yj.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Ine(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Nne(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&o.hasValue){var m=o.value;if(i(m,h))return d=m}return d=h}if(m=d,Tne(u,h))return m;var y=r(h);return i!==void 0&&i(m,y)?m:(u=h,d=y)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=_ne(t,s[0],s[1]);return $ne(function(){o.hasValue=!0,o.value=a},[a]),One(a),a};Qj.exports=Yj;var Rne=Qj.exports;function Ane(t){t()}let Jj=Ane;const Pne=t=>Jj=t,Dne=()=>Jj,B4=Symbol.for("react-redux-context"),z4=typeof globalThis<"u"?globalThis:{};function Fne(){var t;if(!A.createContext)return{};const e=(t=z4[B4])!=null?t:z4[B4]=new Map;let n=e.get(A.createContext);return n||(n=A.createContext(null),e.set(A.createContext,n)),n}const qa=Fne();function dO(t=qa){return function(){return A.useContext(t)}}const Zj=dO(),Lne=()=>{throw new Error("uSES not initialized!")};let eV=Lne;const Mne=t=>{eV=t},Bne=(t,e)=>t===e;function zne(t=qa){const e=t===qa?Zj:dO(t);return function(r,i={}){const{equalityFn:s=Bne,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:c,getServerState:u,stabilityCheck:d,noopCheck:f}=e();A.useRef(!0);const h=A.useCallback({[r.name](y){return r(y)}}[r.name],[r,d,o]),m=eV(c.addNestedSub,l.getState,u||l.getState,h,s);return A.useDebugValue(m),m}}const eb=zne();function nI(){return nI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nI.apply(this,arguments)}function tV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var nV={exports:{}},Pt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xr=typeof Symbol=="function"&&Symbol.for,fO=xr?Symbol.for("react.element"):60103,hO=xr?Symbol.for("react.portal"):60106,_w=xr?Symbol.for("react.fragment"):60107,Iw=xr?Symbol.for("react.strict_mode"):60108,$w=xr?Symbol.for("react.profiler"):60114,Nw=xr?Symbol.for("react.provider"):60109,Ow=xr?Symbol.for("react.context"):60110,pO=xr?Symbol.for("react.async_mode"):60111,Rw=xr?Symbol.for("react.concurrent_mode"):60111,Aw=xr?Symbol.for("react.forward_ref"):60112,Pw=xr?Symbol.for("react.suspense"):60113,jne=xr?Symbol.for("react.suspense_list"):60120,Dw=xr?Symbol.for("react.memo"):60115,Fw=xr?Symbol.for("react.lazy"):60116,Vne=xr?Symbol.for("react.block"):60121,Une=xr?Symbol.for("react.fundamental"):60117,Wne=xr?Symbol.for("react.responder"):60118,Gne=xr?Symbol.for("react.scope"):60119;function ms(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case fO:switch(t=t.type,t){case pO:case Rw:case _w:case $w:case Iw:case Pw:return t;default:switch(t=t&&t.$$typeof,t){case Ow:case Aw:case Fw:case Dw:case Nw:return t;default:return e}}case hO:return e}}}function rV(t){return ms(t)===Rw}Pt.AsyncMode=pO;Pt.ConcurrentMode=Rw;Pt.ContextConsumer=Ow;Pt.ContextProvider=Nw;Pt.Element=fO;Pt.ForwardRef=Aw;Pt.Fragment=_w;Pt.Lazy=Fw;Pt.Memo=Dw;Pt.Portal=hO;Pt.Profiler=$w;Pt.StrictMode=Iw;Pt.Suspense=Pw;Pt.isAsyncMode=function(t){return rV(t)||ms(t)===pO};Pt.isConcurrentMode=rV;Pt.isContextConsumer=function(t){return ms(t)===Ow};Pt.isContextProvider=function(t){return ms(t)===Nw};Pt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===fO};Pt.isForwardRef=function(t){return ms(t)===Aw};Pt.isFragment=function(t){return ms(t)===_w};Pt.isLazy=function(t){return ms(t)===Fw};Pt.isMemo=function(t){return ms(t)===Dw};Pt.isPortal=function(t){return ms(t)===hO};Pt.isProfiler=function(t){return ms(t)===$w};Pt.isStrictMode=function(t){return ms(t)===Iw};Pt.isSuspense=function(t){return ms(t)===Pw};Pt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===_w||t===Rw||t===$w||t===Iw||t===Pw||t===jne||typeof t=="object"&&t!==null&&(t.$$typeof===Fw||t.$$typeof===Dw||t.$$typeof===Nw||t.$$typeof===Ow||t.$$typeof===Aw||t.$$typeof===Une||t.$$typeof===Wne||t.$$typeof===Gne||t.$$typeof===Vne)};Pt.typeOf=ms;nV.exports=Pt;var Hne=nV.exports,iV=Hne,qne={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Kne={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},sV={};sV[iV.ForwardRef]=qne;sV[iV.Memo]=Kne;var Bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mO=Symbol.for("react.element"),gO=Symbol.for("react.portal"),Lw=Symbol.for("react.fragment"),Mw=Symbol.for("react.strict_mode"),Bw=Symbol.for("react.profiler"),zw=Symbol.for("react.provider"),jw=Symbol.for("react.context"),Xne=Symbol.for("react.server_context"),Vw=Symbol.for("react.forward_ref"),Uw=Symbol.for("react.suspense"),Ww=Symbol.for("react.suspense_list"),Gw=Symbol.for("react.memo"),Hw=Symbol.for("react.lazy"),Qne=Symbol.for("react.offscreen"),oV;oV=Symbol.for("react.module.reference");function qs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case mO:switch(t=t.type,t){case Lw:case Bw:case Mw:case Uw:case Ww:return t;default:switch(t=t&&t.$$typeof,t){case Xne:case jw:case Vw:case Hw:case Gw:case zw:return t;default:return e}}case gO:return e}}}Bt.ContextConsumer=jw;Bt.ContextProvider=zw;Bt.Element=mO;Bt.ForwardRef=Vw;Bt.Fragment=Lw;Bt.Lazy=Hw;Bt.Memo=Gw;Bt.Portal=gO;Bt.Profiler=Bw;Bt.StrictMode=Mw;Bt.Suspense=Uw;Bt.SuspenseList=Ww;Bt.isAsyncMode=function(){return!1};Bt.isConcurrentMode=function(){return!1};Bt.isContextConsumer=function(t){return qs(t)===jw};Bt.isContextProvider=function(t){return qs(t)===zw};Bt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===mO};Bt.isForwardRef=function(t){return qs(t)===Vw};Bt.isFragment=function(t){return qs(t)===Lw};Bt.isLazy=function(t){return qs(t)===Hw};Bt.isMemo=function(t){return qs(t)===Gw};Bt.isPortal=function(t){return qs(t)===gO};Bt.isProfiler=function(t){return qs(t)===Bw};Bt.isStrictMode=function(t){return qs(t)===Mw};Bt.isSuspense=function(t){return qs(t)===Uw};Bt.isSuspenseList=function(t){return qs(t)===Ww};Bt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lw||t===Bw||t===Mw||t===Uw||t===Ww||t===Qne||typeof t=="object"&&t!==null&&(t.$$typeof===Hw||t.$$typeof===Gw||t.$$typeof===zw||t.$$typeof===jw||t.$$typeof===Vw||t.$$typeof===oV||t.getModuleId!==void 0)};Bt.typeOf=qs;function Yne(){const t=Dne();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const j4={notify(){},get:()=>[]};function Jne(t,e){let n,r=j4,i=0,s=!1;function o(y){u();const x=r.subscribe(y);let v=!1;return()=>{v||(v=!0,x(),d())}}function a(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return s}function u(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=Yne())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=j4)}function f(){s||(s=!0,u())}function h(){s&&(s=!1,d())}const m={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return m}const Zne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ere=Zne?A.useLayoutEffect:A.useEffect;function tre({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=A.useMemo(()=>{const c=Jne(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[t,r,i,s]),a=A.useMemo(()=>t.getState(),[t]);ere(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||qa;return A.createElement(l.Provider,{value:o},n)}function aV(t=qa){const e=t===qa?Zj:dO(t);return function(){const{store:r}=e();return r}}const nre=aV();function rre(t=qa){const e=t===qa?nre:aV(t);return function(){return e().dispatch}}const yO=rre();Mne(Rne.useSyncExternalStoreWithSelector);Pne(uO.unstable_batchedUpdates);var rI=function(t,e){return rI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},rI(t,e)};function Xn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rI(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var re=function(){return re=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},re.apply(this,arguments)};function sa(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function di(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function Yr(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function dh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fh(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Pr(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Uf(t){return this instanceof Uf?(this.v=t,this):new Uf(t)}function ire(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(m,y){s.push([f,h,m,y])>1||a(f,h)})})}function a(f,h){try{l(r[f](h))}catch(m){d(s[0][3],m)}}function l(f){f.value instanceof Uf?Promise.resolve(f.value.v).then(c,u):d(s[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function sre(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof dh=="function"?dh(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var jE="Invariant Violation",V4=Object.setPrototypeOf,ore=V4===void 0?function(t,e){return t.__proto__=e,t}:V4,lV=function(t){Xn(e,t);function e(n){n===void 0&&(n=jE);var r=t.call(this,typeof n=="number"?jE+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=jE,ore(r,e.prototype),r}return e}(Error);function au(t,e){if(!t)throw new lV(e)}var cV=["debug","log","warn","error","silent"],are=cV.indexOf("log");function p1(t){return function(){if(cV.indexOf(t)>=are){var e=console[t]||console.log;return e.apply(console,arguments)}}}(function(t){t.debug=p1("debug"),t.log=p1("log"),t.warn=p1("warn"),t.error=p1("error")})(au||(au={}));var vO="3.10.8";function co(t){try{return t()}catch{}}const iI=co(function(){return globalThis})||co(function(){return window})||co(function(){return self})||co(function(){return global})||co(function(){return co.constructor("return this")()});var U4=new Map;function sI(t){var e=U4.get(t)||1;return U4.set(t,e+1),"".concat(t,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function uV(t,e){e===void 0&&(e=0);var n=sI("stringifyForDisplay");return JSON.stringify(t,function(r,i){return i===void 0?n:i},e).split(JSON.stringify(n)).join("<undefined>")}function m1(t){return function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(typeof e=="number"){var i=e;e=xO(i),e||(e=bO(i,n),n=[])}t.apply(void 0,[e].concat(n))}}var Ke=Object.assign(function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];e||au(e,xO(n,r)||bO(n,r))},{debug:m1(au.debug),log:m1(au.log),warn:m1(au.warn),error:m1(au.error)});function pi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new lV(xO(t,e)||bO(t,e))}var W4=Symbol.for("ApolloErrorMessageHandler_"+vO);function dV(t){if(typeof t=="string")return t;try{return uV(t,2).slice(0,1e3)}catch{return"<non-serializable>"}}function xO(t,e){if(e===void 0&&(e=[]),!!t)return iI[W4]&&iI[W4](t,e.map(dV))}function bO(t,e){if(e===void 0&&(e=[]),!!t)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:vO,message:t,args:e.map(dV)})))}function ux(t,e){if(!!!t)throw new Error(e)}function lre(t){return typeof t=="object"&&t!==null}function cre(t,e){if(!!!t)throw new Error(e??"Unexpected invariant triggered.")}const ure=/\r\n|[\n\r]/g;function oI(t,e){let n=0,r=1;for(const i of t.body.matchAll(ure)){if(typeof i.index=="number"||cre(!1),i.index>=e)break;n=i.index+i[0].length,r+=1}return{line:r,column:e+1-n}}function dre(t){return fV(t.source,oI(t.source,t.start))}function fV(t,e){const n=t.locationOffset.column-1,r="".padStart(n)+t.body,i=e.line-1,s=t.locationOffset.line-1,o=e.line+s,a=e.line===1?n:0,l=e.column+a,c=`${t.name}:${o}:${l}
`,u=r.split(/\r\n|[\n\r]/g),d=u[i];if(d.length>120){const f=Math.floor(l/80),h=l%80,m=[];for(let y=0;y<d.length;y+=80)m.push(d.slice(y,y+80));return c+G4([[`${o} |`,m[0]],...m.slice(1,f+1).map(y=>["|",y]),["|","^".padStart(h)],["|",m[f+1]]])}return c+G4([[`${o-1} |`,u[i-1]],[`${o} |`,d],["|","^".padStart(l)],[`${o+1} |`,u[i+1]]])}function G4(t){const e=t.filter(([r,i])=>i!==void 0),n=Math.max(...e.map(([r])=>r.length));return e.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join(`
`)}function fre(t){const e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}class wO extends Error{constructor(e,...n){var r,i,s;const{nodes:o,source:a,positions:l,path:c,originalError:u,extensions:d}=fre(n);super(e),this.name="GraphQLError",this.path=c??void 0,this.originalError=u??void 0,this.nodes=H4(Array.isArray(o)?o:o?[o]:void 0);const f=H4((r=this.nodes)===null||r===void 0?void 0:r.map(m=>m.loc).filter(m=>m!=null));this.source=a??(f==null||(i=f[0])===null||i===void 0?void 0:i.source),this.positions=l??(f==null?void 0:f.map(m=>m.start)),this.locations=l&&a?l.map(m=>oI(a,m)):f==null?void 0:f.map(m=>oI(m.source,m.start));const h=lre(u==null?void 0:u.extensions)?u==null?void 0:u.extensions:void 0;this.extensions=(s=d??h)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),u!=null&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,wO):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+=`

`+dre(n.loc));else if(this.source&&this.locations)for(const n of this.locations)e+=`

`+fV(this.source,n);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function H4(t){return t===void 0||t.length===0?void 0:t}function mr(t,e,n){return new wO(`Syntax Error: ${n}`,{source:t,positions:[e]})}class hre{constructor(e,n,r){this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class hV{constructor(e,n,r,i,s,o){this.kind=e,this.start=n,this.end=r,this.line=i,this.column=s,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const pV={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},pre=new Set(Object.keys(pV));function q4(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&pre.has(e)}var $f;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})($f||($f={}));var aI;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(aI||(aI={}));var Ve;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Ve||(Ve={}));function lI(t){return t===9||t===32}function kg(t){return t>=48&&t<=57}function mV(t){return t>=97&&t<=122||t>=65&&t<=90}function gV(t){return mV(t)||t===95}function mre(t){return mV(t)||kg(t)||t===95}function gre(t){var e;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let o=0;o<t.length;++o){var s;const a=t[o],l=yre(a);l!==a.length&&(r=(s=r)!==null&&s!==void 0?s:o,i=o,o!==0&&l<n&&(n=l))}return t.map((o,a)=>a===0?o:o.slice(n)).slice((e=r)!==null&&e!==void 0?e:0,i+1)}function yre(t){let e=0;for(;e<t.length&&lI(t.charCodeAt(e));)++e;return e}function vre(t,e){const n=t.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,s=r.length>1&&r.slice(1).every(h=>h.length===0||lI(h.charCodeAt(0))),o=n.endsWith('\\"""'),a=t.endsWith('"')&&!o,l=t.endsWith("\\"),c=a||l,u=!(e!=null&&e.minimize)&&(!i||t.length>70||c||s||o);let d="";const f=i&&lI(t.charCodeAt(0));return(u&&!f||s)&&(d+=`
`),d+=n,(u||c)&&(d+=`
`),'"""'+d+'"""'}var me;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(me||(me={}));class xre{constructor(e){const n=new hV(me.SOF,0,0,0,0);this.source=e,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==me.EOF)do if(e.next)e=e.next;else{const n=wre(this,e.end);e.next=n,n.prev=e,e=n}while(e.kind===me.COMMENT);return e}}function bre(t){return t===me.BANG||t===me.DOLLAR||t===me.AMP||t===me.PAREN_L||t===me.PAREN_R||t===me.SPREAD||t===me.COLON||t===me.EQUALS||t===me.AT||t===me.BRACKET_L||t===me.BRACKET_R||t===me.BRACE_L||t===me.PIPE||t===me.BRACE_R}function Vh(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function qw(t,e){return yV(t.charCodeAt(e))&&vV(t.charCodeAt(e+1))}function yV(t){return t>=55296&&t<=56319}function vV(t){return t>=56320&&t<=57343}function Du(t,e){const n=t.source.body.codePointAt(e);if(n===void 0)return me.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function jn(t,e,n,r,i){const s=t.line,o=1+n-t.lineStart;return new hV(e,n,r,s,o,i)}function wre(t,e){const n=t.source.body,r=n.length;let i=e;for(;i<r;){const s=n.charCodeAt(i);switch(s){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++t.line,t.lineStart=i;continue;case 13:n.charCodeAt(i+1)===10?i+=2:++i,++t.line,t.lineStart=i;continue;case 35:return Sre(t,i);case 33:return jn(t,me.BANG,i,i+1);case 36:return jn(t,me.DOLLAR,i,i+1);case 38:return jn(t,me.AMP,i,i+1);case 40:return jn(t,me.PAREN_L,i,i+1);case 41:return jn(t,me.PAREN_R,i,i+1);case 46:if(n.charCodeAt(i+1)===46&&n.charCodeAt(i+2)===46)return jn(t,me.SPREAD,i,i+3);break;case 58:return jn(t,me.COLON,i,i+1);case 61:return jn(t,me.EQUALS,i,i+1);case 64:return jn(t,me.AT,i,i+1);case 91:return jn(t,me.BRACKET_L,i,i+1);case 93:return jn(t,me.BRACKET_R,i,i+1);case 123:return jn(t,me.BRACE_L,i,i+1);case 124:return jn(t,me.PIPE,i,i+1);case 125:return jn(t,me.BRACE_R,i,i+1);case 34:return n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34?Ire(t,i):Cre(t,i)}if(kg(s)||s===45)return kre(t,i,s);if(gV(s))return $re(t,i);throw mr(t.source,i,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Vh(s)||qw(n,i)?`Unexpected character: ${Du(t,i)}.`:`Invalid character: ${Du(t,i)}.`)}return jn(t,me.EOF,r,r)}function Sre(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const s=n.charCodeAt(i);if(s===10||s===13)break;if(Vh(s))++i;else if(qw(n,i))i+=2;else break}return jn(t,me.COMMENT,e,i,n.slice(e+1,i))}function kre(t,e,n){const r=t.source.body;let i=e,s=n,o=!1;if(s===45&&(s=r.charCodeAt(++i)),s===48){if(s=r.charCodeAt(++i),kg(s))throw mr(t.source,i,`Invalid number, unexpected digit after 0: ${Du(t,i)}.`)}else i=VE(t,i,s),s=r.charCodeAt(i);if(s===46&&(o=!0,s=r.charCodeAt(++i),i=VE(t,i,s),s=r.charCodeAt(i)),(s===69||s===101)&&(o=!0,s=r.charCodeAt(++i),(s===43||s===45)&&(s=r.charCodeAt(++i)),i=VE(t,i,s),s=r.charCodeAt(i)),s===46||gV(s))throw mr(t.source,i,`Invalid number, expected digit but got: ${Du(t,i)}.`);return jn(t,o?me.FLOAT:me.INT,e,i,r.slice(e,i))}function VE(t,e,n){if(!kg(n))throw mr(t.source,e,`Invalid number, expected digit but got: ${Du(t,e)}.`);const r=t.source.body;let i=e+1;for(;kg(r.charCodeAt(i));)++i;return i}function Cre(t,e){const n=t.source.body,r=n.length;let i=e+1,s=i,o="";for(;i<r;){const a=n.charCodeAt(i);if(a===34)return o+=n.slice(s,i),jn(t,me.STRING,e,i+1,o);if(a===92){o+=n.slice(s,i);const l=n.charCodeAt(i+1)===117?n.charCodeAt(i+2)===123?Ere(t,i):Tre(t,i):_re(t,i);o+=l.value,i+=l.size,s=i;continue}if(a===10||a===13)break;if(Vh(a))++i;else if(qw(n,i))i+=2;else throw mr(t.source,i,`Invalid character within String: ${Du(t,i)}.`)}throw mr(t.source,i,"Unterminated string.")}function Ere(t,e){const n=t.source.body;let r=0,i=3;for(;i<12;){const s=n.charCodeAt(e+i++);if(s===125){if(i<5||!Vh(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|vm(s),r<0)break}throw mr(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+i)}".`)}function Tre(t,e){const n=t.source.body,r=K4(n,e+2);if(Vh(r))return{value:String.fromCodePoint(r),size:6};if(yV(r)&&n.charCodeAt(e+6)===92&&n.charCodeAt(e+7)===117){const i=K4(n,e+8);if(vV(i))return{value:String.fromCodePoint(r,i),size:12}}throw mr(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+6)}".`)}function K4(t,e){return vm(t.charCodeAt(e))<<12|vm(t.charCodeAt(e+1))<<8|vm(t.charCodeAt(e+2))<<4|vm(t.charCodeAt(e+3))}function vm(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function _re(t,e){const n=t.source.body;switch(n.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw mr(t.source,e,`Invalid character escape sequence: "${n.slice(e,e+2)}".`)}function Ire(t,e){const n=t.source.body,r=n.length;let i=t.lineStart,s=e+3,o=s,a="";const l=[];for(;s<r;){const c=n.charCodeAt(s);if(c===34&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34){a+=n.slice(o,s),l.push(a);const u=jn(t,me.BLOCK_STRING,e,s+3,gre(l).join(`
`));return t.line+=l.length-1,t.lineStart=i,u}if(c===92&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34&&n.charCodeAt(s+3)===34){a+=n.slice(o,s),o=s+1,s+=4;continue}if(c===10||c===13){a+=n.slice(o,s),l.push(a),c===13&&n.charCodeAt(s+1)===10?s+=2:++s,a="",o=s,i=s;continue}if(Vh(c))++s;else if(qw(n,s))s+=2;else throw mr(t.source,s,`Invalid character within String: ${Du(t,s)}.`)}throw mr(t.source,s,"Unterminated string.")}function $re(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const s=n.charCodeAt(i);if(mre(s))++i;else break}return jn(t,me.NAME,e,i,n.slice(e,i))}const Nre=10,xV=2;function SO(t){return Kw(t,[])}function Kw(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return Ore(t,e);default:return String(t)}}function Ore(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";const n=[...e,t];if(Rre(t)){const r=t.toJSON();if(r!==t)return typeof r=="string"?r:Kw(r,n)}else if(Array.isArray(t))return Pre(t,n);return Are(t,n)}function Rre(t){return typeof t.toJSON=="function"}function Are(t,e){const n=Object.entries(t);return n.length===0?"{}":e.length>xV?"["+Dre(t)+"]":"{ "+n.map(([i,s])=>i+": "+Kw(s,e)).join(", ")+" }"}function Pre(t,e){if(t.length===0)return"[]";if(e.length>xV)return"[Array]";const n=Math.min(Nre,t.length),r=t.length-n,i=[];for(let s=0;s<n;++s)i.push(Kw(t[s],e));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function Dre(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){const n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return e}const Fre=globalThis.process&&!0,Lre=Fre?function(e,n){return e instanceof n}:function(e,n){if(e instanceof n)return!0;if(typeof e=="object"&&e!==null){var r;const i=n.prototype[Symbol.toStringTag],s=Symbol.toStringTag in e?e[Symbol.toStringTag]:(r=e.constructor)===null||r===void 0?void 0:r.name;if(i===s){const o=SO(e);throw new Error(`Cannot use ${i} "${o}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class bV{constructor(e,n="GraphQL request",r={line:1,column:1}){typeof e=="string"||ux(!1,`Body must be a string. Received: ${SO(e)}.`),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||ux(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||ux(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function Mre(t){return Lre(t,bV)}function Bre(t,e){return new zre(t,e).parseDocument()}class zre{constructor(e,n={}){const r=Mre(e)?e:new bV(e);this._lexer=new xre(r),this._options=n,this._tokenCounter=0}parseName(){const e=this.expectToken(me.NAME);return this.node(e,{kind:Ve.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:Ve.DOCUMENT,definitions:this.many(me.SOF,this.parseDefinition,me.EOF)})}parseDefinition(){if(this.peek(me.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),n=e?this._lexer.lookahead():this._lexer.token;if(n.kind===me.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw mr(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(me.BRACE_L))return this.node(e,{kind:Ve.OPERATION_DEFINITION,operation:$f.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let r;return this.peek(me.NAME)&&(r=this.parseName()),this.node(e,{kind:Ve.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(me.NAME);switch(e.value){case"query":return $f.QUERY;case"mutation":return $f.MUTATION;case"subscription":return $f.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(me.PAREN_L,this.parseVariableDefinition,me.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:Ve.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(me.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(me.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(me.DOLLAR),this.node(e,{kind:Ve.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:Ve.SELECTION_SET,selections:this.many(me.BRACE_L,this.parseSelection,me.BRACE_R)})}parseSelection(){return this.peek(me.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,n=this.parseName();let r,i;return this.expectOptionalToken(me.COLON)?(r=n,i=this.parseName()):i=n,this.node(e,{kind:Ve.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(me.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const n=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(me.PAREN_L,n,me.PAREN_R)}parseArgument(e=!1){const n=this._lexer.token,r=this.parseName();return this.expectToken(me.COLON),this.node(n,{kind:Ve.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(me.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(me.NAME)?this.node(e,{kind:Ve.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:Ve.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:Ve.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:Ve.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const n=this._lexer.token;switch(n.kind){case me.BRACKET_L:return this.parseList(e);case me.BRACE_L:return this.parseObject(e);case me.INT:return this.advanceLexer(),this.node(n,{kind:Ve.INT,value:n.value});case me.FLOAT:return this.advanceLexer(),this.node(n,{kind:Ve.FLOAT,value:n.value});case me.STRING:case me.BLOCK_STRING:return this.parseStringLiteral();case me.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:Ve.BOOLEAN,value:!0});case"false":return this.node(n,{kind:Ve.BOOLEAN,value:!1});case"null":return this.node(n,{kind:Ve.NULL});default:return this.node(n,{kind:Ve.ENUM,value:n.value})}case me.DOLLAR:if(e)if(this.expectToken(me.DOLLAR),this._lexer.token.kind===me.NAME){const r=this._lexer.token.value;throw mr(this._lexer.source,n.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:Ve.STRING,value:e.value,block:e.kind===me.BLOCK_STRING})}parseList(e){const n=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:Ve.LIST,values:this.any(me.BRACKET_L,n,me.BRACKET_R)})}parseObject(e){const n=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:Ve.OBJECT,fields:this.any(me.BRACE_L,n,me.BRACE_R)})}parseObjectField(e){const n=this._lexer.token,r=this.parseName();return this.expectToken(me.COLON),this.node(n,{kind:Ve.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){const n=[];for(;this.peek(me.AT);)n.push(this.parseDirective(e));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const n=this._lexer.token;return this.expectToken(me.AT),this.node(n,{kind:Ve.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let n;if(this.expectOptionalToken(me.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(me.BRACKET_R),n=this.node(e,{kind:Ve.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken(me.BANG)?this.node(e,{kind:Ve.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:Ve.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(me.STRING)||this.peek(me.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),i=this.many(me.BRACE_L,this.parseOperationTypeDefinition,me.BRACE_R);return this.node(e,{kind:Ve.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:i})}parseOperationTypeDefinition(){const e=this._lexer.token,n=this.parseOperationType();this.expectToken(me.COLON);const r=this.parseNamedType();return this.node(e,{kind:Ve.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:Ve.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i})}parseObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:Ve.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:s,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(me.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(me.BRACE_L,this.parseFieldDefinition,me.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(me.COLON);const s=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:Ve.FIELD_DEFINITION,description:n,name:r,arguments:i,type:s,directives:o})}parseArgumentDefs(){return this.optionalMany(me.PAREN_L,this.parseInputValueDef,me.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(me.COLON);const i=this.parseTypeReference();let s;this.expectOptionalToken(me.EQUALS)&&(s=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:Ve.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:s,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:Ve.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:s,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(e,{kind:Ve.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(me.EQUALS)?this.delimitedMany(me.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(e,{kind:Ve.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:s})}parseEnumValuesDefinition(){return this.optionalMany(me.BRACE_L,this.parseEnumValueDefinition,me.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:Ve.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw mr(this._lexer.source,this._lexer.token.start,`${g1(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(e,{kind:Ve.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(me.BRACE_L,this.parseInputValueDef,me.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===me.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.optionalMany(me.BRACE_L,this.parseOperationTypeDefinition,me.BRACE_R);if(n.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:Ve.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(e,{kind:Ve.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:Ve.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:s})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:Ve.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:s})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:Ve.UNION_TYPE_EXTENSION,name:n,directives:r,types:i})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:Ve.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:Ve.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i})}parseDirectiveDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(me.AT);const r=this.parseName(),i=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:Ve.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,repeatable:s,locations:o})}parseDirectiveLocations(){return this.delimitedMany(me.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(aI,n.value))return n;throw this.unexpected(e)}node(e,n){return this._options.noLocation!==!0&&(n.loc=new hre(e,this._lexer.lastToken,this._lexer.source)),n}peek(e){return this._lexer.token.kind===e}expectToken(e){const n=this._lexer.token;if(n.kind===e)return this.advanceLexer(),n;throw mr(this._lexer.source,n.start,`Expected ${wV(e)}, found ${g1(n)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const n=this._lexer.token;if(n.kind===me.NAME&&n.value===e)this.advanceLexer();else throw mr(this._lexer.source,n.start,`Expected "${e}", found ${g1(n)}.`)}expectOptionalKeyword(e){const n=this._lexer.token;return n.kind===me.NAME&&n.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const n=e??this._lexer.token;return mr(this._lexer.source,n.start,`Unexpected ${g1(n)}.`)}any(e,n,r){this.expectToken(e);const i=[];for(;!this.expectOptionalToken(r);)i.push(n.call(this));return i}optionalMany(e,n,r){if(this.expectOptionalToken(e)){const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}return[]}many(e,n,r){this.expectToken(e);const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}delimitedMany(e,n){this.expectOptionalToken(e);const r=[];do r.push(n.call(this));while(this.expectOptionalToken(e));return r}advanceLexer(){const{maxTokens:e}=this._options,n=this._lexer.advance();if(e!==void 0&&n.kind!==me.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw mr(this._lexer.source,n.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function g1(t){const e=t.value;return wV(t.kind)+(e!=null?` "${e}"`:"")}function wV(t){return bre(t)?`"${t}"`:t}function jre(t){return`"${t.replace(Vre,Ure)}"`}const Vre=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Ure(t){return Wre[t.charCodeAt(0)]}const Wre=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],kO=Object.freeze({});function Ka(t,e,n=pV){const r=new Map;for(const v of Object.values(Ve))r.set(v,Gre(e,v));let i,s=Array.isArray(t),o=[t],a=-1,l=[],c=t,u,d;const f=[],h=[];do{a++;const v=a===o.length,b=v&&l.length!==0;if(v){if(u=h.length===0?void 0:f[f.length-1],c=d,d=h.pop(),b)if(s){c=c.slice();let k=0;for(const[E,_]of l){const I=E-k;_===null?(c.splice(I,1),k++):c[I]=_}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(const[k,E]of l)c[k]=E}a=i.index,o=i.keys,l=i.edits,s=i.inArray,i=i.prev}else if(d){if(u=s?a:o[a],c=d[u],c==null)continue;f.push(u)}let w;if(!Array.isArray(c)){var m,y;q4(c)||ux(!1,`Invalid AST Node: ${SO(c)}.`);const k=v?(m=r.get(c.kind))===null||m===void 0?void 0:m.leave:(y=r.get(c.kind))===null||y===void 0?void 0:y.enter;if(w=k==null?void 0:k.call(e,c,u,d,f,h),w===kO)break;if(w===!1){if(!v){f.pop();continue}}else if(w!==void 0&&(l.push([u,w]),!v))if(q4(w))c=w;else{f.pop();continue}}if(w===void 0&&b&&l.push([u,c]),v)f.pop();else{var x;i={inArray:s,index:a,keys:o,edits:l,prev:i},s=Array.isArray(c),o=s?c:(x=n[c.kind])!==null&&x!==void 0?x:[],a=-1,l=[],d&&h.push(d),d=c}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:t}function Gre(t,e){const n=t[e];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:t.enter,leave:t.leave}}function Hre(t){return Ka(t,Kre)}const qre=80,Kre={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>Ue(t.definitions,`

`)},OperationDefinition:{leave(t){const e=gt("(",Ue(t.variableDefinitions,", "),")"),n=Ue([t.operation,Ue([t.name,e]),Ue(t.directives," ")]," ");return(n==="query"?"":n+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:n,directives:r})=>t+": "+e+gt(" = ",n)+gt(" ",Ue(r," "))},SelectionSet:{leave:({selections:t})=>io(t)},Field:{leave({alias:t,name:e,arguments:n,directives:r,selectionSet:i}){const s=gt("",t,": ")+e;let o=s+gt("(",Ue(n,", "),")");return o.length>qre&&(o=s+gt(`(
`,dx(Ue(n,`
`)),`
)`)),Ue([o,Ue(r," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+gt(" ",Ue(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:n})=>Ue(["...",gt("on ",t),Ue(e," "),n]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${t}${gt("(",Ue(n,", "),")")} on ${e} ${gt("",Ue(r," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?vre(t):jre(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+Ue(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+Ue(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+gt("(",Ue(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:n})=>gt("",t,`
`)+Ue(["schema",Ue(e," "),io(n)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:n})=>gt("",t,`
`)+Ue(["scalar",e,Ue(n," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>gt("",t,`
`)+Ue(["type",e,gt("implements ",Ue(n," & ")),Ue(r," "),io(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:n,type:r,directives:i})=>gt("",t,`
`)+e+(X4(n)?gt(`(
`,dx(Ue(n,`
`)),`
)`):gt("(",Ue(n,", "),")"))+": "+r+gt(" ",Ue(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:n,defaultValue:r,directives:i})=>gt("",t,`
`)+Ue([e+": "+n,gt("= ",r),Ue(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>gt("",t,`
`)+Ue(["interface",e,gt("implements ",Ue(n," & ")),Ue(r," "),io(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:n,types:r})=>gt("",t,`
`)+Ue(["union",e,Ue(n," "),gt("= ",Ue(r," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:n,values:r})=>gt("",t,`
`)+Ue(["enum",e,Ue(n," "),io(r)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:n})=>gt("",t,`
`)+Ue([e,Ue(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:n,fields:r})=>gt("",t,`
`)+Ue(["input",e,Ue(n," "),io(r)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:n,repeatable:r,locations:i})=>gt("",t,`
`)+"directive @"+e+(X4(n)?gt(`(
`,dx(Ue(n,`
`)),`
)`):gt("(",Ue(n,", "),")"))+(r?" repeatable":"")+" on "+Ue(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>Ue(["extend schema",Ue(t," "),io(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>Ue(["extend scalar",t,Ue(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>Ue(["extend type",t,gt("implements ",Ue(e," & ")),Ue(n," "),io(r)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>Ue(["extend interface",t,gt("implements ",Ue(e," & ")),Ue(n," "),io(r)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:n})=>Ue(["extend union",t,Ue(e," "),gt("= ",Ue(n," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:n})=>Ue(["extend enum",t,Ue(e," "),io(n)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:n})=>Ue(["extend input",t,Ue(e," "),io(n)]," ")}};function Ue(t,e=""){var n;return(n=t==null?void 0:t.filter(r=>r).join(e))!==null&&n!==void 0?n:""}function io(t){return gt(`{
`,dx(Ue(t,`
`)),`
}`)}function gt(t,e,n=""){return e!=null&&e!==""?t+e+n:""}function dx(t){return gt("  ",t.replace(/\n/g,`
  `))}function X4(t){var e;return(e=t==null?void 0:t.some(n=>n.includes(`
`)))!==null&&e!==void 0?e:!1}function Q4(t){return t.kind===Ve.FIELD||t.kind===Ve.FRAGMENT_SPREAD||t.kind===Ve.INLINE_FRAGMENT}function ly(t,e){var n=t.directives;return!n||!n.length?!0:Yre(n).every(function(r){var i=r.directive,s=r.ifArgument,o=!1;return s.value.kind==="Variable"?(o=e&&e[s.value.name.value],Ke(o!==void 0,68,i.name.value)):o=s.value.value,i.name.value==="skip"?!o:o})}function Cg(t,e,n){var r=new Set(t),i=r.size;return Ka(e,{Directive:function(s){if(r.delete(s.name.value)&&(!n||!r.size))return kO}}),n?!r.size:r.size<i}function Xre(t){return t&&Cg(["client","export"],t,!0)}function Qre(t){var e=t.name.value;return e==="skip"||e==="include"}function Yre(t){var e=[];return t&&t.length&&t.forEach(function(n){if(Qre(n)){var r=n.arguments,i=n.name.value;Ke(r&&r.length===1,69,i);var s=r[0];Ke(s.name&&s.name.value==="if",70,i);var o=s.value;Ke(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),71,i),e.push({directive:n,ifArgument:s})}}),e}const Jre=()=>Object.create(null),{forEach:Zre,slice:Y4}=Array.prototype,{hasOwnProperty:eie}=Object.prototype;let Uh=class SV{constructor(e=!0,n=Jre){this.weakness=e,this.makeData=n}lookup(){return this.lookupArray(arguments)}lookupArray(e){let n=this;return Zre.call(e,r=>n=n.getChildTrie(r)),eie.call(n,"data")?n.data:n.data=this.makeData(Y4.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let n=this;for(let r=0,i=e.length;n&&r<i;++r){const s=n.mapFor(e[r],!1);n=s&&s.get(e[r])}return n&&n.data}remove(){return this.removeArray(arguments)}removeArray(e){let n;if(e.length){const r=e[0],i=this.mapFor(r,!1),s=i&&i.get(r);s&&(n=s.removeArray(Y4.call(e,1)),!s.data&&!s.weak&&!(s.strong&&s.strong.size)&&i.delete(r))}else n=this.data,delete this.data;return n}getChildTrie(e){const n=this.mapFor(e,!0);let r=n.get(e);return r||n.set(e,r=new SV(this.weakness,this.makeData)),r}mapFor(e,n){return this.weakness&&tie(e)?this.weak||(n?this.weak=new WeakMap:void 0):this.strong||(n?this.strong=new Map:void 0)}};function tie(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var kV=co(function(){return navigator.product})=="ReactNative",rd=typeof WeakMap=="function"&&!(kV&&!global.HermesInternal),CV=typeof WeakSet=="function",CO=typeof Symbol=="function"&&typeof Symbol.for=="function",Xw=CO&&Symbol.asyncIterator,nie=typeof co(function(){return window.document.createElement})=="function",rie=co(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1,iie=(nie||kV)&&!rie;function $n(t){return t!==null&&typeof t=="object"}function sie(t,e){var n=e,r=[];t.definitions.forEach(function(s){if(s.kind==="OperationDefinition")throw pi(72,s.operation,s.name?" named '".concat(s.name.value,"'"):"");s.kind==="FragmentDefinition"&&r.push(s)}),typeof n>"u"&&(Ke(r.length===1,73,r.length),n=r[0].name.value);var i=re(re({},t),{definitions:Pr([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],t.definitions,!0)});return i}function Qw(t){t===void 0&&(t=[]);var e={};return t.forEach(function(n){e[n.name.value]=n}),e}function Yw(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var n=t.name.value;if(typeof e=="function")return e(n);var r=e&&e[n];return Ke(r,74,n),r||null}default:return null}}function oie(){}class cI{constructor(e=1/0,n=oie){this.max=e,this.dispose=n,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const n=this.getNode(e);return n&&n.value}get size(){return this.map.size}getNode(e){const n=this.map.get(e);if(n&&n!==this.newest){const{older:r,newer:i}=n;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n}set(e,n){let r=this.getNode(e);return r?r.value=n:(r={key:e,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const n=this.map.get(e);return n?(n===this.newest&&(this.newest=n.older),n===this.oldest&&(this.oldest=n.newer),n.newer&&(n.newer.older=n.older),n.older&&(n.older.newer=n.newer),this.map.delete(e),this.dispose(n.value,e),!0):!1}}function uI(){}const aie=uI,lie=typeof WeakRef<"u"?WeakRef:function(t){return{deref:()=>t}},cie=typeof WeakMap<"u"?WeakMap:Map,uie=typeof FinalizationRegistry<"u"?FinalizationRegistry:function(){return{register:uI,unregister:uI}},die=10024;class tb{constructor(e=1/0,n=aie){this.max=e,this.dispose=n,this.map=new cie,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const r=this.unfinalizedNodes.values();for(let i=0;i<die;i++){const s=r.next().value;if(!s)break;this.unfinalizedNodes.delete(s);const o=s.key;delete s.key,s.keyRef=new lie(o),this.registry.register(o,s,s)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new uie(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){const n=this.getNode(e);return n&&n.value}getNode(e){const n=this.map.get(e);if(n&&n!==this.newest){const{older:r,newer:i}=n;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n}set(e,n){let r=this.getNode(e);return r?r.value=n:(r={key:e,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.scheduleFinalization(r),this.map.set(e,r),this.size++,r.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;const n=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,n),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),n&&this.map.delete(n)}delete(e){const n=this.map.get(e);return n?(this.deleteNode(n),!0):!1}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}var UE=new WeakSet;function EV(t){t.size<=(t.max||-1)||UE.has(t)||(UE.add(t),setTimeout(function(){t.clean(),UE.delete(t)},100))}var EO=function(t,e){var n=new tb(t,e);return n.set=function(r,i){var s=tb.prototype.set.call(this,r,i);return EV(this),s},n},fie=function(t,e){var n=new cI(t,e);return n.set=function(r,i){var s=cI.prototype.set.call(this,r,i);return EV(this),s},n},hie=Symbol.for("apollo.cacheSize"),oa=re({},iI[hie]),eu={};function TO(t,e){eu[t]=e}var pie=globalThis.__DEV__!==!1?vie:void 0,mie=globalThis.__DEV__!==!1?xie:void 0,gie=globalThis.__DEV__!==!1?TV:void 0;function yie(){var t={parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4};return Object.fromEntries(Object.entries(t).map(function(e){var n=e[0],r=e[1];return[n,oa[n]||r]}))}function vie(){var t,e,n,r,i;if(globalThis.__DEV__===!1)throw new Error("only supported in development mode");return{limits:yie(),sizes:re({print:(t=eu.print)===null||t===void 0?void 0:t.call(eu),parser:(e=eu.parser)===null||e===void 0?void 0:e.call(eu),canonicalStringify:(n=eu.canonicalStringify)===null||n===void 0?void 0:n.call(eu),links:fI(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:IV(this.queryManager.documentTransform)}},(i=(r=this.cache).getMemoryInternals)===null||i===void 0?void 0:i.call(r))}}function TV(){return{cache:{fragmentQueryDocuments:Pl(this.getFragmentDoc)}}}function xie(){var t=this.config.fragments;return re(re({},TV.apply(this)),{addTypenameDocumentTransform:IV(this.addTypenameTransform),inMemoryCache:{executeSelectionSet:Pl(this.storeReader.executeSelectionSet),executeSubSelectedArray:Pl(this.storeReader.executeSubSelectedArray),maybeBroadcastWatch:Pl(this.maybeBroadcastWatch)},fragmentRegistry:{findFragmentSpreads:Pl(t==null?void 0:t.findFragmentSpreads),lookup:Pl(t==null?void 0:t.lookup),transform:Pl(t==null?void 0:t.transform)}})}function bie(t){return!!t&&"dirtyKey"in t}function Pl(t){return bie(t)?t.size:void 0}function _V(t){return t!=null}function IV(t){return dI(t).map(function(e){return{cache:e}})}function dI(t){return t?Pr(Pr([Pl(t==null?void 0:t.performWork)],dI(t==null?void 0:t.left),!0),dI(t==null?void 0:t.right),!0).filter(_V):[]}function fI(t){var e;return t?Pr(Pr([(e=t==null?void 0:t.getMemoryInternals)===null||e===void 0?void 0:e.call(t)],fI(t==null?void 0:t.left),!0),fI(t==null?void 0:t.right),!0).filter(_V):[]}var nc=Object.assign(function(e){return JSON.stringify(e,wie)},{reset:function(){Nf=new fie(oa.canonicalStringify||1e3)}});globalThis.__DEV__!==!1&&TO("canonicalStringify",function(){return Nf.size});var Nf;nc.reset();function wie(t,e){if(e&&typeof e=="object"){var n=Object.getPrototypeOf(e);if(n===Object.prototype||n===null){var r=Object.keys(e);if(r.every(Sie))return e;var i=JSON.stringify(r),s=Nf.get(i);if(!s){r.sort();var o=JSON.stringify(r);s=Nf.get(o)||r,Nf.set(i,s),Nf.set(o,s)}var a=Object.create(n);return s.forEach(function(l){a[l]=e[l]}),a}}return e}function Sie(t,e,n){return e===0||n[e-1]<=t}function Wf(t){return{__ref:String(t)}}function Nt(t){return!!(t&&typeof t=="object"&&typeof t.__ref=="string")}function kie(t){return $n(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function Cie(t){return t.kind==="StringValue"}function Eie(t){return t.kind==="BooleanValue"}function Tie(t){return t.kind==="IntValue"}function _ie(t){return t.kind==="FloatValue"}function Iie(t){return t.kind==="Variable"}function $ie(t){return t.kind==="ObjectValue"}function Nie(t){return t.kind==="ListValue"}function Oie(t){return t.kind==="EnumValue"}function Rie(t){return t.kind==="NullValue"}function hh(t,e,n,r){if(Tie(n)||_ie(n))t[e.value]=Number(n.value);else if(Eie(n)||Cie(n))t[e.value]=n.value;else if($ie(n)){var i={};n.fields.map(function(o){return hh(i,o.name,o.value,r)}),t[e.value]=i}else if(Iie(n)){var s=(r||{})[n.name.value];t[e.value]=s}else if(Nie(n))t[e.value]=n.values.map(function(o){var a={};return hh(a,e,o,r),a[e.value]});else if(Oie(n))t[e.value]=n.value;else if(Rie(n))t[e.value]=null;else throw pi(83,e.value,n.kind)}function Aie(t,e){var n=null;t.directives&&(n={},t.directives.forEach(function(i){n[i.name.value]={},i.arguments&&i.arguments.forEach(function(s){var o=s.name,a=s.value;return hh(n[i.name.value],o,a,e)})}));var r=null;return t.arguments&&t.arguments.length&&(r={},t.arguments.forEach(function(i){var s=i.name,o=i.value;return hh(r,s,o,e)})),$V(t.name.value,r,n)}var Pie=["connection","include","skip","client","rest","export","nonreactive"],Yp=nc,$V=Object.assign(function(t,e,n){if(e&&n&&n.connection&&n.connection.key)if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach(function(a){i[a]=e[a]}),"".concat(n.connection.key,"(").concat(Yp(i),")")}else return n.connection.key;var s=t;if(e){var o=Yp(e);s+="(".concat(o,")")}return n&&Object.keys(n).forEach(function(a){Pie.indexOf(a)===-1&&(n[a]&&Object.keys(n[a]).length?s+="@".concat(a,"(").concat(Yp(n[a]),")"):s+="@".concat(a))}),s},{setStringify:function(t){var e=Yp;return Yp=t,e}});function Jw(t,e){if(t.arguments&&t.arguments.length){var n={};return t.arguments.forEach(function(r){var i=r.name,s=r.value;return hh(n,i,s,e)}),n}return null}function lc(t){return t.alias?t.alias.value:t.name.value}function hI(t,e,n){for(var r,i=0,s=e.selections;i<s.length;i++){var o=s[i];if(cc(o)){if(o.name.value==="__typename")return t[lc(o)]}else r?r.push(o):r=[o]}if(typeof t.__typename=="string")return t.__typename;if(r)for(var a=0,l=r;a<l.length;a++){var o=l[a],c=hI(t,Yw(o,n).selectionSet,n);if(typeof c=="string")return c}}function cc(t){return t.kind==="Field"}function Die(t){return t.kind==="InlineFragment"}function cy(t){Ke(t&&t.kind==="Document",75);var e=t.definitions.filter(function(n){return n.kind!=="FragmentDefinition"}).map(function(n){if(n.kind!=="OperationDefinition")throw pi(76,n.kind);return n});return Ke(e.length<=1,77,e.length),t}function uy(t){return cy(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function pI(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&!!e.name}).map(function(e){return e.name.value})[0]||null}function Zw(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function NV(t){var e=uy(t);return Ke(e&&e.operation==="query",78),e}function Fie(t){Ke(t.kind==="Document",79),Ke(t.definitions.length<=1,80);var e=t.definitions[0];return Ke(e.kind==="FragmentDefinition",81),e}function dy(t){cy(t);for(var e,n=0,r=t.definitions;n<r.length;n++){var i=r[n];if(i.kind==="OperationDefinition"){var s=i.operation;if(s==="query"||s==="mutation"||s==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw pi(82)}function _O(t){var e=Object.create(null),n=t&&t.variableDefinitions;return n&&n.length&&n.forEach(function(r){r.defaultValue&&hh(e,r.variable.name,r.defaultValue)}),e}const Lie=()=>Object.create(null),{forEach:Mie,slice:Bie}=Array.prototype,{hasOwnProperty:zie}=Object.prototype;class IO{constructor(e=!0,n=Lie){this.weakness=e,this.makeData=n}lookup(...e){return this.lookupArray(e)}lookupArray(e){let n=this;return Mie.call(e,r=>n=n.getChildTrie(r)),zie.call(n,"data")?n.data:n.data=this.makeData(Bie.call(e))}peek(...e){return this.peekArray(e)}peekArray(e){let n=this;for(let r=0,i=e.length;n&&r<i;++r){const s=this.weakness&&J4(e[r])?n.weak:n.strong;n=s&&s.get(e[r])}return n&&n.data}getChildTrie(e){const n=this.weakness&&J4(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map);let r=n.get(e);return r||n.set(e,r=new IO(this.weakness,this.makeData)),r}}function J4(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}let $r=null;const Z4={};let jie=1;const Vie=()=>class{constructor(){this.id=["slot",jie++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=$r;e;e=e.parent)if(this.id in e.slots){const n=e.slots[this.id];if(n===Z4)break;return e!==$r&&($r.slots[this.id]=n),!0}return $r&&($r.slots[this.id]=Z4),!1}getValue(){if(this.hasValue())return $r.slots[this.id]}withValue(e,n,r,i){const s={__proto__:null,[this.id]:e},o=$r;$r={parent:o,slots:s};try{return n.apply(i,r)}finally{$r=o}}static bind(e){const n=$r;return function(){const r=$r;try{return $r=n,e.apply(this,arguments)}finally{$r=r}}}static noContext(e,n,r){if($r){const i=$r;try{return $r=null,e.apply(r,n)}finally{$r=i}}else return e.apply(r,n)}};function eL(t){try{return t()}catch{}}const WE="@wry/context:Slot",Uie=eL(()=>globalThis)||eL(()=>global)||Object.create(null),tL=Uie,OV=tL[WE]||Array[WE]||function(t){try{Object.defineProperty(tL,WE,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(Vie()),e2=new OV,{hasOwnProperty:Wie}=Object.prototype,$O=Array.from||function(t){const e=[];return t.forEach(n=>e.push(n)),e};function nb(t){const{unsubscribe:e}=t;typeof e=="function"&&(t.unsubscribe=void 0,e())}const Eg=[],Gie=100;function ph(t,e){if(!t)throw new Error(e||"assertion failure")}function RV(t,e){const n=t.length;return n>0&&n===e.length&&t[n-1]===e[n-1]}function AV(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function PV(t){return t.slice(0)}class t2{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t2.count}peek(){if(this.value.length===1&&!uc(this))return nL(this),this.value[0]}recompute(e){return ph(!this.recomputing,"already recomputing"),nL(this),uc(this)?Hie(this,e):AV(this.value)}setDirty(){this.dirty||(this.dirty=!0,DV(this),nb(this))}dispose(){this.setDirty(),zV(this),NO(this,(e,n)=>{e.setDirty(),jV(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=Eg.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&($O(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),Eg.push(this.deps),this.deps=null)}}t2.count=0;function nL(t){const e=e2.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),uc(t)?LV(e,t):MV(e,t),e}function Hie(t,e){return zV(t),e2.withValue(t,qie,[t,e]),Xie(t,e)&&Kie(t),AV(t.value)}function qie(t,e){t.recomputing=!0;const{normalizeResult:n}=t;let r;n&&t.value.length===1&&(r=PV(t.value)),t.value.length=0;try{if(t.value[0]=t.fn.apply(null,e),n&&r&&!RV(r,t.value))try{t.value[0]=n(t.value[0],r[0])}catch{}}catch(i){t.value[1]=i}t.recomputing=!1}function uc(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function Kie(t){t.dirty=!1,!uc(t)&&FV(t)}function DV(t){NO(t,LV)}function FV(t){NO(t,MV)}function NO(t,e){const n=t.parents.size;if(n){const r=$O(t.parents);for(let i=0;i<n;++i)e(r[i],t)}}function LV(t,e){ph(t.childValues.has(e)),ph(uc(e));const n=!uc(t);if(!t.dirtyChildren)t.dirtyChildren=Eg.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),n&&DV(t)}function MV(t,e){ph(t.childValues.has(e)),ph(!uc(e));const n=t.childValues.get(e);n.length===0?t.childValues.set(e,PV(e.value)):RV(n,e.value)||t.setDirty(),BV(t,e),!uc(t)&&FV(t)}function BV(t,e){const n=t.dirtyChildren;n&&(n.delete(e),n.size===0&&(Eg.length<Gie&&Eg.push(n),t.dirtyChildren=null))}function zV(t){t.childValues.size>0&&t.childValues.forEach((e,n)=>{jV(t,n)}),t.forgetDeps(),ph(t.dirtyChildren===null)}function jV(t,e){e.parents.delete(t),t.childValues.delete(e),BV(t,e)}function Xie(t,e){if(typeof t.subscribe=="function")try{nb(t),t.unsubscribe=t.subscribe.apply(null,e)}catch{return t.setDirty(),!1}return!0}const Qie={setDirty:!0,dispose:!0,forget:!0};function VV(t){const e=new Map,n=t&&t.subscribe;function r(i){const s=e2.getValue();if(s){let o=e.get(i);o||e.set(i,o=new Set),s.dependOn(o),typeof n=="function"&&(nb(o),o.unsubscribe=n(i))}}return r.dirty=function(s,o){const a=e.get(s);if(a){const l=o&&Wie.call(Qie,o)?o:"setDirty";$O(a).forEach(c=>c[l]()),e.delete(s),nb(a)}},r}let rL;function Yie(...t){return(rL||(rL=new IO(typeof WeakMap=="function"))).lookupArray(t)}const GE=new Set;function Tg(t,{max:e=Math.pow(2,16),keyArgs:n,makeCacheKey:r=Yie,normalizeResult:i,subscribe:s,cache:o=cI}=Object.create(null)){const a=typeof o=="function"?new o(e,f=>f.dispose()):o,l=function(){const f=r.apply(null,n?n.apply(null,arguments):arguments);if(f===void 0)return t.apply(null,arguments);let h=a.get(f);h||(a.set(f,h=new t2(t)),h.normalizeResult=i,h.subscribe=s,h.forget=()=>a.delete(f));const m=h.recompute(Array.prototype.slice.call(arguments));return a.set(f,h),GE.add(a),e2.hasValue()||(GE.forEach(y=>y.clean()),GE.clear()),m};Object.defineProperty(l,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(l.options={max:e,keyArgs:n,makeCacheKey:r,normalizeResult:i,subscribe:s,cache:a});function c(f){const h=f&&a.get(f);h&&h.setDirty()}l.dirtyKey=c,l.dirty=function(){c(r.apply(null,arguments))};function u(f){const h=f&&a.get(f);if(h)return h.peek()}l.peekKey=u,l.peek=function(){return u(r.apply(null,arguments))};function d(f){return f?a.delete(f):!1}return l.forgetKey=d,l.forget=function(){return d(r.apply(null,arguments))},l.makeCacheKey=r,l.getKey=n?function(){return r.apply(null,n.apply(null,arguments))}:r,Object.freeze(l)}function Jie(t){return t}var UV=function(){function t(e,n){n===void 0&&(n=Object.create(null)),this.resultCache=CV?new WeakSet:new Set,this.transform=e,n.getCacheKey&&(this.getCacheKey=n.getCacheKey),this.cached=n.cache!==!1,this.resetCache()}return t.prototype.getCacheKey=function(e){return[e]},t.identity=function(){return new t(Jie,{cache:!1})},t.split=function(e,n,r){return r===void 0&&(r=t.identity()),Object.assign(new t(function(i){var s=e(i)?n:r;return s.transformDocument(i)},{cache:!1}),{left:n,right:r})},t.prototype.resetCache=function(){var e=this;if(this.cached){var n=new Uh(rd);this.performWork=Tg(t.prototype.performWork.bind(this),{makeCacheKey:function(r){var i=e.getCacheKey(r);if(i)return Ke(Array.isArray(i),67),n.lookupArray(i)},max:oa["documentTransform.cache"],cache:tb})}},t.prototype.performWork=function(e){return cy(e),this.transform(e)},t.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var n=this.performWork(e);return this.resultCache.add(n),n},t.prototype.concat=function(e){var n=this;return Object.assign(new t(function(r){return e.transformDocument(n.transformDocument(r))},{cache:!1}),{left:this,right:e})},t}(),Wm,n2=Object.assign(function(t){var e=Wm.get(t);return e||(e=Hre(t),Wm.set(t,e)),e},{reset:function(){Wm=new EO(oa.print||2e3)}});n2.reset();globalThis.__DEV__!==!1&&TO("print",function(){return Wm?Wm.size:0});var Nn=Array.isArray;function Us(t){return Array.isArray(t)&&t.length>0}var iL={kind:Ve.FIELD,name:{kind:Ve.NAME,value:"__typename"}};function WV(t,e){return!t||t.selectionSet.selections.every(function(n){return n.kind===Ve.FRAGMENT_SPREAD&&WV(e[n.name.value],e)})}function Zie(t){return WV(uy(t)||Fie(t),Qw(Zw(t)))?null:t}function ese(t){var e=new Map,n=new Map;return t.forEach(function(r){r&&(r.name?e.set(r.name,r):r.test&&n.set(r.test,r))}),function(r){var i=e.get(r.name.value);return!i&&n.size&&n.forEach(function(s,o){o(r)&&(i=s)}),i}}function sL(t){var e=new Map;return function(r){r===void 0&&(r=t);var i=e.get(r);return i||e.set(r,i={variables:new Set,fragmentSpreads:new Set}),i}}function GV(t,e){cy(e);for(var n=sL(""),r=sL(""),i=function(v){for(var b=0,w=void 0;b<v.length&&(w=v[b]);++b)if(!Nn(w)){if(w.kind===Ve.OPERATION_DEFINITION)return n(w.name&&w.name.value);if(w.kind===Ve.FRAGMENT_DEFINITION)return r(w.name.value)}return globalThis.__DEV__!==!1&&Ke.error(84),null},s=0,o=e.definitions.length-1;o>=0;--o)e.definitions[o].kind===Ve.OPERATION_DEFINITION&&++s;var a=ese(t),l=function(v){return Us(v)&&v.map(a).some(function(b){return b&&b.remove})},c=new Map,u=!1,d={enter:function(v){if(l(v.directives))return u=!0,null}},f=Ka(e,{Field:d,InlineFragment:d,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(v,b,w,k,E){var _=i(E);_&&_.variables.add(v.name.value)}},FragmentSpread:{enter:function(v,b,w,k,E){if(l(v.directives))return u=!0,null;var _=i(E);_&&_.fragmentSpreads.add(v.name.value)}},FragmentDefinition:{enter:function(v,b,w,k){c.set(JSON.stringify(k),v)},leave:function(v,b,w,k){var E=c.get(JSON.stringify(k));if(v===E)return v;if(s>0&&v.selectionSet.selections.every(function(_){return _.kind===Ve.FIELD&&_.name.value==="__typename"}))return r(v.name.value).removed=!0,u=!0,null}},Directive:{leave:function(v){if(a(v))return u=!0,null}}});if(!u)return e;var h=function(v){return v.transitiveVars||(v.transitiveVars=new Set(v.variables),v.removed||v.fragmentSpreads.forEach(function(b){h(r(b)).transitiveVars.forEach(function(w){v.transitiveVars.add(w)})})),v},m=new Set;f.definitions.forEach(function(v){v.kind===Ve.OPERATION_DEFINITION?h(n(v.name&&v.name.value)).fragmentSpreads.forEach(function(b){m.add(b)}):v.kind===Ve.FRAGMENT_DEFINITION&&s===0&&!r(v.name.value).removed&&m.add(v.name.value)}),m.forEach(function(v){h(r(v)).fragmentSpreads.forEach(function(b){m.add(b)})});var y=function(v){return!!(!m.has(v)||r(v).removed)},x={enter:function(v){if(y(v.name.value))return null}};return Zie(Ka(f,{FragmentSpread:x,FragmentDefinition:x,OperationDefinition:{leave:function(v){if(v.variableDefinitions){var b=h(n(v.name&&v.name.value)).transitiveVars;if(b.size<v.variableDefinitions.length)return re(re({},v),{variableDefinitions:v.variableDefinitions.filter(function(w){return b.has(w.variable.name.value)})})}}}}))}var OO=Object.assign(function(t){return Ka(t,{SelectionSet:{enter:function(e,n,r){if(!(r&&r.kind===Ve.OPERATION_DEFINITION)){var i=e.selections;if(i){var s=i.some(function(a){return cc(a)&&(a.name.value==="__typename"||a.name.value.lastIndexOf("__",0)===0)});if(!s){var o=r;if(!(cc(o)&&o.directives&&o.directives.some(function(a){return a.name.value==="export"})))return re(re({},e),{selections:Pr(Pr([],i,!0),[iL],!1)})}}}}}})},{added:function(t){return t===iL}});function tse(t){var e=dy(t),n=e.operation;if(n==="query")return t;var r=Ka(t,{OperationDefinition:{enter:function(i){return re(re({},i),{operation:"query"})}}});return r}function HV(t){cy(t);var e=GV([{test:function(n){return n.name.value==="client"},remove:!0}],t);return e}var nse=Object.prototype.hasOwnProperty;function oL(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r2(t)}function r2(t){var e=t[0]||{},n=t.length;if(n>1)for(var r=new dc,i=1;i<n;++i)e=r.merge(e,t[i]);return e}var rse=function(t,e,n){return this.merge(t[n],e[n])},dc=function(){function t(e){e===void 0&&(e=rse),this.reconciler=e,this.isObject=$n,this.pastCopies=new Set}return t.prototype.merge=function(e,n){for(var r=this,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return $n(n)&&$n(e)?(Object.keys(n).forEach(function(o){if(nse.call(e,o)){var a=e[o];if(n[o]!==a){var l=r.reconciler.apply(r,Pr([e,n,o],i,!1));l!==a&&(e=r.shallowCopyForMerge(e),e[o]=l)}}else e=r.shallowCopyForMerge(e),e[o]=n[o]}),e):n},t.prototype.shallowCopyForMerge=function(e){return $n(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=re({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},t}();function ise(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=sse(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sse(t,e){if(t){if(typeof t=="string")return aL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aL(t,e)}}function aL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RO(t,e,n){return e&&lL(t.prototype,e),n&&lL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var AO=function(){return typeof Symbol=="function"},PO=function(t){return AO()&&!!Symbol[t]},DO=function(t){return PO(t)?Symbol[t]:"@@"+t};AO()&&!PO("observable")&&(Symbol.observable=Symbol("observable"));var ose=DO("iterator"),mI=DO("observable"),qV=DO("species");function rb(t,e){var n=t[e];if(n!=null){if(typeof n!="function")throw new TypeError(n+" is not a function");return n}}function Jp(t){var e=t.constructor;return e!==void 0&&(e=e[qV],e===null&&(e=void 0)),e!==void 0?e:Qt}function ase(t){return t instanceof Qt}function mh(t){mh.log?mh.log(t):setTimeout(function(){throw t})}function fx(t){Promise.resolve().then(function(){try{t()}catch(e){mh(e)}})}function KV(t){var e=t._cleanup;if(e!==void 0&&(t._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var n=rb(e,"unsubscribe");n&&n.call(e)}}catch(r){mh(r)}}function gI(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function lse(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var n=0;n<e.length&&(XV(t,e[n].type,e[n].value),t._state!=="closed");++n);}}function XV(t,e,n){t._state="running";var r=t._observer;try{var i=rb(r,e);switch(e){case"next":i&&i.call(r,n);break;case"error":if(gI(t),i)i.call(r,n);else throw n;break;case"complete":gI(t),i&&i.call(r);break}}catch(s){mh(s)}t._state==="closed"?KV(t):t._state==="running"&&(t._state="ready")}function HE(t,e,n){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:e,value:n});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:e,value:n}],fx(function(){return lse(t)});return}XV(t,e,n)}}var cse=function(){function t(n,r){this._cleanup=void 0,this._observer=n,this._queue=void 0,this._state="initializing";var i=new use(this);try{this._cleanup=r.call(void 0,i)}catch(s){i.error(s)}this._state==="initializing"&&(this._state="ready")}var e=t.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(gI(this),KV(this))},RO(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t}(),use=function(){function t(n){this._subscription=n}var e=t.prototype;return e.next=function(r){HE(this._subscription,"next",r)},e.error=function(r){HE(this._subscription,"error",r)},e.complete=function(){HE(this._subscription,"complete")},RO(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),Qt=function(){function t(n){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof n!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=n}var e=t.prototype;return e.subscribe=function(r){return(typeof r!="object"||r===null)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new cse(r,this._subscriber)},e.forEach=function(r){var i=this;return new Promise(function(s,o){if(typeof r!="function"){o(new TypeError(r+" is not a function"));return}function a(){l.unsubscribe(),s()}var l=i.subscribe({next:function(c){try{r(c,a)}catch(u){o(u),l.unsubscribe()}},error:o,complete:s})})},e.map=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=Jp(this);return new s(function(o){return i.subscribe({next:function(a){try{a=r(a)}catch(l){return o.error(l)}o.next(a)},error:function(a){o.error(a)},complete:function(){o.complete()}})})},e.filter=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=Jp(this);return new s(function(o){return i.subscribe({next:function(a){try{if(!r(a))return}catch(l){return o.error(l)}o.next(a)},error:function(a){o.error(a)},complete:function(){o.complete()}})})},e.reduce=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=Jp(this),o=arguments.length>1,a=!1,l=arguments[1],c=l;return new s(function(u){return i.subscribe({next:function(d){var f=!a;if(a=!0,!f||o)try{c=r(c,d)}catch(h){return u.error(h)}else c=d},error:function(d){u.error(d)},complete:function(){if(!a&&!o)return u.error(new TypeError("Cannot reduce an empty sequence"));u.next(c),u.complete()}})})},e.concat=function(){for(var r=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=Jp(this);return new a(function(l){var c,u=0;function d(f){c=f.subscribe({next:function(h){l.next(h)},error:function(h){l.error(h)},complete:function(){u===s.length?(c=void 0,l.complete()):d(a.from(s[u++]))}})}return d(r),function(){c&&(c.unsubscribe(),c=void 0)}})},e.flatMap=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=Jp(this);return new s(function(o){var a=[],l=i.subscribe({next:function(u){if(r)try{u=r(u)}catch(f){return o.error(f)}var d=s.from(u).subscribe({next:function(f){o.next(f)},error:function(f){o.error(f)},complete:function(){var f=a.indexOf(d);f>=0&&a.splice(f,1),c()}});a.push(d)},error:function(u){o.error(u)},complete:function(){c()}});function c(){l.closed&&a.length===0&&o.complete()}return function(){a.forEach(function(u){return u.unsubscribe()}),l.unsubscribe()}})},e[mI]=function(){return this},t.from=function(r){var i=typeof this=="function"?this:t;if(r==null)throw new TypeError(r+" is not an object");var s=rb(r,mI);if(s){var o=s.call(r);if(Object(o)!==o)throw new TypeError(o+" is not an object");return ase(o)&&o.constructor===i?o:new i(function(a){return o.subscribe(a)})}if(PO("iterator")&&(s=rb(r,ose),s))return new i(function(a){fx(function(){if(!a.closed){for(var l=ise(s.call(r)),c;!(c=l()).done;){var u=c.value;if(a.next(u),a.closed)return}a.complete()}})});if(Array.isArray(r))return new i(function(a){fx(function(){if(!a.closed){for(var l=0;l<r.length;++l)if(a.next(r[l]),a.closed)return;a.complete()}})});throw new TypeError(r+" is not observable")},t.of=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=typeof this=="function"?this:t;return new o(function(a){fx(function(){if(!a.closed){for(var l=0;l<i.length;++l)if(a.next(i[l]),a.closed)return;a.complete()}})})},RO(t,null,[{key:qV,get:function(){return this}}]),t}();AO()&&Object.defineProperty(Qt,Symbol("extensions"),{value:{symbol:mI,hostReportError:mh},configurable:!0});function dse(t){var e,n=t.Symbol;if(typeof n=="function")if(n.observable)e=n.observable;else{typeof n.for=="function"?e=n.for("https://github.com/benlesh/symbol-observable"):e=n("https://github.com/benlesh/symbol-observable");try{n.observable=e}catch{}}else e="@@observable";return e}var Xd;typeof self<"u"?Xd=self:typeof window<"u"?Xd=window:typeof global<"u"?Xd=global:typeof fi<"u"?Xd=fi:Xd=Function("return this")();dse(Xd);var cL=Qt.prototype,uL="@@observable";cL[uL]||(cL[uL]=function(){return this});var fse=Object.prototype.toString;function QV(t){return yI(t)}function yI(t,e){switch(fse.call(t)){case"[object Array]":{if(e=e||new Map,e.has(t))return e.get(t);var n=t.slice(0);return e.set(t,n),n.forEach(function(i,s){n[s]=yI(i,e)}),n}case"[object Object]":{if(e=e||new Map,e.has(t))return e.get(t);var r=Object.create(Object.getPrototypeOf(t));return e.set(t,r),Object.keys(t).forEach(function(i){r[i]=yI(t[i],e)}),r}default:return t}}function hse(t){var e=new Set([t]);return e.forEach(function(n){$n(n)&&pse(n)===n&&Object.getOwnPropertyNames(n).forEach(function(r){$n(n[r])&&e.add(n[r])})}),t}function pse(t){if(globalThis.__DEV__!==!1&&!Object.isFrozen(t))try{Object.freeze(t)}catch(e){if(e instanceof TypeError)return null;throw e}return t}function _g(t){return globalThis.__DEV__!==!1&&hse(t),t}function Gm(t,e,n){var r=[];t.forEach(function(i){return i[e]&&r.push(i)}),r.forEach(function(i){return i[e](n)})}function qE(t,e,n){return new Qt(function(r){var i={then:function(l){return new Promise(function(c){return c(l())})}};function s(l,c){return function(u){if(l){var d=function(){return r.closed?0:l(u)};i=i.then(d,d).then(function(f){return r.next(f)},function(f){return r.error(f)})}else r[c](u)}}var o={next:s(e,"next"),error:s(n,"error"),complete:function(){i.then(function(){return r.complete()})}},a=t.subscribe(o);return function(){return a.unsubscribe()}})}function YV(t){function e(n){Object.defineProperty(t,n,{value:Qt})}return CO&&Symbol.species&&e(Symbol.species),e("@@species"),t}function dL(t){return t&&typeof t.then=="function"}var Qd=function(t){Xn(e,t);function e(n){var r=t.call(this,function(i){return r.addObserver(i),function(){return r.removeObserver(i)}})||this;return r.observers=new Set,r.promise=new Promise(function(i,s){r.resolve=i,r.reject=s}),r.handlers={next:function(i){r.sub!==null&&(r.latest=["next",i],r.notify("next",i),Gm(r.observers,"next",i))},error:function(i){var s=r.sub;s!==null&&(s&&setTimeout(function(){return s.unsubscribe()}),r.sub=null,r.latest=["error",i],r.reject(i),r.notify("error",i),Gm(r.observers,"error",i))},complete:function(){var i=r,s=i.sub,o=i.sources,a=o===void 0?[]:o;if(s!==null){var l=a.shift();l?dL(l)?l.then(function(c){return r.sub=c.subscribe(r.handlers)},r.handlers.error):r.sub=l.subscribe(r.handlers):(s&&setTimeout(function(){return s.unsubscribe()}),r.sub=null,r.latest&&r.latest[0]==="next"?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),Gm(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(i){r.reject(i),r.sources=[],r.handlers.complete()},r.promise.catch(function(i){}),typeof n=="function"&&(n=[new Qt(n)]),dL(n)?n.then(function(i){return r.start(i)},r.handlers.error):r.start(n),r}return e.prototype.start=function(n){this.sub===void 0&&(this.sources=Array.from(n),this.handlers.complete())},e.prototype.deliverLastMessage=function(n){if(this.latest){var r=this.latest[0],i=n[r];i&&i.call(n,this.latest[1]),this.sub===null&&r==="next"&&n.complete&&n.complete()}},e.prototype.addObserver=function(n){this.observers.has(n)||(this.deliverLastMessage(n),this.observers.add(n))},e.prototype.removeObserver=function(n){this.observers.delete(n)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(n,r){var i=this.nextResultListeners;i.size&&(this.nextResultListeners=new Set,i.forEach(function(s){return s(n,r)}))},e.prototype.beforeNext=function(n){var r=!1;this.nextResultListeners.add(function(i,s){r||(r=!0,n(i,s))})},e}(Qt);YV(Qd);function Gf(t){return"incremental"in t}function mse(t){return"hasNext"in t&&"data"in t}function gse(t){return Gf(t)||mse(t)}function yse(t){return $n(t)&&"payload"in t}function JV(t,e){var n=t,r=new dc;return Gf(e)&&Us(e.incremental)&&e.incremental.forEach(function(i){for(var s=i.data,o=i.path,a=o.length-1;a>=0;--a){var l=o[a],c=!isNaN(+l),u=c?[]:{};u[l]=s,s=u}n=r.merge(n,s)}),n}function hx(t){var e=vI(t);return Us(e)}function vI(t){var e=Us(t.errors)?t.errors.slice(0):[];return Gf(t)&&Us(t.incremental)&&t.incremental.forEach(function(n){n.errors&&e.push.apply(e,n.errors)}),e}function Fu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Object.create(null);return t.forEach(function(r){r&&Object.keys(r).forEach(function(i){var s=r[i];s!==void 0&&(n[i]=s)})}),n}function px(t,e){return Fu(t,e,e.variables&&{variables:Fu(re(re({},t&&t.variables),e.variables))})}function KE(t){return new Qt(function(e){e.error(t)})}var ZV=function(t,e,n){var r=new Error(n);throw r.name="ServerError",r.response=t,r.statusCode=t.status,r.result=e,r};function vse(t){for(var e=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];if(e.indexOf(i)<0)throw pi(43,i)}return t}function xse(t,e){var n=re({},t),r=function(s){typeof s=="function"?n=re(re({},n),s(n)):n=re(re({},n),s)},i=function(){return re({},n)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:r}),Object.defineProperty(e,"getContext",{enumerable:!1,value:i}),e}function bse(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?pI(e.query)||void 0:""),e}function wse(t,e){var n=re({},t),r=new Set(Object.keys(t));return Ka(e,{Variable:function(i,s,o){o&&o.kind!=="VariableDefinition"&&r.delete(i.name.value)}}),r.forEach(function(i){delete n[i]}),n}function fL(t,e){return e?e(t):Qt.of()}function Zp(t){return typeof t=="function"?new fy(t):t}function y1(t){return t.request.length<=1}var fy=function(){function t(e){e&&(this.request=e)}return t.empty=function(){return new t(function(){return Qt.of()})},t.from=function(e){return e.length===0?t.empty():e.map(Zp).reduce(function(n,r){return n.concat(r)})},t.split=function(e,n,r){var i=Zp(n),s=Zp(r||new t(fL)),o;return y1(i)&&y1(s)?o=new t(function(a){return e(a)?i.request(a)||Qt.of():s.request(a)||Qt.of()}):o=new t(function(a,l){return e(a)?i.request(a,l)||Qt.of():s.request(a,l)||Qt.of()}),Object.assign(o,{left:i,right:s})},t.execute=function(e,n){return e.request(xse(n.context,bse(vse(n))))||Qt.of()},t.concat=function(e,n){var r=Zp(e);if(y1(r))return globalThis.__DEV__!==!1&&Ke.warn(35,r),r;var i=Zp(n),s;return y1(i)?s=new t(function(o){return r.request(o,function(a){return i.request(a)||Qt.of()})||Qt.of()}):s=new t(function(o,a){return r.request(o,function(l){return i.request(l,a)||Qt.of()})||Qt.of()}),Object.assign(s,{left:r,right:i})},t.prototype.split=function(e,n,r){return this.concat(t.split(e,n,r||new t(fL)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(e,n){throw pi(36)},t.prototype.onError=function(e,n){if(n&&n.error)return n.error(e),!1;throw e},t.prototype.setOnError=function(e){return this.onError=e,this},t}(),xI=fy.execute;function Sse(t){var e,n=t[Symbol.asyncIterator]();return e={next:function(){return n.next()}},e[Symbol.asyncIterator]=function(){return this},e}function kse(t){var e=null,n=null,r=!1,i=[],s=[];function o(d){if(!n){if(s.length){var f=s.shift();if(Array.isArray(f)&&f[0])return f[0]({value:d,done:!1})}i.push(d)}}function a(d){n=d;var f=s.slice();f.forEach(function(h){h[1](d)}),!e||e()}function l(){r=!0;var d=s.slice();d.forEach(function(f){f[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,t.removeListener("data",o),t.removeListener("error",a),t.removeListener("end",l),t.removeListener("finish",l),t.removeListener("close",l)},t.on("data",o),t.on("error",a),t.on("end",l),t.on("finish",l),t.on("close",l);function c(){return new Promise(function(d,f){if(n)return f(n);if(i.length)return d({value:i.shift(),done:!1});if(r)return d({value:void 0,done:!0});s.push([d,f])})}var u={next:function(){return c()}};return Xw&&(u[Symbol.asyncIterator]=function(){return this}),u}function Cse(t){var e=!1,n={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(r,i){t.then(function(s){r({value:s,done:!1})}).catch(i)}))}};return Xw&&(n[Symbol.asyncIterator]=function(){return this}),n}function hL(t){var e={next:function(){return t.read()}};return Xw&&(e[Symbol.asyncIterator]=function(){return this}),e}function Ese(t){return!!t.body}function Tse(t){return!!t.getReader}function _se(t){return!!(Xw&&t[Symbol.asyncIterator])}function Ise(t){return!!t.stream}function $se(t){return!!t.arrayBuffer}function Nse(t){return!!t.pipe}function Ose(t){var e=t;if(Ese(t)&&(e=t.body),_se(e))return Sse(e);if(Tse(e))return hL(e.getReader());if(Ise(e))return hL(e.stream().getReader());if($se(e))return Cse(e.arrayBuffer());if(Nse(e))return kse(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var FO=Symbol();function Rse(t){return t.extensions?Array.isArray(t.extensions[FO]):!1}function Ase(t){return t.hasOwnProperty("graphQLErrors")}var Pse=function(t){var e=Pr(Pr(Pr([],t.graphQLErrors,!0),t.clientErrors,!0),t.protocolErrors,!0);return t.networkError&&e.push(t.networkError),e.map(function(n){return $n(n)&&n.message||"Error message not found."}).join(`
`)},Dl=function(t){Xn(e,t);function e(n){var r=n.graphQLErrors,i=n.protocolErrors,s=n.clientErrors,o=n.networkError,a=n.errorMessage,l=n.extraInfo,c=t.call(this,a)||this;return c.name="ApolloError",c.graphQLErrors=r||[],c.protocolErrors=i||[],c.clientErrors=s||[],c.networkError=o||null,c.message=a||Pse(c),c.extraInfo=l,c.__proto__=e.prototype,c}return e}(Error),pL=Object.prototype.hasOwnProperty;function Dse(t,e){return di(this,void 0,void 0,function(){var n,r,i,s,o,a,l,c,u,d,f,h,m,y,x,v,b,w,k,E,_,I,N,D;return Yr(this,function(P){switch(P.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");n=new TextDecoder("utf-8"),r=(D=t.headers)===null||D===void 0?void 0:D.get("content-type"),i="boundary=",s=r!=null&&r.includes(i)?r==null?void 0:r.substring((r==null?void 0:r.indexOf(i))+i.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",o=`\r
--`.concat(s),a="",l=Ose(t),c=!0,P.label=1;case 1:return c?[4,l.next()]:[3,3];case 2:for(u=P.sent(),d=u.value,f=u.done,h=typeof d=="string"?d:n.decode(d),m=a.length-o.length+1,c=!f,a+=h,y=a.indexOf(o,m);y>-1;){if(x=void 0,I=[a.slice(0,y),a.slice(y+o.length)],x=I[0],a=I[1],v=x.indexOf(`\r
\r
`),b=Fse(x.slice(0,v)),w=b["content-type"],w&&w.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");if(k=x.slice(v),k){if(E=e9(t,k),Object.keys(E).length>1||"data"in E||"incremental"in E||"errors"in E||"payload"in E)if(yse(E)){if(_={},"payload"in E){if(Object.keys(E).length===1&&E.payload===null)return[2];_=re({},E.payload)}"errors"in E&&(_=re(re({},_),{extensions:re(re({},"extensions"in _?_.extensions:null),(N={},N[FO]=E.errors,N))})),e(_)}else e(E);else if(Object.keys(E).length===1&&"hasNext"in E&&!E.hasNext)return[2]}y=a.indexOf(o)}return[3,1];case 3:return[2]}})})}function Fse(t){var e={};return t.split(`
`).forEach(function(n){var r=n.indexOf(":");if(r>-1){var i=n.slice(0,r).trim().toLowerCase(),s=n.slice(r+1).trim();e[i]=s}}),e}function e9(t,e){if(t.status>=300){var n=function(){try{return JSON.parse(e)}catch{return e}};ZV(t,n(),"Response not successful: Received status code ".concat(t.status))}try{return JSON.parse(e)}catch(i){var r=i;throw r.name="ServerParseError",r.response=t,r.statusCode=t.status,r.bodyText=e,r}}function Lse(t,e){t.result&&t.result.errors&&t.result.data&&e.next(t.result),e.error(t)}function Mse(t){return function(e){return e.text().then(function(n){return e9(e,n)}).then(function(n){return!Array.isArray(n)&&!pL.call(n,"data")&&!pL.call(n,"errors")&&ZV(e,n,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(r){return r.operationName}):t.operationName,"'.")),n})}}var bI=function(t,e){var n;try{n=JSON.stringify(t)}catch(i){var r=pi(39,e,i.message);throw r.parseError=i,r}return n},Bse={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},zse={accept:"*/*","content-type":"application/json"},jse={method:"POST"},Vse={http:Bse,headers:zse,options:jse},Use=function(t,e){return e(t)};function Wse(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},s={};n.forEach(function(d){i=re(re(re({},i),d.options),{headers:re(re({},i.headers),d.headers)}),d.credentials&&(i.credentials=d.credentials),s=re(re({},s),d.http)}),i.headers&&(i.headers=Gse(i.headers,s.preserveHeaderCase));var o=t.operationName,a=t.extensions,l=t.variables,c=t.query,u={operationName:o,variables:l};return s.includeExtensions&&(u.extensions=a),s.includeQuery&&(u.query=e(c,n2)),{options:i,body:u}}function Gse(t,e){if(!e){var n=Object.create(null);return Object.keys(Object(t)).forEach(function(s){n[s.toLowerCase()]=t[s]}),n}var r=Object.create(null);Object.keys(Object(t)).forEach(function(s){r[s.toLowerCase()]={originalName:s,value:t[s]}});var i=Object.create(null);return Object.keys(r).forEach(function(s){i[r[s].originalName]=r[s].value}),i}var Hse=function(t){if(!t&&typeof fetch>"u")throw pi(37)},qse=function(t,e){var n=t.getContext(),r=n.uri;return r||(typeof e=="function"?e(t):e||"/graphql")};function Kse(t,e){var n=[],r=function(d,f){n.push("".concat(d,"=").concat(encodeURIComponent(f)))};if("query"in e&&r("query",e.query),e.operationName&&r("operationName",e.operationName),e.variables){var i=void 0;try{i=bI(e.variables,"Variables map")}catch(d){return{parseError:d}}r("variables",i)}if(e.extensions){var s=void 0;try{s=bI(e.extensions,"Extensions map")}catch(d){return{parseError:d}}r("extensions",s)}var o="",a=t,l=t.indexOf("#");l!==-1&&(o=t.substr(l),a=t.substr(0,l));var c=a.indexOf("?")===-1?"?":"&",u=a+c+n.join("&")+o;return{newURI:u}}var mL=co(function(){return fetch}),Xse=function(t){t===void 0&&(t={});var e=t.uri,n=e===void 0?"/graphql":e,r=t.fetch,i=t.print,s=i===void 0?Use:i,o=t.includeExtensions,a=t.preserveHeaderCase,l=t.useGETForQueries,c=t.includeUnusedVariables,u=c===void 0?!1:c,d=sa(t,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);globalThis.__DEV__!==!1&&Hse(r||mL);var f={http:{includeExtensions:o,preserveHeaderCase:a},options:d.fetchOptions,credentials:d.credentials,headers:d.headers};return new fy(function(h){var m=qse(h,n),y=h.getContext(),x={};if(y.clientAwareness){var v=y.clientAwareness,b=v.name,w=v.version;b&&(x["apollographql-client-name"]=b),w&&(x["apollographql-client-version"]=w)}var k=re(re({},x),y.headers),E={http:y.http,options:y.fetchOptions,credentials:y.credentials,headers:k};if(Cg(["client"],h.query)){var _=HV(h.query);if(!_)return KE(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));h.query=_}var I=Wse(h,s,Vse,f,E),N=I.options,D=I.body;D.variables&&!u&&(D.variables=wse(D.variables,h.query));var P;!N.signal&&typeof AbortController<"u"&&(P=new AbortController,N.signal=P.signal);var F=function(H){return H.kind==="OperationDefinition"&&H.operation==="mutation"},U=function(H){return H.kind==="OperationDefinition"&&H.operation==="subscription"},j=U(dy(h.query)),W=Cg(["defer"],h.query);if(l&&!h.query.definitions.some(F)&&(N.method="GET"),W||j){N.headers=N.headers||{};var q="multipart/mixed;";j&&W&&globalThis.__DEV__!==!1&&Ke.warn(38),j?q+="boundary=graphql;subscriptionSpec=1.0,application/json":W&&(q+="deferSpec=20220824,application/json"),N.headers.accept=q}if(N.method==="GET"){var Q=Kse(m,D),ee=Q.newURI,V=Q.parseError;if(V)return KE(V);m=ee}else try{N.body=bI(D,"Payload")}catch(H){return KE(H)}return new Qt(function(H){var Y=r||co(function(){return fetch})||mL,Z=H.next.bind(H);return Y(m,N).then(function(se){var ce;h.setContext({response:se});var de=(ce=se.headers)===null||ce===void 0?void 0:ce.get("content-type");return de!==null&&/^multipart\/mixed/i.test(de)?Dse(se,Z):Mse(h)(se).then(Z)}).then(function(){P=void 0,H.complete()}).catch(function(se){P=void 0,Lse(se,H)}),function(){P&&P.abort()}})})},Qse=function(t){Xn(e,t);function e(n){n===void 0&&(n={});var r=t.call(this,Xse(n).request)||this;return r.options=n,r}return e}(fy);const{toString:gL,hasOwnProperty:Yse}=Object.prototype,yL=Function.prototype.toString,wI=new Map;function Dt(t,e){try{return SI(t,e)}finally{wI.clear()}}function SI(t,e){if(t===e)return!0;const n=gL.call(t),r=gL.call(e);if(n!==r)return!1;switch(n){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(xL(t,e))return!0;const i=vL(t),s=vL(e),o=i.length;if(o!==s.length)return!1;for(let a=0;a<o;++a)if(!Yse.call(e,i[a]))return!1;for(let a=0;a<o;++a){const l=i[a];if(!SI(t[l],e[l]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t==`${e}`;case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(xL(t,e))return!0;const i=t.entries(),s=n==="[object Map]";for(;;){const o=i.next();if(o.done)break;const[a,l]=o.value;if(!e.has(a)||s&&!SI(l,e.get(a)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),e=new Uint8Array(e);case"[object DataView]":{let i=t.byteLength;if(i===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const i=yL.call(t);return i!==yL.call(e)?!1:!eoe(i,Zse)}}return!1}function vL(t){return Object.keys(t).filter(Jse,t)}function Jse(t){return this[t]!==void 0}const Zse="{ [native code] }";function eoe(t,e){const n=t.length-e.length;return n>=0&&t.indexOf(e,n)===n}function xL(t,e){let n=wI.get(t);if(n){if(n.has(e))return!0}else wI.set(t,n=new Set);return n.add(e),!1}function t9(t,e,n,r){var i=e.data,s=sa(e,["data"]),o=n.data,a=sa(n,["data"]);return Dt(s,a)&&mx(dy(t).selectionSet,i,o,{fragmentMap:Qw(Zw(t)),variables:r})}function mx(t,e,n,r){if(e===n)return!0;var i=new Set;return t.selections.every(function(s){if(i.has(s)||(i.add(s),!ly(s,r.variables))||bL(s))return!0;if(cc(s)){var o=lc(s),a=e&&e[o],l=n&&n[o],c=s.selectionSet;if(!c)return Dt(a,l);var u=Array.isArray(a),d=Array.isArray(l);if(u!==d)return!1;if(u&&d){var f=a.length;if(l.length!==f)return!1;for(var h=0;h<f;++h)if(!mx(c,a[h],l[h],r))return!1;return!0}return mx(c,a,l,r)}else{var m=Yw(s,r.fragmentMap);if(m)return bL(m)?!0:mx(m.selectionSet,e,n,r)}})}function bL(t){return!!t.directives&&t.directives.some(toe)}function toe(t){return t.name.value==="nonreactive"}var n9=function(){function t(){this.assumeImmutableResults=!1,this.getFragmentDoc=Tg(sie,{max:oa["cache.fragmentQueryDocuments"]||1e3,cache:tb})}return t.prototype.batch=function(e){var n=this,r=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=e.update(n)},r),i},t.prototype.recordOptimisticTransaction=function(e,n){this.performTransaction(e,n)},t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.identify=function(e){},t.prototype.gc=function(){return[]},t.prototype.modify=function(e){return!1},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(re(re({},e),{rootId:e.id||"ROOT_QUERY",optimistic:n}))},t.prototype.watchFragment=function(e){var n=this,r=e.fragment,i=e.fragmentName,s=e.from,o=e.optimistic,a=o===void 0?!0:o,l=this.getFragmentDoc(r,i),c={returnPartialData:!0,id:typeof s=="string"?s:this.identify(s),query:l,optimistic:a},u;return new Qt(function(d){return n.watch(re(re({},c),{immediate:!0,callback:function(f){if(!(u&&t9(l,{data:u==null?void 0:u.result},{data:f.result}))){var h={data:f.result,complete:!!f.complete};f.missing&&(h.missing=r2(f.missing.map(function(m){return m.missing}))),u=f,d.next(h)}}}))})},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(re(re({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:n}))},t.prototype.writeQuery=function(e){var n=e.id,r=e.data,i=sa(e,["id","data"]);return this.write(Object.assign(i,{dataId:n||"ROOT_QUERY",result:r}))},t.prototype.writeFragment=function(e){var n=e.id,r=e.data,i=e.fragment,s=e.fragmentName,o=sa(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(i,s),dataId:n,result:r}))},t.prototype.updateQuery=function(e,n){return this.batch({update:function(r){var i=r.readQuery(e),s=n(i);return s==null?i:(r.writeQuery(re(re({},e),{data:s})),s)}})},t.prototype.updateFragment=function(e,n){return this.batch({update:function(r){var i=r.readFragment(e),s=n(i);return s==null?i:(r.writeFragment(re(re({},e),{data:s})),s)}})},t}();globalThis.__DEV__!==!1&&(n9.prototype.getMemoryInternals=gie);var r9=function(t){Xn(e,t);function e(n,r,i,s){var o,a=t.call(this,n)||this;if(a.message=n,a.path=r,a.query=i,a.variables=s,Array.isArray(a.path)){a.missing=a.message;for(var l=a.path.length-1;l>=0;--l)a.missing=(o={},o[a.path[l]]=a.missing,o)}else a.missing=a.path;return a.__proto__=e.prototype,a}return e}(Error),hr=Object.prototype.hasOwnProperty;function em(t){return t==null}function i9(t,e){var n=t.__typename,r=t.id,i=t._id;if(typeof n=="string"&&(e&&(e.keyObject=em(r)?em(i)?void 0:{_id:i}:{id:r}),em(r)&&!em(i)&&(r=i),!em(r)))return"".concat(n,":").concat(typeof r=="number"||typeof r=="string"?r:JSON.stringify(r))}var s9={dataIdFromObject:i9,addTypename:!0,resultCaching:!0,canonizeResults:!1};function noe(t){return Fu(s9,t)}function o9(t){var e=t.canonizeResults;return e===void 0?s9.canonizeResults:e}function roe(t,e){return Nt(e)?t.get(e.__ref,"__typename"):e&&e.__typename}var a9=/^[_a-z][_0-9a-z]*/i;function fc(t){var e=t.match(a9);return e?e[0]:t}function kI(t,e,n){return $n(e)?Nn(e)?e.every(function(r){return kI(t,r,n)}):t.selections.every(function(r){if(cc(r)&&ly(r,n)){var i=lc(r);return hr.call(e,i)&&(!r.selectionSet||kI(r.selectionSet,e[i],n))}return!0}):!1}function Of(t){return $n(t)&&!Nt(t)&&!Nn(t)}function ioe(){return new dc}function l9(t,e){var n=Qw(Zw(t));return{fragmentMap:n,lookupFragment:function(r){var i=n[r];return!i&&e&&(i=e.lookup(r)),i||null}}}var gx=Object.create(null),XE=function(){return gx},wL=Object.create(null),Ig=function(){function t(e,n){var r=this;this.policies=e,this.group=n,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,s){return _g(Nt(i)?r.get(i.__ref,s):i&&i[s])},this.canRead=function(i){return Nt(i)?r.has(i.__ref):typeof i=="object"},this.toReference=function(i,s){if(typeof i=="string")return Wf(i);if(Nt(i))return i;var o=r.policies.identify(i)[0];if(o){var a=Wf(o);return s&&r.merge(o,i),a}}}return t.prototype.toObject=function(){return re({},this.data)},t.prototype.has=function(e){return this.lookup(e,!0)!==void 0},t.prototype.get=function(e,n){if(this.group.depend(e,n),hr.call(this.data,e)){var r=this.data[e];if(r&&hr.call(r,n))return r[n]}if(n==="__typename"&&hr.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof $l)return this.parent.get(e,n)},t.prototype.lookup=function(e,n){if(n&&this.group.depend(e,"__exists"),hr.call(this.data,e))return this.data[e];if(this instanceof $l)return this.parent.lookup(e,n);if(this.policies.rootTypenamesById[e])return Object.create(null)},t.prototype.merge=function(e,n){var r=this,i;Nt(e)&&(e=e.__ref),Nt(n)&&(n=n.__ref);var s=typeof e=="string"?this.lookup(i=e):e,o=typeof n=="string"?this.lookup(i=n):n;if(o){Ke(typeof i=="string",1);var a=new dc(ooe).merge(s,o);if(this.data[i]=a,a!==s&&(delete this.refs[i],this.group.caching)){var l=Object.create(null);s||(l.__exists=1),Object.keys(o).forEach(function(c){if(!s||s[c]!==a[c]){l[c]=1;var u=fc(c);u!==c&&!r.policies.hasKeyArgs(a.__typename,u)&&(l[u]=1),a[c]===void 0&&!(r instanceof $l)&&delete a[c]}}),l.__typename&&!(s&&s.__typename)&&this.policies.rootTypenamesById[i]===a.__typename&&delete l.__typename,Object.keys(l).forEach(function(c){return r.group.dirty(i,c)})}}},t.prototype.modify=function(e,n){var r=this,i=this.lookup(e);if(i){var s=Object.create(null),o=!1,a=!0,l={DELETE:gx,INVALIDATE:wL,isReference:Nt,toReference:this.toReference,canRead:this.canRead,readField:function(c,u){return r.policies.readField(typeof c=="string"?{fieldName:c,from:u||Wf(e)}:c,{store:r})}};if(Object.keys(i).forEach(function(c){var u=fc(c),d=i[c];if(d!==void 0){var f=typeof n=="function"?n:n[c]||n[u];if(f){var h=f===XE?gx:f(_g(d),re(re({},l),{fieldName:u,storeFieldName:c,storage:r.getStorage(e,c)}));if(h===wL)r.group.dirty(e,c);else if(h===gx&&(h=void 0),h!==d&&(s[c]=h,o=!0,d=h,globalThis.__DEV__!==!1)){var m=function(E){if(r.lookup(E.__ref)===void 0)return globalThis.__DEV__!==!1&&Ke.warn(2,E),!0};if(Nt(h))m(h);else if(Array.isArray(h))for(var y=!1,x=void 0,v=0,b=h;v<b.length;v++){var w=b[v];if(Nt(w)){if(y=!0,m(w))break}else if(typeof w=="object"&&w){var k=r.policies.identify(w)[0];k&&(x=w)}if(y&&x!==void 0){globalThis.__DEV__!==!1&&Ke.warn(3,x);break}}}}d!==void 0&&(a=!1)}}),o)return this.merge(e,s),a&&(this instanceof $l?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},t.prototype.delete=function(e,n,r){var i,s=this.lookup(e);if(s){var o=this.getFieldValue(s,"__typename"),a=n&&r?this.policies.getStoreFieldName({typename:o,fieldName:n,args:r}):n;return this.modify(e,a?(i={},i[a]=XE,i):XE)}return!1},t.prototype.evict=function(e,n){var r=!1;return e.id&&(hr.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof $l&&this!==n&&(r=this.parent.evict(e,n)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var e=this,n=this.toObject(),r=[];return this.getRootIdSet().forEach(function(i){hr.call(e.policies.rootTypenamesById,i)||r.push(i)}),r.length&&(n.__META={extraRootIds:r.sort()}),n},t.prototype.replace=function(e){var n=this;if(Object.keys(this.data).forEach(function(s){e&&hr.call(e,s)||n.delete(s)}),e){var r=e.__META,i=sa(e,["__META"]);Object.keys(i).forEach(function(s){n.merge(s,i[s])}),r&&r.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},t.prototype.release=function(e){if(this.rootIds[e]>0){var n=--this.rootIds[e];return n||delete this.rootIds[e],n}return 0},t.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof $l?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},t.prototype.gc=function(){var e=this,n=this.getRootIdSet(),r=this.toObject();n.forEach(function(o){hr.call(r,o)&&(Object.keys(e.findChildRefIds(o)).forEach(n.add,n),delete r[o])});var i=Object.keys(r);if(i.length){for(var s=this;s instanceof $l;)s=s.parent;i.forEach(function(o){return s.delete(o)})}return i},t.prototype.findChildRefIds=function(e){if(!hr.call(this.refs,e)){var n=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return n;var i=new Set([r]);i.forEach(function(s){Nt(s)&&(n[s.__ref]=!0),$n(s)&&Object.keys(s).forEach(function(o){var a=s[o];$n(a)&&i.add(a)})})}return this.refs[e]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}(),c9=function(){function t(e,n){n===void 0&&(n=null),this.caching=e,this.parent=n,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?VV():null,this.keyMaker=new Uh(rd)},t.prototype.depend=function(e,n){if(this.d){this.d(QE(e,n));var r=fc(n);r!==n&&this.d(QE(e,r)),this.parent&&this.parent.depend(e,n)}},t.prototype.dirty=function(e,n){this.d&&this.d.dirty(QE(e,n),n==="__exists"?"forget":"setDirty")},t}();function QE(t,e){return e+"#"+t}function SL(t,e){Hm(t)&&t.group.depend(e,"__exists")}(function(t){var e=function(n){Xn(r,n);function r(i){var s=i.policies,o=i.resultCaching,a=o===void 0?!0:o,l=i.seed,c=n.call(this,s,new c9(a))||this;return c.stump=new soe(c),c.storageTrie=new Uh(rd),l&&c.replace(l),c}return r.prototype.addLayer=function(i,s){return this.stump.addLayer(i,s)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(t);t.Root=e})(Ig||(Ig={}));var $l=function(t){Xn(e,t);function e(n,r,i,s){var o=t.call(this,r.policies,s)||this;return o.id=n,o.parent=r,o.replay=i,o.group=s,i(o),o}return e.prototype.addLayer=function(n,r){return new e(n,this,r,this.group)},e.prototype.removeLayer=function(n){var r=this,i=this.parent.removeLayer(n);return n===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(s){var o=r.data[s],a=i.lookup(s);a?o?o!==a&&Object.keys(o).forEach(function(l){Dt(o[l],a[l])||r.group.dirty(s,l)}):(r.group.dirty(s,"__exists"),Object.keys(a).forEach(function(l){r.group.dirty(s,l)})):r.delete(s)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return re(re({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(n){var r=this.parent.findChildRefIds(n);return hr.call(this.data,n)?re(re({},r),t.prototype.findChildRefIds.call(this,n)):r},e.prototype.getStorage=function(){for(var n=this.parent;n.parent;)n=n.parent;return n.getStorage.apply(n,arguments)},e}(Ig),soe=function(t){Xn(e,t);function e(n){return t.call(this,"EntityStore.Stump",n,function(){},new c9(n.group.caching,n.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(n,r){return this.parent.merge(n,r)},e}($l);function ooe(t,e,n){var r=t[n],i=e[n];return Dt(r,i)?r:i}function Hm(t){return!!(t instanceof Ig&&t.group.caching)}function aoe(t){return $n(t)?Nn(t)?t.slice(0):re({__proto__:Object.getPrototypeOf(t)},t):t}var kL=function(){function t(){this.known=new(CV?WeakSet:Set),this.pool=new Uh(rd),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(e){return $n(e)&&this.known.has(e)},t.prototype.pass=function(e){if($n(e)){var n=aoe(e);return this.passes.set(n,e),n}return e},t.prototype.admit=function(e){var n=this;if($n(e)){var r=this.passes.get(e);if(r)return r;var i=Object.getPrototypeOf(e);switch(i){case Array.prototype:{if(this.known.has(e))return e;var s=e.map(this.admit,this),o=this.pool.lookupArray(s);return o.array||(this.known.add(o.array=s),globalThis.__DEV__!==!1&&Object.freeze(s)),o.array}case null:case Object.prototype:{if(this.known.has(e))return e;var a=Object.getPrototypeOf(e),l=[a],c=this.sortedKeys(e);l.push(c.json);var u=l.length;c.sorted.forEach(function(h){l.push(n.admit(e[h]))});var o=this.pool.lookupArray(l);if(!o.object){var d=o.object=Object.create(a);this.known.add(d),c.sorted.forEach(function(h,m){d[h]=l[u+m]}),globalThis.__DEV__!==!1&&Object.freeze(d)}return o.object}}}return e},t.prototype.sortedKeys=function(e){var n=Object.keys(e),r=this.pool.lookupArray(n);if(!r.keys){n.sort();var i=JSON.stringify(n);(r.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,r.keys={sorted:n,json:i})}return r.keys},t}();function CL(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var loe=function(){function t(e){var n=this;this.knownResults=new(rd?WeakMap:Map),this.config=Fu(e,{addTypename:e.addTypename!==!1,canonizeResults:o9(e)}),this.canon=e.canon||new kL,this.executeSelectionSet=Tg(function(r){var i,s=r.context.canonizeResults,o=CL(r);o[3]=!s;var a=(i=n.executeSelectionSet).peek.apply(i,o);return a?s?re(re({},a),{result:n.canon.admit(a.result)}):a:(SL(r.context.store,r.enclosingRef.__ref),n.execSelectionSetImpl(r))},{max:this.config.resultCacheMaxSize||oa["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:CL,makeCacheKey:function(r,i,s,o){if(Hm(s.store))return s.store.makeCacheKey(r,Nt(i)?i.__ref:i,s.varString,o)}}),this.executeSubSelectedArray=Tg(function(r){return SL(r.context.store,r.enclosingRef.__ref),n.execSubSelectedArrayImpl(r)},{max:this.config.resultCacheMaxSize||oa["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(r){var i=r.field,s=r.array,o=r.context;if(Hm(o.store))return o.store.makeCacheKey(i,s,o.varString)}})}return t.prototype.resetCanon=function(){this.canon=new kL},t.prototype.diffQueryAgainstStore=function(e){var n=e.store,r=e.query,i=e.rootId,s=i===void 0?"ROOT_QUERY":i,o=e.variables,a=e.returnPartialData,l=a===void 0?!0:a,c=e.canonizeResults,u=c===void 0?this.config.canonizeResults:c,d=this.config.cache.policies;o=re(re({},_O(NV(r))),o);var f=Wf(s),h=this.executeSelectionSet({selectionSet:dy(r).selectionSet,objectOrReference:f,enclosingRef:f,context:re({store:n,query:r,policies:d,variables:o,varString:nc(o),canonizeResults:u},l9(r,this.config.fragments))}),m;if(h.missing&&(m=[new r9(coe(h.missing),h.missing,r,o)],!l))throw m[0];return{result:h.result,complete:!m,missing:m}},t.prototype.isFresh=function(e,n,r,i){if(Hm(i.store)&&this.knownResults.get(e)===r){var s=this.executeSelectionSet.peek(r,n,i,this.canon.isKnown(e));if(s&&e===s.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(e){var n=this,r=e.selectionSet,i=e.objectOrReference,s=e.enclosingRef,o=e.context;if(Nt(i)&&!o.policies.rootTypenamesById[i.__ref]&&!o.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var a=o.variables,l=o.policies,c=o.store,u=c.getFieldValue(i,"__typename"),d=[],f,h=new dc;this.config.addTypename&&typeof u=="string"&&!l.rootIdsByTypename[u]&&d.push({__typename:u});function m(w,k){var E;return w.missing&&(f=h.merge(f,(E={},E[k]=w.missing,E))),w.result}var y=new Set(r.selections);y.forEach(function(w){var k,E;if(ly(w,a))if(cc(w)){var _=l.readField({fieldName:w.name.value,field:w,variables:o.variables,from:i},o),I=lc(w);_===void 0?OO.added(w)||(f=h.merge(f,(k={},k[I]="Can't find field '".concat(w.name.value,"' on ").concat(Nt(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),k))):Nn(_)?_.length>0&&(_=m(n.executeSubSelectedArray({field:w,array:_,enclosingRef:s,context:o}),I)):w.selectionSet?_!=null&&(_=m(n.executeSelectionSet({selectionSet:w.selectionSet,objectOrReference:_,enclosingRef:Nt(_)?_:s,context:o}),I)):o.canonizeResults&&(_=n.canon.pass(_)),_!==void 0&&d.push((E={},E[I]=_,E))}else{var N=Yw(w,o.lookupFragment);if(!N&&w.kind===Ve.FRAGMENT_SPREAD)throw pi(9,w.name.value);N&&l.fragmentMatches(N,u)&&N.selectionSet.selections.forEach(y.add,y)}});var x=r2(d),v={result:x,missing:f},b=o.canonizeResults?this.canon.admit(v):_g(v);return b.result&&this.knownResults.set(b.result,r),b},t.prototype.execSubSelectedArrayImpl=function(e){var n=this,r=e.field,i=e.array,s=e.enclosingRef,o=e.context,a,l=new dc;function c(u,d){var f;return u.missing&&(a=l.merge(a,(f={},f[d]=u.missing,f))),u.result}return r.selectionSet&&(i=i.filter(o.store.canRead)),i=i.map(function(u,d){return u===null?null:Nn(u)?c(n.executeSubSelectedArray({field:r,array:u,enclosingRef:s,context:o}),d):r.selectionSet?c(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:u,enclosingRef:Nt(u)?u:s,context:o}),d):(globalThis.__DEV__!==!1&&uoe(o.store,r,u),u)}),{result:o.canonizeResults?this.canon.admit(i):i,missing:a}},t}();function coe(t){try{JSON.stringify(t,function(e,n){if(typeof n=="string")throw n;return n})}catch(e){return e}}function uoe(t,e,n){if(!e.selectionSet){var r=new Set([n]);r.forEach(function(i){$n(i)&&(Ke(!Nt(i),10,roe(t,i),e.name.value),Object.values(i).forEach(r.add,r))})}}var LO=new OV,EL=new WeakMap;function qm(t){var e=EL.get(t);return e||EL.set(t,e={vars:new Set,dep:VV()}),e}function TL(t){qm(t).vars.forEach(function(e){return e.forgetCache(t)})}function doe(t){qm(t).vars.forEach(function(e){return e.attachCache(t)})}function foe(t){var e=new Set,n=new Set,r=function(s){if(arguments.length>0){if(t!==s){t=s,e.forEach(function(l){qm(l).dep.dirty(r),hoe(l)});var o=Array.from(n);n.clear(),o.forEach(function(l){return l(t)})}}else{var a=LO.getValue();a&&(i(a),qm(a).dep(r))}return t};r.onNextChange=function(s){return n.add(s),function(){n.delete(s)}};var i=r.attachCache=function(s){return e.add(s),qm(s).vars.add(r),r};return r.forgetCache=function(s){return e.delete(s)},r}function hoe(t){t.broadcastWatches&&t.broadcastWatches()}var _L=Object.create(null);function MO(t){var e=JSON.stringify(t);return _L[e]||(_L[e]=Object.create(null))}function IL(t){var e=MO(t);return e.keyFieldsFn||(e.keyFieldsFn=function(n,r){var i=function(o,a){return r.readField(a,o)},s=r.keyObject=BO(t,function(o){var a=Hf(r.storeObject,o,i);return a===void 0&&n!==r.storeObject&&hr.call(n,o[0])&&(a=Hf(n,o,d9)),Ke(a!==void 0,4,o.join("."),n),a});return"".concat(r.typename,":").concat(JSON.stringify(s))})}function $L(t){var e=MO(t);return e.keyArgsFn||(e.keyArgsFn=function(n,r){var i=r.field,s=r.variables,o=r.fieldName,a=BO(t,function(c){var u=c[0],d=u.charAt(0);if(d==="@"){if(i&&Us(i.directives)){var f=u.slice(1),h=i.directives.find(function(v){return v.name.value===f}),m=h&&Jw(h,s);return m&&Hf(m,c.slice(1))}return}if(d==="$"){var y=u.slice(1);if(s&&hr.call(s,y)){var x=c.slice(0);return x[0]=y,Hf(s,x)}return}if(n)return Hf(n,c)}),l=JSON.stringify(a);return(n||l!=="{}")&&(o+=":"+l),o})}function BO(t,e){var n=new dc;return u9(t).reduce(function(r,i){var s,o=e(i);if(o!==void 0){for(var a=i.length-1;a>=0;--a)o=(s={},s[i[a]]=o,s);r=n.merge(r,o)}return r},Object.create(null))}function u9(t){var e=MO(t);if(!e.paths){var n=e.paths=[],r=[];t.forEach(function(i,s){Nn(i)?(u9(i).forEach(function(o){return n.push(r.concat(o))}),r.length=0):(r.push(i),Nn(t[s+1])||(n.push(r.slice(0)),r.length=0))})}return e.paths}function d9(t,e){return t[e]}function Hf(t,e,n){return n=n||d9,f9(e.reduce(function r(i,s){return Nn(i)?i.map(function(o){return r(o,s)}):i&&n(i,s)},t))}function f9(t){return $n(t)?Nn(t)?t.map(f9):BO(Object.keys(t).sort(),function(e){return Hf(t,e)}):t}function CI(t){return t.args!==void 0?t.args:t.field?Jw(t.field,t.variables):null}var poe=function(){},NL=function(t,e){return e.fieldName},OL=function(t,e,n){var r=n.mergeObjects;return r(t,e)},RL=function(t,e){return e},moe=function(){function t(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=re({dataIdFromObject:i9},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return t.prototype.identify=function(e,n){var r,i=this,s=n&&(n.typename||((r=n.storeObject)===null||r===void 0?void 0:r.__typename))||e.__typename;if(s===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o=n&&n.storeObject||e,a=re(re({},n),{typename:s,storeObject:o,readField:n&&n.readField||function(){var f=zO(arguments,o);return i.readField(f,{store:i.cache.data,variables:f.variables})}}),l,c=s&&this.getTypePolicy(s),u=c&&c.keyFn||this.config.dataIdFromObject;u;){var d=u(re(re({},e),o),a);if(Nn(d))u=IL(d);else{l=d;break}}return l=l?String(l):void 0,a.keyObject?[l,a.keyObject]:[l]},t.prototype.addTypePolicies=function(e){var n=this;Object.keys(e).forEach(function(r){var i=e[r],s=i.queryType,o=i.mutationType,a=i.subscriptionType,l=sa(i,["queryType","mutationType","subscriptionType"]);s&&n.setRootTypename("Query",r),o&&n.setRootTypename("Mutation",r),a&&n.setRootTypename("Subscription",r),hr.call(n.toBeAdded,r)?n.toBeAdded[r].push(l):n.toBeAdded[r]=[l]})},t.prototype.updateTypePolicy=function(e,n){var r=this,i=this.getTypePolicy(e),s=n.keyFields,o=n.fields;function a(l,c){l.merge=typeof c=="function"?c:c===!0?OL:c===!1?RL:l.merge}a(i,n.merge),i.keyFn=s===!1?poe:Nn(s)?IL(s):typeof s=="function"?s:i.keyFn,o&&Object.keys(o).forEach(function(l){var c=r.getFieldPolicy(e,l,!0),u=o[l];if(typeof u=="function")c.read=u;else{var d=u.keyArgs,f=u.read,h=u.merge;c.keyFn=d===!1?NL:Nn(d)?$L(d):typeof d=="function"?d:c.keyFn,typeof f=="function"&&(c.read=f),a(c,h)}c.read&&c.merge&&(c.keyFn=c.keyFn||NL)})},t.prototype.setRootTypename=function(e,n){n===void 0&&(n=e);var r="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[r];n!==i&&(Ke(!i||i===e,5,e),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[n]=r,this.rootTypenamesById[r]=n)},t.prototype.addPossibleTypes=function(e){var n=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(r){n.getSupertypeSet(r,!0),e[r].forEach(function(i){n.getSupertypeSet(i,!0).add(r);var s=i.match(a9);(!s||s[0]!==i)&&n.fuzzySubtypes.set(i,new RegExp(i))})})},t.prototype.getTypePolicy=function(e){var n=this;if(!hr.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var i=this.supertypeMap.get(e);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach(function(o,a){if(o.test(e)){var l=n.supertypeMap.get(a);l&&l.forEach(function(c){return i.add(c)})}})),i&&i.size&&i.forEach(function(o){var a=n.getTypePolicy(o),l=a.fields,c=sa(a,["fields"]);Object.assign(r,c),Object.assign(r.fields,l)})}var s=this.toBeAdded[e];return s&&s.length&&s.splice(0).forEach(function(o){n.updateTypePolicy(e,o)}),this.typePolicies[e]},t.prototype.getFieldPolicy=function(e,n,r){if(e){var i=this.getTypePolicy(e).fields;return i[n]||r&&(i[n]=Object.create(null))}},t.prototype.getSupertypeSet=function(e,n){var r=this.supertypeMap.get(e);return!r&&n&&this.supertypeMap.set(e,r=new Set),r},t.prototype.fragmentMatches=function(e,n,r,i){var s=this;if(!e.typeCondition)return!0;if(!n)return!1;var o=e.typeCondition.name.value;if(n===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var a=this.getSupertypeSet(n,!0),l=[a],c=function(m){var y=s.getSupertypeSet(m,!1);y&&y.size&&l.indexOf(y)<0&&l.push(y)},u=!!(r&&this.fuzzySubtypes.size),d=!1,f=0;f<l.length;++f){var h=l[f];if(h.has(o))return a.has(o)||(d&&globalThis.__DEV__!==!1&&Ke.warn(6,n,o),a.add(o)),!0;h.forEach(c),u&&f===l.length-1&&kI(e.selectionSet,r,i)&&(u=!1,d=!0,this.fuzzySubtypes.forEach(function(m,y){var x=n.match(m);x&&x[0]===n&&c(y)}))}return!1},t.prototype.hasKeyArgs=function(e,n){var r=this.getFieldPolicy(e,n,!1);return!!(r&&r.keyFn)},t.prototype.getStoreFieldName=function(e){var n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),s,o=i&&i.keyFn;if(o&&n)for(var a={typename:n,fieldName:r,field:e.field||null,variables:e.variables},l=CI(e);o;){var c=o(l,a);if(Nn(c))o=$L(c);else{s=c||r;break}}return s===void 0&&(s=e.field?Aie(e.field,e.variables):$V(r,CI(e))),s===!1?r:r===fc(s)?s:r+":"+s},t.prototype.readField=function(e,n){var r=e.from;if(r){var i=e.field||e.fieldName;if(i){if(e.typename===void 0){var s=n.store.getFieldValue(r,"__typename");s&&(e.typename=s)}var o=this.getStoreFieldName(e),a=fc(o),l=n.store.getFieldValue(r,o),c=this.getFieldPolicy(e.typename,a,!1),u=c&&c.read;if(u){var d=AL(this,r,e,n,n.store.getStorage(Nt(r)?r.__ref:r,o));return LO.withValue(this.cache,u,[l,d])}return l}}},t.prototype.getReadFunction=function(e,n){var r=this.getFieldPolicy(e,n,!1);return r&&r.read},t.prototype.getMergeFunction=function(e,n,r){var i=this.getFieldPolicy(e,n,!1),s=i&&i.merge;return!s&&r&&(i=this.getTypePolicy(r),s=i&&i.merge),s},t.prototype.runMergeFunction=function(e,n,r,i,s){var o=r.field,a=r.typename,l=r.merge;return l===OL?h9(i.store)(e,n):l===RL?n:(i.overwrite&&(e=void 0),l(e,n,AL(this,void 0,{typename:a,fieldName:o.name.value,field:o,variables:i.variables},i,s||Object.create(null))))},t}();function AL(t,e,n,r,i){var s=t.getStoreFieldName(n),o=fc(s),a=n.variables||r.variables,l=r.store,c=l.toReference,u=l.canRead;return{args:CI(n),field:n.field||null,fieldName:o,storeFieldName:s,variables:a,isReference:Nt,toReference:c,storage:i,cache:t.cache,canRead:u,readField:function(){return t.readField(zO(arguments,e,a),r)},mergeObjects:h9(r.store)}}function zO(t,e,n){var r=t[0],i=t[1],s=t.length,o;return typeof r=="string"?o={fieldName:r,from:s>1?i:e}:(o=re({},r),hr.call(o,"from")||(o.from=e)),globalThis.__DEV__!==!1&&o.from===void 0&&globalThis.__DEV__!==!1&&Ke.warn(7,uV(Array.from(t))),o.variables===void 0&&(o.variables=n),o}function h9(t){return function(n,r){if(Nn(n)||Nn(r))throw pi(8);if($n(n)&&$n(r)){var i=t.getFieldValue(n,"__typename"),s=t.getFieldValue(r,"__typename"),o=i&&s&&i!==s;if(o)return r;if(Nt(n)&&Of(r))return t.merge(n.__ref,r),n;if(Of(n)&&Nt(r))return t.merge(n,r.__ref),r;if(Of(n)&&Of(r))return re(re({},n),r)}return r}}function YE(t,e,n){var r="".concat(e).concat(n),i=t.flavors.get(r);return i||t.flavors.set(r,i=t.clientOnly===e&&t.deferred===n?t:re(re({},t),{clientOnly:e,deferred:n})),i}var goe=function(){function t(e,n,r){this.cache=e,this.reader=n,this.fragments=r}return t.prototype.writeToStore=function(e,n){var r=this,i=n.query,s=n.result,o=n.dataId,a=n.variables,l=n.overwrite,c=uy(i),u=ioe();a=re(re({},_O(c)),a);var d=re(re({store:e,written:Object.create(null),merge:function(h,m){return u.merge(h,m)},variables:a,varString:nc(a)},l9(i,this.fragments)),{overwrite:!!l,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),f=this.processSelectionSet({result:s||Object.create(null),dataId:o,selectionSet:c.selectionSet,mergeTree:{map:new Map},context:d});if(!Nt(f))throw pi(11,s);return d.incomingById.forEach(function(h,m){var y=h.storeObject,x=h.mergeTree,v=h.fieldNodeSet,b=Wf(m);if(x&&x.map.size){var w=r.applyMerges(x,b,y,d);if(Nt(w))return;y=w}if(globalThis.__DEV__!==!1&&!d.overwrite){var k=Object.create(null);v.forEach(function(I){I.selectionSet&&(k[I.name.value]=!0)});var E=function(I){return k[fc(I)]===!0},_=function(I){var N=x&&x.map.get(I);return!!(N&&N.info&&N.info.merge)};Object.keys(y).forEach(function(I){E(I)&&!_(I)&&yoe(b,y,I,d.store)})}e.merge(m,y)}),e.retain(f.__ref),f},t.prototype.processSelectionSet=function(e){var n=this,r=e.dataId,i=e.result,s=e.selectionSet,o=e.context,a=e.mergeTree,l=this.cache.policies,c=Object.create(null),u=r&&l.rootTypenamesById[r]||hI(i,s,o.fragmentMap)||r&&o.store.get(r,"__typename");typeof u=="string"&&(c.__typename=u);var d=function(){var w=zO(arguments,c,o.variables);if(Nt(w.from)){var k=o.incomingById.get(w.from.__ref);if(k){var E=l.readField(re(re({},w),{from:k.storeObject}),o);if(E!==void 0)return E}}return l.readField(w,o)},f=new Set;this.flattenFields(s,i,o,u).forEach(function(w,k){var E,_=lc(k),I=i[_];if(f.add(k),I!==void 0){var N=l.getStoreFieldName({typename:u,fieldName:k.name.value,field:k,variables:w.variables}),D=PL(a,N),P=n.processFieldValue(I,k,k.selectionSet?YE(w,!1,!1):w,D),F=void 0;k.selectionSet&&(Nt(P)||Of(P))&&(F=d("__typename",P));var U=l.getMergeFunction(u,k.name.value,F);U?D.info={field:k,typename:u,merge:U}:DL(a,N),c=w.merge(c,(E={},E[N]=P,E))}else globalThis.__DEV__!==!1&&!w.clientOnly&&!w.deferred&&!OO.added(k)&&!l.getReadFunction(u,k.name.value)&&globalThis.__DEV__!==!1&&Ke.error(12,lc(k),i)});try{var h=l.identify(i,{typename:u,selectionSet:s,fragmentMap:o.fragmentMap,storeObject:c,readField:d}),m=h[0],y=h[1];r=r||m,y&&(c=o.merge(c,y))}catch(w){if(!r)throw w}if(typeof r=="string"){var x=Wf(r),v=o.written[r]||(o.written[r]=[]);if(v.indexOf(s)>=0||(v.push(s),this.reader&&this.reader.isFresh(i,x,s,o)))return x;var b=o.incomingById.get(r);return b?(b.storeObject=o.merge(b.storeObject,c),b.mergeTree=EI(b.mergeTree,a),f.forEach(function(w){return b.fieldNodeSet.add(w)})):o.incomingById.set(r,{storeObject:c,mergeTree:ib(a)?void 0:a,fieldNodeSet:f}),x}return c},t.prototype.processFieldValue=function(e,n,r,i){var s=this;return!n.selectionSet||e===null?globalThis.__DEV__!==!1?QV(e):e:Nn(e)?e.map(function(o,a){var l=s.processFieldValue(o,n,r,PL(i,a));return DL(i,a),l}):this.processSelectionSet({result:e,selectionSet:n.selectionSet,context:r,mergeTree:i})},t.prototype.flattenFields=function(e,n,r,i){i===void 0&&(i=hI(n,e,r.fragmentMap));var s=new Map,o=this.cache.policies,a=new Uh(!1);return function l(c,u){var d=a.lookup(c,u.clientOnly,u.deferred);d.visited||(d.visited=!0,c.selections.forEach(function(f){if(ly(f,r.variables)){var h=u.clientOnly,m=u.deferred;if(!(h&&m)&&Us(f.directives)&&f.directives.forEach(function(v){var b=v.name.value;if(b==="client"&&(h=!0),b==="defer"){var w=Jw(v,r.variables);(!w||w.if!==!1)&&(m=!0)}}),cc(f)){var y=s.get(f);y&&(h=h&&y.clientOnly,m=m&&y.deferred),s.set(f,YE(r,h,m))}else{var x=Yw(f,r.lookupFragment);if(!x&&f.kind===Ve.FRAGMENT_SPREAD)throw pi(13,f.name.value);x&&o.fragmentMatches(x,i,n,r.variables)&&l(x.selectionSet,YE(r,h,m))}}}))}(e,r),s},t.prototype.applyMerges=function(e,n,r,i,s){var o,a=this;if(e.map.size&&!Nt(r)){var l=!Nn(r)&&(Nt(n)||Of(n))?n:void 0,c=r;l&&!s&&(s=[Nt(l)?l.__ref:l]);var u,d=function(f,h){return Nn(f)?typeof h=="number"?f[h]:void 0:i.store.getFieldValue(f,String(h))};e.map.forEach(function(f,h){var m=d(l,h),y=d(c,h);if(y!==void 0){s&&s.push(h);var x=a.applyMerges(f,m,y,i,s);x!==y&&(u=u||new Map,u.set(h,x)),s&&Ke(s.pop()===h)}}),u&&(r=Nn(c)?c.slice(0):re({},c),u.forEach(function(f,h){r[h]=f}))}return e.info?this.cache.policies.runMergeFunction(n,r,e.info,i,s&&(o=i.store).getStorage.apply(o,s)):r},t}(),p9=[];function PL(t,e){var n=t.map;return n.has(e)||n.set(e,p9.pop()||{map:new Map}),n.get(e)}function EI(t,e){if(t===e||!e||ib(e))return t;if(!t||ib(t))return e;var n=t.info&&e.info?re(re({},t.info),e.info):t.info||e.info,r=t.map.size&&e.map.size,i=r?new Map:t.map.size?t.map:e.map,s={info:n,map:i};if(r){var o=new Set(e.map.keys());t.map.forEach(function(a,l){s.map.set(l,EI(a,e.map.get(l))),o.delete(l)}),o.forEach(function(a){s.map.set(a,EI(e.map.get(a),t.map.get(a)))})}return s}function ib(t){return!t||!(t.info||t.map.size)}function DL(t,e){var n=t.map,r=n.get(e);r&&ib(r)&&(p9.push(r),n.delete(e))}var FL=new Set;function yoe(t,e,n,r){var i=function(d){var f=r.getFieldValue(d,n);return typeof f=="object"&&f},s=i(t);if(s){var o=i(e);if(o&&!Nt(s)&&!Dt(s,o)&&!Object.keys(s).every(function(d){return r.getFieldValue(o,d)!==void 0})){var a=r.getFieldValue(t,"__typename")||r.getFieldValue(e,"__typename"),l=fc(n),c="".concat(a,".").concat(l);if(!FL.has(c)){FL.add(c);var u=[];!Nn(s)&&!Nn(o)&&[s,o].forEach(function(d){var f=r.getFieldValue(d,"__typename");typeof f=="string"&&!u.includes(f)&&u.push(f)}),globalThis.__DEV__!==!1&&Ke.warn(14,l,a,u.length?"either ensure all objects of type "+u.join(" and ")+" have an ID or a custom merge function, or ":"",c,re({},s),re({},o))}}}}var m9=function(t){Xn(e,t);function e(n){n===void 0&&(n={});var r=t.call(this)||this;return r.watches=new Set,r.addTypenameTransform=new UV(OO),r.assumeImmutableResults=!0,r.makeVar=foe,r.txCount=0,r.config=noe(n),r.addTypename=!!r.config.addTypename,r.policies=new moe({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return e.prototype.init=function(){var n=this.data=new Ig.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=n.stump,this.resetResultCache()},e.prototype.resetResultCache=function(n){var r=this,i=this.storeReader,s=this.config.fragments;this.storeWriter=new goe(this,this.storeReader=new loe({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:o9(this.config),canon:n?void 0:i&&i.canon,fragments:s}),s),this.maybeBroadcastWatch=Tg(function(o,a){return r.broadcastWatch(o,a)},{max:this.config.resultCacheMaxSize||oa["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(o){var a=o.optimistic?r.optimisticData:r.data;if(Hm(a)){var l=o.optimistic,c=o.id,u=o.variables;return a.makeCacheKey(o.query,o.callback,nc({optimistic:l,id:c,variables:u}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(o){return o.resetCaching()})},e.prototype.restore=function(n){return this.init(),n&&this.data.replace(n),this},e.prototype.extract=function(n){return n===void 0&&(n=!1),(n?this.optimisticData:this.data).extract()},e.prototype.read=function(n){var r=n.returnPartialData,i=r===void 0?!1:r;try{return this.storeReader.diffQueryAgainstStore(re(re({},n),{store:n.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(s){if(s instanceof r9)return null;throw s}},e.prototype.write=function(n){try{return++this.txCount,this.storeWriter.writeToStore(this.data,n)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(n){if(hr.call(n,"id")&&!n.id)return!1;var r=n.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(n.id||"ROOT_QUERY",n.fields)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(n){return this.storeReader.diffQueryAgainstStore(re(re({},n),{store:n.optimistic?this.optimisticData:this.data,rootId:n.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(n){var r=this;return this.watches.size||doe(this),this.watches.add(n),n.immediate&&this.maybeBroadcastWatch(n),function(){r.watches.delete(n)&&!r.watches.size&&TL(r),r.maybeBroadcastWatch.forget(n)}},e.prototype.gc=function(n){var r;nc.reset(),n2.reset(),this.addTypenameTransform.resetCache(),(r=this.config.fragments)===null||r===void 0||r.resetCaches();var i=this.optimisticData.gc();return n&&!this.txCount&&(n.resetResultCache?this.resetResultCache(n.resetResultIdentities):n.resetResultIdentities&&this.storeReader.resetCanon()),i},e.prototype.retain=function(n,r){return(r?this.optimisticData:this.data).retain(n)},e.prototype.release=function(n,r){return(r?this.optimisticData:this.data).release(n)},e.prototype.identify=function(n){if(Nt(n))return n.__ref;try{return this.policies.identify(n)[0]}catch(r){globalThis.__DEV__!==!1&&Ke.warn(r)}},e.prototype.evict=function(n){if(!n.id){if(hr.call(n,"id"))return!1;n=re(re({},n),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(n,this.data)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(n){var r=this;return this.init(),nc.reset(),n&&n.discardWatches?(this.watches.forEach(function(i){return r.maybeBroadcastWatch.forget(i)}),this.watches.clear(),TL(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(n){var r=this.optimisticData.removeLayer(n);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())},e.prototype.batch=function(n){var r=this,i=n.update,s=n.optimistic,o=s===void 0?!0:s,a=n.removeOptimistic,l=n.onWatchUpdated,c,u=function(f){var h=r,m=h.data,y=h.optimisticData;++r.txCount,f&&(r.data=r.optimisticData=f);try{return c=i(r)}finally{--r.txCount,r.data=m,r.optimisticData=y}},d=new Set;return l&&!this.txCount&&this.broadcastWatches(re(re({},n),{onWatchUpdated:function(f){return d.add(f),!1}})),typeof o=="string"?this.optimisticData=this.optimisticData.addLayer(o,u):o===!1?u(this.data):u(),typeof a=="string"&&(this.optimisticData=this.optimisticData.removeLayer(a)),l&&d.size?(this.broadcastWatches(re(re({},n),{onWatchUpdated:function(f,h){var m=l.call(this,f,h);return m!==!1&&d.delete(f),m}})),d.size&&d.forEach(function(f){return r.maybeBroadcastWatch.dirty(f)})):this.broadcastWatches(n),c},e.prototype.performTransaction=function(n,r){return this.batch({update:n,optimistic:r||r!==null})},e.prototype.transformDocument=function(n){return this.addTypenameToDocument(this.addFragmentsToDocument(n))},e.prototype.broadcastWatches=function(n){var r=this;this.txCount||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i,n)})},e.prototype.addFragmentsToDocument=function(n){var r=this.config.fragments;return r?r.transform(n):n},e.prototype.addTypenameToDocument=function(n){return this.addTypename?this.addTypenameTransform.transformDocument(n):n},e.prototype.broadcastWatch=function(n,r){var i=n.lastDiff,s=this.diff(n);r&&(n.optimistic&&typeof r.optimistic=="string"&&(s.fromOptimisticTransaction=!0),r.onWatchUpdated&&r.onWatchUpdated.call(this,n,s,i)===!1)||(!i||!Dt(i.result,s.result))&&n.callback(n.lastDiff=s,i)},e}(n9);globalThis.__DEV__!==!1&&(m9.prototype.getMemoryInternals=mie);var St;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(St||(St={}));function $g(t){return t?t<7:!1}var LL=Object.assign,voe=Object.hasOwnProperty,TI=function(t){Xn(e,t);function e(n){var r=n.queryManager,i=n.queryInfo,s=n.options,o=t.call(this,function(x){try{var v=x._subscription._observer;v&&!v.error&&(v.error=xoe)}catch{}var b=!o.observers.size;o.observers.add(x);var w=o.last;return w&&w.error?x.error&&x.error(w.error):w&&w.result&&x.next&&x.next(w.result),b&&o.reobserve().catch(function(){}),function(){o.observers.delete(x)&&!o.observers.size&&o.tearDownQuery()}})||this;o.observers=new Set,o.subscriptions=new Set,o.queryInfo=i,o.queryManager=r,o.waitForOwnResult=JE(s.fetchPolicy),o.isTornDown=!1;var a=r.defaultOptions.watchQuery,l=a===void 0?{}:a,c=l.fetchPolicy,u=c===void 0?"cache-first":c,d=s.fetchPolicy,f=d===void 0?u:d,h=s.initialFetchPolicy,m=h===void 0?f==="standby"?u:f:h;o.options=re(re({},s),{initialFetchPolicy:m,fetchPolicy:f}),o.queryId=i.queryId||r.generateQueryId();var y=uy(o.query);return o.queryName=y&&y.name&&y.name.value,o}return Object.defineProperty(e.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var n=this;return new Promise(function(r,i){var s={next:function(a){r(a),n.observers.delete(s),n.observers.size||n.queryManager.removeQuery(n.queryId),setTimeout(function(){o.unsubscribe()},0)},error:i},o=n.subscribe(s)})},e.prototype.resetDiff=function(){this.queryInfo.resetDiff()},e.prototype.getCurrentResult=function(n){n===void 0&&(n=!0);var r=this.getLastResult(!0),i=this.queryInfo.networkStatus||r&&r.networkStatus||St.ready,s=re(re({},r),{loading:$g(i),networkStatus:i}),o=this.options.fetchPolicy,a=o===void 0?"cache-first":o;if(!(JE(a)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers))if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var l=this.queryInfo.getDiff();(l.complete||this.options.returnPartialData)&&(s.data=l.result),Dt(s.data,{})&&(s.data=void 0),l.complete?(delete s.partial,l.complete&&s.networkStatus===St.loading&&(a==="cache-first"||a==="cache-only")&&(s.networkStatus=St.ready,s.loading=!1)):s.partial=!0,globalThis.__DEV__!==!1&&!l.complete&&!this.options.partialRefetch&&!s.loading&&!s.data&&!s.error&&y9(l.missing)}return n&&this.updateLastResult(s),s},e.prototype.isDifferentFromLastResult=function(n,r){if(!this.last)return!0;var i=this.queryManager.getDocumentInfo(this.query).hasNonreactiveDirective?!t9(this.query,this.last.result,n,this.variables):!Dt(this.last.result,n);return i||r&&!Dt(this.last.variables,r)},e.prototype.getLast=function(n,r){var i=this.last;if(i&&i[n]&&(!r||Dt(i.variables,this.variables)))return i[n]},e.prototype.getLastResult=function(n){return this.getLast("result",n)},e.prototype.getLastError=function(n){return this.getLast("error",n)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(n){var r,i={pollInterval:0},s=this.options.fetchPolicy;if(s==="cache-and-network"?i.fetchPolicy=s:s==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",globalThis.__DEV__!==!1&&n&&voe.call(n,"variables")){var o=NV(this.query),a=o.variableDefinitions;(!a||!a.some(function(l){return l.variable.name.value==="variables"}))&&globalThis.__DEV__!==!1&&Ke.warn(20,n,((r=o.name)===null||r===void 0?void 0:r.value)||o)}return n&&!Dt(this.options.variables,n)&&(i.variables=this.options.variables=re(re({},this.options.variables),n)),this.queryInfo.resetLastWrite(),this.reobserve(i,St.refetch)},e.prototype.fetchMore=function(n){var r=this,i=re(re({},n.query?n:re(re(re(re({},this.options),{query:this.options.query}),n),{variables:re(re({},this.options.variables),n.variables)})),{fetchPolicy:"no-cache"});i.query=this.transformDocument(i.query);var s=this.queryManager.generateQueryId();this.lastQuery=n.query?this.transformDocument(this.options.query):i.query;var o=this.queryInfo,a=o.networkStatus;o.networkStatus=St.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var l=new Set;return this.queryManager.fetchQuery(s,i,St.fetchMore).then(function(c){return r.queryManager.removeQuery(s),o.networkStatus===St.fetchMore&&(o.networkStatus=a),r.queryManager.cache.batch({update:function(u){var d=n.updateQuery;d?u.updateQuery({query:r.query,variables:r.variables,returnPartialData:!0,optimistic:!1},function(f){return d(f,{fetchMoreResult:c.data,variables:i.variables})}):u.writeQuery({query:i.query,variables:i.variables,data:c.data})},onWatchUpdated:function(u){l.add(u.query)}}),c}).finally(function(){l.has(r.query)||g9(r)})},e.prototype.subscribeToMore=function(n){var r=this,i=this.queryManager.startGraphQLSubscription({query:n.document,variables:n.variables,context:n.context}).subscribe({next:function(s){var o=n.updateQuery;o&&r.updateQuery(function(a,l){var c=l.variables;return o(a,{subscriptionData:s,variables:c})})},error:function(s){if(n.onError){n.onError(s);return}globalThis.__DEV__!==!1&&Ke.error(21,s)}});return this.subscriptions.add(i),function(){r.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(n){return this.reobserve(n)},e.prototype.silentSetOptions=function(n){var r=Fu(this.options,n||{});LL(this.options,r)},e.prototype.setVariables=function(n){return Dt(this.variables,n)?this.observers.size?this.result():Promise.resolve():(this.options.variables=n,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:n},St.setVariables):Promise.resolve())},e.prototype.updateQuery=function(n){var r=this.queryManager,i=r.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,s=n(i,{variables:this.variables});s&&(r.cache.writeQuery({query:this.options.query,data:s,variables:this.variables}),r.broadcastQueries())},e.prototype.startPolling=function(n){this.options.pollInterval=n,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(n,r){if(r.nextFetchPolicy){var i=r.fetchPolicy,s=i===void 0?"cache-first":i,o=r.initialFetchPolicy,a=o===void 0?s:o;s==="standby"||(typeof r.nextFetchPolicy=="function"?r.fetchPolicy=r.nextFetchPolicy(s,{reason:n,options:r,observable:this,initialFetchPolicy:a}):n==="variables-changed"?r.fetchPolicy=a:r.fetchPolicy=r.nextFetchPolicy)}return r.fetchPolicy},e.prototype.fetch=function(n,r,i){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,n,r,i)},e.prototype.updatePolling=function(){var n=this;if(!this.queryManager.ssrMode){var r=this,i=r.pollingInfo,s=r.options.pollInterval;if(!s||!this.hasObservers()){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===s)){Ke(s,22);var o=i||(this.pollingInfo={});o.interval=s;var a=function(){var c,u;n.pollingInfo&&(!$g(n.queryInfo.networkStatus)&&!(!((u=(c=n.options).skipPollAttempt)===null||u===void 0)&&u.call(c))?n.reobserve({fetchPolicy:n.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},St.poll).then(l,l):l())},l=function(){var c=n.pollingInfo;c&&(clearTimeout(c.timeout),c.timeout=setTimeout(a,c.interval))};l()}}},e.prototype.updateLastResult=function(n,r){r===void 0&&(r=this.variables);var i=this.getLastError();return i&&this.last&&!Dt(r,this.last.variables)&&(i=void 0),this.last=re({result:this.queryManager.assumeImmutableResults?n:QV(n),variables:r},i?{error:i}:null)},e.prototype.reobserveAsConcast=function(n,r){var i=this;this.isTornDown=!1;var s=r===St.refetch||r===St.fetchMore||r===St.poll,o=this.options.variables,a=this.options.fetchPolicy,l=Fu(this.options,n||{}),c=s?l:LL(this.options,l),u=this.transformDocument(c.query);this.lastQuery=u,s||(this.updatePolling(),n&&n.variables&&!Dt(n.variables,o)&&c.fetchPolicy!=="standby"&&c.fetchPolicy===a&&(this.applyNextFetchPolicy("variables-changed",c),r===void 0&&(r=St.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=JE(c.fetchPolicy));var d=function(){i.concast===m&&(i.waitForOwnResult=!1)},f=c.variables&&re({},c.variables),h=this.fetch(c,r,u),m=h.concast,y=h.fromLink,x={next:function(v){Dt(i.variables,f)&&(d(),i.reportResult(v,f))},error:function(v){Dt(i.variables,f)&&(d(),i.reportError(v,f))}};return!s&&(y||!this.concast)&&(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=m,this.observer=x),m.addObserver(x),m},e.prototype.reobserve=function(n,r){return this.reobserveAsConcast(n,r).promise},e.prototype.resubscribeAfterError=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=this.last;this.resetLastResults();var s=this.subscribe.apply(this,n);return this.last=i,s},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(n,r){var i=this.getLastError(),s=this.isDifferentFromLastResult(n,r);(i||!n.partial||this.options.returnPartialData)&&this.updateLastResult(n,r),(i||s)&&Gm(this.observers,"next",n)},e.prototype.reportError=function(n,r){var i=re(re({},this.getLastResult()),{error:n,errors:n.graphQLErrors,networkStatus:St.error,loading:!1});this.updateLastResult(i,r),Gm(this.observers,"error",this.last.error=n)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(n){return n.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e.prototype.transformDocument=function(n){return this.queryManager.transform(n)},e}(Qt);YV(TI);function g9(t){var e=t.options,n=e.fetchPolicy,r=e.nextFetchPolicy;return n==="cache-and-network"||n==="network-only"?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(i,s){return this.nextFetchPolicy=r,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(i,s):n}}):t.reobserve()}function xoe(t){globalThis.__DEV__!==!1&&Ke.error(23,t.message,t.stack)}function y9(t){globalThis.__DEV__!==!1&&t&&globalThis.__DEV__!==!1&&Ke.debug(24,t)}function JE(t){return t==="network-only"||t==="no-cache"||t==="standby"}var v9=function(){function t(e){var n=e.cache,r=e.client,i=e.resolvers,s=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=n,r&&(this.client=r),i&&this.addResolvers(i),s&&this.setFragmentMatcher(s)}return t.prototype.addResolvers=function(e){var n=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(r){n.resolvers=oL(n.resolvers,r)}):this.resolvers=oL(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){return di(this,arguments,void 0,function(n){var r=n.document,i=n.remoteResult,s=n.context,o=n.variables,a=n.onlyRunForcedResolvers,l=a===void 0?!1:a;return Yr(this,function(c){return r?[2,this.resolveDocument(r,i.data,s,o,this.fragmentMatcher,l).then(function(u){return re(re({},i),{data:u.result})})]:[2,i]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return Cg(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return HV(e)},t.prototype.prepareContext=function(e){var n=this.cache;return re(re({},e),{cache:n,getCacheKey:function(r){return n.identify(r)}})},t.prototype.addExportedVariables=function(e){return di(this,arguments,void 0,function(n,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),Yr(this,function(s){return n?[2,this.resolveDocument(n,this.buildRootValueFromCache(n,r)||{},this.prepareContext(i),r).then(function(o){return re(re({},r),o.exportedVariables)})]:[2,re({},r)]})})},t.prototype.shouldForceResolvers=function(e){var n=!1;return Ka(e,{Directive:{enter:function(r){if(r.name.value==="client"&&r.arguments&&(n=r.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),n))return kO}}}),n},t.prototype.buildRootValueFromCache=function(e,n){return this.cache.diff({query:tse(e),variables:n,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,n){return di(this,arguments,void 0,function(r,i,s,o,a,l){var c,u,d,f,h,m,y,x,v,b,w;return s===void 0&&(s={}),o===void 0&&(o={}),a===void 0&&(a=function(){return!0}),l===void 0&&(l=!1),Yr(this,function(k){return c=dy(r),u=Zw(r),d=Qw(u),f=this.collectSelectionsToResolve(c,d),h=c.operation,m=h?h.charAt(0).toUpperCase()+h.slice(1):"Query",y=this,x=y.cache,v=y.client,b={fragmentMap:d,context:re(re({},s),{cache:x,client:v}),variables:o,fragmentMatcher:a,defaultOperationType:m,exportedVariables:{},selectionsToResolve:f,onlyRunForcedResolvers:l},w=!1,[2,this.resolveSelectionSet(c.selectionSet,w,i,b).then(function(E){return{result:E,exportedVariables:b.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,n,r,i){return di(this,void 0,void 0,function(){var s,o,a,l,c,u=this;return Yr(this,function(d){return s=i.fragmentMap,o=i.context,a=i.variables,l=[r],c=function(f){return di(u,void 0,void 0,function(){var h,m;return Yr(this,function(y){return!n&&!i.selectionsToResolve.has(f)?[2]:ly(f,a)?cc(f)?[2,this.resolveField(f,n,r,i).then(function(x){var v;typeof x<"u"&&l.push((v={},v[lc(f)]=x,v))})]:(Die(f)?h=f:(h=s[f.name.value],Ke(h,18,f.name.value)),h&&h.typeCondition&&(m=h.typeCondition.name.value,i.fragmentMatcher(r,m,o))?[2,this.resolveSelectionSet(h.selectionSet,n,r,i).then(function(x){l.push(x)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(c)).then(function(){return r2(l)})]})})},t.prototype.resolveField=function(e,n,r,i){return di(this,void 0,void 0,function(){var s,o,a,l,c,u,d,f,h,m=this;return Yr(this,function(y){return r?(s=i.variables,o=e.name.value,a=lc(e),l=o!==a,c=r[a]||r[o],u=Promise.resolve(c),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(d=r.__typename||i.defaultOperationType,f=this.resolvers&&this.resolvers[d],f&&(h=f[l?o:a],h&&(u=Promise.resolve(LO.withValue(this.cache,h,[r,Jw(e,s),i.context,{field:e,fragmentMap:i.fragmentMap}]))))),[2,u.then(function(x){var v,b;if(x===void 0&&(x=c),e.directives&&e.directives.forEach(function(k){k.name.value==="export"&&k.arguments&&k.arguments.forEach(function(E){E.name.value==="as"&&E.value.kind==="StringValue"&&(i.exportedVariables[E.value.value]=x)})}),!e.selectionSet||x==null)return x;var w=(b=(v=e.directives)===null||v===void 0?void 0:v.some(function(k){return k.name.value==="client"}))!==null&&b!==void 0?b:!1;if(Array.isArray(x))return m.resolveSubSelectedArray(e,n||w,x,i);if(e.selectionSet)return m.resolveSelectionSet(e.selectionSet,n||w,x,i)})]):[2,null]})})},t.prototype.resolveSubSelectedArray=function(e,n,r,i){var s=this;return Promise.all(r.map(function(o){if(o===null)return null;if(Array.isArray(o))return s.resolveSubSelectedArray(e,n,o,i);if(e.selectionSet)return s.resolveSelectionSet(e.selectionSet,n,o,i)}))},t.prototype.collectSelectionsToResolve=function(e,n){var r=function(o){return!Array.isArray(o)},i=this.selectionsToResolveCache;function s(o){if(!i.has(o)){var a=new Set;i.set(o,a),Ka(o,{Directive:function(l,c,u,d,f){l.name.value==="client"&&f.forEach(function(h){r(h)&&Q4(h)&&a.add(h)})},FragmentSpread:function(l,c,u,d,f){var h=n[l.name.value];Ke(h,19,l.name.value);var m=s(h);m.size>0&&(f.forEach(function(y){r(y)&&Q4(y)&&a.add(y)}),a.add(l),m.forEach(function(y){a.add(y)}))}})}return i.get(o)}return s(e)},t}(),Rf=new(rd?WeakMap:Map);function ZE(t,e){var n=t[e];typeof n=="function"&&(t[e]=function(){return Rf.set(t,(Rf.get(t)+1)%1e15),n.apply(this,arguments)})}function ML(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var eT=function(){function t(e,n){n===void 0&&(n=e.generateQueryId()),this.queryId=n,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;Rf.has(r)||(Rf.set(r,0),ZE(r,"evict"),ZE(r,"modify"),ZE(r,"reset"))}return t.prototype.init=function(e){var n=e.networkStatus||St.loading;return this.variables&&this.networkStatus!==St.loading&&!Dt(this.variables,e.variables)&&(n=St.setVariables),Dt(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:n}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},t.prototype.reset=function(){ML(this),this.dirty=!1},t.prototype.resetDiff=function(){this.lastDiff=void 0},t.prototype.getDiff=function(){var e=this.getDiffOptions();if(this.lastDiff&&Dt(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var n=this.observableQuery;if(n&&n.options.fetchPolicy==="no-cache")return{complete:!1};var r=this.cache.diff(e);return this.updateLastDiff(r,e),r},t.prototype.updateLastDiff=function(e,n){this.lastDiff=e?{diff:e,options:n||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(e){var n;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(n=this.observableQuery)===null||n===void 0?void 0:n.options.canonizeResults}},t.prototype.setDiff=function(e){var n=this,r,i=this.lastDiff&&this.lastDiff.diff;e&&!e.complete&&(!((r=this.observableQuery)===null||r===void 0)&&r.getLastError())||(this.updateLastDiff(e),!this.dirty&&!Dt(i&&i.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return n.notify()},0))))},t.prototype.setObservableQuery=function(e){var n=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var r=n.getDiff();r.fromOptimisticTransaction?e.observe():g9(e)})):delete this.oqListener)},t.prototype.notify=function(){var e=this;ML(this),this.shouldNotify()&&this.listeners.forEach(function(n){return n(e)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if($g(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel;var e=this.observableQuery;e&&e.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(e){var n=this;e===void 0&&(e=this.variables);var r=this.observableQuery;if(!(r&&r.options.fetchPolicy==="no-cache")){var i=re(re({},this.getDiffOptions(e)),{watcher:this,callback:function(s){return n.setDiff(s)}});(!this.lastWatch||!Dt(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(e,n){var r=this.lastWrite;return!(r&&r.dmCount===Rf.get(this.cache)&&Dt(n,r.variables)&&Dt(e.data,r.result.data))},t.prototype.markResult=function(e,n,r,i){var s=this,o=new dc,a=Us(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&Us(e.incremental)){var l=JV(this.getDiff().result,e);e.data=l}else if("hasNext"in e&&e.hasNext){var c=this.getDiff();e.data=o.merge(c.result,e.data)}this.graphQLErrors=a,r.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):i!==0&&(_I(e,r.errorPolicy)?this.cache.performTransaction(function(u){if(s.shouldWrite(e,r.variables))u.writeQuery({query:n,data:e.data,variables:r.variables,overwrite:i===1}),s.lastWrite={result:e,variables:r.variables,dmCount:Rf.get(s.cache)};else if(s.lastDiff&&s.lastDiff.diff.complete){e.data=s.lastDiff.diff.result;return}var d=s.getDiffOptions(r.variables),f=u.diff(d);!s.stopped&&Dt(s.variables,r.variables)&&s.updateWatch(r.variables),s.updateLastDiff(f,d),f.complete&&(e.data=f.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=St.ready},t.prototype.markError=function(e){return this.networkStatus=St.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},t}();function _I(t,e){e===void 0&&(e="none");var n=e==="ignore"||e==="all",r=!hx(t);return!r&&n&&t.data&&(r=!0),r}var boe=Object.prototype.hasOwnProperty,BL=Object.create(null),woe=function(){function t(e){var n=e.cache,r=e.link,i=e.defaultOptions,s=e.documentTransform,o=e.queryDeduplication,a=o===void 0?!1:o,l=e.onBroadcast,c=e.ssrMode,u=c===void 0?!1:c,d=e.clientAwareness,f=d===void 0?{}:d,h=e.localState,m=e.assumeImmutableResults,y=m===void 0?!!n.assumeImmutableResults:m,x=e.defaultContext,v=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new EO(oa["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Uh(!1);var b=new UV(function(w){return v.cache.transformDocument(w)},{cache:!1});this.cache=n,this.link=r,this.defaultOptions=i||Object.create(null),this.queryDeduplication=a,this.clientAwareness=f,this.localState=h||new v9({cache:n}),this.ssrMode=u,this.assumeImmutableResults=y,this.documentTransform=s?b.concat(s).concat(b):b,this.defaultContext=x||Object.create(null),(this.onBroadcast=l)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(n,r){e.stopQueryNoBroadcast(r)}),this.cancelPendingFetches(pi(25))},t.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(n){return n(e)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(e){return di(this,arguments,void 0,function(n){var r,i,s,o,a,l,c,u=n.mutation,d=n.variables,f=n.optimisticResponse,h=n.updateQueries,m=n.refetchQueries,y=m===void 0?[]:m,x=n.awaitRefetchQueries,v=x===void 0?!1:x,b=n.update,w=n.onQueryUpdated,k=n.fetchPolicy,E=k===void 0?((l=this.defaultOptions.mutate)===null||l===void 0?void 0:l.fetchPolicy)||"network-only":k,_=n.errorPolicy,I=_===void 0?((c=this.defaultOptions.mutate)===null||c===void 0?void 0:c.errorPolicy)||"none":_,N=n.keepRootFields,D=n.context;return Yr(this,function(P){switch(P.label){case 0:return Ke(u,26),Ke(E==="network-only"||E==="no-cache",27),r=this.generateMutationId(),u=this.cache.transformForLink(this.transform(u)),i=this.getDocumentInfo(u).hasClientExports,d=this.getVariables(u,d),i?[4,this.localState.addExportedVariables(u,d,D)]:[3,2];case 1:d=P.sent(),P.label=2;case 2:return s=this.mutationStore&&(this.mutationStore[r]={mutation:u,variables:d,loading:!0,error:null}),o=f&&this.markMutationOptimistic(f,{mutationId:r,document:u,variables:d,fetchPolicy:E,errorPolicy:I,context:D,updateQueries:h,update:b,keepRootFields:N}),this.broadcastQueries(),a=this,[2,new Promise(function(F,U){return qE(a.getObservableFromLink(u,re(re({},D),{optimisticResponse:o?f:void 0}),d,!1),function(j){if(hx(j)&&I==="none")throw new Dl({graphQLErrors:vI(j)});s&&(s.loading=!1,s.error=null);var W=re({},j);return typeof y=="function"&&(y=y(W)),I==="ignore"&&hx(W)&&delete W.errors,a.markMutationResult({mutationId:r,result:W,document:u,variables:d,fetchPolicy:E,errorPolicy:I,context:D,update:b,updateQueries:h,awaitRefetchQueries:v,refetchQueries:y,removeOptimistic:o?r:void 0,onQueryUpdated:w,keepRootFields:N})}).subscribe({next:function(j){a.broadcastQueries(),(!("hasNext"in j)||j.hasNext===!1)&&F(j)},error:function(j){s&&(s.loading=!1,s.error=j),o&&a.cache.removeOptimistic(r),a.broadcastQueries(),U(j instanceof Dl?j:new Dl({networkError:j}))}})})]}})})},t.prototype.markMutationResult=function(e,n){var r=this;n===void 0&&(n=this.cache);var i=e.result,s=[],o=e.fetchPolicy==="no-cache";if(!o&&_I(i,e.errorPolicy)){if(Gf(i)||s.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),Gf(i)&&Us(i.incremental)){var a=n.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),l=void 0;a.result&&(l=JV(a.result,i)),typeof l<"u"&&(i.data=l,s.push({result:l,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var c=e.updateQueries;c&&this.queries.forEach(function(d,f){var h=d.observableQuery,m=h&&h.queryName;if(!(!m||!boe.call(c,m))){var y=c[m],x=r.queries.get(f),v=x.document,b=x.variables,w=n.diff({query:v,variables:b,returnPartialData:!0,optimistic:!1}),k=w.result,E=w.complete;if(E&&k){var _=y(k,{mutationResult:i,queryName:v&&pI(v)||void 0,queryVariables:b});_&&s.push({result:_,dataId:"ROOT_QUERY",query:v,variables:b})}}})}if(s.length>0||(e.refetchQueries||"").length>0||e.update||e.onQueryUpdated||e.removeOptimistic){var u=[];if(this.refetchQueries({updateCache:function(d){o||s.forEach(function(y){return d.write(y)});var f=e.update,h=!gse(i)||Gf(i)&&!i.hasNext;if(f){if(!o){var m=d.diff({id:"ROOT_MUTATION",query:r.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});m.complete&&(i=re(re({},i),{data:m.result}),"incremental"in i&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}h&&f(d,i,{context:e.context,variables:e.variables})}!o&&!e.keepRootFields&&h&&d.modify({id:"ROOT_MUTATION",fields:function(y,x){var v=x.fieldName,b=x.DELETE;return v==="__typename"?y:b}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(d){return u.push(d)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(u).then(function(){return i})}return Promise.resolve(i)},t.prototype.markMutationOptimistic=function(e,n){var r=this,i=typeof e=="function"?e(n.variables,{IGNORE:BL}):e;return i===BL?!1:(this.cache.recordOptimisticTransaction(function(s){try{r.markMutationResult(re(re({},n),{result:{data:i}}),s)}catch(o){globalThis.__DEV__!==!1&&Ke.error(o)}},n.mutationId),!0)},t.prototype.fetchQuery=function(e,n,r){return this.fetchConcastWithInfo(e,n,r).concast.promise},t.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(n,r){e[r]={variables:n.variables,networkStatus:n.networkStatus,networkError:n.networkError,graphQLErrors:n.graphQLErrors}}),e},t.prototype.resetErrors=function(e){var n=this.queries.get(e);n&&(n.networkError=void 0,n.graphQLErrors=[])},t.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},t.prototype.getDocumentInfo=function(e){var n=this.transformCache;if(!n.has(e)){var r={hasClientExports:Xre(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:Cg(["nonreactive"],e),clientQuery:this.localState.clientQuery(e),serverQuery:GV([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"}],e),defaultVars:_O(uy(e)),asQuery:re(re({},e),{definitions:e.definitions.map(function(i){return i.kind==="OperationDefinition"&&i.operation!=="query"?re(re({},i),{operation:"query"}):i})})};n.set(e,r)}return n.get(e)},t.prototype.getVariables=function(e,n){return re(re({},this.getDocumentInfo(e).defaultVars),n)},t.prototype.watchQuery=function(e){var n=this.transform(e.query);e=re(re({},e),{variables:this.getVariables(n,e.variables)}),typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!1);var r=new eT(this),i=new TI({queryManager:this,queryInfo:r,options:e});return i.lastQuery=n,this.queries.set(i.queryId,r),r.init({document:n,observableQuery:i,variables:i.variables}),i},t.prototype.query=function(e,n){var r=this;return n===void 0&&(n=this.generateQueryId()),Ke(e.query,28),Ke(e.query.kind==="Document",29),Ke(!e.returnPartialData,30),Ke(!e.pollInterval,31),this.fetchQuery(n,re(re({},e),{query:this.transform(e.query)})).finally(function(){return r.stopQuery(n)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){var n=this.queries.get(e);n&&n.stop()},t.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(pi(32)),this.queries.forEach(function(n){n.observableQuery?n.networkStatus=St.loading:n.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},t.prototype.getObservableQueries=function(e){var n=this;e===void 0&&(e="active");var r=new Map,i=new Map,s=new Set;return Array.isArray(e)&&e.forEach(function(o){typeof o=="string"?i.set(o,!1):kie(o)?i.set(n.transform(o),!1):$n(o)&&o.query&&s.add(o)}),this.queries.forEach(function(o,a){var l=o.observableQuery,c=o.document;if(l){if(e==="all"){r.set(a,l);return}var u=l.queryName,d=l.options.fetchPolicy;if(d==="standby"||e==="active"&&!l.hasObservers())return;(e==="active"||u&&i.has(u)||c&&i.has(c))&&(r.set(a,l),u&&i.set(u,!0),c&&i.set(c,!0))}}),s.size&&s.forEach(function(o){var a=sI("legacyOneTimeQuery"),l=n.getQuery(a).init({document:o.query,variables:o.variables}),c=new TI({queryManager:n,queryInfo:l,options:re(re({},o),{fetchPolicy:"network-only"})});Ke(c.queryId===a),l.setObservableQuery(c),r.set(a,c)}),globalThis.__DEV__!==!1&&i.size&&i.forEach(function(o,a){o||globalThis.__DEV__!==!1&&Ke.warn(typeof a=="string"?33:34,a)}),r},t.prototype.reFetchObservableQueries=function(e){var n=this;e===void 0&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,s){var o=i.options.fetchPolicy;i.resetLastResults(),(e||o!=="standby"&&o!=="cache-only")&&r.push(i.refetch()),n.getQuery(s).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},t.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},t.prototype.startGraphQLSubscription=function(e){var n=this,r=e.query,i=e.fetchPolicy,s=e.errorPolicy,o=s===void 0?"none":s,a=e.variables,l=e.context,c=l===void 0?{}:l;r=this.transform(r),a=this.getVariables(r,a);var u=function(f){return n.getObservableFromLink(r,c,f).map(function(h){i!=="no-cache"&&(_I(h,o)&&n.cache.write({query:r,result:h.data,dataId:"ROOT_SUBSCRIPTION",variables:f}),n.broadcastQueries());var m=hx(h),y=Rse(h);if(m||y){var x={};if(m&&(x.graphQLErrors=h.errors),y&&(x.protocolErrors=h.extensions[FO]),o==="none"||y)throw new Dl(x)}return o==="ignore"&&delete h.errors,h})};if(this.getDocumentInfo(r).hasClientExports){var d=this.localState.addExportedVariables(r,a,c).then(u);return new Qt(function(f){var h=null;return d.then(function(m){return h=m.subscribe(f)},f.error),function(){return h&&h.unsubscribe()}})}return u(a)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,n,r,i){var s=this,o;i===void 0&&(i=(o=n==null?void 0:n.queryDeduplication)!==null&&o!==void 0?o:this.queryDeduplication);var a,l=this.getDocumentInfo(e),c=l.serverQuery,u=l.clientQuery;if(c){var d=this,f=d.inFlightLinkObservables,h=d.link,m={query:c,variables:r,operationName:pI(c)||void 0,context:this.prepareContext(re(re({},n),{forceFetch:!i}))};if(n=m.context,i){var y=n2(c),x=nc(r),v=f.lookup(y,x);if(a=v.observable,!a){var b=new Qd([xI(h,m)]);a=v.observable=b,b.beforeNext(function(){f.remove(y,x)})}}else a=new Qd([xI(h,m)])}else a=new Qd([Qt.of({data:{}})]),n=this.prepareContext(n);return u&&(a=qE(a,function(w){return s.localState.runResolvers({document:u,remoteResult:w,context:n,variables:r})})),a},t.prototype.getResultsFromLink=function(e,n,r){var i=e.lastRequestId=this.generateRequestId(),s=this.cache.transformForLink(r.query);return qE(this.getObservableFromLink(s,r.context,r.variables),function(o){var a=vI(o),l=a.length>0;if(i>=e.lastRequestId){if(l&&r.errorPolicy==="none")throw e.markError(new Dl({graphQLErrors:a}));e.markResult(o,s,r,n),e.markReady()}var c={data:o.data,loading:!1,networkStatus:St.ready};return l&&r.errorPolicy!=="ignore"&&(c.errors=a,c.networkStatus=St.error),c},function(o){var a=Ase(o)?o:new Dl({networkError:o});throw i>=e.lastRequestId&&e.markError(a),a})},t.prototype.fetchConcastWithInfo=function(e,n,r,i){var s=this;r===void 0&&(r=St.loading),i===void 0&&(i=n.query);var o=this.getVariables(i,n.variables),a=this.getQuery(e),l=this.defaultOptions.watchQuery,c=n.fetchPolicy,u=c===void 0?l&&l.fetchPolicy||"cache-first":c,d=n.errorPolicy,f=d===void 0?l&&l.errorPolicy||"none":d,h=n.returnPartialData,m=h===void 0?!1:h,y=n.notifyOnNetworkStatusChange,x=y===void 0?!1:y,v=n.context,b=v===void 0?{}:v,w=Object.assign({},n,{query:i,variables:o,fetchPolicy:u,errorPolicy:f,returnPartialData:m,notifyOnNetworkStatusChange:x,context:b}),k=function(D){w.variables=D;var P=s.fetchQueryByPolicy(a,w,r);return w.fetchPolicy!=="standby"&&P.sources.length>0&&a.observableQuery&&a.observableQuery.applyNextFetchPolicy("after-fetch",n),P},E=function(){return s.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(D){E(),setTimeout(function(){return _.cancel(D)})});var _,I;if(this.getDocumentInfo(w.query).hasClientExports)_=new Qd(this.localState.addExportedVariables(w.query,w.variables,w.context).then(k).then(function(D){return D.sources})),I=!0;else{var N=k(w.variables);I=N.fromLink,_=new Qd(N.sources)}return _.promise.then(E,E),{concast:_,fromLink:I}},t.prototype.refetchQueries=function(e){var n=this,r=e.updateCache,i=e.include,s=e.optimistic,o=s===void 0?!1:s,a=e.removeOptimistic,l=a===void 0?o?sI("refetchQueries"):void 0:a,c=e.onQueryUpdated,u=new Map;i&&this.getObservableQueries(i).forEach(function(f,h){u.set(h,{oq:f,lastDiff:n.getQuery(h).getDiff()})});var d=new Map;return r&&this.cache.batch({update:r,optimistic:o&&l||!1,removeOptimistic:l,onWatchUpdated:function(f,h,m){var y=f.watcher instanceof eT&&f.watcher.observableQuery;if(y){if(c){u.delete(y.queryId);var x=c(y,h,m);return x===!0&&(x=y.refetch()),x!==!1&&d.set(y,x),x}c!==null&&u.set(y.queryId,{oq:y,lastDiff:m,diff:h})}}}),u.size&&u.forEach(function(f,h){var m=f.oq,y=f.lastDiff,x=f.diff,v;if(c){if(!x){var b=m.queryInfo;b.reset(),x=b.getDiff()}v=c(m,x,y)}(!c||v===!0)&&(v=m.refetch()),v!==!1&&d.set(m,v),h.indexOf("legacyOneTimeQuery")>=0&&n.stopQueryNoBroadcast(h)}),l&&this.cache.removeOptimistic(l),d},t.prototype.fetchQueryByPolicy=function(e,n,r){var i=this,s=n.query,o=n.variables,a=n.fetchPolicy,l=n.refetchWritePolicy,c=n.errorPolicy,u=n.returnPartialData,d=n.context,f=n.notifyOnNetworkStatusChange,h=e.networkStatus;e.init({document:s,variables:o,networkStatus:r});var m=function(){return e.getDiff()},y=function(k,E){E===void 0&&(E=e.networkStatus||St.loading);var _=k.result;globalThis.__DEV__!==!1&&!u&&!Dt(_,{})&&y9(k.missing);var I=function(N){return Qt.of(re({data:N,loading:$g(E),networkStatus:E},k.complete?null:{partial:!0}))};return _&&i.getDocumentInfo(s).hasForcedResolvers?i.localState.runResolvers({document:s,remoteResult:{data:_},context:d,variables:o,onlyRunForcedResolvers:!0}).then(function(N){return I(N.data||void 0)}):c==="none"&&E===St.refetch&&Array.isArray(k.missing)?I(void 0):I(_)},x=a==="no-cache"?0:r===St.refetch&&l!=="merge"?1:2,v=function(){return i.getResultsFromLink(e,x,{query:s,variables:o,context:d,fetchPolicy:a,errorPolicy:c})},b=f&&typeof h=="number"&&h!==r&&$g(r);switch(a){default:case"cache-first":{var w=m();return w.complete?{fromLink:!1,sources:[y(w,e.markReady())]}:u||b?{fromLink:!0,sources:[y(w),v()]}:{fromLink:!0,sources:[v()]}}case"cache-and-network":{var w=m();return w.complete||u||b?{fromLink:!0,sources:[y(w),v()]}:{fromLink:!0,sources:[v()]}}case"cache-only":return{fromLink:!1,sources:[y(m(),e.markReady())]};case"network-only":return b?{fromLink:!0,sources:[y(m()),v()]}:{fromLink:!0,sources:[v()]};case"no-cache":return b?{fromLink:!0,sources:[y(e.getDiff()),v()]}:{fromLink:!0,sources:[v()]};case"standby":return{fromLink:!1,sources:[]}}},t.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new eT(this,e)),this.queries.get(e)},t.prototype.prepareContext=function(e){e===void 0&&(e={});var n=this.localState.prepareContext(e);return re(re(re({},this.defaultContext),n),{clientAwareness:this.clientAwareness})},t}(),zL=!1,x9=function(){function t(e){var n=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw pi(15);var r=e.uri,i=e.credentials,s=e.headers,o=e.cache,a=e.documentTransform,l=e.ssrMode,c=l===void 0?!1:l,u=e.ssrForceFetchDelay,d=u===void 0?0:u,f=e.connectToDevTools,h=f===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&globalThis.__DEV__!==!1:f,m=e.queryDeduplication,y=m===void 0?!0:m,x=e.defaultOptions,v=e.defaultContext,b=e.assumeImmutableResults,w=b===void 0?o.assumeImmutableResults:b,k=e.resolvers,E=e.typeDefs,_=e.fragmentMatcher,I=e.name,N=e.version,D=e.link;D||(D=r?new Qse({uri:r,credentials:i,headers:s}):fy.empty()),this.link=D,this.cache=o,this.disableNetworkFetches=c||d>0,this.queryDeduplication=y,this.defaultOptions=x||Object.create(null),this.typeDefs=E,d&&setTimeout(function(){return n.disableNetworkFetches=!1},d),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=vO,this.localState=new v9({cache:o,client:this,resolvers:k,fragmentMatcher:_}),this.queryManager=new woe({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:v,documentTransform:a,queryDeduplication:y,ssrMode:c,clientAwareness:{name:I,version:N},localState:this.localState,assumeImmutableResults:w,onBroadcast:h?function(){n.devToolsHookCb&&n.devToolsHookCb({action:{},state:{queries:n.queryManager.getQueryStore(),mutations:n.queryManager.mutationStore||{}},dataWithOptimisticResults:n.cache.extract(!0)})}:void 0}),h&&this.connectToDevTools()}return t.prototype.connectToDevTools=function(){if(typeof window=="object"){var e=window,n=Symbol.for("apollo.devtools");(e[n]=e[n]||[]).push(this),e.__APOLLO_CLIENT__=this}!zL&&globalThis.__DEV__!==!1&&(zL=!0,setTimeout(function(){if(typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__&&/^(https?|file):$/.test(window.location.protocol)){var r=window.navigator,i=r&&r.userAgent,s=void 0;typeof i=="string"&&(i.indexOf("Chrome/")>-1?s="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":i.indexOf("Firefox/")>-1&&(s="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),s&&globalThis.__DEV__!==!1&&Ke.log("Download the Apollo DevTools for a better development experience: %s",s)}},1e4))},Object.defineProperty(t.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=px(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=re(re({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=px(this.defaultOptions.query,e)),Ke(e.fetchPolicy!=="cache-and-network",16),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=re(re({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=px(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!1),this.cache.readQuery(e,n)},t.prototype.watchFragment=function(e){return this.cache.watchFragment(e)},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!1),this.cache.readFragment(e,n)},t.prototype.writeQuery=function(e){var n=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),n},t.prototype.writeFragment=function(e){var n=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),n},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return xI(this.link,e)},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(n){return n()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(n){return n()}))})},t.prototype.onResetStore=function(e){var n=this;return this.resetStoreCallbacks.push(e),function(){n.resetStoreCallbacks=n.resetStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.onClearStore=function(e){var n=this;return this.clearStoreCallbacks.push(e),function(){n.clearStoreCallbacks=n.clearStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.refetchQueries=function(e){var n=this.queryManager.refetchQueries(e),r=[],i=[];n.forEach(function(o,a){r.push(a),i.push(o)});var s=Promise.all(i);return s.queries=r,s.results=i,s.catch(function(o){globalThis.__DEV__!==!1&&Ke.debug(17,o)}),s},t.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t.prototype.setLink=function(e){this.link=this.queryManager.link=e},Object.defineProperty(t.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),t}();globalThis.__DEV__!==!1&&(x9.prototype.getMemoryInternals=pie);var yx=new Map,II=new Map,b9=!0,sb=!1;function w9(t){return t.replace(/[\s,]+/g," ").trim()}function Soe(t){return w9(t.source.body.substring(t.start,t.end))}function koe(t){var e=new Set,n=[];return t.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var i=r.name.value,s=Soe(r.loc),o=II.get(i);o&&!o.has(s)?b9&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):o||II.set(i,o=new Set),o.add(s),e.has(s)||(e.add(s),n.push(r))}else n.push(r)}),re(re({},t),{definitions:n})}function Coe(t){var e=new Set(t.definitions);e.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(i){var s=r[i];s&&typeof s=="object"&&e.add(s)})});var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}function Eoe(t){var e=w9(t);if(!yx.has(e)){var n=Bre(t,{experimentalFragmentVariables:sb,allowLegacyFragmentVariables:sb});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");yx.set(e,Coe(koe(n)))}return yx.get(e)}function gh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];typeof t=="string"&&(t=[t]);var r=t[0];return e.forEach(function(i,s){i&&i.kind==="Document"?r+=i.loc.source.body:r+=i,r+=t[s+1]}),Eoe(r)}function Toe(){yx.clear(),II.clear()}function _oe(){b9=!1}function Ioe(){sb=!0}function $oe(){sb=!1}var tm={gql:gh,resetCaches:Toe,disableFragmentWarnings:_oe,enableExperimentalFragmentVariables:Ioe,disableExperimentalFragmentVariables:$oe};(function(t){t.gql=tm.gql,t.resetCaches=tm.resetCaches,t.disableFragmentWarnings=tm.disableFragmentWarnings,t.enableExperimentalFragmentVariables=tm.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=tm.disableExperimentalFragmentVariables})(gh||(gh={}));gh.default=gh;var S9={exports:{}};(function(t){t.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=void 0,t.exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=void 0,t.exports.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=void 0,Object.assign(t.exports,A)})(S9);var Dr=S9.exports;const Noe=nl(Dr),k9=D8({__proto__:null,default:Noe},[Dr]);var jL=CO?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function jO(){Ke("createContext"in k9,45);var t=Dr.createContext[jL];return t||(Object.defineProperty(Dr.createContext,jL,{value:t=Dr.createContext({}),enumerable:!1,writable:!1,configurable:!0}),t.displayName="ApolloContext"),t}var Ooe=function(t){var e=t.client,n=t.children,r=jO(),i=Dr.useContext(r),s=Dr.useMemo(function(){return re(re({},i),{client:e||i.client})},[i,e]);return Ke(s.client,46),Dr.createElement(r.Provider,{value:s},n)};function C9(t){var e=Dr.useContext(jO()),n=t||e.client;return Ke(!!n,49),n}var VL=!1,Roe="useSyncExternalStore",Aoe=k9[Roe],Poe=Aoe||function(t,e,n){var r=e();globalThis.__DEV__!==!1&&!VL&&r!==e()&&(VL=!0,globalThis.__DEV__!==!1&&Ke.error(58));var i=Dr.useState({inst:{value:r,getSnapshot:e}}),s=i[0].inst,o=i[1];return iie?Dr.useLayoutEffect(function(){Object.assign(s,{value:r,getSnapshot:e}),tT(s)&&o({inst:s})},[t,r,e]):Object.assign(s,{value:r,getSnapshot:e}),Dr.useEffect(function(){return tT(s)&&o({inst:s}),t(function(){tT(s)&&o({inst:s})})},[t]),r};function tT(t){var e=t.value,n=t.getSnapshot;try{return e!==n()}catch{return!0}}var za;(function(t){t[t.Query=0]="Query",t[t.Mutation=1]="Mutation",t[t.Subscription=2]="Subscription"})(za||(za={}));var yu;function UL(t){var e;switch(t){case za.Query:e="Query";break;case za.Mutation:e="Mutation";break;case za.Subscription:e="Subscription";break}return e}function E9(t){yu||(yu=new EO(oa.parser||1e3));var e=yu.get(t);if(e)return e;var n,r,i;Ke(!!t&&!!t.kind,60,t);for(var s=[],o=[],a=[],l=[],c=0,u=t.definitions;c<u.length;c++){var d=u[c];if(d.kind==="FragmentDefinition"){s.push(d);continue}if(d.kind==="OperationDefinition")switch(d.operation){case"query":o.push(d);break;case"mutation":a.push(d);break;case"subscription":l.push(d);break}}Ke(!s.length||o.length||a.length||l.length,61),Ke(o.length+a.length+l.length<=1,62,t,o.length,l.length,a.length),r=o.length?za.Query:za.Mutation,!o.length&&!a.length&&(r=za.Subscription);var f=o.length?o:a.length?a:l;Ke(f.length===1,63,t,f.length);var h=f[0];n=h.variableDefinitions||[],h.name&&h.name.kind==="Name"?i=h.name.value:i="data";var m={name:i,type:r,variables:n};return yu.set(t,m),m}E9.resetCache=function(){yu=void 0};globalThis.__DEV__!==!1&&TO("parser",function(){return yu?yu.size:0});function Doe(t,e){var n=E9(t),r=UL(e),i=UL(n.type);Ke(n.type===e,64,r,r,i)}var Foe=Symbol.for("apollo.hook.wrappers");function Loe(t,e,n){var r=n.queryManager,i=r&&r[Foe],s=i&&i[t];return s?s(e):e}var Moe=Object.prototype.hasOwnProperty;function Boe(t,e){return e===void 0&&(e=Object.create(null)),Loe("useQuery",zoe,C9(e&&e.client))(t,e)}function zoe(t,e){return joe(C9(e.client),t).useQuery(e)}function joe(t,e){var n=Dr.useReducer(function(a){return a+1},0)[1];function r(a){return Object.assign(new Voe(t,e,a),{forceUpdateState:n})}var i=Dr.useState(r),s=i[0],o=i[1];return(t!==s.client||e!==s.query)&&o(s=r(s)),s}var Voe=function(){function t(e,n,r){var i=this;this.client=e,this.query=n,this.forceUpdate=function(){return i.forceUpdateState()},this.ssrDisabledResult=_g({loading:!0,data:void 0,error:void 0,networkStatus:St.loading}),this.skipStandbyResult=_g({loading:!1,data:void 0,error:void 0,networkStatus:St.ready}),this.toQueryResultCache=new(rd?WeakMap:Map),Doe(n,za.Query);var s=r&&r.result,o=s&&s.data;o&&(this.previousData=o)}return t.prototype.forceUpdateState=function(){globalThis.__DEV__!==!1&&Ke.warn(51)},t.prototype.executeQuery=function(e){var n=this,r;e.query&&Object.assign(this,{query:e.query}),this.watchQueryOptions=this.createWatchQueryOptions(this.queryHookOptions=e);var i=this.observable.reobserveAsConcast(this.getObsQueryOptions());return this.previousData=((r=this.result)===null||r===void 0?void 0:r.data)||this.previousData,this.result=void 0,this.forceUpdate(),new Promise(function(s){var o;i.subscribe({next:function(a){o=a},error:function(){s(n.toQueryResult(n.observable.getCurrentResult()))},complete:function(){s(n.toQueryResult(o))}})})},t.prototype.useQuery=function(e){var n=this;this.renderPromises=Dr.useContext(jO()).renderPromises,this.useOptions(e);var r=this.useObservableQuery(),i=Poe(Dr.useCallback(function(s){if(n.renderPromises)return function(){};n.forceUpdate=s;var o=function(){var c=n.result,u=r.getCurrentResult();c&&c.loading===u.loading&&c.networkStatus===u.networkStatus&&Dt(c.data,u.data)||n.setResult(u)},a=function(c){if(l.unsubscribe(),l=r.resubscribeAfterError(o,a),!Moe.call(c,"graphQLErrors"))throw c;var u=n.result;(!u||u&&u.loading||!Dt(c,u.error))&&n.setResult({data:u&&u.data,error:c,loading:!1,networkStatus:St.error})},l=r.subscribe(o,a);return function(){setTimeout(function(){return l.unsubscribe()}),n.forceUpdate=function(){return n.forceUpdateState()}}},[r,this.renderPromises,this.client.disableNetworkFetches]),function(){return n.getCurrentResult()},function(){return n.getCurrentResult()});return this.unsafeHandlePartialRefetch(i),this.toQueryResult(i)},t.prototype.useOptions=function(e){var n,r=this.createWatchQueryOptions(this.queryHookOptions=e),i=this.watchQueryOptions;Dt(r,i)||(this.watchQueryOptions=r,i&&this.observable&&(this.observable.reobserve(this.getObsQueryOptions()),this.previousData=((n=this.result)===null||n===void 0?void 0:n.data)||this.previousData,this.result=void 0)),this.onCompleted=e.onCompleted||t.prototype.onCompleted,this.onError=e.onError||t.prototype.onError,(this.renderPromises||this.client.disableNetworkFetches)&&this.queryHookOptions.ssr===!1&&!this.queryHookOptions.skip?this.result=this.ssrDisabledResult:this.queryHookOptions.skip||this.watchQueryOptions.fetchPolicy==="standby"?this.result=this.skipStandbyResult:(this.result===this.ssrDisabledResult||this.result===this.skipStandbyResult)&&(this.result=void 0)},t.prototype.getObsQueryOptions=function(){var e=[],n=this.client.defaultOptions.watchQuery;return n&&e.push(n),this.queryHookOptions.defaultOptions&&e.push(this.queryHookOptions.defaultOptions),e.push(Fu(this.observable&&this.observable.options,this.watchQueryOptions)),e.reduce(px)},t.prototype.createWatchQueryOptions=function(e){var n;e===void 0&&(e={});var r=e.skip;e.ssr,e.onCompleted,e.onError,e.defaultOptions;var i=sa(e,["skip","ssr","onCompleted","onError","defaultOptions"]),s=Object.assign(i,{query:this.query});if(this.renderPromises&&(s.fetchPolicy==="network-only"||s.fetchPolicy==="cache-and-network")&&(s.fetchPolicy="cache-first"),s.variables||(s.variables={}),r){var o=s.fetchPolicy,a=o===void 0?this.getDefaultFetchPolicy():o,l=s.initialFetchPolicy,c=l===void 0?a:l;Object.assign(s,{initialFetchPolicy:c,fetchPolicy:"standby"})}else s.fetchPolicy||(s.fetchPolicy=((n=this.observable)===null||n===void 0?void 0:n.options.initialFetchPolicy)||this.getDefaultFetchPolicy());return s},t.prototype.getDefaultFetchPolicy=function(){var e,n;return((e=this.queryHookOptions.defaultOptions)===null||e===void 0?void 0:e.fetchPolicy)||((n=this.client.defaultOptions.watchQuery)===null||n===void 0?void 0:n.fetchPolicy)||"cache-first"},t.prototype.onCompleted=function(e){},t.prototype.onError=function(e){},t.prototype.useObservableQuery=function(){var e=this.observable=this.renderPromises&&this.renderPromises.getSSRObservable(this.watchQueryOptions)||this.observable||this.client.watchQuery(this.getObsQueryOptions());this.obsQueryFields=Dr.useMemo(function(){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}},[e]);var n=!(this.queryHookOptions.ssr===!1||this.queryHookOptions.skip);return this.renderPromises&&n&&(this.renderPromises.registerSSRObservable(e),e.getCurrentResult().loading&&this.renderPromises.addObservableQueryPromise(e)),e},t.prototype.setResult=function(e){var n=this.result;n&&n.data&&(this.previousData=n.data),this.result=e,this.forceUpdate(),this.handleErrorOrCompleted(e,n)},t.prototype.handleErrorOrCompleted=function(e,n){var r=this;if(!e.loading){var i=this.toApolloError(e);Promise.resolve().then(function(){i?r.onError(i):e.data&&(n==null?void 0:n.networkStatus)!==e.networkStatus&&e.networkStatus===St.ready&&r.onCompleted(e.data)}).catch(function(s){globalThis.__DEV__!==!1&&Ke.warn(s)})}},t.prototype.toApolloError=function(e){return Us(e.errors)?new Dl({graphQLErrors:e.errors}):e.error},t.prototype.getCurrentResult=function(){return this.result||this.handleErrorOrCompleted(this.result=this.observable.getCurrentResult()),this.result},t.prototype.toQueryResult=function(e){var n=this.toQueryResultCache.get(e);if(n)return n;var r=e.data;e.partial;var i=sa(e,["data","partial"]);return this.toQueryResultCache.set(e,n=re(re(re({data:r},i),this.obsQueryFields),{client:this.client,observable:this.observable,variables:this.observable.variables,called:!this.queryHookOptions.skip,previousData:this.previousData})),!n.error&&Us(e.errors)&&(n.error=new Dl({graphQLErrors:e.errors})),n},t.prototype.unsafeHandlePartialRefetch=function(e){e.partial&&this.queryHookOptions.partialRefetch&&!e.loading&&(!e.data||Object.keys(e.data).length===0)&&this.observable.options.fetchPolicy!=="cache-only"&&(Object.assign(e,{loading:!0,networkStatus:St.refetch}),this.observable.refetch())},t}(),Uoe=Math.PI/180;function Woe(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const qf=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Me={_global:qf,version:"8.4.3",isBrowser:Woe(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Me.angleDeg?t*Uoe:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Me.DD.isDragging},isDragReady(){return!!Me.DD.node},releaseCanvasOnDestroy:!0,document:qf.document,_injectGlobal(t){qf.Konva=t}},Tn=t=>{Me[t.prototype.getClassName()]=t};Me._injectGlobal(Me);let po=class T9{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new T9(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){var n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){var n=Math.cos(e),r=Math.sin(e),i=this.m[0]*n+this.m[2]*r,s=this.m[1]*n+this.m[3]*r,o=this.m[0]*-r+this.m[2]*n,a=this.m[1]*-r+this.m[3]*n;return this.m[0]=i,this.m[1]=s,this.m[2]=o,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){var r=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,s=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=s,this.m[3]=o,this}multiply(e){var n=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],s=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=o,this.m[5]=a,this}invert(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,i=-this.m[2]*e,s=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=o,this.m[5]=a,this}getMatrix(){return this.m}decompose(){var e=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],s=this.m[4],o=this.m[5],a=e*i-n*r;let l={x:s,y:o,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){var c=Math.sqrt(e*e+n*n);l.rotation=n>0?Math.acos(e/c):-Math.acos(e/c),l.scaleX=c,l.scaleY=a/c,l.skewX=(e*r+n*i)/a,l.skewY=0}else if(r!=0||i!=0){var u=Math.sqrt(r*r+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-r/u):-Math.acos(r/u)),l.scaleX=a/u,l.scaleY=u,l.skewX=0,l.skewY=(e*r+n*i)/a}return l.rotation=ne._getRotation(l.rotation),l}};var Goe="[object Array]",Hoe="[object Number]",qoe="[object String]",Koe="[object Boolean]",Xoe=Math.PI/180,Qoe=180/Math.PI,nT="#",Yoe="",Joe="0",Zoe="Konva warning: ",WL="Konva error: ",eae="rgb(",rT={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},tae=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,v1=[];const nae=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},ne={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===Goe},_isNumber(t){return Object.prototype.toString.call(t)===Hoe&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===qoe},_isBoolean(t){return Object.prototype.toString.call(t)===Koe},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;var e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){v1.push(t),v1.length===1&&nae(function(){const e=v1;v1=[],e.forEach(function(n){n()})})},createCanvasElement(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){var n=ne.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(nT,Yoe);var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){for(var t=(Math.random()*16777215<<0).toString(16);t.length<6;)t=Joe+t;return nT+t},getRGB(t){var e;return t in rT?(e=rT[t],{r:e[0],g:e[1],b:e[2]}):t[0]===nT?this._hexToRgb(t.substring(1)):t.substr(0,4)===eae?(e=tae.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",ne._namedColorToRBA(t)||ne._hex3ColorToRGBA(t)||ne._hex4ColorToRGBA(t)||ne._hex6ColorToRGBA(t)||ne._hex8ColorToRGBA(t)||ne._rgbColorToRGBA(t)||ne._rgbaColorToRGBA(t)||ne._hslColorToRGBA(t)},_namedColorToRBA(t){var e=rT[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];var e=t.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,i=Number(n[1])/100,s=Number(n[2])/100;let o,a,l;if(i===0)return l=s*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};s<.5?o=s*(1+i):o=s+i-s*i;const c=2*s-o,u=[0,0,0];for(let d=0;d<3;d++)a=r+1/3*-(d-1),a<0&&a++,a>1&&a--,6*a<1?l=c+(o-c)*6*a:2*a<1?l=o:3*a<2?l=c+(o-c)*(2/3-a)*6:l=c,u[d]=l*255;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){var e={};for(var n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*Xoe},radToDeg(t){return t*Qoe},_degToRad(t){return ne.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),ne.degToRad(t)},_radToDeg(t){return ne.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),ne.radToDeg(t)},_getRotation(t){return Me.angleDeg?ne.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(WL+t)},error(t){console.error(WL+t)},warn(t){Me.showWarnings&&console.warn(Zoe+t)},each(t,e){for(var n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,r,i,s){var o,a,l,c=(t-n)*(t-n)+(e-r)*(e-r);if(c==0)o=t,a=e,l=(i-n)*(i-n)+(s-r)*(s-r);else{var u=((i-t)*(n-t)+(s-e)*(r-e))/c;u<0?(o=t,a=e,l=(t-i)*(t-i)+(e-s)*(e-s)):u>1?(o=n,a=r,l=(n-i)*(n-i)+(r-s)*(r-s)):(o=t+u*(n-t),a=e+u*(r-e),l=(o-i)*(o-i)+(a-s)*(a-s))}return[o,a,l]},_getProjectionToLine(t,e,n){var r=ne.cloneObject(t),i=Number.MAX_VALUE;return e.forEach(function(s,o){if(!(!n&&o===e.length-1)){var a=e[(o+1)%e.length],l=ne._getProjectionToSegment(s.x,s.y,a.x,a.y,t.x,t.y),c=l[0],u=l[1],d=l[2];d<i&&(r.x=c,r.y=u,i=d)}}),r},_prepareArrayForTween(t,e,n){var r,i=[],s=[];if(t.length>e.length){var o=e;e=t,t=o}for(r=0;r<t.length;r+=2)i.push({x:t[r],y:t[r+1]});for(r=0;r<e.length;r+=2)s.push({x:e[r],y:e[r+1]});var a=[];return s.forEach(function(l){var c=ne._getProjectionToLine(l,i,n);a.push(c.x),a.push(c.y)}),a},_prepareToStringify(t){var e;t.visitedByCircularReferenceRemoval=!0;for(var n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||ne._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(ne._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){Me.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,r){let i=0,s=0,o=0,a=0;typeof r=="number"?i=s=o=a=Math.min(r,e/2,n/2):(i=Math.min(r[0]||0,e/2,n/2),s=Math.min(r[1]||0,e/2,n/2),a=Math.min(r[2]||0,e/2,n/2),o=Math.min(r[3]||0,e/2,n/2)),t.moveTo(i,0),t.lineTo(e-s,0),t.arc(e-s,s,s,Math.PI*3/2,0,!1),t.lineTo(e,n-a),t.arc(e-a,n-a,a,0,Math.PI/2,!1),t.lineTo(o,n),t.arc(o,n-o,o,Math.PI/2,Math.PI,!1),t.lineTo(0,i),t.arc(i,i,i,Math.PI,Math.PI*3/2,!1)}};function Ec(t){return ne._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||ne._isBoolean(t)?t:Object.prototype.toString.call(t)}function _9(t){return t>255?255:t<0?0:Math.round(t)}function Se(){if(Me.isUnminified)return function(t,e){return ne._isNumber(t)||ne.warn(Ec(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function VO(t){if(Me.isUnminified)return function(e,n){let r=ne._isNumber(e),i=ne._isArray(e)&&e.length==t;return!r&&!i&&ne.warn(Ec(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function UO(){if(Me.isUnminified)return function(t,e){var n=ne._isNumber(t),r=t==="auto";return n||r||ne.warn(Ec(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Wh(){if(Me.isUnminified)return function(t,e){return ne._isString(t)||ne.warn(Ec(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function I9(){if(Me.isUnminified)return function(t,e){const n=ne._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||ne.warn(Ec(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function rae(){if(Me.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(ne._isArray(t)?t.forEach(function(r){ne._isNumber(r)||ne.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):ne.warn(Ec(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Co(){if(Me.isUnminified)return function(t,e){var n=t===!0||t===!1;return n||ne.warn(Ec(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function iae(t){if(Me.isUnminified)return function(e,n){return e==null||ne.isObject(e)||ne.warn(Ec(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}var nm="get",rm="set";const G={addGetterSetter(t,e,n,r,i){G.addGetter(t,e,n),G.addSetter(t,e,r,i),G.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){var r=nm+ne._capitalize(e);t.prototype[r]=t.prototype[r]||function(){var i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,r){var i=rm+ne._capitalize(e);t.prototype[i]||G.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){var i=rm+ne._capitalize(e);t.prototype[i]=function(s){return n&&s!==void 0&&s!==null&&(s=n.call(this,s,e)),this._setAttr(e,s),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,i){var s=n.length,o=ne._capitalize,a=nm+o(e),l=rm+o(e),c,u;t.prototype[a]=function(){var f={};for(c=0;c<s;c++)u=n[c],f[u]=this.getAttr(e+o(u));return f};var d=iae(n);t.prototype[l]=function(f){var h=this.attrs[e],m;r&&(f=r.call(this,f)),d&&d.call(this,f,e);for(m in f)f.hasOwnProperty(m)&&this._setAttr(e+o(m),f[m]);return f||n.forEach(y=>{this._setAttr(e+o(y),void 0)}),this._fireChangeEvent(e,h,f),i&&i.call(this),this},G.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){var n=ne._capitalize(e),r=rm+n,i=nm+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,r){ne.error("Adding deprecated "+e);var i=nm+ne._capitalize(e),s=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){ne.error(s);var o=this.attrs[e];return o===void 0?n:o},G.addSetter(t,e,r,function(){ne.error(s)}),G.addOverloadedGetterSetter(t,e)},backCompat(t,e){ne.each(e,function(n,r){var i=t.prototype[r],s=nm+ne._capitalize(n),o=rm+ne._capitalize(n);function a(){i.apply(this,arguments),ne.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=a,t.prototype[s]=a,t.prototype[o]=a})},afterSetFilter(){this._filterUpToDate=!1}};function sae(t){var e=[],n=t.length,r=ne,i,s;for(i=0;i<n;i++)s=t[i],r._isNumber(s)?s=Math.round(s*1e3)/1e3:r._isString(s)||(s=s+""),e.push(s);return e}var GL=",",oae="(",aae=")",lae="([",cae="])",uae=";",dae="()",fae="=",HL=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],hae=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const pae=100;let i2=class{constructor(e){this.canvas=e,Me.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){var r=this.traceArr,i=r.length,s="",o,a,l,c;for(o=0;o<i;o++)a=r[o],l=a.method,l?(c=a.args,s+=l,e?s+=dae:ne._isArray(c[0])?s+=lae+c.join(GL)+cae:(n&&(c=c.map(u=>typeof u=="number"?Math.floor(u):u)),s+=oae+c.join(GL)+aae)):(s+=a.property,e||(s+=fae+a.val)),s+=uae;return s}clearTrace(){this.traceArr=[]}_trace(e){var n=this.traceArr,r;n.push(e),r=n.length,r>=pae&&n.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){var n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,i,s,o){this._context.arc(e,n,r,i,s,o)}arcTo(e,n,r,i,s){this._context.arcTo(e,n,r,i,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,i,s,o){this._context.bezierCurveTo(e,n,r,i,s,o)}clearRect(e,n,r,i){this._context.clearRect(e,n,r,i)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(e,n){var r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,i){return this._context.createLinearGradient(e,n,r,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,i,s,o){return this._context.createRadialGradient(e,n,r,i,s,o)}drawImage(e,n,r,i,s,o,a,l,c){var u=arguments,d=this._context;u.length===3?d.drawImage(e,n,r):u.length===5?d.drawImage(e,n,r,i,s):u.length===9&&d.drawImage(e,n,r,i,s,o,a,l,c)}ellipse(e,n,r,i,s,o,a,l){this._context.ellipse(e,n,r,i,s,o,a,l)}isPointInPath(e,n,r,i){return r?this._context.isPointInPath(r,e,n,i):this._context.isPointInPath(e,n,i)}fill(e){e?this._context.fill(e):this._context.fill()}fillRect(e,n,r,i){this._context.fillRect(e,n,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e,n,r,i)}fillText(e,n,r,i){i?this._context.fillText(e,n,r,i):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,i){return this._context.getImageData(e,n,r,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,i){this._context.rect(e,n,r,i)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,i,s,o){this._context.setTransform(e,n,r,i,s,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,i){this._context.strokeText(e,n,r,i)}transform(e,n,r,i,s,o){this._context.transform(e,n,r,i,s,o)}translate(e,n){this._context.translate(e,n)}_enableTrace(){var e=this,n=HL.length,r=this.setAttr,i,s,o=function(a){var l=e[a],c;e[a]=function(){return s=sae(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:a,args:s}),c}};for(i=0;i<n;i++)o(HL[i]);e.setAttr=function(){r.apply(e,arguments);var a=arguments[0],l=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:a,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;var r=!n||n==="source-over";r||this.setAttr("globalCompositeOperation",n)}};hae.forEach(function(t){Object.defineProperty(i2.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class mae extends i2{constructor(e){super(e),this._context=e._canvas.getContext("2d")}_fillColor(e){var n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}const s=e.getFillLinearGradientColorStops();if(s&&r==="linear-gradient"){this._fillLinearGradient(e);return}const o=e.getFillRadialGradientColorStops();if(o&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):s?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(var o=0;o<i.length;o+=2)s.addColorStop(i[o],i[o+1]);this.setAttr("strokeStyle",s)}}_stroke(e){var n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var s=e.getStrokeLinearGradientColorStops();s?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,i,s=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",o=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,a=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),u=l.x*c,d=l.y*c;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",o*Math.min(Math.abs(u),Math.abs(d))),this.setAttr("shadowOffsetX",a.x*u),this.setAttr("shadowOffsetY",a.y*d)}}class gae extends i2{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const s=e.getStrokeScaleEnabled();if(!s){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(e);var r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),s||this.restore()}}}var x1;function yae(){if(x1)return x1;var t=ne.createCanvasElement(),e=t.getContext("2d");return x1=function(){var n=Me._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r}(),ne.releaseCanvas(t),x1}class s2{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var n=e||{},r=n.pixelRatio||Me.pixelRatio||yae();this.pixelRatio=r,this._canvas=ne.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var n=this.pixelRatio,r=this.getContext()._context;r.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var n=this.pixelRatio,r=this.getContext()._context;r.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return ne.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}G.addGetterSetter(s2,"pixelRatio",void 0,Se());class Kf extends s2{constructor(e={width:0,height:0}){super(e),this.context=new mae(this),this.setSize(e.width,e.height)}}class WO extends s2{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new gae(this),this.setSize(e.width,e.height)}}const It={get isDragging(){var t=!1;return It._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){var t;return It._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];It._dragElements.forEach((n,r)=>{const{node:i}=n,s=i.getStage();s.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=ne._getFirstPointerId(t));const o=s._changedPointerPositions.find(c=>c.id===n.pointerId);if(o){if(n.dragStatus!=="dragging"){var a=i.dragDistance(),l=Math.max(Math.abs(o.x-n.startPointerPos.x),Math.abs(o.y-n.startPointerPos.y));if(l<a||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];It._dragElements.forEach(n=>{const{node:r}=n,i=r.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(a=>a.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(It.justDragged=!0,Me._mouseListenClick=!1,Me._touchListenClick=!1,Me._pointerListenClick=!1,n.dragStatus="stopped");const o=n.node.getLayer()||n.node instanceof Me.Stage&&n.node;o&&e.indexOf(o)===-1&&e.push(o)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){It._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&It._dragElements.delete(n)})}};Me.isBrowser&&(window.addEventListener("mouseup",It._endDragBefore,!0),window.addEventListener("touchend",It._endDragBefore,!0),window.addEventListener("mousemove",It._drag),window.addEventListener("touchmove",It._drag),window.addEventListener("mouseup",It._endDragAfter,!1),window.addEventListener("touchend",It._endDragAfter,!1));var vx="absoluteOpacity",b1="allEventListeners",Ca="absoluteTransform",qL="absoluteScale",Xc="canvas",vae="Change",xae="children",bae="konva",$I="listening",KL="mouseenter",XL="mouseleave",QL="set",YL="Shape",xx=" ",JL="stage",Nl="transform",wae="Stage",NI="visible",Sae=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(xx);let kae=1;class we{constructor(e){this._id=kae++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Nl||e===Ca)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){var r=this._cache.get(e),i=e===Nl||e===Ca,s=r===void 0||i&&r.dirty===!0;return s&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const i=n.map(s=>s+"Change.konva").join(xx);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Xc)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Ca&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Xc)){const{scene:e,filter:n,hit:r}=this._cache.get(Xc);ne.releaseCanvas(e,n,r),this._cache.delete(Xc)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var n=e||{},r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(n.width||r.width),s=Math.ceil(n.height||r.height),o=n.pixelRatio,a=n.x===void 0?Math.floor(r.x):n.x,l=n.y===void 0?Math.floor(r.y):n.y,c=n.offset||0,u=n.drawBorder||!1,d=n.hitCanvasPixelRatio||1;if(!i||!s){ne.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}i+=c*2+1,s+=c*2+1,a-=c,l-=c;var f=new Kf({pixelRatio:o,width:i,height:s}),h=new Kf({pixelRatio:o,width:0,height:0}),m=new WO({pixelRatio:d,width:i,height:s}),y=f.getContext(),x=m.getContext();return m.isCache=!0,f.isCache=!0,this._cache.delete(Xc),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(f.getContext()._context.imageSmoothingEnabled=!1,h.getContext()._context.imageSmoothingEnabled=!1),y.save(),x.save(),y.translate(-a,-l),x.translate(-a,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(vx),this._clearSelfAndDescendantCache(qL),this.drawScene(f,this),this.drawHit(m,this),this._isUnderCache=!1,y.restore(),x.restore(),u&&(y.save(),y.beginPath(),y.rect(0,0,i,s),y.closePath(),y.setAttr("strokeStyle","red"),y.setAttr("lineWidth",5),y.stroke(),y.restore()),this._cache.set(Xc,{scene:f,filter:h,hit:m,x:a,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Xc)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){var r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i,s,o,a,l=this.getAbsoluteTransform(n);return r.forEach(function(c){var u=l.point(c);i===void 0&&(i=o=u.x,s=a=u.y),i=Math.min(i,u.x),s=Math.min(s,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}),{x:i,y:s,width:o-i,height:a-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);var r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){var n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,s=i.getContext(),o,a,l,c;if(e){if(!this._filterUpToDate){var u=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(o=e.length,s.clear(),s.drawImage(r._canvas,0,0,r.getWidth()/u,r.getHeight()/u),a=s.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<o;l++){if(c=e[l],typeof c!="function"){ne.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,a),s.putImageData(a,0,0)}}catch(d){ne.error("Unable to apply filter. "+d.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(e,n){if(this._cache&&this._cache.delete(b1),arguments.length===3)return this._delegate.apply(this,arguments);var r=e.split(xx),i=r.length,s,o,a,l,c;for(s=0;s<i;s++)o=r[s],a=o.split("."),l=a[0],c=a[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:c,handler:n});return this}off(e,n){var r=(e||"").split(xx),i=r.length,s,o,a,l,c,u;if(this._cache&&this._cache.delete(b1),!e)for(o in this.eventListeners)this._off(o);for(s=0;s<i;s++)if(a=r[s],l=a.split("."),c=l[0],u=l[1],c)this.eventListeners[c]&&this._off(c,u,n);else for(o in this.eventListeners)this._off(o,u,n);return this}dispatchEvent(e){var n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){var i=this;this.on(e,function(s){for(var o=s.target.findAncestors(n,!0,i),a=0;a<o.length;a++)s=ne.cloneObject(s),s.currentTarget=o[a],r.call(o[a],s)})}remove(){return this.isDragging()&&this.stopDrag(),It._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Ca),this._clearSelfAndDescendantCache(vx),this._clearSelfAndDescendantCache(qL),this._clearSelfAndDescendantCache(JL),this._clearSelfAndDescendantCache(NI),this._clearSelfAndDescendantCache($I)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){var n="get"+ne._capitalize(e);return ne._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),n=[];e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var n,r;if(!e)return this;for(n in e)n!==xae&&(r=QL+ne._capitalize(n),ne._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache($I,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(NI,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);var r=this.getLayer(),i=!1;It._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(o.node.nodeType==="Stage"||o.node.getLayer()===r)&&(i=!0)});var s=!n&&!Me.hitOnDragEnabled&&i;return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e=this.getDepth(),n=this,r=0,i,s,o,a;function l(c){for(i=[],s=c.length,o=0;o<s;o++)a=c[o],r++,a.nodeType!==YL&&(i=i.concat(a.getChildren().slice())),a._id===n._id&&(o=s);i.length>0&&i[0].getDepth()<=e&&l(i)}return n.nodeType!==wae&&l(n.getStage().getChildren()),r}getDepth(){for(var e=0,n=this.parent;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Nl),this._clearSelfAndDescendantCache(Ca)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var n=this.getAbsoluteTransform().copy();return n.invert(),n.point(e)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);var i=this.getAbsoluteTransform(e).getMatrix(),s=new po,o=this.offset();return s.m=i.slice(),s.translate(o.x,o.y),s.getTranslation()}setAbsolutePosition(e){var n=this._clearTransform();this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,this._clearCache(Nl);var r=this._getAbsoluteTransform().copy();return r.invert(),r.translate(e.x,e.y),e={x:this.attrs.x+r.getTranslation().x,y:this.attrs.y+r.getTranslation().y},this._setTransform(n),this.setPosition({x:e.x,y:e.y}),this._clearCache(Nl),this._clearSelfAndDescendantCache(Ca),this}_setTransform(e){var n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var n=e.x,r=e.y,i=this.x(),s=this.y();return n!==void 0&&(i+=n),r!==void 0&&(s+=r),this.setPosition({x:i,y:s}),this}_eachAncestorReverse(e,n){var r=[],i=this.getParent(),s,o;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(s=r.length,o=0;o<s;o++)e(r[o])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return ne.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return ne.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return ne.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return ne.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return ne.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&ne.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(vx,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e={},n=this.getAttrs(),r,i,s,o,a;e.attrs={};for(r in n)i=n[r],a=ne.isObject(i)&&!ne._isPlainObject(i)&&!ne._isArray(i),!a&&(s=typeof this[r]=="function"&&this[r],delete n[r],o=s?s.call(this):null,n[r]=i,o!==i&&(e.attrs[r]=i));return e.className=this.getClassName(),ne._prepareToStringify(e)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){var i=[];n&&this._isMatch(e)&&i.push(this);for(var s=this.parent;s;){if(s===r)return i;s._isMatch(e)&&i.push(s),s=s.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var n=e.replace(/ /g,"").split(","),r=n.length,i,s;for(i=0;i<r;i++)if(s=n[i],ne.isValidSelector(s)||(ne.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),ne.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),ne.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(JL,this._getStage)}_getStage(){var e=this.getParent();if(e)return e.getStage()}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Ca,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var n;if(e)return n=new po,this._eachAncestorReverse(function(i){var s=i.transformsEnabled();s==="all"?n.multiply(i.getTransform()):s==="position"&&n.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},e),n;n=this._cache.get(Ca)||new po,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();var r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,s=this.attrs.y||0,o=this.attrs.offsetX||0,a=this.attrs.offsetY||0;n.translate(i-o,s-a)}return n.dirty=!1,n}getAbsoluteScale(e){for(var n=this;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Nl,this._getTransform)}_getTransform(){var e,n,r=this._cache.get(Nl)||new po;r.reset();var i=this.x(),s=this.y(),o=Me.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,c=this.attrs.skewX||0,u=this.attrs.skewY||0,d=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return(i!==0||s!==0)&&r.translate(i,s),o!==0&&r.rotate(o),(c!==0||u!==0)&&r.skew(c,u),(a!==1||l!==1)&&r.scale(a,l),(d!==0||f!==0)&&r.translate(-1*d,-1*f),r.dirty=!1,r}clone(e){var n=ne.cloneObject(this.attrs),r,i,s,o,a;for(r in e)n[r]=e[r];var l=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],s=i.length,o=0;o<s;o++)a=i[o],a.name.indexOf(bae)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(a));return l}_toKonvaCanvas(e){e=e||{};var n=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),s=e.y!==void 0?e.y:Math.floor(n.y),o=e.pixelRatio||1,a=new Kf({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:o}),l=a.getContext();return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||s)&&l.translate(-1*i,-1*s),this.drawScene(a),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};var n=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,ne._urlToImage(this.toDataURL(e),function(s){n(s),i==null||i(s)})}catch(i){r(i)}})}toBlob(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,this.toCanvas(e).toBlob(s=>{n(s),i==null||i(s)})}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Me.dragDistance}_off(e,n,r){var i=this.eventListeners[e],s,o,a;for(s=0;s<i.length;s++)if(o=i[s].name,a=i[s].handler,(o!=="konva"||n==="konva")&&(!n||o===n)&&(!r||r===a)){if(i.splice(s,1),i.length===0){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,n,r){this._fire(e+vae,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){var n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();if(!n)return!1;var r=(n||"").split(/\s/g);return r.indexOf(e)!==-1}removeName(e){var n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){var r=this[QL+ne._capitalize(e)];return ne._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Me.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){var r=this.attrs[e];r===n&&!ne.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){var i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,n,r){n&&this.nodeType===YL&&(n.target=this);var i=(e===KL||e===XL)&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r);if(!i){this._fire(e,n);var s=(e===KL||e===XL)&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!s&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){let n=this._cache.get(b1);if(!n){n={};let i=Object.getPrototypeOf(this);for(;i;){if(!i.eventListeners){i=Object.getPrototypeOf(i);continue}for(var r in i.eventListeners){const s=i.eventListeners[r],o=n[r]||[];n[r]=s.concat(o)}i=Object.getPrototypeOf(i)}this._cache.set(b1,n)}return n[e]}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(var i=0;i<r.length;i++)r[i].handler.call(this,n);const s=this.eventListeners[e];if(s)for(var i=0;i<s.length;i++)s[i].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var n=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition(),s=r._getPointerById(n)||r._changedPointerPositions[0]||i;It._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-i.x,y:s.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){It._dragElements.has(this._id)||this._createDragElement(e);const r=It._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(r){var i={x:r.x-n.offset.x,y:r.y-n.offset.y},s=this.dragBoundFunc();if(s!==void 0){const o=s.call(this,i,e);o?i=o:ne.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}}stopDrag(e){const n=It._dragElements.get(this._id);n&&(n.dragStatus="stopped"),It._endDragBefore(e),It._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=It._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){var n=e.evt.button!==void 0,r=!n||Me.dragButtons.indexOf(e.evt.button)>=0;if(r&&!this.isDragging()){var i=!1;It._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(i=!0)}),i||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage();if(!e)return;const n=It._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&It._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return ne.haveIntersection(r,this.getClientRect())}static create(e,n){return ne._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){var r=we.prototype.getClassName.call(e),i=e.children,s,o,a;n&&(e.attrs.container=n),Me[r]||(ne.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const l=Me[r];if(s=new l(e.attrs),i)for(o=i.length,a=0;a<o;a++)s.add(we._createNode(i[a]));return s}}we.prototype.nodeType="Node";we.prototype._attrsAffectingSize=[];we.prototype.eventListeners={};we.prototype.on.call(we.prototype,Sae,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Nl),this._clearSelfAndDescendantCache(Ca)});we.prototype.on.call(we.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(NI)});we.prototype.on.call(we.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache($I)});we.prototype.on.call(we.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(vx)});const Ht=G.addGetterSetter;Ht(we,"zIndex");Ht(we,"absolutePosition");Ht(we,"position");Ht(we,"x",0,Se());Ht(we,"y",0,Se());Ht(we,"globalCompositeOperation","source-over",Wh());Ht(we,"opacity",1,Se());Ht(we,"name","",Wh());Ht(we,"id","",Wh());Ht(we,"rotation",0,Se());G.addComponentsGetterSetter(we,"scale",["x","y"]);Ht(we,"scaleX",1,Se());Ht(we,"scaleY",1,Se());G.addComponentsGetterSetter(we,"skew",["x","y"]);Ht(we,"skewX",0,Se());Ht(we,"skewY",0,Se());G.addComponentsGetterSetter(we,"offset",["x","y"]);Ht(we,"offsetX",0,Se());Ht(we,"offsetY",0,Se());Ht(we,"dragDistance",null,Se());Ht(we,"width",0,Se());Ht(we,"height",0,Se());Ht(we,"listening",!0,Co());Ht(we,"preventDefault",!0,Co());Ht(we,"filters",null,function(t){return this._filterUpToDate=!1,t});Ht(we,"visible",!0,Co());Ht(we,"transformsEnabled","all",Wh());Ht(we,"size");Ht(we,"dragBoundFunc");Ht(we,"draggable",!1,Co());G.backCompat(we,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class ss extends we{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const n=this.children||[];var r=[];return n.forEach(function(i){e(i)&&r.push(i)}),r}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(var n=0;n<e.length;n++)this.add(e[n]);return this}const r=e[0];return r.getParent()?(r.moveTo(this),this):(this._validateAdd(r),r.index=this.getChildren().length,r.parent=this,r._clearCaches(),this.getChildren().push(r),this._fire("add",{child:r}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){var r=[];return this._descendants(i=>{const s=i._isMatch(e);return s&&r.push(i),!!(s&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const i of r){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){var e=we.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){for(var n=e.getParent();n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){var n=we.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){var n=[];return this.find("Shape").forEach(function(r){r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n){var r=this.getLayer(),i=e||r&&r.getCanvas(),s=i&&i.getContext(),o=this._getCanvasCache(),a=o&&o.scene,l=i&&i.isCache;if(!this.isVisible()&&!l)return this;if(a){s.save();var c=this.getAbsoluteTransform(n).getMatrix();s.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",i,n);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;var r=this.getLayer(),i=e||r&&r.hitCanvas,s=i&&i.getContext(),o=this._getCanvasCache(),a=o&&o.hit;if(a){s.save();var l=this.getAbsoluteTransform(n).getMatrix();s.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,r){var i,s=n&&n.getContext(),o=this.clipWidth(),a=this.clipHeight(),l=this.clipFunc(),c=o&&a||l;const u=r===this;if(c){s.save();var d=this.getAbsoluteTransform(r),f=d.getMatrix();if(s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),s.beginPath(),l)l.call(this,s,this);else{var h=this.clipX(),m=this.clipY();s.rect(h,m,o,a)}s.clip(),f=d.copy().invert().getMatrix(),s.transform(f[0],f[1],f[2],f[3],f[4],f[5])}var y=!u&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";y&&(s.save(),s._applyGlobalCompositeOperation(this)),(i=this.children)===null||i===void 0||i.forEach(function(x){x[e](n,r)}),y&&s.restore(),c&&s.restore()}getClientRect(e){var n;e=e||{};var r=e.skipTransform,i=e.relativeTo,s,o,a,l,c={x:1/0,y:1/0,width:0,height:0},u=this;(n=this.children)===null||n===void 0||n.forEach(function(y){if(y.visible()){var x=y.getClientRect({relativeTo:u,skipShadow:e.skipShadow,skipStroke:e.skipStroke});x.width===0&&x.height===0||(s===void 0?(s=x.x,o=x.y,a=x.x+x.width,l=x.y+x.height):(s=Math.min(s,x.x),o=Math.min(o,x.y),a=Math.max(a,x.x+x.width),l=Math.max(l,x.y+x.height)))}});for(var d=this.find("Shape"),f=!1,h=0;h<d.length;h++){var m=d[h];if(m._isVisible(this)){f=!0;break}}return f&&s!==void 0?c={x:s,y:o,width:a-s,height:l-o}:c={x:0,y:0,width:0,height:0},r?c:this._transformedRect(c,i)}}G.addComponentsGetterSetter(ss,"clip",["x","y","width","height"]);G.addGetterSetter(ss,"clipX",void 0,Se());G.addGetterSetter(ss,"clipY",void 0,Se());G.addGetterSetter(ss,"clipWidth",void 0,Se());G.addGetterSetter(ss,"clipHeight",void 0,Se());G.addGetterSetter(ss,"clipFunc");const Ng=new Map,$9=Me._global.PointerEvent!==void 0;function iT(t){return Ng.get(t)}function GO(t){return{evt:t,pointerId:t.pointerId}}function N9(t,e){return Ng.get(t)===e}function O9(t,e){Km(t),e.getStage()&&(Ng.set(t,e),$9&&e._fire("gotpointercapture",GO(new PointerEvent("gotpointercapture"))))}function Km(t,e){const n=Ng.get(t);if(!n)return;const r=n.getStage();r&&r.content,Ng.delete(t),$9&&n._fire("lostpointercapture",GO(new PointerEvent("lostpointercapture")))}var Cae="Stage",Eae="string",ZL="px",Tae="mouseout",R9="mouseleave",A9="mouseover",P9="mouseenter",D9="mousemove",F9="mousedown",L9="mouseup",xm="pointermove",bm="pointerdown",Af="pointerup",wm="pointercancel",_ae="lostpointercapture",w1="pointerout",S1="pointerleave",k1="pointerover",C1="pointerenter",OI="contextmenu",M9="touchstart",B9="touchend",z9="touchmove",j9="touchcancel",RI="wheel",Iae=5,$ae=[[P9,"_pointerenter"],[F9,"_pointerdown"],[D9,"_pointermove"],[L9,"_pointerup"],[R9,"_pointerleave"],[M9,"_pointerdown"],[z9,"_pointermove"],[B9,"_pointerup"],[j9,"_pointercancel"],[A9,"_pointerover"],[RI,"_wheel"],[OI,"_contextmenu"],[bm,"_pointerdown"],[xm,"_pointermove"],[Af,"_pointerup"],[wm,"_pointercancel"],[_ae,"_lostpointercapture"]];const sT={mouse:{[w1]:Tae,[S1]:R9,[k1]:A9,[C1]:P9,[xm]:D9,[bm]:F9,[Af]:L9,[wm]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[w1]:"touchout",[S1]:"touchleave",[k1]:"touchover",[C1]:"touchenter",[xm]:z9,[bm]:M9,[Af]:B9,[wm]:j9,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[w1]:w1,[S1]:S1,[k1]:k1,[C1]:C1,[xm]:xm,[bm]:bm,[Af]:Af,[wm]:wm,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Sm=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",zd=t=>{const e=Sm(t);if(e==="pointer")return Me.pointerEventsEnabled&&sT.pointer;if(e==="touch")return sT.touch;if(e==="mouse")return sT.mouse};function e5(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&ne.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const Nae="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",bx=[];let o2=class extends ss{constructor(e){super(e5(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),bx.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{e5(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",r=e.getType()==="FastLayer";n||r||ne.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===Eae){if(e.charAt(0)==="."){var n=e.slice(1);e=document.getElementsByClassName(n)[0]}else{var r;e.charAt(0)!=="#"?r=e:r=e.slice(1),e=document.getElementById(r)}if(!e)throw"Can not find container in document with id "+r}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var e=this.children,n=e.length,r;for(r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),ss.prototype.clone.call(this,e)}destroy(){super.destroy();var e=this.content;e&&ne._isInDocument(e)&&this.container().removeChild(e);var n=bx.indexOf(this);return n>-1&&bx.splice(n,1),ne.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(ne.warn(Nae),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e=e||{},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var n=new Kf({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,i=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),i.forEach(function(s){if(s.isVisible()){var o=s._toKonvaCanvas(e);r.drawImage(o._canvas,e.x,e.y,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}}),n}getIntersection(e){if(!e)return null;var n=this.children,r=n.length,i=r-1,s;for(s=i;s>=0;s--){const o=n[s].getIntersection(e);if(o)return o}return null}_resizeDOM(){var e=this.width(),n=this.height();this.content&&(this.content.style.width=e+ZL,this.content.style.height=n+ZL),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}super.add(e);var i=this.children.length;return i>Iae&&ne.warn("The stage has "+i+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Me.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return N9(e,this)}setPointerCapture(e){O9(e,this)}releaseCapture(e){Km(e)}getLayers(){return this.children}_bindContentEvents(){Me.isBrowser&&$ae.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=zd(e.type);this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=zd(e.type);this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=zd(e.type),r=Sm(e.type);if(n){this.setPointersPositions(e);var i=this._getTargetShape(r),s=!It.isDragging||Me.hitOnDragEnabled;i&&s?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):s&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(e){const n=zd(e.type),r=Sm(e.type);if(n){this.setPointersPositions(e);var i=!1;this._changedPointerPositions.forEach(s=>{var o=this.getIntersection(s);if(It.justDragged=!1,Me["_"+r+"ListenClick"]=!0,!(o&&o.isListening()))return;Me.capturePointerEventsEnabled&&o.setPointerCapture(s.id),this[r+"ClickStartShape"]=o,o._fireAndBubble(n.pointerdown,{evt:e,pointerId:s.id}),i=!0;const l=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&l&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(e){const n=zd(e.type),r=Sm(e.type);if(!n)return;It.isDragging&&It.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e);var i=!It.isDragging||Me.hitOnDragEnabled;if(!i)return;var s={};let o=!1;var a=this._getTargetShape(r);this._changedPointerPositions.forEach(l=>{const c=iT(l.id)||this.getIntersection(l),u=l.id,d={evt:e,pointerId:u};var f=a!==c;if(f&&a&&(a._fireAndBubble(n.pointerout,Object.assign({},d),c),a._fireAndBubble(n.pointerleave,Object.assign({},d),c)),c){if(s[c._id])return;s[c._id]=!0}c&&c.isListening()?(o=!0,f&&(c._fireAndBubble(n.pointerover,Object.assign({},d),a),c._fireAndBubble(n.pointerenter,Object.assign({},d),a),this[r+"targetShape"]=c),c._fireAndBubble(n.pointermove,Object.assign({},d))):a&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:u}),this[r+"targetShape"]=null)}),o||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=zd(e.type),r=Sm(e.type);if(!n)return;this.setPointersPositions(e);const i=this[r+"ClickStartShape"],s=this[r+"ClickEndShape"];var o={};let a=!1;this._changedPointerPositions.forEach(l=>{const c=iT(l.id)||this.getIntersection(l);if(c){if(c.releaseCapture(l.id),o[c._id])return;o[c._id]=!0}const u=l.id,d={evt:e,pointerId:u};let f=!1;Me["_"+r+"InDblClickWindow"]?(f=!0,clearTimeout(this[r+"DblTimeout"])):It.justDragged||(Me["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){Me["_"+r+"InDblClickWindow"]=!1},Me.dblClickWindow),c&&c.isListening()?(a=!0,this[r+"ClickEndShape"]=c,c._fireAndBubble(n.pointerup,Object.assign({},d)),Me["_"+r+"ListenClick"]&&i&&i===c&&(c._fireAndBubble(n.pointerclick,Object.assign({},d)),f&&s&&s===c&&c._fireAndBubble(n.pointerdblclick,Object.assign({},d)))):(this[r+"ClickEndShape"]=null,Me["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:u}),f&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:u}))}),a||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Me["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);var n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(OI,{evt:e}):this._fire(OI,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);var n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(RI,{evt:e}):this._fire(RI,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=iT(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(Af,GO(e)),Km(e.pointerId)}_lostpointercapture(e){Km(e.pointerId)}setPointersPositions(e){var n=this._getContentPosition(),r=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,s=>{this._pointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,s=>{this._changedPointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})})):(r=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:ne._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:ne._getFirstPointerId(e)}])}_setPointerPosition(e){ne.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new Kf({width:this.width(),height:this.height()}),this.bufferHitCanvas=new WO({pixelRatio:1,width:this.width(),height:this.height()}),!!Me.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}cache(){return ne.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};o2.prototype.nodeType=Cae;Tn(o2);G.addGetterSetter(o2,"container");var V9="hasShadow",U9="shadowRGBA",W9="patternImage",G9="linearGradient",H9="radialGradient";let E1;function oT(){return E1||(E1=ne.createCanvasElement().getContext("2d"),E1)}const Xm={};function Oae(t){t.fill()}function Rae(t){t.stroke()}function Aae(t){t.fill()}function Pae(t){t.stroke()}function Dae(){this._clearCache(V9)}function Fae(){this._clearCache(U9)}function Lae(){this._clearCache(W9)}function Mae(){this._clearCache(G9)}function Bae(){this._clearCache(H9)}let ve=class extends we{constructor(e){super(e);let n;for(;n=ne.getRandomColor(),!(n&&!(n in Xm)););this.colorKey=n,Xm[n]=this}getContext(){return ne.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return ne.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(V9,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(W9,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var e=oT();const n=e.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new po;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(Me.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=r.getMatrix(),s=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(s)}return n}}_getLinearGradient(){return this._getCache(G9,this.__getLinearGradient)}__getLinearGradient(){var e=this.fillLinearGradientColorStops();if(e){for(var n=oT(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),s=n.createLinearGradient(r.x,r.y,i.x,i.y),o=0;o<e.length;o+=2)s.addColorStop(e[o],e[o+1]);return s}}_getRadialGradient(){return this._getCache(H9,this.__getRadialGradient)}__getRadialGradient(){var e=this.fillRadialGradientColorStops();if(e){for(var n=oT(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),s=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius()),o=0;o<e.length;o+=2)s.addColorStop(e[o],e[o+1]);return s}}getShadowRGBA(){return this._getCache(U9,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var e=ne.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){var n=this.getStage(),r=n.bufferHitCanvas,i;return r.getContext().clear(),this.drawHit(r,null,!0),i=r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data,i[3]>0}destroy(){return we.prototype.destroy.call(this),delete Xm[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!this.getStage()||!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=e||this.hasFill(),s=this.hasStroke(),o=this.getAbsoluteOpacity()!==1;if(i&&s&&o)return!0;const a=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&s&&a&&l)}setStrokeHitEnabled(e){ne.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){const n=e.skipTransform,r=e.relativeTo,i=this.getSelfRect(),o=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,a=i.width+o,l=i.height+o,c=!e.skipShadow&&this.hasShadow(),u=c?this.shadowOffsetX():0,d=c?this.shadowOffsetY():0,f=a+Math.abs(u),h=l+Math.abs(d),m=c&&this.shadowBlur()||0,y=f+m*2,x=h+m*2,v={width:y,height:x,x:-(o/2+m)+Math.min(u,0)+i.x,y:-(o/2+m)+Math.min(d,0)+i.y};return n?v:this._transformedRect(v,r)}drawScene(e,n){var r=this.getLayer(),i=e||r.getCanvas(),s=i.getContext(),o=this._getCanvasCache(),a=this.getSceneFunc(),l=this.hasShadow(),c,u,d,f=i.isCache,h=n===this;if(!this.isVisible()&&!h)return this;if(o){s.save();var m=this.getAbsoluteTransform(n).getMatrix();return s.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!a)return this;if(s.save(),this._useBufferCanvas()&&!f){c=this.getStage(),u=c.bufferCanvas,d=u.getContext(),d.clear(),d.save(),d._applyLineJoin(this);var y=this.getAbsoluteTransform(n).getMatrix();d.transform(y[0],y[1],y[2],y[3],y[4],y[5]),a.call(this,d,this),d.restore();var x=u.pixelRatio;l&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(u._canvas,0,0,u.width/x,u.height/x)}else{if(s._applyLineJoin(this),!h){var y=this.getAbsoluteTransform(n).getMatrix();s.transform(y[0],y[1],y[2],y[3],y[4],y[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}l&&s._applyShadow(this),a.call(this,s,this)}return s.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;var i=this.getLayer(),s=e||i.hitCanvas,o=s&&s.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||ne.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){o.save();var u=this.getAbsoluteTransform(n).getMatrix();return o.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!a)return this;if(o.save(),o._applyLineJoin(this),!(this===n)){var f=this.getAbsoluteTransform(n).getMatrix();o.transform(f[0],f[1],f[2],f[3],f[4],f[5])}return a.call(this,o,this),o.restore(),this}drawHitFromCache(e=0){var n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=n.hit,s=i.getContext(),o=i.getWidth(),a=i.getHeight(),l,c,u,d,f,h;s.clear(),s.drawImage(r._canvas,0,0,o,a);try{for(l=s.getImageData(0,0,o,a),c=l.data,u=c.length,d=ne._hexToRgb(this.colorKey),f=0;f<u;f+=4)h=c[f+3],h>e?(c[f]=d.r,c[f+1]=d.g,c[f+2]=d.b,c[f+3]=255):c[f+3]=0;s.putImageData(l,0,0)}catch(m){ne.error("Unable to draw hit graph from cached scene canvas. "+m.message)}return this}hasPointerCapture(e){return N9(e,this)}setPointerCapture(e){O9(e,this)}releaseCapture(e){Km(e)}};ve.prototype._fillFunc=Oae;ve.prototype._strokeFunc=Rae;ve.prototype._fillFuncHit=Aae;ve.prototype._strokeFuncHit=Pae;ve.prototype._centroid=!1;ve.prototype.nodeType="Shape";Tn(ve);ve.prototype.eventListeners={};ve.prototype.on.call(ve.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Dae);ve.prototype.on.call(ve.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Fae);ve.prototype.on.call(ve.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",Lae);ve.prototype.on.call(ve.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",Mae);ve.prototype.on.call(ve.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",Bae);G.addGetterSetter(ve,"stroke",void 0,I9());G.addGetterSetter(ve,"strokeWidth",2,Se());G.addGetterSetter(ve,"fillAfterStrokeEnabled",!1);G.addGetterSetter(ve,"hitStrokeWidth","auto",UO());G.addGetterSetter(ve,"strokeHitEnabled",!0,Co());G.addGetterSetter(ve,"perfectDrawEnabled",!0,Co());G.addGetterSetter(ve,"shadowForStrokeEnabled",!0,Co());G.addGetterSetter(ve,"lineJoin");G.addGetterSetter(ve,"lineCap");G.addGetterSetter(ve,"sceneFunc");G.addGetterSetter(ve,"hitFunc");G.addGetterSetter(ve,"dash");G.addGetterSetter(ve,"dashOffset",0,Se());G.addGetterSetter(ve,"shadowColor",void 0,Wh());G.addGetterSetter(ve,"shadowBlur",0,Se());G.addGetterSetter(ve,"shadowOpacity",1,Se());G.addComponentsGetterSetter(ve,"shadowOffset",["x","y"]);G.addGetterSetter(ve,"shadowOffsetX",0,Se());G.addGetterSetter(ve,"shadowOffsetY",0,Se());G.addGetterSetter(ve,"fillPatternImage");G.addGetterSetter(ve,"fill",void 0,I9());G.addGetterSetter(ve,"fillPatternX",0,Se());G.addGetterSetter(ve,"fillPatternY",0,Se());G.addGetterSetter(ve,"fillLinearGradientColorStops");G.addGetterSetter(ve,"strokeLinearGradientColorStops");G.addGetterSetter(ve,"fillRadialGradientStartRadius",0);G.addGetterSetter(ve,"fillRadialGradientEndRadius",0);G.addGetterSetter(ve,"fillRadialGradientColorStops");G.addGetterSetter(ve,"fillPatternRepeat","repeat");G.addGetterSetter(ve,"fillEnabled",!0);G.addGetterSetter(ve,"strokeEnabled",!0);G.addGetterSetter(ve,"shadowEnabled",!0);G.addGetterSetter(ve,"dashEnabled",!0);G.addGetterSetter(ve,"strokeScaleEnabled",!0);G.addGetterSetter(ve,"fillPriority","color");G.addComponentsGetterSetter(ve,"fillPatternOffset",["x","y"]);G.addGetterSetter(ve,"fillPatternOffsetX",0,Se());G.addGetterSetter(ve,"fillPatternOffsetY",0,Se());G.addComponentsGetterSetter(ve,"fillPatternScale",["x","y"]);G.addGetterSetter(ve,"fillPatternScaleX",1,Se());G.addGetterSetter(ve,"fillPatternScaleY",1,Se());G.addComponentsGetterSetter(ve,"fillLinearGradientStartPoint",["x","y"]);G.addComponentsGetterSetter(ve,"strokeLinearGradientStartPoint",["x","y"]);G.addGetterSetter(ve,"fillLinearGradientStartPointX",0);G.addGetterSetter(ve,"strokeLinearGradientStartPointX",0);G.addGetterSetter(ve,"fillLinearGradientStartPointY",0);G.addGetterSetter(ve,"strokeLinearGradientStartPointY",0);G.addComponentsGetterSetter(ve,"fillLinearGradientEndPoint",["x","y"]);G.addComponentsGetterSetter(ve,"strokeLinearGradientEndPoint",["x","y"]);G.addGetterSetter(ve,"fillLinearGradientEndPointX",0);G.addGetterSetter(ve,"strokeLinearGradientEndPointX",0);G.addGetterSetter(ve,"fillLinearGradientEndPointY",0);G.addGetterSetter(ve,"strokeLinearGradientEndPointY",0);G.addComponentsGetterSetter(ve,"fillRadialGradientStartPoint",["x","y"]);G.addGetterSetter(ve,"fillRadialGradientStartPointX",0);G.addGetterSetter(ve,"fillRadialGradientStartPointY",0);G.addComponentsGetterSetter(ve,"fillRadialGradientEndPoint",["x","y"]);G.addGetterSetter(ve,"fillRadialGradientEndPointX",0);G.addGetterSetter(ve,"fillRadialGradientEndPointY",0);G.addGetterSetter(ve,"fillPatternRotation",0);G.backCompat(ve,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var zae="#",jae="beforeDraw",Vae="draw",q9=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],Uae=q9.length;let id=class extends ss{constructor(e){super(e),this.canvas=new Kf,this.hitCanvas=new WO({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){we.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=we.prototype.moveUp.call(this);if(!e)return!1;var n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(we.prototype.moveDown.call(this)){var e=this.getStage();if(e){var n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(we.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return we.prototype.remove.call(this),e&&e.parentNode&&ne._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){var n=e.getType();n!=="Group"&&n!=="Shape"&&ne.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),we.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){ne.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){ne.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,ne.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var n=1,r=!1;;){for(let i=0;i<Uae;i++){const s=q9[i],o=this._getIntersection({x:e.x+s.x*n,y:e.y+s.y*n}),a=o.shape;if(a)return a;if(r=!!o.antialiased,!o.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=r[3];if(i===255){const s=ne._rgbToHex(r[0],r[1],r[2]),o=Xm[zae+s];return o?{shape:o}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n){var r=this.getLayer(),i=e||r&&r.getCanvas();return this._fire(jae,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),ss.prototype.drawScene.call(this,i,n),this._fire(Vae,{node:this}),this}drawHit(e,n){var r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),ss.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){ne.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return ne.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,n=!!this.hitCanvas._canvas.parentNode;n?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return ne.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};id.prototype.nodeType="Layer";Tn(id);G.addGetterSetter(id,"imageSmoothingEnabled",!0);G.addGetterSetter(id,"clearBeforeDraw",!0);G.addGetterSetter(id,"hitGraphEnabled",!0,Co());class HO extends id{constructor(e){super(e),this.listening(!1),ne.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}HO.prototype.nodeType="FastLayer";Tn(HO);let yh=class extends ss{_validateAdd(e){var n=e.getType();n!=="Group"&&n!=="Shape"&&ne.throw("You may only add groups and shapes to groups.")}};yh.prototype.nodeType="Group";Tn(yh);var aT=function(){return qf.performance&&qf.performance.now?function(){return qf.performance.now()}:function(){return new Date().getTime()}}();class Os{constructor(e,n){this.id=Os.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:aT(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){var n=[];return e?e.length>0?n=e:n=[e]:n=[],this.layers=n,this}getLayers(){return this.layers}addLayer(e){var n=this.layers,r=n.length,i;for(i=0;i<r;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){var e=Os,n=e.animations,r=n.length,i;for(i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=aT(),Os._addAnimation(this),this}stop(){return Os._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){var n=e.id,r=this.animations,i=r.length,s;for(s=0;s<i;s++)if(r[s].id===n){this.animations.splice(s,1);break}}static _runFrames(){var e={},n=this.animations,r,i,s,o,a,l,c,u,d;for(o=0;o<n.length;o++)if(r=n[o],i=r.layers,s=r.func,r._updateFrameObject(aT()),l=i.length,s?d=s.call(r,r.frame)!==!1:d=!0,!!d)for(a=0;a<l;a++)c=i[a],c._id!==void 0&&(e[c._id]=c);for(u in e)e.hasOwnProperty(u)&&e[u].batchDraw()}static _animationLoop(){var e=Os;e.animations.length?(e._runFrames(),ne.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,ne.requestAnimFrame(this._animationLoop))}}Os.animations=[];Os.animIdCounter=0;Os.animRunning=!1;var Wae={node:1,duration:1,easing:1,onFinish:1,yoyo:1},Gae=1,t5=2,n5=3,Hae=0,r5=["fill","stroke","shadowColor"];class qae{constructor(e,n,r,i,s,o,a){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=s-this.begin,this.pause()}fire(e){var n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=t5,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=n5,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var e=this.getTimer()-this._startTime;this.state===t5?this.setTime(e):this.state===n5&&this.setTime(this.duration-e)}pause(){this.state=Gae,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Fn{constructor(e){var n=this,r=e.node,i=r._id,s,o=e.easing||Qm.Linear,a=!!e.yoyo,l;typeof e.duration>"u"?s=.3:e.duration===0?s=.001:s=e.duration,this.node=r,this._id=Hae++;var c=r.getLayer()||(r instanceof Me.Stage?r.getLayers():null);c||ne.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Os(function(){n.tween.onEnterFrame()},c),this.tween=new qae(l,function(u){n._tweenFunc(u)},o,0,1,s*1e3,a),this._addListeners(),Fn.attrs[i]||(Fn.attrs[i]={}),Fn.attrs[i][this._id]||(Fn.attrs[i][this._id]={}),Fn.tweens[i]||(Fn.tweens[i]={});for(l in e)Wae[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){var r=this.node,i=r._id,s,o,a,l,c,u,d,f;if(a=Fn.tweens[i][e],a&&delete Fn.attrs[i][a][e],s=r.getAttr(e),ne._isArray(n))if(o=[],c=Math.max(n.length,s.length),e==="points"&&n.length!==s.length&&(n.length>s.length?(d=s,s=ne._prepareArrayForTween(s,n,r.closed())):(u=n,n=ne._prepareArrayForTween(n,s,r.closed()))),e.indexOf("fill")===0)for(l=0;l<c;l++)if(l%2===0)o.push(n[l]-s[l]);else{var h=ne.colorToRGBA(s[l]);f=ne.colorToRGBA(n[l]),s[l]=h,o.push({r:f.r-h.r,g:f.g-h.g,b:f.b-h.b,a:f.a-h.a})}else for(l=0;l<c;l++)o.push(n[l]-s[l]);else r5.indexOf(e)!==-1?(s=ne.colorToRGBA(s),f=ne.colorToRGBA(n),o={r:f.r-s.r,g:f.g-s.g,b:f.b-s.b,a:f.a-s.a}):o=n-s;Fn.attrs[i][this._id][e]={start:s,diff:o,end:n,trueEnd:u,trueStart:d},Fn.tweens[i][e]=this._id}_tweenFunc(e){var n=this.node,r=Fn.attrs[n._id][this._id],i,s,o,a,l,c,u,d;for(i in r){if(s=r[i],o=s.start,a=s.diff,d=s.end,ne._isArray(o))if(l=[],u=Math.max(o.length,d.length),i.indexOf("fill")===0)for(c=0;c<u;c++)c%2===0?l.push((o[c]||0)+a[c]*e):l.push("rgba("+Math.round(o[c].r+a[c].r*e)+","+Math.round(o[c].g+a[c].g*e)+","+Math.round(o[c].b+a[c].b*e)+","+(o[c].a+a[c].a*e)+")");else for(c=0;c<u;c++)l.push((o[c]||0)+a[c]*e);else r5.indexOf(i)!==-1?l="rgba("+Math.round(o.r+a.r*e)+","+Math.round(o.g+a.g*e)+","+Math.round(o.b+a.b*e)+","+(o.a+a.a*e)+")":l=o+a*e;n.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var e=this.node,n=Fn.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var e=this.node,n=Fn.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var e=this.node._id,n=this._id,r=Fn.tweens[e],i;this.pause();for(i in r)delete Fn.tweens[e][i];delete Fn.attrs[e][n]}}Fn.attrs={};Fn.tweens={};we.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()};var n=new Fn(t);n.play()};const Qm={BackEaseIn(t,e,n,r){var i=1.70158;return n*(t/=r)*t*((i+1)*t-i)+e},BackEaseOut(t,e,n,r){var i=1.70158;return n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut(t,e,n,r){var i=1.70158;return(t/=r/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,r,i,s){var o=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s))+e)},ElasticEaseOut(t,e,n,r,i,s){var o=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/s)+n+e)},ElasticEaseInOut(t,e,n,r,i,s){var o=0;return t===0?e:(t/=r/2)===2?e+n:(s||(s=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s)*.5+n+e)},BounceEaseOut(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,r){return n-Qm.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut(t,e,n,r){return t<r/2?Qm.BounceEaseIn(t*2,0,n,r)*.5+e:Qm.BounceEaseOut(t*2-r,0,n,r)*.5+n*.5+e},EaseIn(t,e,n,r){return n*(t/=r)*t+e},EaseOut(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,r){return n*t/r+e}},Lu=ne._assign(Me,{Util:ne,Transform:po,Node:we,Container:ss,Stage:o2,stages:bx,Layer:id,FastLayer:HO,Group:yh,DD:It,Shape:ve,shapes:Xm,Animation:Os,Tween:Fn,Easings:Qm,Context:i2,Canvas:s2});class il extends ve{_sceneFunc(e){var n=Me.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=Me.getAngle(r?360-this.angle():this.angle()),s=Math.cos(Math.min(i,Math.PI)),o=1,a=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),c=s*(s>0?e:n),u=o*n,d=a*(a>0?e:n),f=l*(l>0?n:e);return{x:c,y:r?-1*f:d,width:u-c,height:f-d}}}il.prototype._centroid=!0;il.prototype.className="Arc";il.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Tn(il);G.addGetterSetter(il,"innerRadius",0,Se());G.addGetterSetter(il,"outerRadius",0,Se());G.addGetterSetter(il,"angle",0,Se());G.addGetterSetter(il,"clockwise",!1,Co());function AI(t,e,n,r,i,s,o){var a=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(s-r,2)),c=o*a/(a+l),u=o*l/(a+l),d=n-c*(i-t),f=r-c*(s-e),h=n+u*(i-t),m=r+u*(s-e);return[d,f,h,m]}function i5(t,e){var n=t.length,r=[],i,s;for(i=2;i<n-2;i+=2)s=AI(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e),!isNaN(s[0])&&(r.push(s[0]),r.push(s[1]),r.push(t[i]),r.push(t[i+1]),r.push(s[2]),r.push(s[3]));return r}class sl extends ve{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var n=this.points(),r=n.length,i=this.tension(),s=this.closed(),o=this.bezier(),a,l,c;if(r){if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&r>4){for(a=this.getTensionPoints(),l=a.length,c=s?0:4,s||e.quadraticCurveTo(a[0],a[1],a[2],a[3]);c<l-2;)e.bezierCurveTo(a[c++],a[c++],a[c++],a[c++],a[c++],a[c++]);s||e.quadraticCurveTo(a[l-2],a[l-1],n[r-2],n[r-1])}else if(o)for(c=2;c<r;)e.bezierCurveTo(n[c++],n[c++],n[c++],n[c++],n[c++],n[c++]);else for(c=2;c<r;c+=2)e.lineTo(n[c],n[c+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():i5(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),n=e.length,r=this.tension(),i=AI(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),s=AI(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),o=i5(e,r),a=[i[2],i[3]].concat(o).concat([s[0],s[1],e[n-2],e[n-1],s[2],s[3],i[0],i[1],e[0],e[1]]);return a}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();for(var n=e[0],r=e[0],i=e[1],s=e[1],o,a,l=0;l<e.length/2;l++)o=e[l*2],a=e[l*2+1],n=Math.min(n,o),r=Math.max(r,o),i=Math.min(i,a),s=Math.max(s,a);return{x:n,y:i,width:r-n,height:s-i}}}sl.prototype.className="Line";sl.prototype._attrsAffectingSize=["points","bezier","tension"];Tn(sl);G.addGetterSetter(sl,"closed",!1);G.addGetterSetter(sl,"bezier",!1);G.addGetterSetter(sl,"tension",0,Se());G.addGetterSetter(sl,"points",[],rae());class Ft extends ve{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this.dataArray=Ft.parsePathData(this.data()),this.pathLength=0;for(var n=0;n<this.dataArray.length;++n)this.pathLength+=this.dataArray[n].pathLength;this.on("dataChange.konva",function(){this.dataArray=Ft.parsePathData(this.data()),this.pathLength=0;for(var r=0;r<this.dataArray.length;++r)this.pathLength+=this.dataArray[r].pathLength})}_sceneFunc(e){var n=this.dataArray;e.beginPath();for(var r=!1,i=0;i<n.length;i++){var s=n[i].command,o=n[i].points;switch(s){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var a=o[0],l=o[1],c=o[2],u=o[3],d=o[4],f=o[5],h=o[6],m=o[7],y=c>u?c:u,x=c>u?1:c/u,v=c>u?u/c:1;e.translate(a,l),e.rotate(h),e.scale(x,v),e.arc(0,0,y,d,d+f,1-m),e.scale(1/x,1/v),e.rotate(-h),e.translate(-a,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(c){if(c.command==="A"){var u=c.points[4],d=c.points[5],f=c.points[4]+d,h=Math.PI/180;if(Math.abs(u-f)<h&&(h=Math.abs(u-f)),d<0)for(let m=u-h;m>f;m-=h){const y=Ft.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],m,0);e.push(y.x,y.y)}else for(let m=u+h;m<f;m+=h){const y=Ft.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],m,0);e.push(y.x,y.y)}}else if(c.command==="C")for(let m=0;m<=1;m+=.01){const y=Ft.getPointOnCubicBezier(m,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);e.push(y.x,y.y)}else e=e.concat(c.points)});for(var n=e[0],r=e[0],i=e[1],s=e[1],o,a,l=0;l<e.length/2;l++)o=e[l*2],a=e[l*2+1],isNaN(o)||(n=Math.min(n,o),r=Math.max(r,o)),isNaN(a)||(i=Math.min(i,a),s=Math.max(s,a));return{x:n,y:i,width:r-n,height:s-i}}getLength(){return this.pathLength}getPointAtLength(e){var n,r=0,i=this.dataArray.length;if(!i)return null;for(;r<i&&e>this.dataArray[r].pathLength;)e-=this.dataArray[r].pathLength,++r;if(r===i)return n=this.dataArray[r-1].points.slice(-2),{x:n[0],y:n[1]};if(e<.01)return n=this.dataArray[r].points.slice(0,2),{x:n[0],y:n[1]};var s=this.dataArray[r],o=s.points;switch(s.command){case"L":return Ft.getPointOnLine(e,s.start.x,s.start.y,o[0],o[1]);case"C":return Ft.getPointOnCubicBezier(e/s.pathLength,s.start.x,s.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return Ft.getPointOnQuadraticBezier(e/s.pathLength,s.start.x,s.start.y,o[0],o[1],o[2],o[3]);case"A":var a=o[0],l=o[1],c=o[2],u=o[3],d=o[4],f=o[5],h=o[6];return d+=f*e/s.pathLength,Ft.getPointOnEllipticalArc(a,l,c,u,d,h)}return null}static getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}static getPointOnLine(e,n,r,i,s,o,a){o===void 0&&(o=n),a===void 0&&(a=r);var l=(s-r)/(i-n+1e-8),c=Math.sqrt(e*e/(1+l*l));i<n&&(c*=-1);var u=l*c,d;if(i===n)d={x:o,y:a+u};else if((a-r)/(o-n+1e-8)===l)d={x:o+c,y:a+u};else{var f,h,m=this.getLineLength(n,r,i,s),y=(o-n)*(i-n)+(a-r)*(s-r);y=y/(m*m),f=n+y*(i-n),h=r+y*(s-r);var x=this.getLineLength(o,a,f,h),v=Math.sqrt(e*e-x*x);c=Math.sqrt(v*v/(1+l*l)),i<n&&(c*=-1),u=l*c,d={x:f+c,y:h+u}}return d}static getPointOnCubicBezier(e,n,r,i,s,o,a,l,c){function u(x){return x*x*x}function d(x){return 3*x*x*(1-x)}function f(x){return 3*x*(1-x)*(1-x)}function h(x){return(1-x)*(1-x)*(1-x)}var m=l*u(e)+o*d(e)+i*f(e)+n*h(e),y=c*u(e)+a*d(e)+s*f(e)+r*h(e);return{x:m,y}}static getPointOnQuadraticBezier(e,n,r,i,s,o,a){function l(h){return h*h}function c(h){return 2*h*(1-h)}function u(h){return(1-h)*(1-h)}var d=o*l(e)+i*c(e)+n*u(e),f=a*l(e)+s*c(e)+r*u(e);return{x:d,y:f}}static getPointOnEllipticalArc(e,n,r,i,s,o){var a=Math.cos(o),l=Math.sin(o),c={x:r*Math.cos(s),y:i*Math.sin(s)};return{x:e+(c.x*a-c.y*l),y:n+(c.x*l+c.y*a)}}static parsePathData(e){if(!e)return[];var n=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(var i=0;i<r.length;i++)n=n.replace(new RegExp(r[i],"g"),"|"+r[i]);var s=n.split("|"),o=[],a=[],l=0,c=0,u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,d;for(i=1;i<s.length;i++){var f=s[i],h=f.charAt(0);for(f=f.slice(1),a.length=0;d=u.exec(f);)a.push(d[0]);for(var m=[],y=0,x=a.length;y<x;y++){if(a[y]==="00"){m.push(0,0);continue}var v=parseFloat(a[y]);isNaN(v)?m.push(0):m.push(v)}for(;m.length>0&&!isNaN(m[0]);){var b=null,w=[],k=l,E=c,_,I,N,D,P,F,U,j,W,q;switch(h){case"l":l+=m.shift(),c+=m.shift(),b="L",w.push(l,c);break;case"L":l=m.shift(),c=m.shift(),w.push(l,c);break;case"m":var Q=m.shift(),ee=m.shift();if(l+=Q,c+=ee,b="M",o.length>2&&o[o.length-1].command==="z"){for(var V=o.length-2;V>=0;V--)if(o[V].command==="M"){l=o[V].points[0]+Q,c=o[V].points[1]+ee;break}}w.push(l,c),h="l";break;case"M":l=m.shift(),c=m.shift(),b="M",w.push(l,c),h="L";break;case"h":l+=m.shift(),b="L",w.push(l,c);break;case"H":l=m.shift(),b="L",w.push(l,c);break;case"v":c+=m.shift(),b="L",w.push(l,c);break;case"V":c=m.shift(),b="L",w.push(l,c);break;case"C":w.push(m.shift(),m.shift(),m.shift(),m.shift()),l=m.shift(),c=m.shift(),w.push(l,c);break;case"c":w.push(l+m.shift(),c+m.shift(),l+m.shift(),c+m.shift()),l+=m.shift(),c+=m.shift(),b="C",w.push(l,c);break;case"S":I=l,N=c,_=o[o.length-1],_.command==="C"&&(I=l+(l-_.points[2]),N=c+(c-_.points[3])),w.push(I,N,m.shift(),m.shift()),l=m.shift(),c=m.shift(),b="C",w.push(l,c);break;case"s":I=l,N=c,_=o[o.length-1],_.command==="C"&&(I=l+(l-_.points[2]),N=c+(c-_.points[3])),w.push(I,N,l+m.shift(),c+m.shift()),l+=m.shift(),c+=m.shift(),b="C",w.push(l,c);break;case"Q":w.push(m.shift(),m.shift()),l=m.shift(),c=m.shift(),w.push(l,c);break;case"q":w.push(l+m.shift(),c+m.shift()),l+=m.shift(),c+=m.shift(),b="Q",w.push(l,c);break;case"T":I=l,N=c,_=o[o.length-1],_.command==="Q"&&(I=l+(l-_.points[0]),N=c+(c-_.points[1])),l=m.shift(),c=m.shift(),b="Q",w.push(I,N,l,c);break;case"t":I=l,N=c,_=o[o.length-1],_.command==="Q"&&(I=l+(l-_.points[0]),N=c+(c-_.points[1])),l+=m.shift(),c+=m.shift(),b="Q",w.push(I,N,l,c);break;case"A":D=m.shift(),P=m.shift(),F=m.shift(),U=m.shift(),j=m.shift(),W=l,q=c,l=m.shift(),c=m.shift(),b="A",w=this.convertEndpointToCenterParameterization(W,q,l,c,U,j,D,P,F);break;case"a":D=m.shift(),P=m.shift(),F=m.shift(),U=m.shift(),j=m.shift(),W=l,q=c,l+=m.shift(),c+=m.shift(),b="A",w=this.convertEndpointToCenterParameterization(W,q,l,c,U,j,D,P,F);break}o.push({command:b||h,points:w,start:{x:k,y:E},pathLength:this.calcLength(k,E,b||h,w)})}(h==="z"||h==="Z")&&o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,n,r,i){var s,o,a,l,c=Ft;switch(r){case"L":return c.getLineLength(e,n,i[0],i[1]);case"C":for(s=0,o=c.getPointOnCubicBezier(0,e,n,i[0],i[1],i[2],i[3],i[4],i[5]),l=.01;l<=1;l+=.01)a=c.getPointOnCubicBezier(l,e,n,i[0],i[1],i[2],i[3],i[4],i[5]),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;return s;case"Q":for(s=0,o=c.getPointOnQuadraticBezier(0,e,n,i[0],i[1],i[2],i[3]),l=.01;l<=1;l+=.01)a=c.getPointOnQuadraticBezier(l,e,n,i[0],i[1],i[2],i[3]),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;return s;case"A":s=0;var u=i[4],d=i[5],f=i[4]+d,h=Math.PI/180;if(Math.abs(u-f)<h&&(h=Math.abs(u-f)),o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),d<0)for(l=u-h;l>f;l-=h)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(l=u+h;l<f;l+=h)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],f,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),s}return 0}static convertEndpointToCenterParameterization(e,n,r,i,s,o,a,l,c){var u=c*(Math.PI/180),d=Math.cos(u)*(e-r)/2+Math.sin(u)*(n-i)/2,f=-1*Math.sin(u)*(e-r)/2+Math.cos(u)*(n-i)/2,h=d*d/(a*a)+f*f/(l*l);h>1&&(a*=Math.sqrt(h),l*=Math.sqrt(h));var m=Math.sqrt((a*a*(l*l)-a*a*(f*f)-l*l*(d*d))/(a*a*(f*f)+l*l*(d*d)));s===o&&(m*=-1),isNaN(m)&&(m=0);var y=m*a*f/l,x=m*-l*d/a,v=(e+r)/2+Math.cos(u)*y-Math.sin(u)*x,b=(n+i)/2+Math.sin(u)*y+Math.cos(u)*x,w=function(P){return Math.sqrt(P[0]*P[0]+P[1]*P[1])},k=function(P,F){return(P[0]*F[0]+P[1]*F[1])/(w(P)*w(F))},E=function(P,F){return(P[0]*F[1]<P[1]*F[0]?-1:1)*Math.acos(k(P,F))},_=E([1,0],[(d-y)/a,(f-x)/l]),I=[(d-y)/a,(f-x)/l],N=[(-1*d-y)/a,(-1*f-x)/l],D=E(I,N);return k(I,N)<=-1&&(D=Math.PI),k(I,N)>=1&&(D=0),o===0&&D>0&&(D=D-2*Math.PI),o===1&&D<0&&(D=D+2*Math.PI),[v,b,a,l,_,D,u,o]}}Ft.prototype.className="Path";Ft.prototype._attrsAffectingSize=["data"];Tn(Ft);G.addGetterSetter(Ft,"data");class sd extends sl{_sceneFunc(e){super._sceneFunc(e);var n=Math.PI*2,r=this.points(),i=r,s=this.tension()!==0&&r.length>4;s&&(i=this.getTensionPoints());var o=this.pointerLength(),a=r.length,l,c;if(s){const f=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[a-2],r[a-1]],h=Ft.calcLength(i[i.length-4],i[i.length-3],"C",f),m=Ft.getPointOnQuadraticBezier(Math.min(1,1-o/h),f[0],f[1],f[2],f[3],f[4],f[5]);l=r[a-2]-m.x,c=r[a-1]-m.y}else l=r[a-2]-r[a-4],c=r[a-1]-r[a-3];var u=(Math.atan2(c,l)+n)%n,d=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[a-2],r[a-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),s?(l=(i[0]+i[2])/2-r[0],c=(i[1]+i[3])/2-r[1]):(l=r[2]-r[0],c=r[3]-r[1]),e.rotate((Math.atan2(-c,-l)+n)%n),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x-n,y:e.y-n,width:e.width+n*2,height:e.height+n*2}}}sd.prototype.className="Arrow";Tn(sd);G.addGetterSetter(sd,"pointerLength",10,Se());G.addGetterSetter(sd,"pointerWidth",10,Se());G.addGetterSetter(sd,"pointerAtBeginning",!1);G.addGetterSetter(sd,"pointerAtEnding",!0);let Gh=class extends ve{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Gh.prototype._centroid=!0;Gh.prototype.className="Circle";Gh.prototype._attrsAffectingSize=["radius"];Tn(Gh);G.addGetterSetter(Gh,"radius",0,Se());class Tc extends ve{_sceneFunc(e){var n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Tc.prototype.className="Ellipse";Tc.prototype._centroid=!0;Tc.prototype._attrsAffectingSize=["radiusX","radiusY"];Tn(Tc);G.addComponentsGetterSetter(Tc,"radius",["x","y"]);G.addGetterSetter(Tc,"radiusX",0,Se());G.addGetterSetter(Tc,"radiusY",0,Se());let ha=class K9 extends ve{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),s=this.attrs.image;let o;if(s){const a=this.attrs.cropWidth,l=this.attrs.cropHeight;a&&l?o=[s,this.cropX(),this.cropY(),a,l,0,0,n,r]:o=[s,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?ne.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),s&&(i&&e.clip(),e.drawImage.apply(e,o))}_hitFunc(e){var n=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?ne.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,r=null){var i=ne.createImageElement();i.onload=function(){var s=new K9({image:i});n(s)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}};ha.prototype.className="Image";Tn(ha);G.addGetterSetter(ha,"cornerRadius",0,VO(4));G.addGetterSetter(ha,"image");G.addComponentsGetterSetter(ha,"crop",["x","y","width","height"]);G.addGetterSetter(ha,"cropX",0,Se());G.addGetterSetter(ha,"cropY",0,Se());G.addGetterSetter(ha,"cropWidth",0,Se());G.addGetterSetter(ha,"cropHeight",0,Se());var X9=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],Kae="Change.konva",Xae="none",PI="up",DI="right",FI="down",LI="left",Qae=X9.length;let qO=class extends yh{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var n=this,r,i=function(){n._sync()};for(r=0;r<Qae;r++)e.on(X9[r]+Kae,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e=this.getText(),n=this.getTag(),r,i,s,o,a,l,c;if(e&&n){switch(r=e.width(),i=e.height(),s=n.pointerDirection(),o=n.pointerWidth(),c=n.pointerHeight(),a=0,l=0,s){case PI:a=r/2,l=-1*c;break;case DI:a=r+o,l=i/2;break;case FI:a=r/2,l=i+c;break;case LI:a=-1*o,l=i/2;break}n.setAttrs({x:-1*a,y:-1*l,width:r,height:i}),e.setAttrs({x:-1*a,y:-1*l})}}};qO.prototype.className="Label";Tn(qO);let od=class extends ve{_sceneFunc(e){var n=this.width(),r=this.height(),i=this.pointerDirection(),s=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius();let l=0,c=0,u=0,d=0;typeof a=="number"?l=c=u=d=Math.min(a,n/2,r/2):(l=Math.min(a[0]||0,n/2,r/2),c=Math.min(a[1]||0,n/2,r/2),d=Math.min(a[2]||0,n/2,r/2),u=Math.min(a[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(l,0),i===PI&&(e.lineTo((n-s)/2,0),e.lineTo(n/2,-1*o),e.lineTo((n+s)/2,0)),e.lineTo(n-c,0),e.arc(n-c,c,c,Math.PI*3/2,0,!1),i===DI&&(e.lineTo(n,(r-o)/2),e.lineTo(n+s,r/2),e.lineTo(n,(r+o)/2)),e.lineTo(n,r-d),e.arc(n-d,r-d,d,0,Math.PI/2,!1),i===FI&&(e.lineTo((n+s)/2,r),e.lineTo(n/2,r+o),e.lineTo((n-s)/2,r)),e.lineTo(u,r),e.arc(u,r-u,u,Math.PI/2,Math.PI,!1),i===LI&&(e.lineTo(0,(r+o)/2),e.lineTo(-1*s,r/2),e.lineTo(0,(r-o)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),s=this.pointerDirection(),o=this.width(),a=this.height();return s===PI?(n-=i,a+=i):s===FI?a+=i:s===LI?(e-=r*1.5,o+=r):s===DI&&(o+=r*1.5),{x:e,y:n,width:o,height:a}}};od.prototype.className="Tag";Tn(od);G.addGetterSetter(od,"pointerDirection",Xae);G.addGetterSetter(od,"pointerWidth",0,Se());G.addGetterSetter(od,"pointerHeight",0,Se());G.addGetterSetter(od,"cornerRadius",0,VO(4));let hy=class extends ve{_sceneFunc(e){var n=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),n?ne.drawRoundedRectPath(e,r,i,n):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}};hy.prototype.className="Rect";Tn(hy);G.addGetterSetter(hy,"cornerRadius",0,VO(4));let ad=class extends ve{_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;r++)e.lineTo(n[r].x,n[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(var i=0;i<e;i++)r.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();var n=e[0].x,r=e[0].y,i=e[0].x,s=e[0].y;return e.forEach(o=>{n=Math.min(n,o.x),r=Math.max(r,o.x),i=Math.min(i,o.y),s=Math.max(s,o.y)}),{x:n,y:i,width:r-n,height:s-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};ad.prototype.className="RegularPolygon";ad.prototype._centroid=!0;ad.prototype._attrsAffectingSize=["radius"];Tn(ad);G.addGetterSetter(ad,"radius",0,Se());G.addGetterSetter(ad,"sides",0,Se());var s5=Math.PI*2;class ld extends ve{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,s5,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),s5,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}ld.prototype.className="Ring";ld.prototype._centroid=!0;ld.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Tn(ld);G.addGetterSetter(ld,"innerRadius",0,Se());G.addGetterSetter(ld,"outerRadius",0,Se());class pa extends ve{constructor(e){super(e),this._updated=!0,this.anim=new Os(()=>{var n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],o=this.frameOffsets(),a=s[i+0],l=s[i+1],c=s[i+2],u=s[i+3],d=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,u),e.closePath(),e.fillStrokeShape(this)),d)if(o){var f=o[n],h=r*2;e.drawImage(d,a,l,c,u,f[h+0],f[h+1],c,u)}else e.drawImage(d,a,l,c,u,0,0,c,u)}_hitFunc(e){var n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],o=this.frameOffsets(),a=s[i+2],l=s[i+3];if(e.beginPath(),o){var c=o[n],u=r*2;e.rect(c[u+0],c[u+1],a,l)}else e.rect(0,0,a,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],s=i.length/4;e<s-1?this.frameIndex(e+1):this.frameIndex(0)}}pa.prototype.className="Sprite";Tn(pa);G.addGetterSetter(pa,"animation");G.addGetterSetter(pa,"animations");G.addGetterSetter(pa,"frameOffsets");G.addGetterSetter(pa,"image");G.addGetterSetter(pa,"frameIndex",0,Se());G.addGetterSetter(pa,"frameRate",17,Se());G.backCompat(pa,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class _c extends ve{_sceneFunc(e){var n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(var s=1;s<i*2;s++){var o=s%2===0?r:n,a=o*Math.sin(s*Math.PI/i),l=-1*o*Math.cos(s*Math.PI/i);e.lineTo(a,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}_c.prototype.className="Star";_c.prototype._centroid=!0;_c.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Tn(_c);G.addGetterSetter(_c,"numPoints",5,Se());G.addGetterSetter(_c,"innerRadius",0,Se());G.addGetterSetter(_c,"outerRadius",0,Se());function Q9(t){return Array.from(t)}var jd="auto",Yae="center",im="justify",Jae="Change.konva",Zae="2d",o5="-",Y9="left",ele="text",tle="Text",nle="top",rle="bottom",a5="middle",J9="normal",ile="px ",T1=" ",sle="right",ole="word",ale="char",l5="none",lT="…",Z9=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],lle=Z9.length;function cle(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}var _1;function cT(){return _1||(_1=ne.createCanvasElement().getContext(Zae),_1)}function ule(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function dle(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function fle(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let En=class extends ve{constructor(e){super(fle(e)),this._partialTextX=0,this._partialTextY=0;for(var n=0;n<lle;n++)this.on(Z9[n]+Jae,this._setTextData);this._setTextData()}_sceneFunc(e){var n=this.textArr,r=n.length;if(this.text()){var i=this.padding(),s=this.fontSize(),o=this.lineHeight()*s,a=this.verticalAlign(),l=0,c=this.align(),u=this.getWidth(),d=this.letterSpacing(),f=this.fill(),h=this.textDecoration(),m=h.indexOf("underline")!==-1,y=h.indexOf("line-through")!==-1,x,v=0,v=o/2,b=0,w=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",a5),e.setAttr("textAlign",Y9),a===a5?l=(this.getHeight()-r*o-i*2)/2:a===rle&&(l=this.getHeight()-r*o-i*2),e.translate(i,l+i),x=0;x<r;x++){var b=0,w=0,k=n[x],E=k.text,_=k.width,I=k.lastInParagraph,N,D,P;if(e.save(),c===sle?b+=u-_-i*2:c===Yae&&(b+=(u-_-i*2)/2),m){e.save(),e.beginPath(),e.moveTo(b,v+w+Math.round(s/2)),N=E.split(" ").length-1,D=N===0,P=c===im&&!I?u-i*2:_,e.lineTo(b+Math.round(P),v+w+Math.round(s/2)),e.lineWidth=s/15;const Q=this._getLinearGradient();e.strokeStyle=Q||f,e.stroke(),e.restore()}if(y){e.save(),e.beginPath(),e.moveTo(b,v+w),N=E.split(" ").length-1,D=N===0,P=c===im&&I&&!D?u-i*2:_,e.lineTo(b+Math.round(P),v+w),e.lineWidth=s/15;const Q=this._getLinearGradient();e.strokeStyle=Q||f,e.stroke(),e.restore()}if(d!==0||c===im){N=E.split(" ").length-1;for(var F=Q9(E),U=0;U<F.length;U++){var j=F[U];j===" "&&!I&&c===im&&(b+=(u-i*2-_)/N),this._partialTextX=b,this._partialTextY=v+w,this._partialText=j,e.fillStrokeShape(this),b+=this.measureSize(j).width+d}}else this._partialTextX=b,this._partialTextY=v+w,this._partialText=E,e.fillStrokeShape(this);e.restore(),r>1&&(v+=o)}}}_hitFunc(e){var n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){var n=ne._isString(e)?e:e==null?"":e+"";return this._setAttr(ele,n),this}getWidth(){var e=this.attrs.width===jd||this.attrs.width===void 0;return e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var e=this.attrs.height===jd||this.attrs.height===void 0;return e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return ne.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n=cT(),r=this.fontSize(),i;return n.save(),n.font=this._getContextFont(),i=n.measureText(e),n.restore(),{width:i.width,height:r}}_getContextFont(){return this.fontStyle()+T1+this.fontVariant()+T1+(this.fontSize()+ile)+cle(this.fontFamily())}_addTextLine(e){this.align()===im&&(e=e.trim());var r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){var n=this.letterSpacing(),r=e.length;return cT().measureText(e).width+(r?n*(r-1):0)}_setTextData(){var e=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,s=this.attrs.width,o=this.attrs.height,a=s!==jd&&s!==void 0,l=o!==jd&&o!==void 0,c=this.padding(),u=s-c*2,d=o-c*2,f=0,h=this.wrap(),m=h!==l5,y=h!==ale&&m,x=this.ellipsis();this.textArr=[],cT().font=this._getContextFont();for(var v=x?this._getTextWidth(lT):0,b=0,w=e.length;b<w;++b){var k=e[b],E=this._getTextWidth(k);if(a&&E>u)for(;k.length>0;){for(var _=0,I=k.length,N="",D=0;_<I;){var P=_+I>>>1,F=k.slice(0,P+1),U=this._getTextWidth(F)+v;U<=u?(_=P+1,N=F,D=U):I=P}if(N){if(y){var j,W=k[N.length],q=W===T1||W===o5;q&&D<=u?j=N.length:j=Math.max(N.lastIndexOf(T1),N.lastIndexOf(o5))+1,j>0&&(_=j,N=N.slice(0,_),D=this._getTextWidth(N))}N=N.trimRight(),this._addTextLine(N),r=Math.max(r,D),f+=i;var Q=this._shouldHandleEllipsis(f);if(Q){this._tryToAddEllipsisToLastLine();break}if(k=k.slice(_),k=k.trimLeft(),k.length>0&&(E=this._getTextWidth(k),E<=u)){this._addTextLine(k),f+=i,r=Math.max(r,E);break}}else break}else this._addTextLine(k),f+=i,r=Math.max(r,E),this._shouldHandleEllipsis(f)&&b<w-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&f+i>d)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){var n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,s=i!==jd&&i!==void 0,o=this.padding(),a=i-o*2,l=this.wrap(),c=l!==l5;return!c||s&&e+r>a}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,n=e!==jd&&e!==void 0,r=this.padding(),i=e-r*2,s=this.ellipsis(),o=this.textArr[this.textArr.length-1];if(!(!o||!s)){if(n){var a=this._getTextWidth(o.text+lT)<i;a||(o.text=o.text.slice(0,o.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+lT)}}getStrokeScaleEnabled(){return!0}};En.prototype._fillFunc=ule;En.prototype._strokeFunc=dle;En.prototype.className=tle;En.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Tn(En);G.overWriteSetter(En,"width",UO());G.overWriteSetter(En,"height",UO());G.addGetterSetter(En,"fontFamily","Arial");G.addGetterSetter(En,"fontSize",12,Se());G.addGetterSetter(En,"fontStyle",J9);G.addGetterSetter(En,"fontVariant",J9);G.addGetterSetter(En,"padding",0,Se());G.addGetterSetter(En,"align",Y9);G.addGetterSetter(En,"verticalAlign",nle);G.addGetterSetter(En,"lineHeight",1,Se());G.addGetterSetter(En,"wrap",ole);G.addGetterSetter(En,"ellipsis",!1,Co());G.addGetterSetter(En,"letterSpacing",0,Se());G.addGetterSetter(En,"text","",Wh());G.addGetterSetter(En,"textDecoration","");var hle="",e7="normal";function t7(t){t.fillText(this.partialText,0,0)}function n7(t){t.strokeText(this.partialText,0,0)}class sr extends ve{constructor(e){super(e),this.dummyCanvas=ne.createCanvasElement(),this.dataArray=[],this.dataArray=Ft.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){this.dataArray=Ft.parsePathData(this.attrs.data),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var n=this.textDecoration(),r=this.fill(),i=this.fontSize(),s=this.glyphInfo;n==="underline"&&e.beginPath();for(var o=0;o<s.length;o++){e.save();var a=s[o].p0;e.translate(a.x,a.y),e.rotate(s[o].rotation),this.partialText=s[o].text,e.fillStrokeShape(this),n==="underline"&&(o===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var n=this.glyphInfo;if(n.length>=1){var r=n[0].p0;e.moveTo(r.x,r.y)}for(var i=0;i<n.length;i++){var s=n[i].p1;e.lineTo(s.x,s.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return ne.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return En.prototype.setText.call(this,e)}_getContextFont(){return En.prototype._getContextFont.call(this)}_getTextSize(e){var n=this.dummyCanvas,r=n.getContext("2d");r.save(),r.font=this._getContextFont();var i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var e=this,n=this._getTextSize(this.attrs.text),r=this.letterSpacing(),i=this.align(),s=this.kerningFunc();this.textWidth=n.width,this.textHeight=n.height;var o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);this.glyphInfo=[];for(var a=0,l=0;l<e.dataArray.length;l++)e.dataArray[l].pathLength>0&&(a+=e.dataArray[l].pathLength);var c=0;i==="center"&&(c=Math.max(0,a/2-o/2)),i==="right"&&(c=Math.max(0,a-o));for(var u=Q9(this.text()),d=this.text().split(" ").length-1,f,h,m,y=-1,x=0,v=function(){x=0;for(var U=e.dataArray,j=y+1;j<U.length;j++){if(U[j].pathLength>0)return y=j,U[j];U[j].command==="M"&&(f={x:U[j].points[0],y:U[j].points[1]})}return{}},b=function(U){var j=e._getTextSize(U).width+r;U===" "&&i==="justify"&&(j+=(a-o)/d);var W=0,q=0;for(h=void 0;Math.abs(j-W)/j>.01&&q<20;){q++;for(var Q=W;m===void 0;)m=v(),m&&Q+m.pathLength<j&&(Q+=m.pathLength,m=void 0);if(Object.keys(m).length===0||f===void 0)return;var ee=!1;switch(m.command){case"L":Ft.getLineLength(f.x,f.y,m.points[0],m.points[1])>j?h=Ft.getPointOnLine(j,f.x,f.y,m.points[0],m.points[1],f.x,f.y):m=void 0;break;case"A":var V=m.points[4],H=m.points[5],Y=m.points[4]+H;x===0?x=V+1e-8:j>W?x+=Math.PI/180*H/Math.abs(H):x-=Math.PI/360*H/Math.abs(H),(H<0&&x<Y||H>=0&&x>Y)&&(x=Y,ee=!0),h=Ft.getPointOnEllipticalArc(m.points[0],m.points[1],m.points[2],m.points[3],x,m.points[6]);break;case"C":x===0?j>m.pathLength?x=1e-8:x=j/m.pathLength:j>W?x+=(j-W)/m.pathLength/2:x=Math.max(x-(W-j)/m.pathLength/2,0),x>1&&(x=1,ee=!0),h=Ft.getPointOnCubicBezier(x,m.start.x,m.start.y,m.points[0],m.points[1],m.points[2],m.points[3],m.points[4],m.points[5]);break;case"Q":x===0?x=j/m.pathLength:j>W?x+=(j-W)/m.pathLength:x-=(W-j)/m.pathLength,x>1&&(x=1,ee=!0),h=Ft.getPointOnQuadraticBezier(x,m.start.x,m.start.y,m.points[0],m.points[1],m.points[2],m.points[3]);break}h!==void 0&&(W=Ft.getLineLength(f.x,f.y,h.x,h.y)),ee&&(ee=!1,m=void 0)}},w="C",k=e._getTextSize(w).width+r,E=c/k-1,_=0;_<E&&(b(w),!(f===void 0||h===void 0));_++)f=h;for(var I=0;I<u.length&&(b(u[I]),!(f===void 0||h===void 0));I++){var N=Ft.getLineLength(f.x,f.y,h.x,h.y),D=0;if(s)try{D=s(u[I-1],u[I])*this.fontSize()}catch{D=0}f.x+=D,h.x+=D,this.textWidth+=D;var P=Ft.getPointOnLine(D+N/2,f.x,f.y,h.x,h.y),F=Math.atan2(h.y-f.y,h.x-f.x);this.glyphInfo.push({transposeX:P.x,transposeY:P.y,text:u[I],rotation:F,p0:f,p1:h}),f=h}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(u){e.push(u.p0.x),e.push(u.p0.y),e.push(u.p1.x),e.push(u.p1.y)});for(var n=e[0]||0,r=e[0]||0,i=e[1]||0,s=e[1]||0,o,a,l=0;l<e.length/2;l++)o=e[l*2],a=e[l*2+1],n=Math.min(n,o),r=Math.max(r,o),i=Math.min(i,a),s=Math.max(s,a);var c=this.fontSize();return{x:n-c/2,y:i-c/2,width:r-n+c,height:s-i+c}}destroy(){return ne.releaseCanvas(this.dummyCanvas),super.destroy()}}sr.prototype._fillFunc=t7;sr.prototype._strokeFunc=n7;sr.prototype._fillFuncHit=t7;sr.prototype._strokeFuncHit=n7;sr.prototype.className="TextPath";sr.prototype._attrsAffectingSize=["text","fontSize","data"];Tn(sr);G.addGetterSetter(sr,"data");G.addGetterSetter(sr,"fontFamily","Arial");G.addGetterSetter(sr,"fontSize",12,Se());G.addGetterSetter(sr,"fontStyle",e7);G.addGetterSetter(sr,"align","left");G.addGetterSetter(sr,"letterSpacing",0,Se());G.addGetterSetter(sr,"textBaseline","middle");G.addGetterSetter(sr,"fontVariant",e7);G.addGetterSetter(sr,"text",hle);G.addGetterSetter(sr,"textDecoration",null);G.addGetterSetter(sr,"kerningFunc",null);var r7="tr-konva",ple=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(t=>t+`.${r7}`).join(" "),c5="nodesRect",mle=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],gle={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const yle="ontouchstart"in Me._global;function vle(t,e){if(t==="rotater")return"crosshair";e+=ne.degToRad(gle[t]||0);var n=(ne.radToDeg(e)%360+360)%360;return ne._inRange(n,315+22.5,360)||ne._inRange(n,0,22.5)?"ns-resize":ne._inRange(n,45-22.5,45+22.5)?"nesw-resize":ne._inRange(n,90-22.5,90+22.5)?"ew-resize":ne._inRange(n,135-22.5,135+22.5)?"nwse-resize":ne._inRange(n,180-22.5,180+22.5)?"ns-resize":ne._inRange(n,225-22.5,225+22.5)?"nesw-resize":ne._inRange(n,270-22.5,270+22.5)?"ew-resize":ne._inRange(n,315-22.5,315+22.5)?"nwse-resize":(ne.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}var ob=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],u5=1e8;function xle(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function i7(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return Object.assign(Object.assign({},t),{rotation:t.rotation+e,x:r,y:i})}function ble(t,e){const n=xle(t);return i7(t,e,n)}function wle(t,e,n){let r=e;for(let i=0;i<t.length;i++){const s=Me.getAngle(t[i]),o=Math.abs(s-e)%(Math.PI*2);Math.min(o,Math.PI*2-o)<n&&(r=s)}return r}let Ot=class extends yh{constructor(e){super(e),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(ple,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return ne.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return r7+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(ne.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},o=i._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");i.on(o,s),i.on(mle.map(a=>a+`.${this._getEventNamespace()}`).join(" "),s),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(i)}),this._resetTransformCache();var r=!!this.findOne(".top-left");return r&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=e.getAbsolutePosition(),s=i.x-n.x,o=i.y-n.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;const l=a.getAbsolutePosition();a.setAbsolutePosition({x:l.x+s,y:l.y+o}),a.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(c5),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(c5,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){var i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(r),o=e.getAbsolutePosition(r),a=i.x*s.x-e.offsetX()*s.x,l=i.y*s.y-e.offsetY()*s.y;const c=(Me.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),u={x:o.x+a*Math.cos(c)+l*Math.sin(-c),y:o.y+l*Math.cos(c)+a*Math.sin(c),width:i.width*s.x,height:i.height*s.y,rotation:c};return i7(u,-Me.getAngle(n),{x:0,y:0})}__getNodeRect(){var e=this.getNode();if(!e)return{x:-u5,y:-u5,width:0,height:0,rotation:0};const n=[];this.nodes().map(c=>{const u=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var d=[{x:u.x,y:u.y},{x:u.x+u.width,y:u.y},{x:u.x+u.width,y:u.y+u.height},{x:u.x,y:u.y+u.height}],f=c.getAbsoluteTransform();d.forEach(function(h){var m=f.point(h);n.push(m)})});const r=new po;r.rotate(-Me.getAngle(this.rotation()));var i,s,o,a;n.forEach(function(c){var u=r.point(c);i===void 0&&(i=o=u.x,s=a=u.y),i=Math.min(i,u.x),s=Math.min(s,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}),r.invert();const l=r.point({x:i,y:s});return{x:l.x,y:l.y,width:o-i,height:a-s,rotation:Me.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),ob.forEach((function(e){this._createAnchor(e)}).bind(this)),this._createAnchor("rotater")}_createAnchor(e){var n=new hy({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:yle?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{var i=Me.getAngle(this.rotation()),s=vle(e,i);n.getStage().content&&(n.getStage().content.style.cursor=s),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){var e=new ve({name:"back",width:0,height:0,draggable:!0,sceneFunc(n){var r=this.getParent(),i=r.padding();n.beginPath(),n.rect(-i,-i,this.width()+i*2,this.height()+i*2),n.moveTo(this.width()/2,-i),r.rotateEnabled()&&n.lineTo(this.width()/2,-r.rotateAnchorOffset()*ne._sign(this.height())-i),n.fillStrokeShape(this)},hitFunc:(n,r)=>{if(this.shouldOverdrawWholeArea()){var i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var n=this._getNodeRect(),r=n.width,i=n.height,s=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/s),this.cos=Math.abs(r/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var o=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){var n,r,i,s=this.findOne("."+this._movingAnchorName),o=s.getStage();o.setPointersPositions(e);const a=o.getPointerPosition();let l={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const c=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),s.setAbsolutePosition(l);const u=s.getAbsolutePosition();if(!(c.x===u.x&&c.y===u.y)){if(this._movingAnchorName==="rotater"){var d=this._getNodeRect();n=s.x()-d.width/2,r=-s.y()+d.height/2;let U=Math.atan2(-r,n)+Math.PI/2;d.height<0&&(U-=Math.PI);var f=Me.getAngle(this.rotation());const j=f+U,W=Me.getAngle(this.rotationSnapTolerance()),Q=wle(this.rotationSnaps(),j,W)-d.rotation,ee=ble(d,Q);this._fitNodesInto(ee,e);return}var h=this.keepRatio()||e.shiftKey,b=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(h){var m=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(m.x-s.x(),2)+Math.pow(m.y-s.y(),2));var y=this.findOne(".top-left").x()>m.x?-1:1,x=this.findOne(".top-left").y()>m.y?-1:1;n=i*this.cos*y,r=i*this.sin*x,this.findOne(".top-left").x(m.x-n),this.findOne(".top-left").y(m.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(h){var m=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(s.x()-m.x,2)+Math.pow(m.y-s.y(),2));var y=this.findOne(".top-right").x()<m.x?-1:1,x=this.findOne(".top-right").y()>m.y?-1:1;n=i*this.cos*y,r=i*this.sin*x,this.findOne(".top-right").x(m.x+n),this.findOne(".top-right").y(m.y-r)}var v=s.position();this.findOne(".top-left").y(v.y),this.findOne(".bottom-right").x(v.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(h){var m=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(m.x-s.x(),2)+Math.pow(s.y()-m.y,2));var y=m.x<s.x()?-1:1,x=s.y()<m.y?-1:1;n=i*this.cos*y,r=i*this.sin*x,s.x(m.x-n),s.y(m.y+r)}v=s.position(),this.findOne(".top-left").x(v.x),this.findOne(".bottom-right").y(v.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(h){var m=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(s.x()-m.x,2)+Math.pow(s.y()-m.y,2));var y=this.findOne(".bottom-right").x()<m.x?-1:1,x=this.findOne(".bottom-right").y()<m.y?-1:1;n=i*this.cos*y,r=i*this.sin*x,this.findOne(".bottom-right").x(m.x+n),this.findOne(".bottom-right").y(m.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var b=this.centeredScaling()||e.altKey;if(b){var w=this.findOne(".top-left"),k=this.findOne(".bottom-right"),E=w.x(),_=w.y(),I=this.getWidth()-k.x(),N=this.getHeight()-k.y();k.move({x:-E,y:-_}),w.move({x:I,y:N})}var D=this.findOne(".top-left").getAbsolutePosition();n=D.x,r=D.y;var P=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),F=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:P,height:F,rotation:Me.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var n=this.getNode();this._fire("transformend",{evt:e,target:n}),n&&this._nodes.forEach(r=>{r._fire("transformend",{evt:e,target:r})}),this._movingAnchorName=null}}_fitNodesInto(e,n){var r=this._getNodeRect();const i=1;if(ne._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(ne._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const s=this.flipEnabled();var o=new po;if(o.rotate(Me.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const d=o.point({x:-this.padding()*2,y:0});if(e.x+=d.x,e.y+=d.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=d.x,this._anchorDragOffset.y-=d.y,!s){this.update();return}}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const d=o.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=d.x,this._anchorDragOffset.y-=d.y,e.width+=this.padding()*2,!s){this.update();return}}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const d=o.point({x:0,y:-this.padding()*2});if(e.x+=d.x,e.y+=d.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=d.x,this._anchorDragOffset.y-=d.y,e.height+=this.padding()*2,!s){this.update();return}}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const d=o.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=d.x,this._anchorDragOffset.y-=d.y,e.height+=this.padding()*2,!s){this.update();return}}if(this.boundBoxFunc()){const d=this.boundBoxFunc()(r,e);d?e=d:ne.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const a=1e7,l=new po;l.translate(r.x,r.y),l.rotate(r.rotation),l.scale(r.width/a,r.height/a);const c=new po;c.translate(e.x,e.y),c.rotate(e.rotation),c.scale(e.width/a,e.height/a);const u=c.multiply(l.invert());this._nodes.forEach(d=>{var f;const h=d.getParent().getAbsoluteTransform(),m=d.getTransform().copy();m.translate(d.offsetX(),d.offsetY());const y=new po;y.multiply(h.copy().invert()).multiply(u).multiply(h).multiply(m);const x=y.decompose();d.setAttrs(x),this._fire("transform",{evt:n,target:d}),d._fire("transform",{evt:n,target:d}),(f=d.getLayer())===null||f===void 0||f.batchDraw()}),this.rotation(ne._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e,n=this._getNodeRect();this.rotation(ne._getRotation(n.rotation));var r=n.width,i=n.height,s=this.enabledAnchors(),o=this.resizeEnabled(),a=this.padding(),l=this.anchorSize();this.find("._anchor").forEach(c=>{c.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:o&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+a,visible:o&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:o&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+a,visible:o&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-a,visible:o&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+a,offsetY:l/2-a,visible:o&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-a,visible:o&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-a,offsetY:l/2-a,visible:o&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*ne._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),yh.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return we.prototype.toObject.call(this)}clone(e){var n=we.prototype.clone.call(this,e);return n}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};function Sle(t){return t instanceof Array||ne.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){ob.indexOf(e)===-1&&ne.warn("Unknown anchor name: "+e+". Available names are: "+ob.join(", "))}),t||[]}Ot.prototype.className="Transformer";Tn(Ot);G.addGetterSetter(Ot,"enabledAnchors",ob,Sle);G.addGetterSetter(Ot,"flipEnabled",!0,Co());G.addGetterSetter(Ot,"resizeEnabled",!0);G.addGetterSetter(Ot,"anchorSize",10,Se());G.addGetterSetter(Ot,"rotateEnabled",!0);G.addGetterSetter(Ot,"rotationSnaps",[]);G.addGetterSetter(Ot,"rotateAnchorOffset",50,Se());G.addGetterSetter(Ot,"rotationSnapTolerance",5,Se());G.addGetterSetter(Ot,"borderEnabled",!0);G.addGetterSetter(Ot,"anchorStroke","rgb(0, 161, 255)");G.addGetterSetter(Ot,"anchorStrokeWidth",1,Se());G.addGetterSetter(Ot,"anchorFill","white");G.addGetterSetter(Ot,"anchorCornerRadius",0,Se());G.addGetterSetter(Ot,"borderStroke","rgb(0, 161, 255)");G.addGetterSetter(Ot,"borderStrokeWidth",1,Se());G.addGetterSetter(Ot,"borderDash");G.addGetterSetter(Ot,"keepRatio",!0);G.addGetterSetter(Ot,"centeredScaling",!1);G.addGetterSetter(Ot,"ignoreStroke",!1);G.addGetterSetter(Ot,"padding",0,Se());G.addGetterSetter(Ot,"node");G.addGetterSetter(Ot,"nodes");G.addGetterSetter(Ot,"boundBoxFunc");G.addGetterSetter(Ot,"anchorDragBoundFunc");G.addGetterSetter(Ot,"shouldOverdrawWholeArea",!1);G.addGetterSetter(Ot,"useSingleNodeRotation",!0);G.backCompat(Ot,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class ol extends ve{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Me.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}ol.prototype.className="Wedge";ol.prototype._centroid=!0;ol.prototype._attrsAffectingSize=["radius"];Tn(ol);G.addGetterSetter(ol,"radius",0,Se());G.addGetterSetter(ol,"angle",0,Se());G.addGetterSetter(ol,"clockwise",!1);G.backCompat(ol,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function d5(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var kle=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Cle=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function Ele(t,e){var n=t.data,r=t.width,i=t.height,s,o,a,l,c,u,d,f,h,m,y,x,v,b,w,k,E,_,I,N,D,P,F,U,j=e+e+1,W=r-1,q=i-1,Q=e+1,ee=Q*(Q+1)/2,V=new d5,H=null,Y=V,Z=null,se=null,ce=kle[e],de=Cle[e];for(a=1;a<j;a++)Y=Y.next=new d5,a===Q&&(H=Y);for(Y.next=V,d=u=0,o=0;o<i;o++){for(k=E=_=I=f=h=m=y=0,x=Q*(N=n[u]),v=Q*(D=n[u+1]),b=Q*(P=n[u+2]),w=Q*(F=n[u+3]),f+=ee*N,h+=ee*D,m+=ee*P,y+=ee*F,Y=V,a=0;a<Q;a++)Y.r=N,Y.g=D,Y.b=P,Y.a=F,Y=Y.next;for(a=1;a<Q;a++)l=u+((W<a?W:a)<<2),f+=(Y.r=N=n[l])*(U=Q-a),h+=(Y.g=D=n[l+1])*U,m+=(Y.b=P=n[l+2])*U,y+=(Y.a=F=n[l+3])*U,k+=N,E+=D,_+=P,I+=F,Y=Y.next;for(Z=V,se=H,s=0;s<r;s++)n[u+3]=F=y*ce>>de,F!==0?(F=255/F,n[u]=(f*ce>>de)*F,n[u+1]=(h*ce>>de)*F,n[u+2]=(m*ce>>de)*F):n[u]=n[u+1]=n[u+2]=0,f-=x,h-=v,m-=b,y-=w,x-=Z.r,v-=Z.g,b-=Z.b,w-=Z.a,l=d+((l=s+e+1)<W?l:W)<<2,k+=Z.r=n[l],E+=Z.g=n[l+1],_+=Z.b=n[l+2],I+=Z.a=n[l+3],f+=k,h+=E,m+=_,y+=I,Z=Z.next,x+=N=se.r,v+=D=se.g,b+=P=se.b,w+=F=se.a,k-=N,E-=D,_-=P,I-=F,se=se.next,u+=4;d+=r}for(s=0;s<r;s++){for(E=_=I=k=h=m=y=f=0,u=s<<2,x=Q*(N=n[u]),v=Q*(D=n[u+1]),b=Q*(P=n[u+2]),w=Q*(F=n[u+3]),f+=ee*N,h+=ee*D,m+=ee*P,y+=ee*F,Y=V,a=0;a<Q;a++)Y.r=N,Y.g=D,Y.b=P,Y.a=F,Y=Y.next;for(c=r,a=1;a<=e;a++)u=c+s<<2,f+=(Y.r=N=n[u])*(U=Q-a),h+=(Y.g=D=n[u+1])*U,m+=(Y.b=P=n[u+2])*U,y+=(Y.a=F=n[u+3])*U,k+=N,E+=D,_+=P,I+=F,Y=Y.next,a<q&&(c+=r);for(u=s,Z=V,se=H,o=0;o<i;o++)l=u<<2,n[l+3]=F=y*ce>>de,F>0?(F=255/F,n[l]=(f*ce>>de)*F,n[l+1]=(h*ce>>de)*F,n[l+2]=(m*ce>>de)*F):n[l]=n[l+1]=n[l+2]=0,f-=x,h-=v,m-=b,y-=w,x-=Z.r,v-=Z.g,b-=Z.b,w-=Z.a,l=s+((l=o+Q)<q?l:q)*r<<2,f+=k+=Z.r=n[l],h+=E+=Z.g=n[l+1],m+=_+=Z.b=n[l+2],y+=I+=Z.a=n[l+3],Z=Z.next,x+=N=se.r,v+=D=se.g,b+=P=se.b,w+=F=se.a,k-=N,E-=D,_-=P,I-=F,se=se.next,u+=r}}const Tle=function(e){var n=Math.round(this.blurRadius());n>0&&Ele(e,n)};G.addGetterSetter(we,"blurRadius",0,Se(),G.afterSetFilter);const _le=function(t){var e=this.brightness()*255,n=t.data,r=n.length,i;for(i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};G.addGetterSetter(we,"brightness",0,Se(),G.afterSetFilter);const Ile=function(t){var e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length,i=150,s=150,o=150,a;for(a=0;a<r;a+=4)i=n[a],s=n[a+1],o=n[a+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,o=o<0?0:o>255?255:o,n[a]=i,n[a+1]=s,n[a+2]=o};G.addGetterSetter(we,"contrast",0,Se(),G.afterSetFilter);const $le=function(t){var e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),s=0,o=0,a=t.data,l=t.width,c=t.height,u=l*4,d=c;switch(r){case"top-left":s=-1,o=-1;break;case"top":s=-1,o=0;break;case"top-right":s=-1,o=1;break;case"right":s=0,o=1;break;case"bottom-right":s=1,o=1;break;case"bottom":s=1,o=0;break;case"bottom-left":s=1,o=-1;break;case"left":s=0,o=-1;break;default:ne.error("Unknown emboss direction: "+r)}do{var f=(d-1)*u,h=s;d+h<1&&(h=0),d+h>c&&(h=0);var m=(d-1+h)*l*4,y=l;do{var x=f+(y-1)*4,v=o;y+v<1&&(v=0),y+v>l&&(v=0);var b=m+(y-1+v)*4,w=a[x]-a[b],k=a[x+1]-a[b+1],E=a[x+2]-a[b+2],_=w,I=_>0?_:-_,N=k>0?k:-k,D=E>0?E:-E;if(N>I&&(_=k),D>I&&(_=E),_*=e,i){var P=a[x]+_,F=a[x+1]+_,U=a[x+2]+_;a[x]=P>255?255:P<0?0:P,a[x+1]=F>255?255:F<0?0:F,a[x+2]=U>255?255:U<0?0:U}else{var j=n-_;j<0?j=0:j>255&&(j=255),a[x]=a[x+1]=a[x+2]=j}}while(--y)}while(--d)};G.addGetterSetter(we,"embossStrength",.5,Se(),G.afterSetFilter);G.addGetterSetter(we,"embossWhiteLevel",.5,Se(),G.afterSetFilter);G.addGetterSetter(we,"embossDirection","top-left",null,G.afterSetFilter);G.addGetterSetter(we,"embossBlend",!1,null,G.afterSetFilter);function uT(t,e,n,r,i){var s=n-e,o=i-r,a;return s===0?r+o/2:o===0?r:(a=(t-e)/s,a=o*a+r,a)}const Nle=function(t){var e=t.data,n=e.length,r=e[0],i=r,s,o=e[1],a=o,l,c=e[2],u=c,d,f,h=this.enhance();if(h!==0){for(f=0;f<n;f+=4)s=e[f+0],s<r?r=s:s>i&&(i=s),l=e[f+1],l<o?o=l:l>a&&(a=l),d=e[f+2],d<c?c=d:d>u&&(u=d);i===r&&(i=255,r=0),a===o&&(a=255,o=0),u===c&&(u=255,c=0);var m,y,x,v,b,w,k,E,_;for(h>0?(y=i+h*(255-i),x=r-h*(r-0),b=a+h*(255-a),w=o-h*(o-0),E=u+h*(255-u),_=c-h*(c-0)):(m=(i+r)*.5,y=i+h*(i-m),x=r+h*(r-m),v=(a+o)*.5,b=a+h*(a-v),w=o+h*(o-v),k=(u+c)*.5,E=u+h*(u-k),_=c+h*(c-k)),f=0;f<n;f+=4)e[f+0]=uT(e[f+0],r,i,x,y),e[f+1]=uT(e[f+1],o,a,w,b),e[f+2]=uT(e[f+2],c,u,_,E)}};G.addGetterSetter(we,"enhance",0,Se(),G.afterSetFilter);const Ole=function(t){var e=t.data,n=e.length,r,i;for(r=0;r<n;r+=4)i=.34*e[r]+.5*e[r+1]+.16*e[r+2],e[r]=i,e[r+1]=i,e[r+2]=i};G.addGetterSetter(we,"hue",0,Se(),G.afterSetFilter);G.addGetterSetter(we,"saturation",0,Se(),G.afterSetFilter);G.addGetterSetter(we,"luminance",0,Se(),G.afterSetFilter);const Rle=function(t){var e=t.data,n=e.length,r=1,i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,o=this.luminance()*127,a,l=r*i*Math.cos(s*Math.PI/180),c=r*i*Math.sin(s*Math.PI/180),u=.299*r+.701*l+.167*c,d=.587*r-.587*l+.33*c,f=.114*r-.114*l-.497*c,h=.299*r-.299*l-.328*c,m=.587*r+.413*l+.035*c,y=.114*r-.114*l+.293*c,x=.299*r-.3*l+1.25*c,v=.587*r-.586*l-1.05*c,b=.114*r+.886*l-.2*c,w,k,E,_;for(a=0;a<n;a+=4)w=e[a+0],k=e[a+1],E=e[a+2],_=e[a+3],e[a+0]=u*w+d*k+f*E+o,e[a+1]=h*w+m*k+y*E+o,e[a+2]=x*w+v*k+b*E+o,e[a+3]=_},Ale=function(t){var e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,o,a=r*i*Math.cos(s*Math.PI/180),l=r*i*Math.sin(s*Math.PI/180),c=.299*r+.701*a+.167*l,u=.587*r-.587*a+.33*l,d=.114*r-.114*a-.497*l,f=.299*r-.299*a-.328*l,h=.587*r+.413*a+.035*l,m=.114*r-.114*a+.293*l,y=.299*r-.3*a+1.25*l,x=.587*r-.586*a-1.05*l,v=.114*r+.886*a-.2*l,b,w,k,E;for(o=0;o<n;o+=4)b=e[o+0],w=e[o+1],k=e[o+2],E=e[o+3],e[o+0]=c*b+u*w+d*k,e[o+1]=f*b+h*w+m*k,e[o+2]=y*b+x*w+v*k,e[o+3]=E};G.addGetterSetter(we,"hue",0,Se(),G.afterSetFilter);G.addGetterSetter(we,"saturation",0,Se(),G.afterSetFilter);G.addGetterSetter(we,"value",0,Se(),G.afterSetFilter);const Ple=function(t){var e=t.data,n=e.length,r;for(r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};var Dle=function(t,e,n){var r=t.data,i=e.data,s=t.width,o=t.height,a=n.polarCenterX||s/2,l=n.polarCenterY||o/2,c,u,d,f=0,h=0,m=0,y=0,x,v=Math.sqrt(a*a+l*l);u=s-a,d=o-l,x=Math.sqrt(u*u+d*d),v=x>v?x:v;var b=o,w=s,k,E,_=360/w*Math.PI/180,I,N;for(E=0;E<w;E+=1)for(I=Math.sin(E*_),N=Math.cos(E*_),k=0;k<b;k+=1)u=Math.floor(a+v*k/b*N),d=Math.floor(l+v*k/b*I),c=(d*s+u)*4,f=r[c+0],h=r[c+1],m=r[c+2],y=r[c+3],c=(E+k*s)*4,i[c+0]=f,i[c+1]=h,i[c+2]=m,i[c+3]=y},Fle=function(t,e,n){var r=t.data,i=e.data,s=t.width,o=t.height,a=n.polarCenterX||s/2,l=n.polarCenterY||o/2,c,u,d,f,h,m=0,y=0,x=0,v=0,b,w=Math.sqrt(a*a+l*l);u=s-a,d=o-l,b=Math.sqrt(u*u+d*d),w=b>w?b:w;var k=o,E=s,_,I,N=n.polarRotation||0,D,P;for(u=0;u<s;u+=1)for(d=0;d<o;d+=1)f=u-a,h=d-l,_=Math.sqrt(f*f+h*h)*k/w,I=(Math.atan2(h,f)*180/Math.PI+360+N)%360,I=I*E/360,D=Math.floor(I),P=Math.floor(_),c=(P*s+D)*4,m=r[c+0],y=r[c+1],x=r[c+2],v=r[c+3],c=(d*s+u)*4,i[c+0]=m,i[c+1]=y,i[c+2]=x,i[c+3]=v};const Lle=function(t){var e=t.width,n=t.height,r,i,s,o,a,l,c,u,d,f,h=Math.round(this.kaleidoscopePower()),m=Math.round(this.kaleidoscopeAngle()),y=Math.floor(e*(m%360)/360);if(!(h<1)){var x=ne.createCanvasElement();x.width=e,x.height=n;var v=x.getContext("2d").getImageData(0,0,e,n);ne.releaseCanvas(x),Dle(t,v,{polarCenterX:e/2,polarCenterY:n/2});for(var b=e/Math.pow(2,h);b<=8;)b=b*2,h-=1;b=Math.ceil(b);var w=b,k=0,E=w,_=1;for(y+b>e&&(k=w,E=0,_=-1),i=0;i<n;i+=1)for(r=k;r!==E;r+=_)s=Math.round(r+y)%e,d=(e*i+s)*4,a=v.data[d+0],l=v.data[d+1],c=v.data[d+2],u=v.data[d+3],f=(e*i+r)*4,v.data[f+0]=a,v.data[f+1]=l,v.data[f+2]=c,v.data[f+3]=u;for(i=0;i<n;i+=1)for(w=Math.floor(b),o=0;o<h;o+=1){for(r=0;r<w+1;r+=1)d=(e*i+r)*4,a=v.data[d+0],l=v.data[d+1],c=v.data[d+2],u=v.data[d+3],f=(e*i+w*2-r-1)*4,v.data[f+0]=a,v.data[f+1]=l,v.data[f+2]=c,v.data[f+3]=u;w*=2}Fle(v,t,{polarRotation:0})}};G.addGetterSetter(we,"kaleidoscopePower",2,Se(),G.afterSetFilter);G.addGetterSetter(we,"kaleidoscopeAngle",0,Se(),G.afterSetFilter);function I1(t,e,n){var r=(n*t.width+e)*4,i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function sm(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function Mle(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function Ble(t,e){var n=I1(t,0,0),r=I1(t,t.width-1,0),i=I1(t,0,t.height-1),s=I1(t,t.width-1,t.height-1),o=e||10;if(sm(n,r)<o&&sm(r,s)<o&&sm(s,i)<o&&sm(i,n)<o){for(var a=Mle([r,n,s,i]),l=[],c=0;c<t.width*t.height;c++){var u=sm(a,[t.data[c*4],t.data[c*4+1],t.data[c*4+2]]);l[c]=u<o?0:255}return l}}function zle(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function jle(t,e,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[],a=0;a<n;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,d=0;d<i;d++)for(var f=0;f<i;f++){var h=a+d-s,m=l+f-s;if(h>=0&&h<n&&m>=0&&m<e){var y=h*e+m,x=r[d*i+f];u+=t[y]*x}}o[c]=u===255*8?255:0}return o}function Vle(t,e,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[],a=0;a<n;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,d=0;d<i;d++)for(var f=0;f<i;f++){var h=a+d-s,m=l+f-s;if(h>=0&&h<n&&m>=0&&m<e){var y=h*e+m,x=r[d*i+f];u+=t[y]*x}}o[c]=u>=255*4?255:0}return o}function Ule(t,e,n){for(var r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[],a=0;a<n;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,d=0;d<i;d++)for(var f=0;f<i;f++){var h=a+d-s,m=l+f-s;if(h>=0&&h<n&&m>=0&&m<e){var y=h*e+m,x=r[d*i+f];u+=t[y]*x}}o[c]=u}return o}const Wle=function(t){var e=this.threshold(),n=Ble(t,e);return n&&(n=jle(n,t.width,t.height),n=Vle(n,t.width,t.height),n=Ule(n,t.width,t.height),zle(t,n)),t};G.addGetterSetter(we,"threshold",0,Se(),G.afterSetFilter);const Gle=function(t){var e=this.noise()*255,n=t.data,r=n.length,i=e/2,s;for(s=0;s<r;s+=4)n[s+0]+=i-2*i*Math.random(),n[s+1]+=i-2*i*Math.random(),n[s+2]+=i-2*i*Math.random()};G.addGetterSetter(we,"noise",.2,Se(),G.afterSetFilter);const Hle=function(t){var e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,i,s,o,a,l,c,u,d=Math.ceil(n/e),f=Math.ceil(r/e),h,m,y,x,v,b,w,k=t.data;if(e<=0){ne.error("pixelSize value can not be <= 0");return}for(v=0;v<d;v+=1)for(b=0;b<f;b+=1){for(a=0,l=0,c=0,u=0,h=v*e,m=h+e,y=b*e,x=y+e,w=0,i=h;i<m;i+=1)if(!(i>=n))for(s=y;s<x;s+=1)s>=r||(o=(n*s+i)*4,a+=k[o+0],l+=k[o+1],c+=k[o+2],u+=k[o+3],w+=1);for(a=a/w,l=l/w,c=c/w,u=u/w,i=h;i<m;i+=1)if(!(i>=n))for(s=y;s<x;s+=1)s>=r||(o=(n*s+i)*4,k[o+0]=a,k[o+1]=l,k[o+2]=c,k[o+3]=u)}};G.addGetterSetter(we,"pixelSize",8,Se(),G.afterSetFilter);const qle=function(t){var e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,i=255/e,s;for(s=0;s<r;s+=1)n[s]=Math.floor(n[s]/i)*i};G.addGetterSetter(we,"levels",.5,Se(),G.afterSetFilter);const Kle=function(t){var e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),o,a;for(o=0;o<n;o+=4)a=(.34*e[o]+.5*e[o+1]+.16*e[o+2])/255,e[o]=a*r,e[o+1]=a*i,e[o+2]=a*s,e[o+3]=e[o+3]};G.addGetterSetter(we,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});G.addGetterSetter(we,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});G.addGetterSetter(we,"blue",0,_9,G.afterSetFilter);const Xle=function(t){var e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),o=this.alpha(),a,l;for(a=0;a<n;a+=4)l=1-o,e[a]=r*o+e[a]*l,e[a+1]=i*o+e[a+1]*l,e[a+2]=s*o+e[a+2]*l};G.addGetterSetter(we,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});G.addGetterSetter(we,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});G.addGetterSetter(we,"blue",0,_9,G.afterSetFilter);G.addGetterSetter(we,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const Qle=function(t){var e=t.data,n=e.length,r,i,s,o;for(r=0;r<n;r+=4)i=e[r+0],s=e[r+1],o=e[r+2],e[r+0]=Math.min(255,i*.393+s*.769+o*.189),e[r+1]=Math.min(255,i*.349+s*.686+o*.168),e[r+2]=Math.min(255,i*.272+s*.534+o*.131)},Yle=function(t){var e=t.data,n=t.width,r=t.height,i=n*4,s=r;do{var o=(s-1)*i,a=n;do{var l=o+(a-1)*4,c=e[l],u=e[l+1],d=e[l+2];c>127&&(c=255-c),u>127&&(u=255-u),d>127&&(d=255-d),e[l]=c,e[l+1]=u,e[l+2]=d}while(--a)}while(--s)},Jle=function(t){var e=this.threshold()*255,n=t.data,r=n.length,i;for(i=0;i<r;i+=1)n[i]=n[i]<e?0:255};G.addGetterSetter(we,"threshold",.5,Se(),G.afterSetFilter);const ui=Lu.Util._assign(Lu,{Arc:il,Arrow:sd,Circle:Gh,Ellipse:Tc,Image:ha,Label:qO,Tag:od,Line:sl,Path:Ft,Rect:hy,RegularPolygon:ad,Ring:ld,Sprite:pa,Star:_c,Text:En,TextPath:sr,Transformer:Ot,Wedge:ol,Filters:{Blur:Tle,Brighten:_le,Contrast:Ile,Emboss:$le,Enhance:Nle,Grayscale:Ole,HSL:Rle,HSV:Ale,Invert:Ple,Kaleidoscope:Lle,Mask:Wle,Noise:Gle,Pixelate:Hle,Posterize:qle,RGB:Kle,RGBA:Xle,Sepia:Qle,Solarize:Yle,Threshold:Jle}});var s7={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zle=function(e){var n={},r=A,i=Pm,s=Object.assign;function o(p){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+p,S=1;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),E=Symbol.iterator;function _(p){return p===null||typeof p!="object"?null:(p=E&&p[E]||p["@@iterator"],typeof p=="function"?p:null)}function I(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case v:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case m:return(p.displayName||"Context")+".Consumer";case h:return(p._context.displayName||"Context")+".Provider";case y:var g=p.render;return p=p.displayName,p||(p=g.displayName||g.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case b:return g=p.displayName||null,g!==null?g:I(p.type)||"Memo";case w:g=p._payload,p=p._init;try{return I(p(g))}catch{}}return null}function N(p){var g=p.type;switch(p.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=g.render,p=p.displayName||p.name||"",g.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(g);case 8:return g===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function D(p){var g=p,S=p;if(p.alternate)for(;g.return;)g=g.return;else{p=g;do g=p,g.flags&4098&&(S=g.return),p=g.return;while(p)}return g.tag===3?S:null}function P(p){if(D(p)!==p)throw Error(o(188))}function F(p){var g=p.alternate;if(!g){if(g=D(p),g===null)throw Error(o(188));return g!==p?null:p}for(var S=p,C=g;;){var T=S.return;if(T===null)break;var O=T.alternate;if(O===null){if(C=T.return,C!==null){S=C;continue}break}if(T.child===O.child){for(O=T.child;O;){if(O===S)return P(T),p;if(O===C)return P(T),g;O=O.sibling}throw Error(o(188))}if(S.return!==C.return)S=T,C=O;else{for(var z=!1,J=T.child;J;){if(J===S){z=!0,S=T,C=O;break}if(J===C){z=!0,C=T,S=O;break}J=J.sibling}if(!z){for(J=O.child;J;){if(J===S){z=!0,S=O,C=T;break}if(J===C){z=!0,C=O,S=T;break}J=J.sibling}if(!z)throw Error(o(189))}}if(S.alternate!==C)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?p:g}function U(p){return p=F(p),p!==null?j(p):null}function j(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var g=j(p);if(g!==null)return g;p=p.sibling}return null}function W(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){if(p.tag!==4){var g=W(p);if(g!==null)return g}p=p.sibling}return null}var q=Array.isArray,Q=e.getPublicInstance,ee=e.getRootHostContext,V=e.getChildHostContext,H=e.prepareForCommit,Y=e.resetAfterCommit,Z=e.createInstance,se=e.appendInitialChild,ce=e.finalizeInitialChildren,de=e.prepareUpdate,fe=e.shouldSetTextContent,ge=e.createTextInstance,ke=e.scheduleTimeout,Ie=e.cancelTimeout,$e=e.noTimeout,De=e.isPrimaryRenderer,Oe=e.supportsMutation,Qe=e.supportsPersistence,Xe=e.supportsHydration,et=e.getInstanceFromNode,He=e.preparePortalMount,rt=e.getCurrentEventPriority,nt=e.detachDeletedInstance,bt=e.supportsMicrotasks,ln=e.scheduleMicrotask,lt=e.supportsTestSelectors,_n=e.findFiberRoot,cn=e.getBoundingRect,lr=e.getTextContent,ye=e.isHiddenSubtree,Ae=e.matchAccessibilityRole,Pe=e.setFocusIfFocusable,ct=e.setupIntersectionObserver,Ct=e.appendChild,ai=e.appendChildToContainer,xi=e.commitTextUpdate,Ce=e.commitMount,qt=e.commitUpdate,Yn=e.insertBefore,Er=e.insertInContainerBefore,bi=e.removeChild,wi=e.removeChildFromContainer,Tr=e.resetTextContent,kp=e.hideInstance,Zk=e.hideTextInstance,TJ=e.unhideInstance,_J=e.unhideTextInstance,IJ=e.clearContainer,$J=e.cloneInstance,WP=e.createContainerChildSet,GP=e.appendChildToContainerChildSet,NJ=e.finalizeContainerChildren,eC=e.replaceContainerChildren,HP=e.cloneHiddenInstance,qP=e.cloneHiddenTextInstance,OJ=e.canHydrateInstance,RJ=e.canHydrateTextInstance,AJ=e.canHydrateSuspenseInstance,KP=e.isSuspenseInstancePending,tC=e.isSuspenseInstanceFallback,PJ=e.getSuspenseInstanceFallbackErrorDetails,DJ=e.registerSuspenseInstanceRetry,s0=e.getNextHydratableSibling,FJ=e.getFirstHydratableChild,LJ=e.getFirstHydratableChildWithinContainer,MJ=e.getFirstHydratableChildWithinSuspenseInstance,BJ=e.hydrateInstance,zJ=e.hydrateTextInstance,jJ=e.hydrateSuspenseInstance,VJ=e.getNextHydratableInstanceAfterSuspenseInstance,UJ=e.commitHydratedContainer,WJ=e.commitHydratedSuspenseInstance,GJ=e.clearSuspenseBoundary,HJ=e.clearSuspenseBoundaryFromContainer,qJ=e.shouldDeleteUnhydratedTailInstances,KJ=e.didNotMatchHydratedContainerTextInstance,XJ=e.didNotMatchHydratedTextInstance,nC;function Cp(p){if(nC===void 0)try{throw Error()}catch(S){var g=S.stack.trim().match(/\n( *(at )?)/);nC=g&&g[1]||""}return`
`+nC+p}var rC=!1;function iC(p,g){if(!p||rC)return"";rC=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(be){var C=be}Reflect.construct(p,[],g)}else{try{g.call()}catch(be){C=be}p.call(g.prototype)}else{try{throw Error()}catch(be){C=be}p()}}catch(be){if(be&&C&&typeof be.stack=="string"){for(var T=be.stack.split(`
`),O=C.stack.split(`
`),z=T.length-1,J=O.length-1;1<=z&&0<=J&&T[z]!==O[J];)J--;for(;1<=z&&0<=J;z--,J--)if(T[z]!==O[J]){if(z!==1||J!==1)do if(z--,J--,0>J||T[z]!==O[J]){var ae=`
`+T[z].replace(" at new "," at ");return p.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",p.displayName)),ae}while(1<=z&&0<=J);break}}}finally{rC=!1,Error.prepareStackTrace=S}return(p=p?p.displayName||p.name:"")?Cp(p):""}var QJ=Object.prototype.hasOwnProperty,sC=[],Ed=-1;function yl(p){return{current:p}}function en(p){0>Ed||(p.current=sC[Ed],sC[Ed]=null,Ed--)}function Kt(p,g){Ed++,sC[Ed]=p.current,p.current=g}var vl={},jr=yl(vl),Si=yl(!1),Bc=vl;function Td(p,g){var S=p.type.contextTypes;if(!S)return vl;var C=p.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===g)return C.__reactInternalMemoizedMaskedChildContext;var T={},O;for(O in S)T[O]=g[O];return C&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=g,p.__reactInternalMemoizedMaskedChildContext=T),T}function ki(p){return p=p.childContextTypes,p!=null}function o0(){en(Si),en(jr)}function XP(p,g,S){if(jr.current!==vl)throw Error(o(168));Kt(jr,g),Kt(Si,S)}function QP(p,g,S){var C=p.stateNode;if(g=g.childContextTypes,typeof C.getChildContext!="function")return S;C=C.getChildContext();for(var T in C)if(!(T in g))throw Error(o(108,N(p)||"Unknown",T));return s({},S,C)}function a0(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||vl,Bc=jr.current,Kt(jr,p),Kt(Si,Si.current),!0}function YP(p,g,S){var C=p.stateNode;if(!C)throw Error(o(169));S?(p=QP(p,g,Bc),C.__reactInternalMemoizedMergedChildContext=p,en(Si),en(jr),Kt(jr,p)):en(Si),Kt(Si,S)}var Ys=Math.clz32?Math.clz32:ZJ,YJ=Math.log,JJ=Math.LN2;function ZJ(p){return p>>>=0,p===0?32:31-(YJ(p)/JJ|0)|0}var l0=64,c0=4194304;function Ep(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function u0(p,g){var S=p.pendingLanes;if(S===0)return 0;var C=0,T=p.suspendedLanes,O=p.pingedLanes,z=S&268435455;if(z!==0){var J=z&~T;J!==0?C=Ep(J):(O&=z,O!==0&&(C=Ep(O)))}else z=S&~T,z!==0?C=Ep(z):O!==0&&(C=Ep(O));if(C===0)return 0;if(g!==0&&g!==C&&!(g&T)&&(T=C&-C,O=g&-g,T>=O||T===16&&(O&4194240)!==0))return g;if(C&4&&(C|=S&16),g=p.entangledLanes,g!==0)for(p=p.entanglements,g&=C;0<g;)S=31-Ys(g),T=1<<S,C|=p[S],g&=~T;return C}function eZ(p,g){switch(p){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tZ(p,g){for(var S=p.suspendedLanes,C=p.pingedLanes,T=p.expirationTimes,O=p.pendingLanes;0<O;){var z=31-Ys(O),J=1<<z,ae=T[z];ae===-1?(!(J&S)||J&C)&&(T[z]=eZ(J,g)):ae<=g&&(p.expiredLanes|=J),O&=~J}}function oC(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function JP(){var p=l0;return l0<<=1,!(l0&4194240)&&(l0=64),p}function aC(p){for(var g=[],S=0;31>S;S++)g.push(p);return g}function Tp(p,g,S){p.pendingLanes|=g,g!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,g=31-Ys(g),p[g]=S}function nZ(p,g){var S=p.pendingLanes&~g;p.pendingLanes=g,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=g,p.mutableReadLanes&=g,p.entangledLanes&=g,g=p.entanglements;var C=p.eventTimes;for(p=p.expirationTimes;0<S;){var T=31-Ys(S),O=1<<T;g[T]=0,C[T]=-1,p[T]=-1,S&=~O}}function lC(p,g){var S=p.entangledLanes|=g;for(p=p.entanglements;S;){var C=31-Ys(S),T=1<<C;T&g|p[C]&g&&(p[C]|=g),S&=~T}}var Et=0;function ZP(p){return p&=-p,1<p?4<p?p&268435455?16:536870912:4:1}var cC=i.unstable_scheduleCallback,eD=i.unstable_cancelCallback,rZ=i.unstable_shouldYield,iZ=i.unstable_requestPaint,cr=i.unstable_now,uC=i.unstable_ImmediatePriority,sZ=i.unstable_UserBlockingPriority,dC=i.unstable_NormalPriority,oZ=i.unstable_IdlePriority,d0=null,$o=null;function aZ(p){if($o&&typeof $o.onCommitFiberRoot=="function")try{$o.onCommitFiberRoot(d0,p,void 0,(p.current.flags&128)===128)}catch{}}function lZ(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var Js=typeof Object.is=="function"?Object.is:lZ,ga=null,f0=!1,fC=!1;function tD(p){ga===null?ga=[p]:ga.push(p)}function cZ(p){f0=!0,tD(p)}function No(){if(!fC&&ga!==null){fC=!0;var p=0,g=Et;try{var S=ga;for(Et=1;p<S.length;p++){var C=S[p];do C=C(!0);while(C!==null)}ga=null,f0=!1}catch(T){throw ga!==null&&(ga=ga.slice(p+1)),cC(uC,No),T}finally{Et=g,fC=!1}}return null}var _d=[],Id=0,h0=null,p0=0,ys=[],vs=0,zc=null,ya=1,va="";function jc(p,g){_d[Id++]=p0,_d[Id++]=h0,h0=p,p0=g}function nD(p,g,S){ys[vs++]=ya,ys[vs++]=va,ys[vs++]=zc,zc=p;var C=ya;p=va;var T=32-Ys(C)-1;C&=~(1<<T),S+=1;var O=32-Ys(g)+T;if(30<O){var z=T-T%5;O=(C&(1<<z)-1).toString(32),C>>=z,T-=z,ya=1<<32-Ys(g)+T|S<<T|C,va=O+p}else ya=1<<O|S<<T|C,va=p}function hC(p){p.return!==null&&(jc(p,1),nD(p,1,0))}function pC(p){for(;p===h0;)h0=_d[--Id],_d[Id]=null,p0=_d[--Id],_d[Id]=null;for(;p===zc;)zc=ys[--vs],ys[vs]=null,va=ys[--vs],ys[vs]=null,ya=ys[--vs],ys[vs]=null}var Xi=null,xs=null,un=!1,_p=!1,Zs=null;function rD(p,g){var S=Cs(5,null,null,0);S.elementType="DELETED",S.stateNode=g,S.return=p,g=p.deletions,g===null?(p.deletions=[S],p.flags|=16):g.push(S)}function iD(p,g){switch(p.tag){case 5:return g=OJ(g,p.type,p.pendingProps),g!==null?(p.stateNode=g,Xi=p,xs=FJ(g),!0):!1;case 6:return g=RJ(g,p.pendingProps),g!==null?(p.stateNode=g,Xi=p,xs=null,!0):!1;case 13:if(g=AJ(g),g!==null){var S=zc!==null?{id:ya,overflow:va}:null;return p.memoizedState={dehydrated:g,treeContext:S,retryLane:1073741824},S=Cs(18,null,null,0),S.stateNode=g,S.return=p,p.child=S,Xi=p,xs=null,!0}return!1;default:return!1}}function mC(p){return(p.mode&1)!==0&&(p.flags&128)===0}function gC(p){if(un){var g=xs;if(g){var S=g;if(!iD(p,g)){if(mC(p))throw Error(o(418));g=s0(S);var C=Xi;g&&iD(p,g)?rD(C,S):(p.flags=p.flags&-4097|2,un=!1,Xi=p)}}else{if(mC(p))throw Error(o(418));p.flags=p.flags&-4097|2,un=!1,Xi=p}}}function sD(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Xi=p}function m0(p){if(!Xe||p!==Xi)return!1;if(!un)return sD(p),un=!0,!1;if(p.tag!==3&&(p.tag!==5||qJ(p.type)&&!fe(p.type,p.memoizedProps))){var g=xs;if(g){if(mC(p))throw oD(),Error(o(418));for(;g;)rD(p,g),g=s0(g)}}if(sD(p),p.tag===13){if(!Xe)throw Error(o(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));xs=VJ(p)}else xs=Xi?s0(p.stateNode):null;return!0}function oD(){for(var p=xs;p;)p=s0(p)}function $d(){Xe&&(xs=Xi=null,_p=un=!1)}function yC(p){Zs===null?Zs=[p]:Zs.push(p)}var uZ=a.ReactCurrentBatchConfig;function g0(p,g){if(Js(p,g))return!0;if(typeof p!="object"||p===null||typeof g!="object"||g===null)return!1;var S=Object.keys(p),C=Object.keys(g);if(S.length!==C.length)return!1;for(C=0;C<S.length;C++){var T=S[C];if(!QJ.call(g,T)||!Js(p[T],g[T]))return!1}return!0}function dZ(p){switch(p.tag){case 5:return Cp(p.type);case 16:return Cp("Lazy");case 13:return Cp("Suspense");case 19:return Cp("SuspenseList");case 0:case 2:case 15:return p=iC(p.type,!1),p;case 11:return p=iC(p.type.render,!1),p;case 1:return p=iC(p.type,!0),p;default:return""}}function Ip(p,g,S){if(p=S.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var C=S.stateNode}if(!C)throw Error(o(147,p));var T=C,O=""+p;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===O?g.ref:(g=function(z){var J=T.refs;z===null?delete J[O]:J[O]=z},g._stringRef=O,g)}if(typeof p!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,p))}return p}function y0(p,g){throw p=Object.prototype.toString.call(g),Error(o(31,p==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":p))}function aD(p){var g=p._init;return g(p._payload)}function lD(p){function g(oe,te){if(p){var ue=oe.deletions;ue===null?(oe.deletions=[te],oe.flags|=16):ue.push(te)}}function S(oe,te){if(!p)return null;for(;te!==null;)g(oe,te),te=te.sibling;return null}function C(oe,te){for(oe=new Map;te!==null;)te.key!==null?oe.set(te.key,te):oe.set(te.index,te),te=te.sibling;return oe}function T(oe,te){return oe=El(oe,te),oe.index=0,oe.sibling=null,oe}function O(oe,te,ue){return oe.index=ue,p?(ue=oe.alternate,ue!==null?(ue=ue.index,ue<te?(oe.flags|=2,te):ue):(oe.flags|=2,te)):(oe.flags|=1048576,te)}function z(oe){return p&&oe.alternate===null&&(oe.flags|=2),oe}function J(oe,te,ue,Re){return te===null||te.tag!==6?(te=fE(ue,oe.mode,Re),te.return=oe,te):(te=T(te,ue),te.return=oe,te)}function ae(oe,te,ue,Re){var Ye=ue.type;return Ye===u?je(oe,te,ue.props.children,Re,ue.key):te!==null&&(te.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===w&&aD(Ye)===te.type)?(Re=T(te,ue.props),Re.ref=Ip(oe,te,ue),Re.return=oe,Re):(Re=K0(ue.type,ue.key,ue.props,null,oe.mode,Re),Re.ref=Ip(oe,te,ue),Re.return=oe,Re)}function be(oe,te,ue,Re){return te===null||te.tag!==4||te.stateNode.containerInfo!==ue.containerInfo||te.stateNode.implementation!==ue.implementation?(te=hE(ue,oe.mode,Re),te.return=oe,te):(te=T(te,ue.children||[]),te.return=oe,te)}function je(oe,te,ue,Re,Ye){return te===null||te.tag!==7?(te=Kc(ue,oe.mode,Re,Ye),te.return=oe,te):(te=T(te,ue),te.return=oe,te)}function st(oe,te,ue){if(typeof te=="string"&&te!==""||typeof te=="number")return te=fE(""+te,oe.mode,ue),te.return=oe,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case l:return ue=K0(te.type,te.key,te.props,null,oe.mode,ue),ue.ref=Ip(oe,null,te),ue.return=oe,ue;case c:return te=hE(te,oe.mode,ue),te.return=oe,te;case w:var Re=te._init;return st(oe,Re(te._payload),ue)}if(q(te)||_(te))return te=Kc(te,oe.mode,ue,null),te.return=oe,te;y0(oe,te)}return null}function Ne(oe,te,ue,Re){var Ye=te!==null?te.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Ye!==null?null:J(oe,te,""+ue,Re);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:return ue.key===Ye?ae(oe,te,ue,Re):null;case c:return ue.key===Ye?be(oe,te,ue,Re):null;case w:return Ye=ue._init,Ne(oe,te,Ye(ue._payload),Re)}if(q(ue)||_(ue))return Ye!==null?null:je(oe,te,ue,Re,null);y0(oe,ue)}return null}function tn(oe,te,ue,Re,Ye){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return oe=oe.get(ue)||null,J(te,oe,""+Re,Ye);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case l:return oe=oe.get(Re.key===null?ue:Re.key)||null,ae(te,oe,Re,Ye);case c:return oe=oe.get(Re.key===null?ue:Re.key)||null,be(te,oe,Re,Ye);case w:var ut=Re._init;return tn(oe,te,ue,ut(Re._payload),Ye)}if(q(Re)||_(Re))return oe=oe.get(ue)||null,je(te,oe,Re,Ye,null);y0(te,Re)}return null}function zt(oe,te,ue,Re){for(var Ye=null,ut=null,ot=te,Tt=te=0,fr=null;ot!==null&&Tt<ue.length;Tt++){ot.index>Tt?(fr=ot,ot=null):fr=ot.sibling;var _t=Ne(oe,ot,ue[Tt],Re);if(_t===null){ot===null&&(ot=fr);break}p&&ot&&_t.alternate===null&&g(oe,ot),te=O(_t,te,Tt),ut===null?Ye=_t:ut.sibling=_t,ut=_t,ot=fr}if(Tt===ue.length)return S(oe,ot),un&&jc(oe,Tt),Ye;if(ot===null){for(;Tt<ue.length;Tt++)ot=st(oe,ue[Tt],Re),ot!==null&&(te=O(ot,te,Tt),ut===null?Ye=ot:ut.sibling=ot,ut=ot);return un&&jc(oe,Tt),Ye}for(ot=C(oe,ot);Tt<ue.length;Tt++)fr=tn(ot,oe,Tt,ue[Tt],Re),fr!==null&&(p&&fr.alternate!==null&&ot.delete(fr.key===null?Tt:fr.key),te=O(fr,te,Tt),ut===null?Ye=fr:ut.sibling=fr,ut=fr);return p&&ot.forEach(function(Tl){return g(oe,Tl)}),un&&jc(oe,Tt),Ye}function _i(oe,te,ue,Re){var Ye=_(ue);if(typeof Ye!="function")throw Error(o(150));if(ue=Ye.call(ue),ue==null)throw Error(o(151));for(var ut=Ye=null,ot=te,Tt=te=0,fr=null,_t=ue.next();ot!==null&&!_t.done;Tt++,_t=ue.next()){ot.index>Tt?(fr=ot,ot=null):fr=ot.sibling;var Tl=Ne(oe,ot,_t.value,Re);if(Tl===null){ot===null&&(ot=fr);break}p&&ot&&Tl.alternate===null&&g(oe,ot),te=O(Tl,te,Tt),ut===null?Ye=Tl:ut.sibling=Tl,ut=Tl,ot=fr}if(_t.done)return S(oe,ot),un&&jc(oe,Tt),Ye;if(ot===null){for(;!_t.done;Tt++,_t=ue.next())_t=st(oe,_t.value,Re),_t!==null&&(te=O(_t,te,Tt),ut===null?Ye=_t:ut.sibling=_t,ut=_t);return un&&jc(oe,Tt),Ye}for(ot=C(oe,ot);!_t.done;Tt++,_t=ue.next())_t=tn(ot,oe,Tt,_t.value,Re),_t!==null&&(p&&_t.alternate!==null&&ot.delete(_t.key===null?Tt:_t.key),te=O(_t,te,Tt),ut===null?Ye=_t:ut.sibling=_t,ut=_t);return p&&ot.forEach(function(jZ){return g(oe,jZ)}),un&&jc(oe,Tt),Ye}function Sa(oe,te,ue,Re){if(typeof ue=="object"&&ue!==null&&ue.type===u&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:e:{for(var Ye=ue.key,ut=te;ut!==null;){if(ut.key===Ye){if(Ye=ue.type,Ye===u){if(ut.tag===7){S(oe,ut.sibling),te=T(ut,ue.props.children),te.return=oe,oe=te;break e}}else if(ut.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===w&&aD(Ye)===ut.type){S(oe,ut.sibling),te=T(ut,ue.props),te.ref=Ip(oe,ut,ue),te.return=oe,oe=te;break e}S(oe,ut);break}else g(oe,ut);ut=ut.sibling}ue.type===u?(te=Kc(ue.props.children,oe.mode,Re,ue.key),te.return=oe,oe=te):(Re=K0(ue.type,ue.key,ue.props,null,oe.mode,Re),Re.ref=Ip(oe,te,ue),Re.return=oe,oe=Re)}return z(oe);case c:e:{for(ut=ue.key;te!==null;){if(te.key===ut)if(te.tag===4&&te.stateNode.containerInfo===ue.containerInfo&&te.stateNode.implementation===ue.implementation){S(oe,te.sibling),te=T(te,ue.children||[]),te.return=oe,oe=te;break e}else{S(oe,te);break}else g(oe,te);te=te.sibling}te=hE(ue,oe.mode,Re),te.return=oe,oe=te}return z(oe);case w:return ut=ue._init,Sa(oe,te,ut(ue._payload),Re)}if(q(ue))return zt(oe,te,ue,Re);if(_(ue))return _i(oe,te,ue,Re);y0(oe,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,te!==null&&te.tag===6?(S(oe,te.sibling),te=T(te,ue),te.return=oe,oe=te):(S(oe,te),te=fE(ue,oe.mode,Re),te.return=oe,oe=te),z(oe)):S(oe,te)}return Sa}var Nd=lD(!0),cD=lD(!1),v0=yl(null),x0=null,Od=null,vC=null;function xC(){vC=Od=x0=null}function uD(p,g,S){De?(Kt(v0,g._currentValue),g._currentValue=S):(Kt(v0,g._currentValue2),g._currentValue2=S)}function bC(p){var g=v0.current;en(v0),De?p._currentValue=g:p._currentValue2=g}function wC(p,g,S){for(;p!==null;){var C=p.alternate;if((p.childLanes&g)!==g?(p.childLanes|=g,C!==null&&(C.childLanes|=g)):C!==null&&(C.childLanes&g)!==g&&(C.childLanes|=g),p===S)break;p=p.return}}function Rd(p,g){x0=p,vC=Od=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&g&&(Ci=!0),p.firstContext=null)}function bs(p){var g=De?p._currentValue:p._currentValue2;if(vC!==p)if(p={context:p,memoizedValue:g,next:null},Od===null){if(x0===null)throw Error(o(308));Od=p,x0.dependencies={lanes:0,firstContext:p}}else Od=Od.next=p;return g}var Vc=null;function SC(p){Vc===null?Vc=[p]:Vc.push(p)}function dD(p,g,S,C){var T=g.interleaved;return T===null?(S.next=S,SC(g)):(S.next=T.next,T.next=S),g.interleaved=S,Oo(p,C)}function Oo(p,g){p.lanes|=g;var S=p.alternate;for(S!==null&&(S.lanes|=g),S=p,p=p.return;p!==null;)p.childLanes|=g,S=p.alternate,S!==null&&(S.childLanes|=g),S=p,p=p.return;return S.tag===3?S.stateNode:null}var xl=!1;function kC(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fD(p,g){p=p.updateQueue,g.updateQueue===p&&(g.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function xa(p,g){return{eventTime:p,lane:g,tag:0,payload:null,callback:null,next:null}}function bl(p,g,S){var C=p.updateQueue;if(C===null)return null;if(C=C.shared,ht&2){var T=C.pending;return T===null?g.next=g:(g.next=T.next,T.next=g),C.pending=g,Oo(p,S)}return T=C.interleaved,T===null?(g.next=g,SC(C)):(g.next=T.next,T.next=g),C.interleaved=g,Oo(p,S)}function b0(p,g,S){if(g=g.updateQueue,g!==null&&(g=g.shared,(S&4194240)!==0)){var C=g.lanes;C&=p.pendingLanes,S|=C,g.lanes=S,lC(p,S)}}function hD(p,g){var S=p.updateQueue,C=p.alternate;if(C!==null&&(C=C.updateQueue,S===C)){var T=null,O=null;if(S=S.firstBaseUpdate,S!==null){do{var z={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};O===null?T=O=z:O=O.next=z,S=S.next}while(S!==null);O===null?T=O=g:O=O.next=g}else T=O=g;S={baseState:C.baseState,firstBaseUpdate:T,lastBaseUpdate:O,shared:C.shared,effects:C.effects},p.updateQueue=S;return}p=S.lastBaseUpdate,p===null?S.firstBaseUpdate=g:p.next=g,S.lastBaseUpdate=g}function w0(p,g,S,C){var T=p.updateQueue;xl=!1;var O=T.firstBaseUpdate,z=T.lastBaseUpdate,J=T.shared.pending;if(J!==null){T.shared.pending=null;var ae=J,be=ae.next;ae.next=null,z===null?O=be:z.next=be,z=ae;var je=p.alternate;je!==null&&(je=je.updateQueue,J=je.lastBaseUpdate,J!==z&&(J===null?je.firstBaseUpdate=be:J.next=be,je.lastBaseUpdate=ae))}if(O!==null){var st=T.baseState;z=0,je=be=ae=null,J=O;do{var Ne=J.lane,tn=J.eventTime;if((C&Ne)===Ne){je!==null&&(je=je.next={eventTime:tn,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var zt=p,_i=J;switch(Ne=g,tn=S,_i.tag){case 1:if(zt=_i.payload,typeof zt=="function"){st=zt.call(tn,st,Ne);break e}st=zt;break e;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=_i.payload,Ne=typeof zt=="function"?zt.call(tn,st,Ne):zt,Ne==null)break e;st=s({},st,Ne);break e;case 2:xl=!0}}J.callback!==null&&J.lane!==0&&(p.flags|=64,Ne=T.effects,Ne===null?T.effects=[J]:Ne.push(J))}else tn={eventTime:tn,lane:Ne,tag:J.tag,payload:J.payload,callback:J.callback,next:null},je===null?(be=je=tn,ae=st):je=je.next=tn,z|=Ne;if(J=J.next,J===null){if(J=T.shared.pending,J===null)break;Ne=J,J=Ne.next,Ne.next=null,T.lastBaseUpdate=Ne,T.shared.pending=null}}while(!0);if(je===null&&(ae=st),T.baseState=ae,T.firstBaseUpdate=be,T.lastBaseUpdate=je,g=T.shared.interleaved,g!==null){T=g;do z|=T.lane,T=T.next;while(T!==g)}else O===null&&(T.shared.lanes=0);Wc|=z,p.lanes=z,p.memoizedState=st}}function pD(p,g,S){if(p=g.effects,g.effects=null,p!==null)for(g=0;g<p.length;g++){var C=p[g],T=C.callback;if(T!==null){if(C.callback=null,C=S,typeof T!="function")throw Error(o(191,T));T.call(C)}}}var $p={},ws=yl($p),Np=yl($p),Ad=yl($p);function Ro(p){if(p===$p)throw Error(o(174));return p}function CC(p,g){Kt(Ad,g),Kt(Np,p),Kt(ws,$p),p=ee(g),en(ws),Kt(ws,p)}function Pd(){en(ws),en(Np),en(Ad)}function mD(p){var g=Ro(Ad.current),S=Ro(ws.current);g=V(S,p.type,g),S!==g&&(Kt(Np,p),Kt(ws,g))}function EC(p){Np.current===p&&(en(ws),en(Np))}var vn=yl(0);function S0(p){for(var g=p;g!==null;){if(g.tag===13){var S=g.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||KP(S)||tC(S)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var TC=[];function _C(){for(var p=0;p<TC.length;p++){var g=TC[p];De?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}TC.length=0}var k0=a.ReactCurrentDispatcher,IC=a.ReactCurrentBatchConfig,Uc=0,xn=null,Jn=null,ur=null,C0=!1,Op=!1,Rp=0,fZ=0;function Vr(){throw Error(o(321))}function $C(p,g){if(g===null)return!1;for(var S=0;S<g.length&&S<p.length;S++)if(!Js(p[S],g[S]))return!1;return!0}function NC(p,g,S,C,T,O){if(Uc=O,xn=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,k0.current=p===null||p.memoizedState===null?gZ:yZ,p=S(C,T),Op){O=0;do{if(Op=!1,Rp=0,25<=O)throw Error(o(301));O+=1,ur=Jn=null,g.updateQueue=null,k0.current=vZ,p=S(C,T)}while(Op)}if(k0.current=_0,g=Jn!==null&&Jn.next!==null,Uc=0,ur=Jn=xn=null,C0=!1,g)throw Error(o(300));return p}function OC(){var p=Rp!==0;return Rp=0,p}function Ao(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?xn.memoizedState=ur=p:ur=ur.next=p,ur}function Ss(){if(Jn===null){var p=xn.alternate;p=p!==null?p.memoizedState:null}else p=Jn.next;var g=ur===null?xn.memoizedState:ur.next;if(g!==null)ur=g,Jn=p;else{if(p===null)throw Error(o(310));Jn=p,p={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},ur===null?xn.memoizedState=ur=p:ur=ur.next=p}return ur}function Ap(p,g){return typeof g=="function"?g(p):g}function RC(p){var g=Ss(),S=g.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=p;var C=Jn,T=C.baseQueue,O=S.pending;if(O!==null){if(T!==null){var z=T.next;T.next=O.next,O.next=z}C.baseQueue=T=O,S.pending=null}if(T!==null){O=T.next,C=C.baseState;var J=z=null,ae=null,be=O;do{var je=be.lane;if((Uc&je)===je)ae!==null&&(ae=ae.next={lane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),C=be.hasEagerState?be.eagerState:p(C,be.action);else{var st={lane:je,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null};ae===null?(J=ae=st,z=C):ae=ae.next=st,xn.lanes|=je,Wc|=je}be=be.next}while(be!==null&&be!==O);ae===null?z=C:ae.next=J,Js(C,g.memoizedState)||(Ci=!0),g.memoizedState=C,g.baseState=z,g.baseQueue=ae,S.lastRenderedState=C}if(p=S.interleaved,p!==null){T=p;do O=T.lane,xn.lanes|=O,Wc|=O,T=T.next;while(T!==p)}else T===null&&(S.lanes=0);return[g.memoizedState,S.dispatch]}function AC(p){var g=Ss(),S=g.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=p;var C=S.dispatch,T=S.pending,O=g.memoizedState;if(T!==null){S.pending=null;var z=T=T.next;do O=p(O,z.action),z=z.next;while(z!==T);Js(O,g.memoizedState)||(Ci=!0),g.memoizedState=O,g.baseQueue===null&&(g.baseState=O),S.lastRenderedState=O}return[O,C]}function gD(){}function yD(p,g){var S=xn,C=Ss(),T=g(),O=!Js(C.memoizedState,T);if(O&&(C.memoizedState=T,Ci=!0),C=C.queue,PC(bD.bind(null,S,C,p),[p]),C.getSnapshot!==g||O||ur!==null&&ur.memoizedState.tag&1){if(S.flags|=2048,Pp(9,xD.bind(null,S,C,T,g),void 0,null),dr===null)throw Error(o(349));Uc&30||vD(S,g,T)}return T}function vD(p,g,S){p.flags|=16384,p={getSnapshot:g,value:S},g=xn.updateQueue,g===null?(g={lastEffect:null,stores:null},xn.updateQueue=g,g.stores=[p]):(S=g.stores,S===null?g.stores=[p]:S.push(p))}function xD(p,g,S,C){g.value=S,g.getSnapshot=C,wD(g)&&SD(p)}function bD(p,g,S){return S(function(){wD(g)&&SD(p)})}function wD(p){var g=p.getSnapshot;p=p.value;try{var S=g();return!Js(p,S)}catch{return!0}}function SD(p){var g=Oo(p,1);g!==null&&ks(g,p,1,-1)}function kD(p){var g=Ao();return typeof p=="function"&&(p=p()),g.memoizedState=g.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ap,lastRenderedState:p},g.queue=p,p=p.dispatch=mZ.bind(null,xn,p),[g.memoizedState,p]}function Pp(p,g,S,C){return p={tag:p,create:g,destroy:S,deps:C,next:null},g=xn.updateQueue,g===null?(g={lastEffect:null,stores:null},xn.updateQueue=g,g.lastEffect=p.next=p):(S=g.lastEffect,S===null?g.lastEffect=p.next=p:(C=S.next,S.next=p,p.next=C,g.lastEffect=p)),p}function CD(){return Ss().memoizedState}function E0(p,g,S,C){var T=Ao();xn.flags|=p,T.memoizedState=Pp(1|g,S,void 0,C===void 0?null:C)}function T0(p,g,S,C){var T=Ss();C=C===void 0?null:C;var O=void 0;if(Jn!==null){var z=Jn.memoizedState;if(O=z.destroy,C!==null&&$C(C,z.deps)){T.memoizedState=Pp(g,S,O,C);return}}xn.flags|=p,T.memoizedState=Pp(1|g,S,O,C)}function ED(p,g){return E0(8390656,8,p,g)}function PC(p,g){return T0(2048,8,p,g)}function TD(p,g){return T0(4,2,p,g)}function _D(p,g){return T0(4,4,p,g)}function ID(p,g){if(typeof g=="function")return p=p(),g(p),function(){g(null)};if(g!=null)return p=p(),g.current=p,function(){g.current=null}}function $D(p,g,S){return S=S!=null?S.concat([p]):null,T0(4,4,ID.bind(null,g,p),S)}function DC(){}function ND(p,g){var S=Ss();g=g===void 0?null:g;var C=S.memoizedState;return C!==null&&g!==null&&$C(g,C[1])?C[0]:(S.memoizedState=[p,g],p)}function OD(p,g){var S=Ss();g=g===void 0?null:g;var C=S.memoizedState;return C!==null&&g!==null&&$C(g,C[1])?C[0]:(p=p(),S.memoizedState=[p,g],p)}function RD(p,g,S){return Uc&21?(Js(S,g)||(S=JP(),xn.lanes|=S,Wc|=S,p.baseState=!0),g):(p.baseState&&(p.baseState=!1,Ci=!0),p.memoizedState=S)}function hZ(p,g){var S=Et;Et=S!==0&&4>S?S:4,p(!0);var C=IC.transition;IC.transition={};try{p(!1),g()}finally{Et=S,IC.transition=C}}function AD(){return Ss().memoizedState}function pZ(p,g,S){var C=kl(p);if(S={lane:C,action:S,hasEagerState:!1,eagerState:null,next:null},PD(p))DD(g,S);else if(S=dD(p,g,S,C),S!==null){var T=Gr();ks(S,p,C,T),FD(S,g,C)}}function mZ(p,g,S){var C=kl(p),T={lane:C,action:S,hasEagerState:!1,eagerState:null,next:null};if(PD(p))DD(g,T);else{var O=p.alternate;if(p.lanes===0&&(O===null||O.lanes===0)&&(O=g.lastRenderedReducer,O!==null))try{var z=g.lastRenderedState,J=O(z,S);if(T.hasEagerState=!0,T.eagerState=J,Js(J,z)){var ae=g.interleaved;ae===null?(T.next=T,SC(g)):(T.next=ae.next,ae.next=T),g.interleaved=T;return}}catch{}finally{}S=dD(p,g,T,C),S!==null&&(T=Gr(),ks(S,p,C,T),FD(S,g,C))}}function PD(p){var g=p.alternate;return p===xn||g!==null&&g===xn}function DD(p,g){Op=C0=!0;var S=p.pending;S===null?g.next=g:(g.next=S.next,S.next=g),p.pending=g}function FD(p,g,S){if(S&4194240){var C=g.lanes;C&=p.pendingLanes,S|=C,g.lanes=S,lC(p,S)}}var _0={readContext:bs,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useInsertionEffect:Vr,useLayoutEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useMutableSource:Vr,useSyncExternalStore:Vr,useId:Vr,unstable_isNewReconciler:!1},gZ={readContext:bs,useCallback:function(p,g){return Ao().memoizedState=[p,g===void 0?null:g],p},useContext:bs,useEffect:ED,useImperativeHandle:function(p,g,S){return S=S!=null?S.concat([p]):null,E0(4194308,4,ID.bind(null,g,p),S)},useLayoutEffect:function(p,g){return E0(4194308,4,p,g)},useInsertionEffect:function(p,g){return E0(4,2,p,g)},useMemo:function(p,g){var S=Ao();return g=g===void 0?null:g,p=p(),S.memoizedState=[p,g],p},useReducer:function(p,g,S){var C=Ao();return g=S!==void 0?S(g):g,C.memoizedState=C.baseState=g,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:g},C.queue=p,p=p.dispatch=pZ.bind(null,xn,p),[C.memoizedState,p]},useRef:function(p){var g=Ao();return p={current:p},g.memoizedState=p},useState:kD,useDebugValue:DC,useDeferredValue:function(p){return Ao().memoizedState=p},useTransition:function(){var p=kD(!1),g=p[0];return p=hZ.bind(null,p[1]),Ao().memoizedState=p,[g,p]},useMutableSource:function(){},useSyncExternalStore:function(p,g,S){var C=xn,T=Ao();if(un){if(S===void 0)throw Error(o(407));S=S()}else{if(S=g(),dr===null)throw Error(o(349));Uc&30||vD(C,g,S)}T.memoizedState=S;var O={value:S,getSnapshot:g};return T.queue=O,ED(bD.bind(null,C,O,p),[p]),C.flags|=2048,Pp(9,xD.bind(null,C,O,S,g),void 0,null),S},useId:function(){var p=Ao(),g=dr.identifierPrefix;if(un){var S=va,C=ya;S=(C&~(1<<32-Ys(C)-1)).toString(32)+S,g=":"+g+"R"+S,S=Rp++,0<S&&(g+="H"+S.toString(32)),g+=":"}else S=fZ++,g=":"+g+"r"+S.toString(32)+":";return p.memoizedState=g},unstable_isNewReconciler:!1},yZ={readContext:bs,useCallback:ND,useContext:bs,useEffect:PC,useImperativeHandle:$D,useInsertionEffect:TD,useLayoutEffect:_D,useMemo:OD,useReducer:RC,useRef:CD,useState:function(){return RC(Ap)},useDebugValue:DC,useDeferredValue:function(p){var g=Ss();return RD(g,Jn.memoizedState,p)},useTransition:function(){var p=RC(Ap)[0],g=Ss().memoizedState;return[p,g]},useMutableSource:gD,useSyncExternalStore:yD,useId:AD,unstable_isNewReconciler:!1},vZ={readContext:bs,useCallback:ND,useContext:bs,useEffect:PC,useImperativeHandle:$D,useInsertionEffect:TD,useLayoutEffect:_D,useMemo:OD,useReducer:AC,useRef:CD,useState:function(){return AC(Ap)},useDebugValue:DC,useDeferredValue:function(p){var g=Ss();return Jn===null?g.memoizedState=p:RD(g,Jn.memoizedState,p)},useTransition:function(){var p=AC(Ap)[0],g=Ss().memoizedState;return[p,g]},useMutableSource:gD,useSyncExternalStore:yD,useId:AD,unstable_isNewReconciler:!1};function eo(p,g){if(p&&p.defaultProps){g=s({},g),p=p.defaultProps;for(var S in p)g[S]===void 0&&(g[S]=p[S]);return g}return g}function FC(p,g,S,C){g=p.memoizedState,S=S(C,g),S=S==null?g:s({},g,S),p.memoizedState=S,p.lanes===0&&(p.updateQueue.baseState=S)}var I0={isMounted:function(p){return(p=p._reactInternals)?D(p)===p:!1},enqueueSetState:function(p,g,S){p=p._reactInternals;var C=Gr(),T=kl(p),O=xa(C,T);O.payload=g,S!=null&&(O.callback=S),g=bl(p,O,T),g!==null&&(ks(g,p,T,C),b0(g,p,T))},enqueueReplaceState:function(p,g,S){p=p._reactInternals;var C=Gr(),T=kl(p),O=xa(C,T);O.tag=1,O.payload=g,S!=null&&(O.callback=S),g=bl(p,O,T),g!==null&&(ks(g,p,T,C),b0(g,p,T))},enqueueForceUpdate:function(p,g){p=p._reactInternals;var S=Gr(),C=kl(p),T=xa(S,C);T.tag=2,g!=null&&(T.callback=g),g=bl(p,T,C),g!==null&&(ks(g,p,C,S),b0(g,p,C))}};function LD(p,g,S,C,T,O,z){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(C,O,z):g.prototype&&g.prototype.isPureReactComponent?!g0(S,C)||!g0(T,O):!0}function MD(p,g,S){var C=!1,T=vl,O=g.contextType;return typeof O=="object"&&O!==null?O=bs(O):(T=ki(g)?Bc:jr.current,C=g.contextTypes,O=(C=C!=null)?Td(p,T):vl),g=new g(S,O),p.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=I0,p.stateNode=g,g._reactInternals=p,C&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=T,p.__reactInternalMemoizedMaskedChildContext=O),g}function BD(p,g,S,C){p=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(S,C),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(S,C),g.state!==p&&I0.enqueueReplaceState(g,g.state,null)}function LC(p,g,S,C){var T=p.stateNode;T.props=S,T.state=p.memoizedState,T.refs={},kC(p);var O=g.contextType;typeof O=="object"&&O!==null?T.context=bs(O):(O=ki(g)?Bc:jr.current,T.context=Td(p,O)),T.state=p.memoizedState,O=g.getDerivedStateFromProps,typeof O=="function"&&(FC(p,g,O,S),T.state=p.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(g=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),g!==T.state&&I0.enqueueReplaceState(T,T.state,null),w0(p,S,T,C),T.state=p.memoizedState),typeof T.componentDidMount=="function"&&(p.flags|=4194308)}function Dd(p,g){try{var S="",C=g;do S+=dZ(C),C=C.return;while(C);var T=S}catch(O){T=`
Error generating stack: `+O.message+`
`+O.stack}return{value:p,source:g,stack:T,digest:null}}function MC(p,g,S){return{value:p,source:null,stack:S??null,digest:g??null}}function BC(p,g){try{console.error(g.value)}catch(S){setTimeout(function(){throw S})}}var xZ=typeof WeakMap=="function"?WeakMap:Map;function zD(p,g,S){S=xa(-1,S),S.tag=3,S.payload={element:null};var C=g.value;return S.callback=function(){V0||(V0=!0,sE=C),BC(p,g)},S}function jD(p,g,S){S=xa(-1,S),S.tag=3;var C=p.type.getDerivedStateFromError;if(typeof C=="function"){var T=g.value;S.payload=function(){return C(T)},S.callback=function(){BC(p,g)}}var O=p.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(S.callback=function(){BC(p,g),typeof C!="function"&&(wl===null?wl=new Set([this]):wl.add(this));var z=g.stack;this.componentDidCatch(g.value,{componentStack:z!==null?z:""})}),S}function VD(p,g,S){var C=p.pingCache;if(C===null){C=p.pingCache=new xZ;var T=new Set;C.set(g,T)}else T=C.get(g),T===void 0&&(T=new Set,C.set(g,T));T.has(S)||(T.add(S),p=AZ.bind(null,p,g,S),g.then(p,p))}function UD(p){do{var g;if((g=p.tag===13)&&(g=p.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return p;p=p.return}while(p!==null);return null}function WD(p,g,S,C,T){return p.mode&1?(p.flags|=65536,p.lanes=T,p):(p===g?p.flags|=65536:(p.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(g=xa(-1,1),g.tag=2,bl(S,g,1))),S.lanes|=1),p)}var bZ=a.ReactCurrentOwner,Ci=!1;function li(p,g,S,C){g.child=p===null?cD(g,null,S,C):Nd(g,p.child,S,C)}function GD(p,g,S,C,T){S=S.render;var O=g.ref;return Rd(g,T),C=NC(p,g,S,C,O,T),S=OC(),p!==null&&!Ci?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~T,ba(p,g,T)):(un&&S&&hC(g),g.flags|=1,li(p,g,C,T),g.child)}function HD(p,g,S,C,T){if(p===null){var O=S.type;return typeof O=="function"&&!dE(O)&&O.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(g.tag=15,g.type=O,qD(p,g,O,C,T)):(p=K0(S.type,null,C,g,g.mode,T),p.ref=g.ref,p.return=g,g.child=p)}if(O=p.child,!(p.lanes&T)){var z=O.memoizedProps;if(S=S.compare,S=S!==null?S:g0,S(z,C)&&p.ref===g.ref)return ba(p,g,T)}return g.flags|=1,p=El(O,C),p.ref=g.ref,p.return=g,g.child=p}function qD(p,g,S,C,T){if(p!==null){var O=p.memoizedProps;if(g0(O,C)&&p.ref===g.ref)if(Ci=!1,g.pendingProps=C=O,(p.lanes&T)!==0)p.flags&131072&&(Ci=!0);else return g.lanes=p.lanes,ba(p,g,T)}return zC(p,g,S,C,T)}function KD(p,g,S){var C=g.pendingProps,T=C.children,O=p!==null?p.memoizedState:null;if(C.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(Ld,Qi),Qi|=S;else{if(!(S&1073741824))return p=O!==null?O.baseLanes|S:S,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:p,cachePool:null,transitions:null},g.updateQueue=null,Kt(Ld,Qi),Qi|=p,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=O!==null?O.baseLanes:S,Kt(Ld,Qi),Qi|=C}else O!==null?(C=O.baseLanes|S,g.memoizedState=null):C=S,Kt(Ld,Qi),Qi|=C;return li(p,g,T,S),g.child}function XD(p,g){var S=g.ref;(p===null&&S!==null||p!==null&&p.ref!==S)&&(g.flags|=512,g.flags|=2097152)}function zC(p,g,S,C,T){var O=ki(S)?Bc:jr.current;return O=Td(g,O),Rd(g,T),S=NC(p,g,S,C,O,T),C=OC(),p!==null&&!Ci?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~T,ba(p,g,T)):(un&&C&&hC(g),g.flags|=1,li(p,g,S,T),g.child)}function QD(p,g,S,C,T){if(ki(S)){var O=!0;a0(g)}else O=!1;if(Rd(g,T),g.stateNode===null)N0(p,g),MD(g,S,C),LC(g,S,C,T),C=!0;else if(p===null){var z=g.stateNode,J=g.memoizedProps;z.props=J;var ae=z.context,be=S.contextType;typeof be=="object"&&be!==null?be=bs(be):(be=ki(S)?Bc:jr.current,be=Td(g,be));var je=S.getDerivedStateFromProps,st=typeof je=="function"||typeof z.getSnapshotBeforeUpdate=="function";st||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(J!==C||ae!==be)&&BD(g,z,C,be),xl=!1;var Ne=g.memoizedState;z.state=Ne,w0(g,C,z,T),ae=g.memoizedState,J!==C||Ne!==ae||Si.current||xl?(typeof je=="function"&&(FC(g,S,je,C),ae=g.memoizedState),(J=xl||LD(g,S,J,C,Ne,ae,be))?(st||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(g.flags|=4194308)):(typeof z.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=C,g.memoizedState=ae),z.props=C,z.state=ae,z.context=be,C=J):(typeof z.componentDidMount=="function"&&(g.flags|=4194308),C=!1)}else{z=g.stateNode,fD(p,g),J=g.memoizedProps,be=g.type===g.elementType?J:eo(g.type,J),z.props=be,st=g.pendingProps,Ne=z.context,ae=S.contextType,typeof ae=="object"&&ae!==null?ae=bs(ae):(ae=ki(S)?Bc:jr.current,ae=Td(g,ae));var tn=S.getDerivedStateFromProps;(je=typeof tn=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(J!==st||Ne!==ae)&&BD(g,z,C,ae),xl=!1,Ne=g.memoizedState,z.state=Ne,w0(g,C,z,T);var zt=g.memoizedState;J!==st||Ne!==zt||Si.current||xl?(typeof tn=="function"&&(FC(g,S,tn,C),zt=g.memoizedState),(be=xl||LD(g,S,be,C,Ne,zt,ae)||!1)?(je||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(C,zt,ae),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(C,zt,ae)),typeof z.componentDidUpdate=="function"&&(g.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof z.componentDidUpdate!="function"||J===p.memoizedProps&&Ne===p.memoizedState||(g.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||J===p.memoizedProps&&Ne===p.memoizedState||(g.flags|=1024),g.memoizedProps=C,g.memoizedState=zt),z.props=C,z.state=zt,z.context=ae,C=be):(typeof z.componentDidUpdate!="function"||J===p.memoizedProps&&Ne===p.memoizedState||(g.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||J===p.memoizedProps&&Ne===p.memoizedState||(g.flags|=1024),C=!1)}return jC(p,g,S,C,O,T)}function jC(p,g,S,C,T,O){XD(p,g);var z=(g.flags&128)!==0;if(!C&&!z)return T&&YP(g,S,!1),ba(p,g,O);C=g.stateNode,bZ.current=g;var J=z&&typeof S.getDerivedStateFromError!="function"?null:C.render();return g.flags|=1,p!==null&&z?(g.child=Nd(g,p.child,null,O),g.child=Nd(g,null,J,O)):li(p,g,J,O),g.memoizedState=C.state,T&&YP(g,S,!0),g.child}function YD(p){var g=p.stateNode;g.pendingContext?XP(p,g.pendingContext,g.pendingContext!==g.context):g.context&&XP(p,g.context,!1),CC(p,g.containerInfo)}function JD(p,g,S,C,T){return $d(),yC(T),g.flags|=256,li(p,g,S,C),g.child}var VC={dehydrated:null,treeContext:null,retryLane:0};function UC(p){return{baseLanes:p,cachePool:null,transitions:null}}function ZD(p,g,S){var C=g.pendingProps,T=vn.current,O=!1,z=(g.flags&128)!==0,J;if((J=z)||(J=p!==null&&p.memoizedState===null?!1:(T&2)!==0),J?(O=!0,g.flags&=-129):(p===null||p.memoizedState!==null)&&(T|=1),Kt(vn,T&1),p===null)return gC(g),p=g.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?(g.mode&1?tC(p)?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(z=C.children,p=C.fallback,O?(C=g.mode,O=g.child,z={mode:"hidden",children:z},!(C&1)&&O!==null?(O.childLanes=0,O.pendingProps=z):O=X0(z,C,0,null),p=Kc(p,C,S,null),O.return=g,p.return=g,O.sibling=p,g.child=O,g.child.memoizedState=UC(S),g.memoizedState=VC,p):WC(g,z));if(T=p.memoizedState,T!==null&&(J=T.dehydrated,J!==null))return wZ(p,g,z,C,J,T,S);if(O){O=C.fallback,z=g.mode,T=p.child,J=T.sibling;var ae={mode:"hidden",children:C.children};return!(z&1)&&g.child!==T?(C=g.child,C.childLanes=0,C.pendingProps=ae,g.deletions=null):(C=El(T,ae),C.subtreeFlags=T.subtreeFlags&14680064),J!==null?O=El(J,O):(O=Kc(O,z,S,null),O.flags|=2),O.return=g,C.return=g,C.sibling=O,g.child=C,C=O,O=g.child,z=p.child.memoizedState,z=z===null?UC(S):{baseLanes:z.baseLanes|S,cachePool:null,transitions:z.transitions},O.memoizedState=z,O.childLanes=p.childLanes&~S,g.memoizedState=VC,C}return O=p.child,p=O.sibling,C=El(O,{mode:"visible",children:C.children}),!(g.mode&1)&&(C.lanes=S),C.return=g,C.sibling=null,p!==null&&(S=g.deletions,S===null?(g.deletions=[p],g.flags|=16):S.push(p)),g.child=C,g.memoizedState=null,C}function WC(p,g){return g=X0({mode:"visible",children:g},p.mode,0,null),g.return=p,p.child=g}function $0(p,g,S,C){return C!==null&&yC(C),Nd(g,p.child,null,S),p=WC(g,g.pendingProps.children),p.flags|=2,g.memoizedState=null,p}function wZ(p,g,S,C,T,O,z){if(S)return g.flags&256?(g.flags&=-257,C=MC(Error(o(422))),$0(p,g,z,C)):g.memoizedState!==null?(g.child=p.child,g.flags|=128,null):(O=C.fallback,T=g.mode,C=X0({mode:"visible",children:C.children},T,0,null),O=Kc(O,T,z,null),O.flags|=2,C.return=g,O.return=g,C.sibling=O,g.child=C,g.mode&1&&Nd(g,p.child,null,z),g.child.memoizedState=UC(z),g.memoizedState=VC,O);if(!(g.mode&1))return $0(p,g,z,null);if(tC(T))return C=PJ(T).digest,O=Error(o(419)),C=MC(O,C,void 0),$0(p,g,z,C);if(S=(z&p.childLanes)!==0,Ci||S){if(C=dr,C!==null){switch(z&-z){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=T&(C.suspendedLanes|z)?0:T,T!==0&&T!==O.retryLane&&(O.retryLane=T,Oo(p,T),ks(C,p,T,-1))}return uE(),C=MC(Error(o(421))),$0(p,g,z,C)}return KP(T)?(g.flags|=128,g.child=p.child,g=PZ.bind(null,p),DJ(T,g),null):(p=O.treeContext,Xe&&(xs=MJ(T),Xi=g,un=!0,Zs=null,_p=!1,p!==null&&(ys[vs++]=ya,ys[vs++]=va,ys[vs++]=zc,ya=p.id,va=p.overflow,zc=g)),g=WC(g,C.children),g.flags|=4096,g)}function eF(p,g,S){p.lanes|=g;var C=p.alternate;C!==null&&(C.lanes|=g),wC(p.return,g,S)}function GC(p,g,S,C,T){var O=p.memoizedState;O===null?p.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:C,tail:S,tailMode:T}:(O.isBackwards=g,O.rendering=null,O.renderingStartTime=0,O.last=C,O.tail=S,O.tailMode=T)}function tF(p,g,S){var C=g.pendingProps,T=C.revealOrder,O=C.tail;if(li(p,g,C.children,S),C=vn.current,C&2)C=C&1|2,g.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=g.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&eF(p,S,g);else if(p.tag===19)eF(p,S,g);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===g)break e;for(;p.sibling===null;){if(p.return===null||p.return===g)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}C&=1}if(Kt(vn,C),!(g.mode&1))g.memoizedState=null;else switch(T){case"forwards":for(S=g.child,T=null;S!==null;)p=S.alternate,p!==null&&S0(p)===null&&(T=S),S=S.sibling;S=T,S===null?(T=g.child,g.child=null):(T=S.sibling,S.sibling=null),GC(g,!1,T,S,O);break;case"backwards":for(S=null,T=g.child,g.child=null;T!==null;){if(p=T.alternate,p!==null&&S0(p)===null){g.child=T;break}p=T.sibling,T.sibling=S,S=T,T=p}GC(g,!0,S,null,O);break;case"together":GC(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function N0(p,g){!(g.mode&1)&&p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2)}function ba(p,g,S){if(p!==null&&(g.dependencies=p.dependencies),Wc|=g.lanes,!(S&g.childLanes))return null;if(p!==null&&g.child!==p.child)throw Error(o(153));if(g.child!==null){for(p=g.child,S=El(p,p.pendingProps),g.child=S,S.return=g;p.sibling!==null;)p=p.sibling,S=S.sibling=El(p,p.pendingProps),S.return=g;S.sibling=null}return g.child}function SZ(p,g,S){switch(g.tag){case 3:YD(g),$d();break;case 5:mD(g);break;case 1:ki(g.type)&&a0(g);break;case 4:CC(g,g.stateNode.containerInfo);break;case 10:uD(g,g.type._context,g.memoizedProps.value);break;case 13:var C=g.memoizedState;if(C!==null)return C.dehydrated!==null?(Kt(vn,vn.current&1),g.flags|=128,null):S&g.child.childLanes?ZD(p,g,S):(Kt(vn,vn.current&1),p=ba(p,g,S),p!==null?p.sibling:null);Kt(vn,vn.current&1);break;case 19:if(C=(S&g.childLanes)!==0,p.flags&128){if(C)return tF(p,g,S);g.flags|=128}var T=g.memoizedState;if(T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Kt(vn,vn.current),C)break;return null;case 22:case 23:return g.lanes=0,KD(p,g,S)}return ba(p,g,S)}function Po(p){p.flags|=4}function nF(p,g){if(p!==null&&p.child===g.child)return!0;if(g.flags&16)return!1;for(p=g.child;p!==null;){if(p.flags&12854||p.subtreeFlags&12854)return!1;p=p.sibling}return!0}var Dp,Fp,O0,R0;if(Oe)Dp=function(p,g){for(var S=g.child;S!==null;){if(S.tag===5||S.tag===6)se(p,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===g)break;for(;S.sibling===null;){if(S.return===null||S.return===g)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},Fp=function(){},O0=function(p,g,S,C,T){if(p=p.memoizedProps,p!==C){var O=g.stateNode,z=Ro(ws.current);S=de(O,S,p,C,T,z),(g.updateQueue=S)&&Po(g)}},R0=function(p,g,S,C){S!==C&&Po(g)};else if(Qe){Dp=function(p,g,S,C){for(var T=g.child;T!==null;){if(T.tag===5){var O=T.stateNode;S&&C&&(O=HP(O,T.type,T.memoizedProps,T)),se(p,O)}else if(T.tag===6)O=T.stateNode,S&&C&&(O=qP(O,T.memoizedProps,T)),se(p,O);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)O=T.child,O!==null&&(O.return=T),Dp(p,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===g)break;for(;T.sibling===null;){if(T.return===null||T.return===g)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};var rF=function(p,g,S,C){for(var T=g.child;T!==null;){if(T.tag===5){var O=T.stateNode;S&&C&&(O=HP(O,T.type,T.memoizedProps,T)),GP(p,O)}else if(T.tag===6)O=T.stateNode,S&&C&&(O=qP(O,T.memoizedProps,T)),GP(p,O);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)O=T.child,O!==null&&(O.return=T),rF(p,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===g)break;for(;T.sibling===null;){if(T.return===null||T.return===g)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};Fp=function(p,g){var S=g.stateNode;if(!nF(p,g)){p=S.containerInfo;var C=WP(p);rF(C,g,!1,!1),S.pendingChildren=C,Po(g),NJ(p,C)}},O0=function(p,g,S,C,T){var O=p.stateNode,z=p.memoizedProps;if((p=nF(p,g))&&z===C)g.stateNode=O;else{var J=g.stateNode,ae=Ro(ws.current),be=null;z!==C&&(be=de(J,S,z,C,T,ae)),p&&be===null?g.stateNode=O:(O=$J(O,be,S,z,C,g,p,J),ce(O,S,C,T,ae)&&Po(g),g.stateNode=O,p?Po(g):Dp(O,g,!1,!1))}},R0=function(p,g,S,C){S!==C?(p=Ro(Ad.current),S=Ro(ws.current),g.stateNode=ge(C,p,S,g),Po(g)):g.stateNode=p.stateNode}}else Fp=function(){},O0=function(){},R0=function(){};function Lp(p,g){if(!un)switch(p.tailMode){case"hidden":g=p.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?p.tail=null:S.sibling=null;break;case"collapsed":S=p.tail;for(var C=null;S!==null;)S.alternate!==null&&(C=S),S=S.sibling;C===null?g||p.tail===null?p.tail=null:p.tail.sibling=null:C.sibling=null}}function Ur(p){var g=p.alternate!==null&&p.alternate.child===p.child,S=0,C=0;if(g)for(var T=p.child;T!==null;)S|=T.lanes|T.childLanes,C|=T.subtreeFlags&14680064,C|=T.flags&14680064,T.return=p,T=T.sibling;else for(T=p.child;T!==null;)S|=T.lanes|T.childLanes,C|=T.subtreeFlags,C|=T.flags,T.return=p,T=T.sibling;return p.subtreeFlags|=C,p.childLanes=S,g}function kZ(p,g,S){var C=g.pendingProps;switch(pC(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(g),null;case 1:return ki(g.type)&&o0(),Ur(g),null;case 3:return S=g.stateNode,Pd(),en(Si),en(jr),_C(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(p===null||p.child===null)&&(m0(g)?Po(g):p===null||p.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,Zs!==null&&(lE(Zs),Zs=null))),Fp(p,g),Ur(g),null;case 5:EC(g),S=Ro(Ad.current);var T=g.type;if(p!==null&&g.stateNode!=null)O0(p,g,T,C,S),p.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!C){if(g.stateNode===null)throw Error(o(166));return Ur(g),null}if(p=Ro(ws.current),m0(g)){if(!Xe)throw Error(o(175));p=BJ(g.stateNode,g.type,g.memoizedProps,S,p,g,!_p),g.updateQueue=p,p!==null&&Po(g)}else{var O=Z(T,C,S,p,g);Dp(O,g,!1,!1),g.stateNode=O,ce(O,T,C,S,p)&&Po(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Ur(g),null;case 6:if(p&&g.stateNode!=null)R0(p,g,p.memoizedProps,C);else{if(typeof C!="string"&&g.stateNode===null)throw Error(o(166));if(p=Ro(Ad.current),S=Ro(ws.current),m0(g)){if(!Xe)throw Error(o(176));if(p=g.stateNode,S=g.memoizedProps,(C=zJ(p,S,g,!_p))&&(T=Xi,T!==null))switch(T.tag){case 3:KJ(T.stateNode.containerInfo,p,S,(T.mode&1)!==0);break;case 5:XJ(T.type,T.memoizedProps,T.stateNode,p,S,(T.mode&1)!==0)}C&&Po(g)}else g.stateNode=ge(C,p,S,g)}return Ur(g),null;case 13:if(en(vn),C=g.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(un&&xs!==null&&g.mode&1&&!(g.flags&128))oD(),$d(),g.flags|=98560,T=!1;else if(T=m0(g),C!==null&&C.dehydrated!==null){if(p===null){if(!T)throw Error(o(318));if(!Xe)throw Error(o(344));if(T=g.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(o(317));jJ(T,g)}else $d(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;Ur(g),T=!1}else Zs!==null&&(lE(Zs),Zs=null),T=!0;if(!T)return g.flags&65536?g:null}return g.flags&128?(g.lanes=S,g):(S=C!==null,S!==(p!==null&&p.memoizedState!==null)&&S&&(g.child.flags|=8192,g.mode&1&&(p===null||vn.current&1?Zn===0&&(Zn=3):uE())),g.updateQueue!==null&&(g.flags|=4),Ur(g),null);case 4:return Pd(),Fp(p,g),p===null&&He(g.stateNode.containerInfo),Ur(g),null;case 10:return bC(g.type._context),Ur(g),null;case 17:return ki(g.type)&&o0(),Ur(g),null;case 19:if(en(vn),T=g.memoizedState,T===null)return Ur(g),null;if(C=(g.flags&128)!==0,O=T.rendering,O===null)if(C)Lp(T,!1);else{if(Zn!==0||p!==null&&p.flags&128)for(p=g.child;p!==null;){if(O=S0(p),O!==null){for(g.flags|=128,Lp(T,!1),p=O.updateQueue,p!==null&&(g.updateQueue=p,g.flags|=4),g.subtreeFlags=0,p=S,S=g.child;S!==null;)C=S,T=p,C.flags&=14680066,O=C.alternate,O===null?(C.childLanes=0,C.lanes=T,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=O.childLanes,C.lanes=O.lanes,C.child=O.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=O.memoizedProps,C.memoizedState=O.memoizedState,C.updateQueue=O.updateQueue,C.type=O.type,T=O.dependencies,C.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),S=S.sibling;return Kt(vn,vn.current&1|2),g.child}p=p.sibling}T.tail!==null&&cr()>iE&&(g.flags|=128,C=!0,Lp(T,!1),g.lanes=4194304)}else{if(!C)if(p=S0(O),p!==null){if(g.flags|=128,C=!0,p=p.updateQueue,p!==null&&(g.updateQueue=p,g.flags|=4),Lp(T,!0),T.tail===null&&T.tailMode==="hidden"&&!O.alternate&&!un)return Ur(g),null}else 2*cr()-T.renderingStartTime>iE&&S!==1073741824&&(g.flags|=128,C=!0,Lp(T,!1),g.lanes=4194304);T.isBackwards?(O.sibling=g.child,g.child=O):(p=T.last,p!==null?p.sibling=O:g.child=O,T.last=O)}return T.tail!==null?(g=T.tail,T.rendering=g,T.tail=g.sibling,T.renderingStartTime=cr(),g.sibling=null,p=vn.current,Kt(vn,C?p&1|2:p&1),g):(Ur(g),null);case 22:case 23:return cE(),S=g.memoizedState!==null,p!==null&&p.memoizedState!==null!==S&&(g.flags|=8192),S&&g.mode&1?Qi&1073741824&&(Ur(g),Oe&&g.subtreeFlags&6&&(g.flags|=8192)):Ur(g),null;case 24:return null;case 25:return null}throw Error(o(156,g.tag))}function CZ(p,g){switch(pC(g),g.tag){case 1:return ki(g.type)&&o0(),p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 3:return Pd(),en(Si),en(jr),_C(),p=g.flags,p&65536&&!(p&128)?(g.flags=p&-65537|128,g):null;case 5:return EC(g),null;case 13:if(en(vn),p=g.memoizedState,p!==null&&p.dehydrated!==null){if(g.alternate===null)throw Error(o(340));$d()}return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 19:return en(vn),null;case 4:return Pd(),null;case 10:return bC(g.type._context),null;case 22:case 23:return cE(),null;case 24:return null;default:return null}}var A0=!1,Wr=!1,EZ=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Fd(p,g){var S=p.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(C){dn(p,g,C)}else S.current=null}function HC(p,g,S){try{S()}catch(C){dn(p,g,C)}}var iF=!1;function TZ(p,g){for(H(p.containerInfo),Fe=g;Fe!==null;)if(p=Fe,g=p.child,(p.subtreeFlags&1028)!==0&&g!==null)g.return=p,Fe=g;else for(;Fe!==null;){p=Fe;try{var S=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,T=S.memoizedState,O=p.stateNode,z=O.getSnapshotBeforeUpdate(p.elementType===p.type?C:eo(p.type,C),T);O.__reactInternalSnapshotBeforeUpdate=z}break;case 3:Oe&&IJ(p.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(J){dn(p,p.return,J)}if(g=p.sibling,g!==null){g.return=p.return,Fe=g;break}Fe=p.return}return S=iF,iF=!1,S}function Mp(p,g,S){var C=g.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var T=C=C.next;do{if((T.tag&p)===p){var O=T.destroy;T.destroy=void 0,O!==void 0&&HC(g,S,O)}T=T.next}while(T!==C)}}function P0(p,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&p)===p){var C=S.create;S.destroy=C()}S=S.next}while(S!==g)}}function qC(p){var g=p.ref;if(g!==null){var S=p.stateNode;switch(p.tag){case 5:p=Q(S);break;default:p=S}typeof g=="function"?g(p):g.current=p}}function sF(p){var g=p.alternate;g!==null&&(p.alternate=null,sF(g)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(g=p.stateNode,g!==null&&nt(g)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function oF(p){return p.tag===5||p.tag===3||p.tag===4}function aF(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||oF(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function KC(p,g,S){var C=p.tag;if(C===5||C===6)p=p.stateNode,g?Er(S,p,g):ai(S,p);else if(C!==4&&(p=p.child,p!==null))for(KC(p,g,S),p=p.sibling;p!==null;)KC(p,g,S),p=p.sibling}function XC(p,g,S){var C=p.tag;if(C===5||C===6)p=p.stateNode,g?Yn(S,p,g):Ct(S,p);else if(C!==4&&(p=p.child,p!==null))for(XC(p,g,S),p=p.sibling;p!==null;)XC(p,g,S),p=p.sibling}var _r=null,to=!1;function Do(p,g,S){for(S=S.child;S!==null;)QC(p,g,S),S=S.sibling}function QC(p,g,S){if($o&&typeof $o.onCommitFiberUnmount=="function")try{$o.onCommitFiberUnmount(d0,S)}catch{}switch(S.tag){case 5:Wr||Fd(S,g);case 6:if(Oe){var C=_r,T=to;_r=null,Do(p,g,S),_r=C,to=T,_r!==null&&(to?wi(_r,S.stateNode):bi(_r,S.stateNode))}else Do(p,g,S);break;case 18:Oe&&_r!==null&&(to?HJ(_r,S.stateNode):GJ(_r,S.stateNode));break;case 4:Oe?(C=_r,T=to,_r=S.stateNode.containerInfo,to=!0,Do(p,g,S),_r=C,to=T):(Qe&&(C=S.stateNode.containerInfo,T=WP(C),eC(C,T)),Do(p,g,S));break;case 0:case 11:case 14:case 15:if(!Wr&&(C=S.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){T=C=C.next;do{var O=T,z=O.destroy;O=O.tag,z!==void 0&&(O&2||O&4)&&HC(S,g,z),T=T.next}while(T!==C)}Do(p,g,S);break;case 1:if(!Wr&&(Fd(S,g),C=S.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=S.memoizedProps,C.state=S.memoizedState,C.componentWillUnmount()}catch(J){dn(S,g,J)}Do(p,g,S);break;case 21:Do(p,g,S);break;case 22:S.mode&1?(Wr=(C=Wr)||S.memoizedState!==null,Do(p,g,S),Wr=C):Do(p,g,S);break;default:Do(p,g,S)}}function lF(p){var g=p.updateQueue;if(g!==null){p.updateQueue=null;var S=p.stateNode;S===null&&(S=p.stateNode=new EZ),g.forEach(function(C){var T=DZ.bind(null,p,C);S.has(C)||(S.add(C),C.then(T,T))})}}function no(p,g){var S=g.deletions;if(S!==null)for(var C=0;C<S.length;C++){var T=S[C];try{var O=p,z=g;if(Oe){var J=z;e:for(;J!==null;){switch(J.tag){case 5:_r=J.stateNode,to=!1;break e;case 3:_r=J.stateNode.containerInfo,to=!0;break e;case 4:_r=J.stateNode.containerInfo,to=!0;break e}J=J.return}if(_r===null)throw Error(o(160));QC(O,z,T),_r=null,to=!1}else QC(O,z,T);var ae=T.alternate;ae!==null&&(ae.return=null),T.return=null}catch(be){dn(T,g,be)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)cF(g,p),g=g.sibling}function cF(p,g){var S=p.alternate,C=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(no(g,p),Fo(p),C&4){try{Mp(3,p,p.return),P0(3,p)}catch(Ne){dn(p,p.return,Ne)}try{Mp(5,p,p.return)}catch(Ne){dn(p,p.return,Ne)}}break;case 1:no(g,p),Fo(p),C&512&&S!==null&&Fd(S,S.return);break;case 5:if(no(g,p),Fo(p),C&512&&S!==null&&Fd(S,S.return),Oe){if(p.flags&32){var T=p.stateNode;try{Tr(T)}catch(Ne){dn(p,p.return,Ne)}}if(C&4&&(T=p.stateNode,T!=null)){var O=p.memoizedProps;if(S=S!==null?S.memoizedProps:O,C=p.type,g=p.updateQueue,p.updateQueue=null,g!==null)try{qt(T,g,C,S,O,p)}catch(Ne){dn(p,p.return,Ne)}}}break;case 6:if(no(g,p),Fo(p),C&4&&Oe){if(p.stateNode===null)throw Error(o(162));T=p.stateNode,O=p.memoizedProps,S=S!==null?S.memoizedProps:O;try{xi(T,S,O)}catch(Ne){dn(p,p.return,Ne)}}break;case 3:if(no(g,p),Fo(p),C&4){if(Oe&&Xe&&S!==null&&S.memoizedState.isDehydrated)try{UJ(g.containerInfo)}catch(Ne){dn(p,p.return,Ne)}if(Qe){T=g.containerInfo,O=g.pendingChildren;try{eC(T,O)}catch(Ne){dn(p,p.return,Ne)}}}break;case 4:if(no(g,p),Fo(p),C&4&&Qe){O=p.stateNode,T=O.containerInfo,O=O.pendingChildren;try{eC(T,O)}catch(Ne){dn(p,p.return,Ne)}}break;case 13:no(g,p),Fo(p),T=p.child,T.flags&8192&&(O=T.memoizedState!==null,T.stateNode.isHidden=O,!O||T.alternate!==null&&T.alternate.memoizedState!==null||(rE=cr())),C&4&&lF(p);break;case 22:var z=S!==null&&S.memoizedState!==null;if(p.mode&1?(Wr=(S=Wr)||z,no(g,p),Wr=S):no(g,p),Fo(p),C&8192){if(S=p.memoizedState!==null,(p.stateNode.isHidden=S)&&!z&&p.mode&1)for(Fe=p,C=p.child;C!==null;){for(g=Fe=C;Fe!==null;){z=Fe;var J=z.child;switch(z.tag){case 0:case 11:case 14:case 15:Mp(4,z,z.return);break;case 1:Fd(z,z.return);var ae=z.stateNode;if(typeof ae.componentWillUnmount=="function"){var be=z,je=z.return;try{var st=be;ae.props=st.memoizedProps,ae.state=st.memoizedState,ae.componentWillUnmount()}catch(Ne){dn(be,je,Ne)}}break;case 5:Fd(z,z.return);break;case 22:if(z.memoizedState!==null){fF(g);continue}}J!==null?(J.return=z,Fe=J):fF(g)}C=C.sibling}if(Oe){e:if(C=null,Oe)for(g=p;;){if(g.tag===5){if(C===null){C=g;try{T=g.stateNode,S?kp(T):TJ(g.stateNode,g.memoizedProps)}catch(Ne){dn(p,p.return,Ne)}}}else if(g.tag===6){if(C===null)try{O=g.stateNode,S?Zk(O):_J(O,g.memoizedProps)}catch(Ne){dn(p,p.return,Ne)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===p)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break e;for(;g.sibling===null;){if(g.return===null||g.return===p)break e;C===g&&(C=null),g=g.return}C===g&&(C=null),g.sibling.return=g.return,g=g.sibling}}}break;case 19:no(g,p),Fo(p),C&4&&lF(p);break;case 21:break;default:no(g,p),Fo(p)}}function Fo(p){var g=p.flags;if(g&2){try{if(Oe){e:{for(var S=p.return;S!==null;){if(oF(S)){var C=S;break e}S=S.return}throw Error(o(160))}switch(C.tag){case 5:var T=C.stateNode;C.flags&32&&(Tr(T),C.flags&=-33);var O=aF(p);XC(p,O,T);break;case 3:case 4:var z=C.stateNode.containerInfo,J=aF(p);KC(p,J,z);break;default:throw Error(o(161))}}}catch(ae){dn(p,p.return,ae)}p.flags&=-3}g&4096&&(p.flags&=-4097)}function _Z(p,g,S){Fe=p,uF(p)}function uF(p,g,S){for(var C=(p.mode&1)!==0;Fe!==null;){var T=Fe,O=T.child;if(T.tag===22&&C){var z=T.memoizedState!==null||A0;if(!z){var J=T.alternate,ae=J!==null&&J.memoizedState!==null||Wr;J=A0;var be=Wr;if(A0=z,(Wr=ae)&&!be)for(Fe=T;Fe!==null;)z=Fe,ae=z.child,z.tag===22&&z.memoizedState!==null?hF(T):ae!==null?(ae.return=z,Fe=ae):hF(T);for(;O!==null;)Fe=O,uF(O),O=O.sibling;Fe=T,A0=J,Wr=be}dF(p)}else T.subtreeFlags&8772&&O!==null?(O.return=T,Fe=O):dF(p)}}function dF(p){for(;Fe!==null;){var g=Fe;if(g.flags&8772){var S=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:Wr||P0(5,g);break;case 1:var C=g.stateNode;if(g.flags&4&&!Wr)if(S===null)C.componentDidMount();else{var T=g.elementType===g.type?S.memoizedProps:eo(g.type,S.memoizedProps);C.componentDidUpdate(T,S.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var O=g.updateQueue;O!==null&&pD(g,O,C);break;case 3:var z=g.updateQueue;if(z!==null){if(S=null,g.child!==null)switch(g.child.tag){case 5:S=Q(g.child.stateNode);break;case 1:S=g.child.stateNode}pD(g,z,S)}break;case 5:var J=g.stateNode;S===null&&g.flags&4&&Ce(J,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(Xe&&g.memoizedState===null){var ae=g.alternate;if(ae!==null){var be=ae.memoizedState;if(be!==null){var je=be.dehydrated;je!==null&&WJ(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Wr||g.flags&512&&qC(g)}catch(st){dn(g,g.return,st)}}if(g===p){Fe=null;break}if(S=g.sibling,S!==null){S.return=g.return,Fe=S;break}Fe=g.return}}function fF(p){for(;Fe!==null;){var g=Fe;if(g===p){Fe=null;break}var S=g.sibling;if(S!==null){S.return=g.return,Fe=S;break}Fe=g.return}}function hF(p){for(;Fe!==null;){var g=Fe;try{switch(g.tag){case 0:case 11:case 15:var S=g.return;try{P0(4,g)}catch(ae){dn(g,S,ae)}break;case 1:var C=g.stateNode;if(typeof C.componentDidMount=="function"){var T=g.return;try{C.componentDidMount()}catch(ae){dn(g,T,ae)}}var O=g.return;try{qC(g)}catch(ae){dn(g,O,ae)}break;case 5:var z=g.return;try{qC(g)}catch(ae){dn(g,z,ae)}}}catch(ae){dn(g,g.return,ae)}if(g===p){Fe=null;break}var J=g.sibling;if(J!==null){J.return=g.return,Fe=J;break}Fe=g.return}}var D0=0,F0=1,L0=2,M0=3,B0=4;if(typeof Symbol=="function"&&Symbol.for){var Bp=Symbol.for;D0=Bp("selector.component"),F0=Bp("selector.has_pseudo_class"),L0=Bp("selector.role"),M0=Bp("selector.test_id"),B0=Bp("selector.text")}function YC(p){var g=et(p);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(o(364));return g}if(p=_n(p),p===null)throw Error(o(362));return p.stateNode.current}function JC(p,g){switch(g.$$typeof){case D0:if(p.type===g.value)return!0;break;case F0:e:{g=g.value,p=[p,0];for(var S=0;S<p.length;){var C=p[S++],T=p[S++],O=g[T];if(C.tag!==5||!ye(C)){for(;O!=null&&JC(C,O);)T++,O=g[T];if(T===g.length){g=!0;break e}else for(C=C.child;C!==null;)p.push(C,T),C=C.sibling}}g=!1}return g;case L0:if(p.tag===5&&Ae(p.stateNode,g.value))return!0;break;case B0:if((p.tag===5||p.tag===6)&&(p=lr(p),p!==null&&0<=p.indexOf(g.value)))return!0;break;case M0:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function ZC(p){switch(p.$$typeof){case D0:return"<"+(I(p.value)||"Unknown")+">";case F0:return":has("+(ZC(p)||"")+")";case L0:return'[role="'+p.value+'"]';case B0:return'"'+p.value+'"';case M0:return'[data-testname="'+p.value+'"]';default:throw Error(o(365))}}function pF(p,g){var S=[];p=[p,0];for(var C=0;C<p.length;){var T=p[C++],O=p[C++],z=g[O];if(T.tag!==5||!ye(T)){for(;z!=null&&JC(T,z);)O++,z=g[O];if(O===g.length)S.push(T);else for(T=T.child;T!==null;)p.push(T,O),T=T.sibling}}return S}function eE(p,g){if(!lt)throw Error(o(363));p=YC(p),p=pF(p,g),g=[],p=Array.from(p);for(var S=0;S<p.length;){var C=p[S++];if(C.tag===5)ye(C)||g.push(C.stateNode);else for(C=C.child;C!==null;)p.push(C),C=C.sibling}return g}var IZ=Math.ceil,z0=a.ReactCurrentDispatcher,tE=a.ReactCurrentOwner,Dn=a.ReactCurrentBatchConfig,ht=0,dr=null,zn=null,Ir=0,Qi=0,Ld=yl(0),Zn=0,zp=null,Wc=0,j0=0,nE=0,jp=null,Ei=null,rE=0,iE=1/0,wa=null;function Md(){iE=cr()+500}var V0=!1,sE=null,wl=null,U0=!1,Sl=null,W0=0,Vp=0,oE=null,G0=-1,H0=0;function Gr(){return ht&6?cr():G0!==-1?G0:G0=cr()}function kl(p){return p.mode&1?ht&2&&Ir!==0?Ir&-Ir:uZ.transition!==null?(H0===0&&(H0=JP()),H0):(p=Et,p!==0?p:rt()):1}function ks(p,g,S,C){if(50<Vp)throw Vp=0,oE=null,Error(o(185));Tp(p,S,C),(!(ht&2)||p!==dr)&&(p===dr&&(!(ht&2)&&(j0|=S),Zn===4&&Cl(p,Ir)),Ti(p,C),S===1&&ht===0&&!(g.mode&1)&&(Md(),f0&&No()))}function Ti(p,g){var S=p.callbackNode;tZ(p,g);var C=u0(p,p===dr?Ir:0);if(C===0)S!==null&&eD(S),p.callbackNode=null,p.callbackPriority=0;else if(g=C&-C,p.callbackPriority!==g){if(S!=null&&eD(S),g===1)p.tag===0?cZ(gF.bind(null,p)):tD(gF.bind(null,p)),bt?ln(function(){!(ht&6)&&No()}):cC(uC,No),S=null;else{switch(ZP(C)){case 1:S=uC;break;case 4:S=sZ;break;case 16:S=dC;break;case 536870912:S=oZ;break;default:S=dC}S=EF(S,mF.bind(null,p))}p.callbackPriority=g,p.callbackNode=S}}function mF(p,g){if(G0=-1,H0=0,ht&6)throw Error(o(327));var S=p.callbackNode;if(qc()&&p.callbackNode!==S)return null;var C=u0(p,p===dr?Ir:0);if(C===0)return null;if(C&30||C&p.expiredLanes||g)g=q0(p,C);else{g=C;var T=ht;ht|=2;var O=xF();(dr!==p||Ir!==g)&&(wa=null,Md(),Gc(p,g));do try{OZ();break}catch(J){vF(p,J)}while(!0);xC(),z0.current=O,ht=T,zn!==null?g=0:(dr=null,Ir=0,g=Zn)}if(g!==0){if(g===2&&(T=oC(p),T!==0&&(C=T,g=aE(p,T))),g===1)throw S=zp,Gc(p,0),Cl(p,C),Ti(p,cr()),S;if(g===6)Cl(p,C);else{if(T=p.current.alternate,!(C&30)&&!$Z(T)&&(g=q0(p,C),g===2&&(O=oC(p),O!==0&&(C=O,g=aE(p,O))),g===1))throw S=zp,Gc(p,0),Cl(p,C),Ti(p,cr()),S;switch(p.finishedWork=T,p.finishedLanes=C,g){case 0:case 1:throw Error(o(345));case 2:Hc(p,Ei,wa);break;case 3:if(Cl(p,C),(C&130023424)===C&&(g=rE+500-cr(),10<g)){if(u0(p,0)!==0)break;if(T=p.suspendedLanes,(T&C)!==C){Gr(),p.pingedLanes|=p.suspendedLanes&T;break}p.timeoutHandle=ke(Hc.bind(null,p,Ei,wa),g);break}Hc(p,Ei,wa);break;case 4:if(Cl(p,C),(C&4194240)===C)break;for(g=p.eventTimes,T=-1;0<C;){var z=31-Ys(C);O=1<<z,z=g[z],z>T&&(T=z),C&=~O}if(C=T,C=cr()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*IZ(C/1960))-C,10<C){p.timeoutHandle=ke(Hc.bind(null,p,Ei,wa),C);break}Hc(p,Ei,wa);break;case 5:Hc(p,Ei,wa);break;default:throw Error(o(329))}}}return Ti(p,cr()),p.callbackNode===S?mF.bind(null,p):null}function aE(p,g){var S=jp;return p.current.memoizedState.isDehydrated&&(Gc(p,g).flags|=256),p=q0(p,g),p!==2&&(g=Ei,Ei=S,g!==null&&lE(g)),p}function lE(p){Ei===null?Ei=p:Ei.push.apply(Ei,p)}function $Z(p){for(var g=p;;){if(g.flags&16384){var S=g.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var C=0;C<S.length;C++){var T=S[C],O=T.getSnapshot;T=T.value;try{if(!Js(O(),T))return!1}catch{return!1}}}if(S=g.child,g.subtreeFlags&16384&&S!==null)S.return=g,g=S;else{if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Cl(p,g){for(g&=~nE,g&=~j0,p.suspendedLanes|=g,p.pingedLanes&=~g,p=p.expirationTimes;0<g;){var S=31-Ys(g),C=1<<S;p[S]=-1,g&=~C}}function gF(p){if(ht&6)throw Error(o(327));qc();var g=u0(p,0);if(!(g&1))return Ti(p,cr()),null;var S=q0(p,g);if(p.tag!==0&&S===2){var C=oC(p);C!==0&&(g=C,S=aE(p,C))}if(S===1)throw S=zp,Gc(p,0),Cl(p,g),Ti(p,cr()),S;if(S===6)throw Error(o(345));return p.finishedWork=p.current.alternate,p.finishedLanes=g,Hc(p,Ei,wa),Ti(p,cr()),null}function yF(p){Sl!==null&&Sl.tag===0&&!(ht&6)&&qc();var g=ht;ht|=1;var S=Dn.transition,C=Et;try{if(Dn.transition=null,Et=1,p)return p()}finally{Et=C,Dn.transition=S,ht=g,!(ht&6)&&No()}}function cE(){Qi=Ld.current,en(Ld)}function Gc(p,g){p.finishedWork=null,p.finishedLanes=0;var S=p.timeoutHandle;if(S!==$e&&(p.timeoutHandle=$e,Ie(S)),zn!==null)for(S=zn.return;S!==null;){var C=S;switch(pC(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&o0();break;case 3:Pd(),en(Si),en(jr),_C();break;case 5:EC(C);break;case 4:Pd();break;case 13:en(vn);break;case 19:en(vn);break;case 10:bC(C.type._context);break;case 22:case 23:cE()}S=S.return}if(dr=p,zn=p=El(p.current,null),Ir=Qi=g,Zn=0,zp=null,nE=j0=Wc=0,Ei=jp=null,Vc!==null){for(g=0;g<Vc.length;g++)if(S=Vc[g],C=S.interleaved,C!==null){S.interleaved=null;var T=C.next,O=S.pending;if(O!==null){var z=O.next;O.next=T,C.next=z}S.pending=C}Vc=null}return p}function vF(p,g){do{var S=zn;try{if(xC(),k0.current=_0,C0){for(var C=xn.memoizedState;C!==null;){var T=C.queue;T!==null&&(T.pending=null),C=C.next}C0=!1}if(Uc=0,ur=Jn=xn=null,Op=!1,Rp=0,tE.current=null,S===null||S.return===null){Zn=1,zp=g,zn=null;break}e:{var O=p,z=S.return,J=S,ae=g;if(g=Ir,J.flags|=32768,ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var be=ae,je=J,st=je.tag;if(!(je.mode&1)&&(st===0||st===11||st===15)){var Ne=je.alternate;Ne?(je.updateQueue=Ne.updateQueue,je.memoizedState=Ne.memoizedState,je.lanes=Ne.lanes):(je.updateQueue=null,je.memoizedState=null)}var tn=UD(z);if(tn!==null){tn.flags&=-257,WD(tn,z,J,O,g),tn.mode&1&&VD(O,be,g),g=tn,ae=be;var zt=g.updateQueue;if(zt===null){var _i=new Set;_i.add(ae),g.updateQueue=_i}else zt.add(ae);break e}else{if(!(g&1)){VD(O,be,g),uE();break e}ae=Error(o(426))}}else if(un&&J.mode&1){var Sa=UD(z);if(Sa!==null){!(Sa.flags&65536)&&(Sa.flags|=256),WD(Sa,z,J,O,g),yC(Dd(ae,J));break e}}O=ae=Dd(ae,J),Zn!==4&&(Zn=2),jp===null?jp=[O]:jp.push(O),O=z;do{switch(O.tag){case 3:O.flags|=65536,g&=-g,O.lanes|=g;var oe=zD(O,ae,g);hD(O,oe);break e;case 1:J=ae;var te=O.type,ue=O.stateNode;if(!(O.flags&128)&&(typeof te.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(wl===null||!wl.has(ue)))){O.flags|=65536,g&=-g,O.lanes|=g;var Re=jD(O,J,g);hD(O,Re);break e}}O=O.return}while(O!==null)}wF(S)}catch(Ye){g=Ye,zn===S&&S!==null&&(zn=S=S.return);continue}break}while(!0)}function xF(){var p=z0.current;return z0.current=_0,p===null?_0:p}function uE(){(Zn===0||Zn===3||Zn===2)&&(Zn=4),dr===null||!(Wc&268435455)&&!(j0&268435455)||Cl(dr,Ir)}function q0(p,g){var S=ht;ht|=2;var C=xF();(dr!==p||Ir!==g)&&(wa=null,Gc(p,g));do try{NZ();break}catch(T){vF(p,T)}while(!0);if(xC(),ht=S,z0.current=C,zn!==null)throw Error(o(261));return dr=null,Ir=0,Zn}function NZ(){for(;zn!==null;)bF(zn)}function OZ(){for(;zn!==null&&!rZ();)bF(zn)}function bF(p){var g=CF(p.alternate,p,Qi);p.memoizedProps=p.pendingProps,g===null?wF(p):zn=g,tE.current=null}function wF(p){var g=p;do{var S=g.alternate;if(p=g.return,g.flags&32768){if(S=CZ(S,g),S!==null){S.flags&=32767,zn=S;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{Zn=6,zn=null;return}}else if(S=kZ(S,g,Qi),S!==null){zn=S;return}if(g=g.sibling,g!==null){zn=g;return}zn=g=p}while(g!==null);Zn===0&&(Zn=5)}function Hc(p,g,S){var C=Et,T=Dn.transition;try{Dn.transition=null,Et=1,RZ(p,g,S,C)}finally{Dn.transition=T,Et=C}return null}function RZ(p,g,S,C){do qc();while(Sl!==null);if(ht&6)throw Error(o(327));S=p.finishedWork;var T=p.finishedLanes;if(S===null)return null;if(p.finishedWork=null,p.finishedLanes=0,S===p.current)throw Error(o(177));p.callbackNode=null,p.callbackPriority=0;var O=S.lanes|S.childLanes;if(nZ(p,O),p===dr&&(zn=dr=null,Ir=0),!(S.subtreeFlags&2064)&&!(S.flags&2064)||U0||(U0=!0,EF(dC,function(){return qc(),null})),O=(S.flags&15990)!==0,S.subtreeFlags&15990||O){O=Dn.transition,Dn.transition=null;var z=Et;Et=1;var J=ht;ht|=4,tE.current=null,TZ(p,S),cF(S,p),Y(p.containerInfo),p.current=S,_Z(S),iZ(),ht=J,Et=z,Dn.transition=O}else p.current=S;if(U0&&(U0=!1,Sl=p,W0=T),O=p.pendingLanes,O===0&&(wl=null),aZ(S.stateNode),Ti(p,cr()),g!==null)for(C=p.onRecoverableError,S=0;S<g.length;S++)T=g[S],C(T.value,{componentStack:T.stack,digest:T.digest});if(V0)throw V0=!1,p=sE,sE=null,p;return W0&1&&p.tag!==0&&qc(),O=p.pendingLanes,O&1?p===oE?Vp++:(Vp=0,oE=p):Vp=0,No(),null}function qc(){if(Sl!==null){var p=ZP(W0),g=Dn.transition,S=Et;try{if(Dn.transition=null,Et=16>p?16:p,Sl===null)var C=!1;else{if(p=Sl,Sl=null,W0=0,ht&6)throw Error(o(331));var T=ht;for(ht|=4,Fe=p.current;Fe!==null;){var O=Fe,z=O.child;if(Fe.flags&16){var J=O.deletions;if(J!==null){for(var ae=0;ae<J.length;ae++){var be=J[ae];for(Fe=be;Fe!==null;){var je=Fe;switch(je.tag){case 0:case 11:case 15:Mp(8,je,O)}var st=je.child;if(st!==null)st.return=je,Fe=st;else for(;Fe!==null;){je=Fe;var Ne=je.sibling,tn=je.return;if(sF(je),je===be){Fe=null;break}if(Ne!==null){Ne.return=tn,Fe=Ne;break}Fe=tn}}}var zt=O.alternate;if(zt!==null){var _i=zt.child;if(_i!==null){zt.child=null;do{var Sa=_i.sibling;_i.sibling=null,_i=Sa}while(_i!==null)}}Fe=O}}if(O.subtreeFlags&2064&&z!==null)z.return=O,Fe=z;else e:for(;Fe!==null;){if(O=Fe,O.flags&2048)switch(O.tag){case 0:case 11:case 15:Mp(9,O,O.return)}var oe=O.sibling;if(oe!==null){oe.return=O.return,Fe=oe;break e}Fe=O.return}}var te=p.current;for(Fe=te;Fe!==null;){z=Fe;var ue=z.child;if(z.subtreeFlags&2064&&ue!==null)ue.return=z,Fe=ue;else e:for(z=te;Fe!==null;){if(J=Fe,J.flags&2048)try{switch(J.tag){case 0:case 11:case 15:P0(9,J)}}catch(Ye){dn(J,J.return,Ye)}if(J===z){Fe=null;break e}var Re=J.sibling;if(Re!==null){Re.return=J.return,Fe=Re;break e}Fe=J.return}}if(ht=T,No(),$o&&typeof $o.onPostCommitFiberRoot=="function")try{$o.onPostCommitFiberRoot(d0,p)}catch{}C=!0}return C}finally{Et=S,Dn.transition=g}}return!1}function SF(p,g,S){g=Dd(S,g),g=zD(p,g,1),p=bl(p,g,1),g=Gr(),p!==null&&(Tp(p,1,g),Ti(p,g))}function dn(p,g,S){if(p.tag===3)SF(p,p,S);else for(;g!==null;){if(g.tag===3){SF(g,p,S);break}else if(g.tag===1){var C=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(wl===null||!wl.has(C))){p=Dd(S,p),p=jD(g,p,1),g=bl(g,p,1),p=Gr(),g!==null&&(Tp(g,1,p),Ti(g,p));break}}g=g.return}}function AZ(p,g,S){var C=p.pingCache;C!==null&&C.delete(g),g=Gr(),p.pingedLanes|=p.suspendedLanes&S,dr===p&&(Ir&S)===S&&(Zn===4||Zn===3&&(Ir&130023424)===Ir&&500>cr()-rE?Gc(p,0):nE|=S),Ti(p,g)}function kF(p,g){g===0&&(p.mode&1?(g=c0,c0<<=1,!(c0&130023424)&&(c0=4194304)):g=1);var S=Gr();p=Oo(p,g),p!==null&&(Tp(p,g,S),Ti(p,S))}function PZ(p){var g=p.memoizedState,S=0;g!==null&&(S=g.retryLane),kF(p,S)}function DZ(p,g){var S=0;switch(p.tag){case 13:var C=p.stateNode,T=p.memoizedState;T!==null&&(S=T.retryLane);break;case 19:C=p.stateNode;break;default:throw Error(o(314))}C!==null&&C.delete(g),kF(p,S)}var CF;CF=function(p,g,S){if(p!==null)if(p.memoizedProps!==g.pendingProps||Si.current)Ci=!0;else{if(!(p.lanes&S)&&!(g.flags&128))return Ci=!1,SZ(p,g,S);Ci=!!(p.flags&131072)}else Ci=!1,un&&g.flags&1048576&&nD(g,p0,g.index);switch(g.lanes=0,g.tag){case 2:var C=g.type;N0(p,g),p=g.pendingProps;var T=Td(g,jr.current);Rd(g,S),T=NC(null,g,C,p,T,S);var O=OC();return g.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,ki(C)?(O=!0,a0(g)):O=!1,g.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,kC(g),T.updater=I0,g.stateNode=T,T._reactInternals=g,LC(g,C,p,S),g=jC(null,g,C,!0,O,S)):(g.tag=0,un&&O&&hC(g),li(null,g,T,S),g=g.child),g;case 16:C=g.elementType;e:{switch(N0(p,g),p=g.pendingProps,T=C._init,C=T(C._payload),g.type=C,T=g.tag=LZ(C),p=eo(C,p),T){case 0:g=zC(null,g,C,p,S);break e;case 1:g=QD(null,g,C,p,S);break e;case 11:g=GD(null,g,C,p,S);break e;case 14:g=HD(null,g,C,eo(C.type,p),S);break e}throw Error(o(306,C,""))}return g;case 0:return C=g.type,T=g.pendingProps,T=g.elementType===C?T:eo(C,T),zC(p,g,C,T,S);case 1:return C=g.type,T=g.pendingProps,T=g.elementType===C?T:eo(C,T),QD(p,g,C,T,S);case 3:e:{if(YD(g),p===null)throw Error(o(387));C=g.pendingProps,O=g.memoizedState,T=O.element,fD(p,g),w0(g,C,null,S);var z=g.memoizedState;if(C=z.element,Xe&&O.isDehydrated)if(O={element:C,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},g.updateQueue.baseState=O,g.memoizedState=O,g.flags&256){T=Dd(Error(o(423)),g),g=JD(p,g,C,S,T);break e}else if(C!==T){T=Dd(Error(o(424)),g),g=JD(p,g,C,S,T);break e}else for(Xe&&(xs=LJ(g.stateNode.containerInfo),Xi=g,un=!0,Zs=null,_p=!1),S=cD(g,null,C,S),g.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if($d(),C===T){g=ba(p,g,S);break e}li(p,g,C,S)}g=g.child}return g;case 5:return mD(g),p===null&&gC(g),C=g.type,T=g.pendingProps,O=p!==null?p.memoizedProps:null,z=T.children,fe(C,T)?z=null:O!==null&&fe(C,O)&&(g.flags|=32),XD(p,g),li(p,g,z,S),g.child;case 6:return p===null&&gC(g),null;case 13:return ZD(p,g,S);case 4:return CC(g,g.stateNode.containerInfo),C=g.pendingProps,p===null?g.child=Nd(g,null,C,S):li(p,g,C,S),g.child;case 11:return C=g.type,T=g.pendingProps,T=g.elementType===C?T:eo(C,T),GD(p,g,C,T,S);case 7:return li(p,g,g.pendingProps,S),g.child;case 8:return li(p,g,g.pendingProps.children,S),g.child;case 12:return li(p,g,g.pendingProps.children,S),g.child;case 10:e:{if(C=g.type._context,T=g.pendingProps,O=g.memoizedProps,z=T.value,uD(g,C,z),O!==null)if(Js(O.value,z)){if(O.children===T.children&&!Si.current){g=ba(p,g,S);break e}}else for(O=g.child,O!==null&&(O.return=g);O!==null;){var J=O.dependencies;if(J!==null){z=O.child;for(var ae=J.firstContext;ae!==null;){if(ae.context===C){if(O.tag===1){ae=xa(-1,S&-S),ae.tag=2;var be=O.updateQueue;if(be!==null){be=be.shared;var je=be.pending;je===null?ae.next=ae:(ae.next=je.next,je.next=ae),be.pending=ae}}O.lanes|=S,ae=O.alternate,ae!==null&&(ae.lanes|=S),wC(O.return,S,g),J.lanes|=S;break}ae=ae.next}}else if(O.tag===10)z=O.type===g.type?null:O.child;else if(O.tag===18){if(z=O.return,z===null)throw Error(o(341));z.lanes|=S,J=z.alternate,J!==null&&(J.lanes|=S),wC(z,S,g),z=O.sibling}else z=O.child;if(z!==null)z.return=O;else for(z=O;z!==null;){if(z===g){z=null;break}if(O=z.sibling,O!==null){O.return=z.return,z=O;break}z=z.return}O=z}li(p,g,T.children,S),g=g.child}return g;case 9:return T=g.type,C=g.pendingProps.children,Rd(g,S),T=bs(T),C=C(T),g.flags|=1,li(p,g,C,S),g.child;case 14:return C=g.type,T=eo(C,g.pendingProps),T=eo(C.type,T),HD(p,g,C,T,S);case 15:return qD(p,g,g.type,g.pendingProps,S);case 17:return C=g.type,T=g.pendingProps,T=g.elementType===C?T:eo(C,T),N0(p,g),g.tag=1,ki(C)?(p=!0,a0(g)):p=!1,Rd(g,S),MD(g,C,T),LC(g,C,T,S),jC(null,g,C,!0,p,S);case 19:return tF(p,g,S);case 22:return KD(p,g,S)}throw Error(o(156,g.tag))};function EF(p,g){return cC(p,g)}function FZ(p,g,S,C){this.tag=p,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cs(p,g,S,C){return new FZ(p,g,S,C)}function dE(p){return p=p.prototype,!(!p||!p.isReactComponent)}function LZ(p){if(typeof p=="function")return dE(p)?1:0;if(p!=null){if(p=p.$$typeof,p===y)return 11;if(p===b)return 14}return 2}function El(p,g){var S=p.alternate;return S===null?(S=Cs(p.tag,g,p.key,p.mode),S.elementType=p.elementType,S.type=p.type,S.stateNode=p.stateNode,S.alternate=p,p.alternate=S):(S.pendingProps=g,S.type=p.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=p.flags&14680064,S.childLanes=p.childLanes,S.lanes=p.lanes,S.child=p.child,S.memoizedProps=p.memoizedProps,S.memoizedState=p.memoizedState,S.updateQueue=p.updateQueue,g=p.dependencies,S.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},S.sibling=p.sibling,S.index=p.index,S.ref=p.ref,S}function K0(p,g,S,C,T,O){var z=2;if(C=p,typeof p=="function")dE(p)&&(z=1);else if(typeof p=="string")z=5;else e:switch(p){case u:return Kc(S.children,T,O,g);case d:z=8,T|=8;break;case f:return p=Cs(12,S,g,T|2),p.elementType=f,p.lanes=O,p;case x:return p=Cs(13,S,g,T),p.elementType=x,p.lanes=O,p;case v:return p=Cs(19,S,g,T),p.elementType=v,p.lanes=O,p;case k:return X0(S,T,O,g);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case h:z=10;break e;case m:z=9;break e;case y:z=11;break e;case b:z=14;break e;case w:z=16,C=null;break e}throw Error(o(130,p==null?p:typeof p,""))}return g=Cs(z,S,g,T),g.elementType=p,g.type=C,g.lanes=O,g}function Kc(p,g,S,C){return p=Cs(7,p,C,g),p.lanes=S,p}function X0(p,g,S,C){return p=Cs(22,p,C,g),p.elementType=k,p.lanes=S,p.stateNode={isHidden:!1},p}function fE(p,g,S){return p=Cs(6,p,null,g),p.lanes=S,p}function hE(p,g,S){return g=Cs(4,p.children!==null?p.children:[],p.key,g),g.lanes=S,g.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},g}function MZ(p,g,S,C,T){this.tag=g,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=$e,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aC(0),this.expirationTimes=aC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aC(0),this.identifierPrefix=C,this.onRecoverableError=T,Xe&&(this.mutableSourceEagerHydrationData=null)}function TF(p,g,S,C,T,O,z,J,ae){return p=new MZ(p,g,S,J,ae),g===1?(g=1,O===!0&&(g|=8)):g=0,O=Cs(3,null,null,g),p.current=O,O.stateNode=p,O.memoizedState={element:C,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},kC(O),p}function _F(p){if(!p)return vl;p=p._reactInternals;e:{if(D(p)!==p||p.tag!==1)throw Error(o(170));var g=p;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(ki(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(o(171))}if(p.tag===1){var S=p.type;if(ki(S))return QP(p,S,g)}return g}function IF(p){var g=p._reactInternals;if(g===void 0)throw typeof p.render=="function"?Error(o(188)):(p=Object.keys(p).join(","),Error(o(268,p)));return p=U(g),p===null?null:p.stateNode}function $F(p,g){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var S=p.retryLane;p.retryLane=S!==0&&S<g?S:g}}function Q0(p,g){$F(p,g),(p=p.alternate)&&$F(p,g)}function BZ(p){return p=U(p),p===null?null:p.stateNode}function zZ(){return null}return n.attemptContinuousHydration=function(p){if(p.tag===13){var g=Oo(p,134217728);if(g!==null){var S=Gr();ks(g,p,134217728,S)}Q0(p,134217728)}},n.attemptDiscreteHydration=function(p){if(p.tag===13){var g=Oo(p,1);if(g!==null){var S=Gr();ks(g,p,1,S)}Q0(p,1)}},n.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var g=kl(p),S=Oo(p,g);if(S!==null){var C=Gr();ks(S,p,g,C)}Q0(p,g)}},n.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var g=p.stateNode;if(g.current.memoizedState.isDehydrated){var S=Ep(g.pendingLanes);S!==0&&(lC(g,S|1),Ti(g,cr()),!(ht&6)&&(Md(),No()))}break;case 13:yF(function(){var C=Oo(p,1);if(C!==null){var T=Gr();ks(C,p,1,T)}}),Q0(p,1)}},n.batchedUpdates=function(p,g){var S=ht;ht|=1;try{return p(g)}finally{ht=S,ht===0&&(Md(),f0&&No())}},n.createComponentSelector=function(p){return{$$typeof:D0,value:p}},n.createContainer=function(p,g,S,C,T,O,z){return TF(p,g,!1,null,S,C,T,O,z)},n.createHasPseudoClassSelector=function(p){return{$$typeof:F0,value:p}},n.createHydrationContainer=function(p,g,S,C,T,O,z,J,ae){return p=TF(S,C,!0,p,T,O,z,J,ae),p.context=_F(null),S=p.current,C=Gr(),T=kl(S),O=xa(C,T),O.callback=g??null,bl(S,O,T),p.current.lanes=T,Tp(p,T,C),Ti(p,C),p},n.createPortal=function(p,g,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:p,containerInfo:g,implementation:S}},n.createRoleSelector=function(p){return{$$typeof:L0,value:p}},n.createTestNameSelector=function(p){return{$$typeof:M0,value:p}},n.createTextSelector=function(p){return{$$typeof:B0,value:p}},n.deferredUpdates=function(p){var g=Et,S=Dn.transition;try{return Dn.transition=null,Et=16,p()}finally{Et=g,Dn.transition=S}},n.discreteUpdates=function(p,g,S,C,T){var O=Et,z=Dn.transition;try{return Dn.transition=null,Et=1,p(g,S,C,T)}finally{Et=O,Dn.transition=z,ht===0&&Md()}},n.findAllNodes=eE,n.findBoundingRects=function(p,g){if(!lt)throw Error(o(363));g=eE(p,g),p=[];for(var S=0;S<g.length;S++)p.push(cn(g[S]));for(g=p.length-1;0<g;g--){S=p[g];for(var C=S.x,T=C+S.width,O=S.y,z=O+S.height,J=g-1;0<=J;J--)if(g!==J){var ae=p[J],be=ae.x,je=be+ae.width,st=ae.y,Ne=st+ae.height;if(C>=be&&O>=st&&T<=je&&z<=Ne){p.splice(g,1);break}else if(C!==be||S.width!==ae.width||Ne<O||st>z){if(!(O!==st||S.height!==ae.height||je<C||be>T)){be>C&&(ae.width+=be-C,ae.x=C),je<T&&(ae.width=T-be),p.splice(g,1);break}}else{st>O&&(ae.height+=st-O,ae.y=O),Ne<z&&(ae.height=z-st),p.splice(g,1);break}}}return p},n.findHostInstance=IF,n.findHostInstanceWithNoPortals=function(p){return p=F(p),p=p!==null?W(p):null,p===null?null:p.stateNode},n.findHostInstanceWithWarning=function(p){return IF(p)},n.flushControlled=function(p){var g=ht;ht|=1;var S=Dn.transition,C=Et;try{Dn.transition=null,Et=1,p()}finally{Et=C,Dn.transition=S,ht=g,ht===0&&(Md(),No())}},n.flushPassiveEffects=qc,n.flushSync=yF,n.focusWithin=function(p,g){if(!lt)throw Error(o(363));for(p=YC(p),g=pF(p,g),g=Array.from(g),p=0;p<g.length;){var S=g[p++];if(!ye(S)){if(S.tag===5&&Pe(S.stateNode))return!0;for(S=S.child;S!==null;)g.push(S),S=S.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Et},n.getFindAllNodesFailureDescription=function(p,g){if(!lt)throw Error(o(363));var S=0,C=[];p=[YC(p),0];for(var T=0;T<p.length;){var O=p[T++],z=p[T++],J=g[z];if((O.tag!==5||!ye(O))&&(JC(O,J)&&(C.push(ZC(J)),z++,z>S&&(S=z)),z<g.length))for(O=O.child;O!==null;)p.push(O,z),O=O.sibling}if(S<g.length){for(p=[];S<g.length;S++)p.push(ZC(g[S]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},n.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return Q(p.child.stateNode);default:return p.child.stateNode}},n.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:BZ,findFiberByHostInstance:p.findFiberByHostInstance||zZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)p=!0;else{try{d0=g.inject(p),$o=g}catch{}p=!!g.checkDCE}}return p},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(p,g,S,C){if(!lt)throw Error(o(363));p=eE(p,g);var T=ct(p,S,C).disconnect;return{disconnect:function(){T()}}},n.registerMutableSourceForHydration=function(p,g){var S=g._getVersion;S=S(g._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[g,S]:p.mutableSourceEagerHydrationData.push(g,S)},n.runWithPriority=function(p,g){var S=Et;try{return Et=p,g()}finally{Et=S}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(p,g,S,C){var T=g.current,O=Gr(),z=kl(T);return S=_F(S),g.context===null?g.context=S:g.pendingContext=S,g=xa(O,z),g.payload={element:p},C=C===void 0?null:C,C!==null&&(g.callback=C),p=bl(T,g,z),p!==null&&(ks(p,T,z,O),b0(p,T,z)),z},n};s7.exports=Zle;var ece=s7.exports;const tce=nl(ece);var o7={exports:{}},cd={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */cd.ConcurrentRoot=1;cd.ContinuousEventPriority=4;cd.DefaultEventPriority=16;cd.DiscreteEventPriority=1;cd.IdleEventPriority=536870912;cd.LegacyRoot=0;o7.exports=cd;var a7=o7.exports;const f5={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let h5=!1,p5=!1;const KO=".react-konva-event",nce=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,rce=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,ice={};function a2(t,e,n=ice){if(!h5&&"zIndex"in e&&(console.warn(rce),h5=!0),!p5&&e.draggable){var r=e.x!==void 0||e.y!==void 0,i=e.onDragEnd||e.onDragMove;r&&!i&&(console.warn(nce),p5=!0)}for(var s in n)if(!f5[s]){var o=s.slice(0,2)==="on",a=n[s]!==e[s];if(o&&a){var l=s.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),t.off(l,n[s])}var c=!e.hasOwnProperty(s);c&&t.setAttr(s,void 0)}var u=e._useStrictMode,d={},f=!1;const h={};for(var s in e)if(!f5[s]){var o=s.slice(0,2)==="on",m=n[s]!==e[s];if(o&&m){var l=s.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),e[s]&&(h[l]=e[s])}!o&&(e[s]!==n[s]||u&&e[s]!==t.getAttr(s))&&(f=!0,d[s]=e[s])}f&&(t.setAttrs(d),Ic(t));for(var l in h)t.on(l+KO,h[l])}function Ic(t){if(!Me.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const l7={},sce={};Lu.Node.prototype._applyProps=a2;function oce(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),Ic(t)}function ace(t,e,n){let r=Lu[t];r||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=Lu.Group);const i={},s={};for(var o in e){var a=o.slice(0,2)==="on";a?s[o]=e[o]:i[o]=e[o]}const l=new r(i);return a2(l,s),l}function lce(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function cce(t,e,n){return!1}function uce(t){return t}function dce(){return null}function fce(){return null}function hce(t,e,n,r){return sce}function pce(){}function mce(t){}function gce(t,e){return!1}function yce(){return l7}function vce(){return l7}const xce=setTimeout,bce=clearTimeout,wce=-1;function Sce(t,e){return!1}const kce=!1,Cce=!0,Ece=!0;function Tce(t,e){e.parent===t?e.moveToTop():t.add(e),Ic(t)}function _ce(t,e){e.parent===t?e.moveToTop():t.add(e),Ic(t)}function c7(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),Ic(t)}function Ice(t,e,n){c7(t,e,n)}function $ce(t,e){e.destroy(),e.off(KO),Ic(t)}function Nce(t,e){e.destroy(),e.off(KO),Ic(t)}function Oce(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function Rce(t,e,n){}function Ace(t,e,n,r,i){a2(t,i,r)}function Pce(t){t.hide(),Ic(t)}function Dce(t){}function Fce(t,e){(e.visible==null||e.visible)&&t.show()}function Lce(t,e){}function Mce(t){}function Bce(){}const zce=()=>a7.DefaultEventPriority,jce=Object.freeze(Object.defineProperty({__proto__:null,appendChild:Tce,appendChildToContainer:_ce,appendInitialChild:oce,cancelTimeout:bce,clearContainer:Mce,commitMount:Rce,commitTextUpdate:Oce,commitUpdate:Ace,createInstance:ace,createTextInstance:lce,detachDeletedInstance:Bce,finalizeInitialChildren:cce,getChildHostContext:vce,getCurrentEventPriority:zce,getPublicInstance:uce,getRootHostContext:yce,hideInstance:Pce,hideTextInstance:Dce,idlePriority:Pm.unstable_IdlePriority,insertBefore:c7,insertInContainerBefore:Ice,isPrimaryRenderer:kce,noTimeout:wce,now:Pm.unstable_now,prepareForCommit:dce,preparePortalMount:fce,prepareUpdate:hce,removeChild:$ce,removeChildFromContainer:Nce,resetAfterCommit:pce,resetTextContent:mce,run:Pm.unstable_runWithPriority,scheduleTimeout:xce,shouldDeprioritizeSubtree:gce,shouldSetTextContent:Sce,supportsMutation:Ece,unhideInstance:Fce,unhideTextInstance:Lce,warnsIfNotActing:Cce},Symbol.toStringTag,{value:"Module"}));var Vce=Object.defineProperty,Uce=Object.defineProperties,Wce=Object.getOwnPropertyDescriptors,m5=Object.getOwnPropertySymbols,Gce=Object.prototype.hasOwnProperty,Hce=Object.prototype.propertyIsEnumerable,g5=(t,e,n)=>e in t?Vce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y5=(t,e)=>{for(var n in e||(e={}))Gce.call(e,n)&&g5(t,n,e[n]);if(m5)for(var n of m5(e))Hce.call(e,n)&&g5(t,n,e[n]);return t},qce=(t,e)=>Uce(t,Wce(e)),v5,x5;typeof window<"u"&&((v5=window.document)!=null&&v5.createElement||((x5=window.navigator)==null?void 0:x5.product)==="ReactNative")?A.useLayoutEffect:A.useEffect;function u7(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=u7(r,e,n);if(i)return i;r=e?null:r.sibling}}function d7(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const b5=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=b5;return}return b5.apply(this,arguments)};const XO=d7(A.createContext(null));class f7 extends A.Component{render(){return A.createElement(XO.Provider,{value:this._reactInternals},this.props.children)}}function Kce(){const t=A.useContext(XO);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=A.useId();return A.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=u7(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function Xce(){const t=Kce(),[e]=A.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==XO&&!e.has(i)&&e.set(i,A.useContext(d7(i)))}n=n.return}return e}function Qce(){const t=Xce();return A.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>A.createElement(e,null,A.createElement(n.Provider,qce(y5({},r),{value:t.get(n)}))),e=>A.createElement(f7,y5({},e))),[t])}function Yce(t){const e=M.useRef({});return M.useLayoutEffect(()=>{e.current=t}),M.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const Jce=t=>{const e=M.useRef(),n=M.useRef(),r=M.useRef(),i=Yce(t),s=Qce(),o=a=>{const{forwardedRef:l}=t;l&&(typeof l=="function"?l(a):l.current=a)};return M.useLayoutEffect(()=>(n.current=new Lu.Stage({width:t.width,height:t.height,container:e.current}),o(n.current),r.current=km.createContainer(n.current,a7.LegacyRoot,!1,null),km.updateContainer(M.createElement(s,{},t.children),r.current),()=>{Lu.isBrowser&&(o(null),km.updateContainer(null,r.current,null),n.current.destroy())}),[]),M.useLayoutEffect(()=>{o(n.current),a2(n.current,t,i),km.updateContainer(M.createElement(s,{},t.children),r.current,null)}),M.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},Zce="Layer",h7="Group",eue="Label",l2="Rect",p7="Image",m7="Text",tue="Tag",nue="RegularPolygon",rue="Shape",iue="Transformer",km=tce(jce);km.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:M.version,rendererPackageName:"react-konva"});const sue=M.forwardRef((t,e)=>M.createElement(f7,{},M.createElement(Jce,{...t,forwardedRef:e})));function MI(){return MI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MI.apply(this,arguments)}var g7=["shift","alt","meta","mod","ctrl"],oue={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function Ul(t){return(oue[t]||t).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function aue(t){return g7.includes(t)}function dT(t,e){return e===void 0&&(e=","),t.split(e)}function fT(t,e,n){e===void 0&&(e="+");var r=t.toLocaleLowerCase().split(e).map(function(o){return Ul(o)}),i={alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},s=r.filter(function(o){return!g7.includes(o)});return MI({},i,{keys:s,description:n})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(t){t.key!==void 0&&y7([Ul(t.key),Ul(t.code)])}),document.addEventListener("keyup",function(t){t.key!==void 0&&v7([Ul(t.key),Ul(t.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){Wl.clear()})})();var Wl=new Set;function QO(t){return Array.isArray(t)}function lue(t,e){e===void 0&&(e=",");var n=QO(t)?t:t.split(e);return n.every(function(r){return Wl.has(r.trim().toLowerCase())})}function y7(t){var e=Array.isArray(t)?t:[t];Wl.has("meta")&&Wl.forEach(function(n){return!aue(n)&&Wl.delete(n.toLowerCase())}),e.forEach(function(n){return Wl.add(n.toLowerCase())})}function v7(t){var e=Array.isArray(t)?t:[t];t==="meta"?Wl.clear():e.forEach(function(n){return Wl.delete(n.toLowerCase())})}function cue(t,e,n){(typeof n=="function"&&n(t,e)||n===!0)&&t.preventDefault()}function uue(t,e,n){return typeof n=="function"?n(t,e):n===!0||n===void 0}function due(t){return x7(t,["input","textarea","select"])}function x7(t,e){var n=t.target;e===void 0&&(e=!1);var r=n&&n.tagName;return QO(e)?!!(r&&e&&e.some(function(i){return i.toLowerCase()===r.toLowerCase()})):!!(r&&e&&e===!0)}function fue(t,e){return t.length===0&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):e?t.some(function(n){return e.includes(n)})||t.includes("*"):!0}var hue=function(e,n,r){r===void 0&&(r=!1);var i=n.alt,s=n.meta,o=n.mod,a=n.shift,l=n.ctrl,c=n.keys,u=e.key,d=e.code,f=e.ctrlKey,h=e.metaKey,m=e.shiftKey,y=e.altKey,x=Ul(d),v=u.toLowerCase();if(!(c!=null&&c.includes(x))&&!(c!=null&&c.includes(v))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(x))return!1;if(!r){if(i===!y&&v!=="alt"||a===!m&&v!=="shift")return!1;if(o){if(!h&&!f)return!1}else if(s===!h&&v!=="meta"&&v!=="os"||l===!f&&v!=="ctrl"&&v!=="control")return!1}return c&&c.length===1&&(c.includes(v)||c.includes(x))?!0:c?lue(c):!c},pue=A.createContext(void 0),mue=function(){return A.useContext(pue)};function b7(t,e){return t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce(function(n,r){return n&&b7(t[r],e[r])},!0):t===e}var gue=A.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),yue=function(){return A.useContext(gue)};function vue(t){var e=A.useRef(void 0);return b7(e.current,t)||(e.current=t),e.current}var w5=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},xue=typeof window<"u"?A.useLayoutEffect:A.useEffect;function Ii(t,e,n,r){var i=A.useRef(null),s=A.useRef(!1),o=n instanceof Array?r instanceof Array?void 0:r:n,a=QO(t)?t.join(o==null?void 0:o.splitKey):t,l=n instanceof Array?n:r instanceof Array?r:void 0,c=A.useCallback(e,l??[]),u=A.useRef(c);l?u.current=c:u.current=e;var d=vue(o),f=yue(),h=f.enabledScopes,m=mue();return xue(function(){if(!((d==null?void 0:d.enabled)===!1||!fue(h,d==null?void 0:d.scopes))){var y=function(k,E){var _;if(E===void 0&&(E=!1),!(due(k)&&!x7(k,d==null?void 0:d.enableOnFormTags))){if(i.current!==null){var I=i.current.getRootNode();if((I instanceof Document||I instanceof ShadowRoot)&&I.activeElement!==i.current&&!i.current.contains(I.activeElement)){w5(k);return}}(_=k.target)!=null&&_.isContentEditable&&!(d!=null&&d.enableOnContentEditable)||dT(a,d==null?void 0:d.splitKey).forEach(function(N){var D,P=fT(N,d==null?void 0:d.combinationKey);if(hue(k,P,d==null?void 0:d.ignoreModifiers)||(D=P.keys)!=null&&D.includes("*")){if(d!=null&&d.ignoreEventWhen!=null&&d.ignoreEventWhen(k)||E&&s.current)return;if(cue(k,P,d==null?void 0:d.preventDefault),!uue(k,P,d==null?void 0:d.enabled)){w5(k);return}u.current(k,P),E||(s.current=!0)}})}},x=function(k){k.key!==void 0&&(y7(Ul(k.code)),((d==null?void 0:d.keydown)===void 0&&(d==null?void 0:d.keyup)!==!0||d!=null&&d.keydown)&&y(k))},v=function(k){k.key!==void 0&&(v7(Ul(k.code)),s.current=!1,d!=null&&d.keyup&&y(k,!0))},b=i.current||(o==null?void 0:o.document)||document;return b.addEventListener("keyup",v),b.addEventListener("keydown",x),m&&dT(a,d==null?void 0:d.splitKey).forEach(function(w){return m.addHotkey(fT(w,d==null?void 0:d.combinationKey,d==null?void 0:d.description))}),function(){b.removeEventListener("keyup",v),b.removeEventListener("keydown",x),m&&dT(a,d==null?void 0:d.splitKey).forEach(function(w){return m.removeHotkey(fT(w,d==null?void 0:d.combinationKey,d==null?void 0:d.description))})}}},[a,d,h]),i}const bue="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Is=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;)e+=bue[n[t]&63];return e};var w7={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(w7);var S7=w7.exports;const Ze=nl(S7);function S5(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function wue(t){var e=Sue(t,"string");return typeof e=="symbol"?e:String(e)}function Sue(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k7(t,e,n){var r=A.useRef(t!==void 0),i=A.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,A.useCallback(function(c){for(var u=arguments.length,d=new Array(u>1?u-1:0),f=1;f<u;f++)d[f-1]=arguments[f];n&&n.apply(void 0,[c].concat(d)),o(c)},[n])]}function YO(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[S5(r)],a=s[r],l=tV(s,[S5(r),r].map(wue)),c=e[r],u=k7(a,o,t[c]),d=u[0],f=u[1];return nI({},l,(i={},i[r]=d,i[c]=f,i))},t)}function BI(t,e){return BI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BI(t,e)}function kue(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,BI(t,e)}const Cue=["xxl","xl","lg","md","sm","xs"],Eue="xs",c2=A.createContext({prefixes:{},breakpoints:Cue,minBreakpoint:Eue});function at(t,e){const{prefixes:n}=A.useContext(c2);return t||n[e]||e}function C7(){const{breakpoints:t}=A.useContext(c2);return t}function E7(){const{minBreakpoint:t}=A.useContext(c2);return t}function u2(){const{dir:t}=A.useContext(c2);return t==="rtl"}function Hh(t){return t&&t.ownerDocument||document}function Tue(t){var e=Hh(t);return e&&e.defaultView||window}function _ue(t,e){return Tue(t).getComputedStyle(t,e)}var Iue=/([A-Z])/g;function $ue(t){return t.replace(Iue,"-$1").toLowerCase()}var Nue=/^ms-/;function $1(t){return $ue(t).replace(Nue,"-ms-")}var Oue=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Rue(t){return!!(t&&Oue.test(t))}function ku(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue($1(e))||_ue(t).getPropertyValue($1(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty($1(i)):Rue(i)?r+=i+"("+s+") ":n+=$1(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var T7={exports:{}},Aue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Pue=Aue,Due=Pue;function _7(){}function I7(){}I7.resetWarningCache=_7;var Fue=function(){function t(r,i,s,o,a,l){if(l!==Due){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:I7,resetWarningCache:_7};return n.PropTypes=n,n};T7.exports=Fue();var $7=T7.exports;const he=nl($7),k5={disabled:!1},N7=M.createContext(null);var Lue=function(e){return e.scrollTop},Cm="unmounted",tu="exited",Fl="entering",lu="entered",zI="exiting",al=function(t){kue(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=tu,s.appearStatus=Fl):l=lu:r.unmountOnExit||r.mountOnEnter?l=Cm:l=tu,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Cm?{status:tu}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Fl&&o!==lu&&(s=Fl):(o===Fl||o===lu)&&(s=zI)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Fl){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:gu.findDOMNode(this);o&&Lue(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===tu&&this.setState({status:Cm})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[gu.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||k5.disabled){this.safeSetState({status:lu},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Fl},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:lu},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:gu.findDOMNode(this);if(!s||k5.disabled){this.safeSetState({status:tu},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:zI},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:tu},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:gu.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Cm)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=tV(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return M.createElement(N7.Provider,{value:null},typeof o=="function"?o(i,a):M.cloneElement(M.Children.only(o),a))},e}(M.Component);al.contextType=N7;al.propTypes={};function Vd(){}al.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Vd,onEntering:Vd,onEntered:Vd,onExit:Vd,onExiting:Vd,onExited:Vd};al.UNMOUNTED=Cm;al.EXITED=tu;al.ENTERING=Fl;al.ENTERED=lu;al.EXITING=zI;const Mue=al,qh=!!(typeof window<"u"&&window.document&&window.document.createElement);var jI=!1,VI=!1;try{var hT={get passive(){return jI=!0},get once(){return VI=jI=!0}};qh&&(window.addEventListener("test",hT,hT),window.removeEventListener("test",hT,!0))}catch{}function JO(t,e,n,r){if(r&&typeof r!="boolean"&&!VI){var i=r.once,s=r.capture,o=n;!VI&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,jI?r:s)}t.addEventListener(e,n,r)}function UI(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function La(t,e,n,r){return JO(t,e,n,r),function(){UI(t,e,n,r)}}function Bue(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function zue(t){var e=ku(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function jue(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||Bue(t,"transitionend",!0)},e+n),s=La(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function O7(t,e,n,r){n==null&&(n=zue(t)||0);var i=jue(t,n,r),s=La(t,"transitionend",e);return function(){i(),s()}}function C5(t,e){const n=ku(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Vue(t,e){const n=C5(t,"transitionDuration"),r=C5(t,"transitionDelay"),i=O7(t,s=>{s.target===t&&(i(),e(s))},n+r)}function Uue(t){t.offsetHeight}const E5=t=>!t||typeof t=="function"?t:e=>{t.current=e};function Wue(t,e){const n=E5(t),r=E5(e);return i=>{n&&n(i),r&&r(i)}}function Eo(t,e){return A.useMemo(()=>Wue(t,e),[t,e])}function ab(t){return t&&"setState"in t?gu.findDOMNode(t):t??null}const Gue=M.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...c},u)=>{const d=A.useRef(null),f=Eo(d,l),h=_=>{f(ab(_))},m=_=>I=>{_&&d.current&&_(d.current,I)},y=A.useCallback(m(t),[t]),x=A.useCallback(m(e),[e]),v=A.useCallback(m(n),[n]),b=A.useCallback(m(r),[r]),w=A.useCallback(m(i),[i]),k=A.useCallback(m(s),[s]),E=A.useCallback(m(o),[o]);return R.jsx(Mue,{ref:u,...c,onEnter:y,onEntered:v,onEntering:x,onExit:b,onExited:k,onExiting:w,addEndListener:E,nodeRef:d,children:typeof a=="function"?(_,I)=>a(_,{...I,ref:h}):M.cloneElement(a,{ref:h})})}),Hue=Gue;function que(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t},[t]),e}function Sn(t){const e=que(t);return A.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const Kue=t=>A.forwardRef((e,n)=>R.jsx("div",{...e,ref:n,className:Ze(e.className,t)}));function lb(){return A.useState(null)}function Xue(t,e,n,r=!1){const i=Sn(n);A.useEffect(()=>{const s=typeof t=="function"?t():t;return s.addEventListener(e,i,r),()=>s.removeEventListener(e,i,r)},[t])}function ZO(){const t=A.useRef(!0),e=A.useRef(()=>t.current);return A.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function R7(t){const e=A.useRef(null);return A.useEffect(()=>{e.current=t}),e.current}const Que=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Yue=typeof document<"u",cb=Yue||Que?A.useLayoutEffect:A.useEffect,Jue=["as","disabled"];function Zue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ede(t){return!t||t.trim()==="#"}function eR({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},c];const u=f=>{if((e||t==="a"&&ede(n))&&f.preventDefault(),e){f.stopPropagation();return}o==null||o(f)},d=f=>{f.key===" "&&(f.preventDefault(),u(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:u,onKeyDown:d},c]}const tR=A.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=Zue(t,Jue);const[s,{tagName:o}]=eR(Object.assign({tagName:n,disabled:r},i));return R.jsx(o,Object.assign({},i,s,{ref:e}))});tR.displayName="Button";const tde=["onKeyDown"];function nde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rde(t){return!t||t.trim()==="#"}const A7=A.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=nde(t,tde);const[i]=eR(Object.assign({tagName:"a"},r)),s=Sn(o=>{i.onKeyDown(o),n==null||n(o)});return rde(r.href)||r.role==="button"?R.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):R.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});A7.displayName="Anchor";const P7=A7,ide={[Fl]:"show",[lu]:"show"},D7=A.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=A.useCallback((l,c)=>{Uue(l),r==null||r(l,c)},[r]);return R.jsx(Hue,{ref:s,addEndListener:Vue,...o,onEnter:a,childRef:e.ref,children:(l,c)=>A.cloneElement(e,{...c,className:Ze("fade",t,e.props.className,ide[l],n[l])})})});D7.displayName="Fade";const ub=D7,sde={"aria-label":he.string,onClick:he.func,variant:he.oneOf(["white"])},nR=A.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>R.jsx("button",{ref:i,type:"button",className:Ze("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));nR.displayName="CloseButton";nR.propTypes=sde;const ode=nR,vh=A.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...a},l)=>{const c=at(e,"btn"),[u,{tagName:d}]=eR({tagName:t,disabled:s,...a}),f=d;return R.jsx(f,{...u,...a,ref:l,disabled:s,className:Ze(o,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,a.href&&s&&"disabled")})});vh.displayName="Button";const F7=A.createContext(null);F7.displayName="CardHeaderContext";const ade=F7;function lde(t){const e=A.useRef(t);return e.current=t,e}function rR(t){const e=lde(t);A.useEffect(()=>()=>e.current(),[])}const WI=2**31-1;function L7(t,e,n){const r=n-Date.now();t.current=r<=WI?setTimeout(e,r):setTimeout(()=>L7(t,e,n),WI)}function cde(){const t=ZO(),e=A.useRef();return rR(()=>clearTimeout(e.current)),A.useMemo(()=>{const n=()=>clearTimeout(e.current);function r(i,s=0){t()&&(n(),s<=WI?e.current=setTimeout(i,s):L7(e,i,Date.now()+s))}return{set:r,clear:n,handleRef:e}},[])}function ude(t,e){return A.Children.toArray(t).some(n=>A.isValidElement(n)&&n.type===e)}function dde({as:t,bsPrefix:e,className:n,...r}){e=at(e,"col");const i=C7(),s=E7(),o=[],a=[];return i.forEach(l=>{const c=r[l];delete r[l];let u,d,f;typeof c=="object"&&c!=null?{span:u,offset:d,order:f}=c:u=c;const h=l!==s?`-${l}`:"";u&&o.push(u===!0?`${e}${h}`:`${e}${h}-${u}`),f!=null&&a.push(`order${h}-${f}`),d!=null&&a.push(`offset${h}-${d}`)}),[{...r,className:Ze(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const M7=A.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=dde(t);return R.jsx(i,{...r,ref:e,className:Ze(n,!o.length&&s)})});M7.displayName="Col";const On=M7;var fde=Function.prototype.bind.call(Function.prototype.call,[].slice);function $a(t,e){return fde(t.querySelectorAll(e))}function hde(t,e,n){const r=A.useRef(t!==void 0),[i,s]=A.useState(e),o=t!==void 0,a=r.current;return r.current=o,!o&&a&&i!==e&&s(e),[o?t:i,A.useCallback((...l)=>{const[c,...u]=l;let d=n==null?void 0:n(c,...u);return s(c),d},[n])]}function B7(){const[,t]=A.useReducer(e=>!e,!1);return t}const pde=A.createContext(null),d2=pde;var T5=Object.prototype.hasOwnProperty;function _5(t,e,n){for(n of t.keys())if(Ym(n,e))return n}function Ym(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Ym(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=_5(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=_5(e,i),!i)||!Ym(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(T5.call(t,n)&&++r&&!T5.call(e,n)||!(n in e)||!Ym(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function mde(t){const e=ZO();return[t[0],A.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var zi="top",Ws="bottom",Gs="right",ji="left",iR="auto",py=[zi,Ws,Gs,ji],xh="start",Og="end",gde="clippingParents",z7="viewport",om="popper",yde="reference",I5=py.reduce(function(t,e){return t.concat([e+"-"+xh,e+"-"+Og])},[]),j7=[].concat(py,[iR]).reduce(function(t,e){return t.concat([e,e+"-"+xh,e+"-"+Og])},[]),vde="beforeRead",xde="read",bde="afterRead",wde="beforeMain",Sde="main",kde="afterMain",Cde="beforeWrite",Ede="write",Tde="afterWrite",_de=[vde,xde,bde,wde,Sde,kde,Cde,Ede,Tde];function Yo(t){return t.split("-")[0]}function ls(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Mu(t){var e=ls(t).Element;return t instanceof e||t instanceof Element}function Jo(t){var e=ls(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function sR(t){if(typeof ShadowRoot>"u")return!1;var e=ls(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Cu=Math.max,db=Math.min,bh=Math.round;function GI(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function V7(){return!/^((?!chrome|android).)*safari/i.test(GI())}function wh(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Jo(t)&&(i=t.offsetWidth>0&&bh(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&bh(r.height)/t.offsetHeight||1);var o=Mu(t)?ls(t):window,a=o.visualViewport,l=!V7()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function oR(t){var e=wh(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function U7(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&sR(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function hc(t){return t?(t.nodeName||"").toLowerCase():null}function Xa(t){return ls(t).getComputedStyle(t)}function Ide(t){return["table","td","th"].indexOf(hc(t))>=0}function $c(t){return((Mu(t)?t.ownerDocument:t.document)||window.document).documentElement}function f2(t){return hc(t)==="html"?t:t.assignedSlot||t.parentNode||(sR(t)?t.host:null)||$c(t)}function $5(t){return!Jo(t)||Xa(t).position==="fixed"?null:t.offsetParent}function $de(t){var e=/firefox/i.test(GI()),n=/Trident/i.test(GI());if(n&&Jo(t)){var r=Xa(t);if(r.position==="fixed")return null}var i=f2(t);for(sR(i)&&(i=i.host);Jo(i)&&["html","body"].indexOf(hc(i))<0;){var s=Xa(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function my(t){for(var e=ls(t),n=$5(t);n&&Ide(n)&&Xa(n).position==="static";)n=$5(n);return n&&(hc(n)==="html"||hc(n)==="body"&&Xa(n).position==="static")?e:n||$de(t)||e}function aR(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Jm(t,e,n){return Cu(t,db(e,n))}function Nde(t,e,n){var r=Jm(t,e,n);return r>n?n:r}function W7(){return{top:0,right:0,bottom:0,left:0}}function G7(t){return Object.assign({},W7(),t)}function H7(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Ode=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,G7(typeof e!="number"?e:H7(e,py))};function Rde(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Yo(n.placement),l=aR(a),c=[ji,Gs].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=Ode(i.padding,n),f=oR(s),h=l==="y"?zi:ji,m=l==="y"?Ws:Gs,y=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],x=o[l]-n.rects.reference[l],v=my(s),b=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,w=y/2-x/2,k=d[h],E=b-f[u]-d[m],_=b/2-f[u]/2+w,I=Jm(k,_,E),N=l;n.modifiersData[r]=(e={},e[N]=I,e.centerOffset=I-_,e)}}function Ade(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||U7(e.elements.popper,i)&&(e.elements.arrow=i))}const Pde={name:"arrow",enabled:!0,phase:"main",fn:Rde,effect:Ade,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Sh(t){return t.split("-")[1]}var Dde={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Fde(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:bh(n*i)/i||0,y:bh(r*i)/i||0}}function N5(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=o.x,h=f===void 0?0:f,m=o.y,y=m===void 0?0:m,x=typeof u=="function"?u({x:h,y}):{x:h,y};h=x.x,y=x.y;var v=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),w=ji,k=zi,E=window;if(c){var _=my(n),I="clientHeight",N="clientWidth";if(_===ls(n)&&(_=$c(n),Xa(_).position!=="static"&&a==="absolute"&&(I="scrollHeight",N="scrollWidth")),_=_,i===zi||(i===ji||i===Gs)&&s===Og){k=Ws;var D=d&&_===E&&E.visualViewport?E.visualViewport.height:_[I];y-=D-r.height,y*=l?1:-1}if(i===ji||(i===zi||i===Ws)&&s===Og){w=Gs;var P=d&&_===E&&E.visualViewport?E.visualViewport.width:_[N];h-=P-r.width,h*=l?1:-1}}var F=Object.assign({position:a},c&&Dde),U=u===!0?Fde({x:h,y},ls(n)):{x:h,y};if(h=U.x,y=U.y,l){var j;return Object.assign({},F,(j={},j[k]=b?"0":"",j[w]=v?"0":"",j.transform=(E.devicePixelRatio||1)<=1?"translate("+h+"px, "+y+"px)":"translate3d("+h+"px, "+y+"px, 0)",j))}return Object.assign({},F,(e={},e[k]=b?y+"px":"",e[w]=v?h+"px":"",e.transform="",e))}function Lde(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Yo(e.placement),variation:Sh(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,N5(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,N5(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Mde={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Lde,data:{}};var N1={passive:!0};function Bde(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=ls(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,N1)}),a&&l.addEventListener("resize",n.update,N1),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,N1)}),a&&l.removeEventListener("resize",n.update,N1)}}const zde={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Bde,data:{}};var jde={left:"right",right:"left",bottom:"top",top:"bottom"};function wx(t){return t.replace(/left|right|bottom|top/g,function(e){return jde[e]})}var Vde={start:"end",end:"start"};function O5(t){return t.replace(/start|end/g,function(e){return Vde[e]})}function lR(t){var e=ls(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function cR(t){return wh($c(t)).left+lR(t).scrollLeft}function Ude(t,e){var n=ls(t),r=$c(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=V7();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+cR(t),y:l}}function Wde(t){var e,n=$c(t),r=lR(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Cu(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Cu(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+cR(t),l=-r.scrollTop;return Xa(i||n).direction==="rtl"&&(a+=Cu(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function uR(t){var e=Xa(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function q7(t){return["html","body","#document"].indexOf(hc(t))>=0?t.ownerDocument.body:Jo(t)&&uR(t)?t:q7(f2(t))}function Zm(t,e){var n;e===void 0&&(e=[]);var r=q7(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=ls(r),o=i?[s].concat(s.visualViewport||[],uR(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Zm(f2(o)))}function HI(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Gde(t,e){var n=wh(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function R5(t,e,n){return e===z7?HI(Ude(t,n)):Mu(e)?Gde(e,n):HI(Wde($c(t)))}function Hde(t){var e=Zm(f2(t)),n=["absolute","fixed"].indexOf(Xa(t).position)>=0,r=n&&Jo(t)?my(t):t;return Mu(r)?e.filter(function(i){return Mu(i)&&U7(i,r)&&hc(i)!=="body"}):[]}function qde(t,e,n,r){var i=e==="clippingParents"?Hde(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=R5(t,c,r);return l.top=Cu(u.top,l.top),l.right=db(u.right,l.right),l.bottom=db(u.bottom,l.bottom),l.left=Cu(u.left,l.left),l},R5(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function K7(t){var e=t.reference,n=t.element,r=t.placement,i=r?Yo(r):null,s=r?Sh(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case zi:l={x:o,y:e.y-n.height};break;case Ws:l={x:o,y:e.y+e.height};break;case Gs:l={x:e.x+e.width,y:a};break;case ji:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?aR(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case xh:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Og:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Rg(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?gde:a,c=n.rootBoundary,u=c===void 0?z7:c,d=n.elementContext,f=d===void 0?om:d,h=n.altBoundary,m=h===void 0?!1:h,y=n.padding,x=y===void 0?0:y,v=G7(typeof x!="number"?x:H7(x,py)),b=f===om?yde:om,w=t.rects.popper,k=t.elements[m?b:f],E=qde(Mu(k)?k:k.contextElement||$c(t.elements.popper),l,u,o),_=wh(t.elements.reference),I=K7({reference:_,element:w,strategy:"absolute",placement:i}),N=HI(Object.assign({},w,I)),D=f===om?N:_,P={top:E.top-D.top+v.top,bottom:D.bottom-E.bottom+v.bottom,left:E.left-D.left+v.left,right:D.right-E.right+v.right},F=t.modifiersData.offset;if(f===om&&F){var U=F[i];Object.keys(P).forEach(function(j){var W=[Gs,Ws].indexOf(j)>=0?1:-1,q=[zi,Ws].indexOf(j)>=0?"y":"x";P[j]+=U[q]*W})}return P}function Kde(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?j7:l,u=Sh(r),d=u?a?I5:I5.filter(function(m){return Sh(m)===u}):py,f=d.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=d);var h=f.reduce(function(m,y){return m[y]=Rg(t,{placement:y,boundary:i,rootBoundary:s,padding:o})[Yo(y)],m},{});return Object.keys(h).sort(function(m,y){return h[m]-h[y]})}function Xde(t){if(Yo(t)===iR)return[];var e=wx(t);return[O5(t),e,O5(e)]}function Qde(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,y=n.allowedAutoPlacements,x=e.options.placement,v=Yo(x),b=v===x,w=l||(b||!m?[wx(x)]:Xde(x)),k=[x].concat(w).reduce(function(de,fe){return de.concat(Yo(fe)===iR?Kde(e,{placement:fe,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:y}):fe)},[]),E=e.rects.reference,_=e.rects.popper,I=new Map,N=!0,D=k[0],P=0;P<k.length;P++){var F=k[P],U=Yo(F),j=Sh(F)===xh,W=[zi,Ws].indexOf(U)>=0,q=W?"width":"height",Q=Rg(e,{placement:F,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),ee=W?j?Gs:ji:j?Ws:zi;E[q]>_[q]&&(ee=wx(ee));var V=wx(ee),H=[];if(s&&H.push(Q[U]<=0),a&&H.push(Q[ee]<=0,Q[V]<=0),H.every(function(de){return de})){D=F,N=!1;break}I.set(F,H)}if(N)for(var Y=m?3:1,Z=function(fe){var ge=k.find(function(ke){var Ie=I.get(ke);if(Ie)return Ie.slice(0,fe).every(function($e){return $e})});if(ge)return D=ge,"break"},se=Y;se>0;se--){var ce=Z(se);if(ce==="break")break}e.placement!==D&&(e.modifiersData[r]._skip=!0,e.placement=D,e.reset=!0)}}const Yde={name:"flip",enabled:!0,phase:"main",fn:Qde,requiresIfExists:["offset"],data:{_skip:!1}};function A5(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function P5(t){return[zi,Gs,Ws,ji].some(function(e){return t[e]>=0})}function Jde(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Rg(e,{elementContext:"reference"}),a=Rg(e,{altBoundary:!0}),l=A5(o,r),c=A5(a,i,s),u=P5(l),d=P5(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const Zde={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Jde};function efe(t,e,n){var r=Yo(t),i=[ji,zi].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[ji,Gs].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function tfe(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=j7.reduce(function(u,d){return u[d]=efe(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const nfe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tfe};function rfe(t){var e=t.state,n=t.name;e.modifiersData[n]=K7({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const ife={name:"popperOffsets",enabled:!0,phase:"read",fn:rfe,data:{}};function sfe(t){return t==="x"?"y":"x"}function ofe(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,m=n.tetherOffset,y=m===void 0?0:m,x=Rg(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Yo(e.placement),b=Sh(e.placement),w=!b,k=aR(v),E=sfe(k),_=e.modifiersData.popperOffsets,I=e.rects.reference,N=e.rects.popper,D=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,P=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),F=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(_){if(s){var j,W=k==="y"?zi:ji,q=k==="y"?Ws:Gs,Q=k==="y"?"height":"width",ee=_[k],V=ee+x[W],H=ee-x[q],Y=h?-N[Q]/2:0,Z=b===xh?I[Q]:N[Q],se=b===xh?-N[Q]:-I[Q],ce=e.elements.arrow,de=h&&ce?oR(ce):{width:0,height:0},fe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:W7(),ge=fe[W],ke=fe[q],Ie=Jm(0,I[Q],de[Q]),$e=w?I[Q]/2-Y-Ie-ge-P.mainAxis:Z-Ie-ge-P.mainAxis,De=w?-I[Q]/2+Y+Ie+ke+P.mainAxis:se+Ie+ke+P.mainAxis,Oe=e.elements.arrow&&my(e.elements.arrow),Qe=Oe?k==="y"?Oe.clientTop||0:Oe.clientLeft||0:0,Xe=(j=F==null?void 0:F[k])!=null?j:0,et=ee+$e-Xe-Qe,He=ee+De-Xe,rt=Jm(h?db(V,et):V,ee,h?Cu(H,He):H);_[k]=rt,U[k]=rt-ee}if(a){var nt,bt=k==="x"?zi:ji,ln=k==="x"?Ws:Gs,lt=_[E],_n=E==="y"?"height":"width",cn=lt+x[bt],lr=lt-x[ln],ye=[zi,ji].indexOf(v)!==-1,Ae=(nt=F==null?void 0:F[E])!=null?nt:0,Pe=ye?cn:lt-I[_n]-N[_n]-Ae+P.altAxis,ct=ye?lt+I[_n]+N[_n]-Ae-P.altAxis:lr,Ct=h&&ye?Nde(Pe,lt,ct):Jm(h?Pe:cn,lt,h?ct:lr);_[E]=Ct,U[E]=Ct-lt}e.modifiersData[r]=U}}const afe={name:"preventOverflow",enabled:!0,phase:"main",fn:ofe,requiresIfExists:["offset"]};function lfe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function cfe(t){return t===ls(t)||!Jo(t)?lR(t):lfe(t)}function ufe(t){var e=t.getBoundingClientRect(),n=bh(e.width)/t.offsetWidth||1,r=bh(e.height)/t.offsetHeight||1;return n!==1||r!==1}function dfe(t,e,n){n===void 0&&(n=!1);var r=Jo(e),i=Jo(e)&&ufe(e),s=$c(e),o=wh(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((hc(e)!=="body"||uR(s))&&(a=cfe(e)),Jo(e)?(l=wh(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=cR(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function ffe(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function hfe(t){var e=ffe(t);return _de.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function pfe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function mfe(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var D5={placement:"bottom",modifiers:[],strategy:"absolute"};function F5(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function gfe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?D5:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},D5,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(v){var b=typeof v=="function"?v(u.options):v;y(),u.options=Object.assign({},s,u.options,b),u.scrollParents={reference:Mu(a)?Zm(a):a.contextElement?Zm(a.contextElement):[],popper:Zm(l)};var w=hfe(mfe([].concat(r,u.options.modifiers)));return u.orderedModifiers=w.filter(function(k){return k.enabled}),m(),h.update()},forceUpdate:function(){if(!f){var v=u.elements,b=v.reference,w=v.popper;if(F5(b,w)){u.rects={reference:dfe(b,my(w),u.options.strategy==="fixed"),popper:oR(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(P){return u.modifiersData[P.name]=Object.assign({},P.data)});for(var k=0;k<u.orderedModifiers.length;k++){if(u.reset===!0){u.reset=!1,k=-1;continue}var E=u.orderedModifiers[k],_=E.fn,I=E.options,N=I===void 0?{}:I,D=E.name;typeof _=="function"&&(u=_({state:u,options:N,name:D,instance:h})||u)}}}},update:pfe(function(){return new Promise(function(x){h.forceUpdate(),x(u)})}),destroy:function(){y(),f=!0}};if(!F5(a,l))return h;h.setOptions(c).then(function(x){!f&&c.onFirstUpdate&&c.onFirstUpdate(x)});function m(){u.orderedModifiers.forEach(function(x){var v=x.name,b=x.options,w=b===void 0?{}:b,k=x.effect;if(typeof k=="function"){var E=k({state:u,name:v,instance:h,options:w}),_=function(){};d.push(E||_)}})}function y(){d.forEach(function(x){return x()}),d=[]}return h}}const yfe=gfe({defaultModifiers:[Zde,ife,Mde,zde,nfe,Yde,afe,Pde]}),vfe=["enabled","placement","strategy","modifiers"];function xfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const bfe={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},wfe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},Sfe=[];function X7(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=Sfe}=n,a=xfe(n,vfe);const l=A.useRef(o),c=A.useRef(),u=A.useCallback(()=>{var x;(x=c.current)==null||x.update()},[]),d=A.useCallback(()=>{var x;(x=c.current)==null||x.forceUpdate()},[]),[f,h]=mde(A.useState({placement:i,update:u,forceUpdate:d,attributes:{},styles:{popper:{},arrow:{}}})),m=A.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const v={},b={};Object.keys(x.elements).forEach(w=>{v[w]=x.styles[w],b[w]=x.attributes[w]}),h({state:x,styles:v,attributes:b,update:u,forceUpdate:d,placement:x.placement})}}),[u,d,h]),y=A.useMemo(()=>(Ym(l.current,o)||(l.current=o),l.current),[o]);return A.useEffect(()=>{!c.current||!r||c.current.setOptions({placement:i,strategy:s,modifiers:[...y,m,bfe]})},[s,i,m,r,y]),A.useEffect(()=>{if(!(!r||t==null||e==null))return c.current=yfe(t,e,Object.assign({},a,{placement:i,strategy:s,modifiers:[...y,wfe,m]})),()=>{c.current!=null&&(c.current.destroy(),c.current=void 0,h(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),f}function Ag(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var kfe=function(){},Cfe=kfe;const Efe=nl(Cfe),L5=()=>{};function Tfe(t){return t.button===0}function _fe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Sx=t=>t&&("current"in t?t.current:t),M5={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Q7(t,e=L5,{disabled:n,clickTrigger:r="click"}={}){const i=A.useRef(!1),s=A.useRef(!1),o=A.useCallback(c=>{const u=Sx(t);Efe(!!u,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!u||_fe(c)||!Tfe(c)||!!Ag(u,c.target)||s.current,s.current=!1},[t]),a=Sn(c=>{const u=Sx(t);u&&Ag(u,c.target)&&(s.current=!0)}),l=Sn(c=>{i.current||e(c)});A.useEffect(()=>{var c,u;if(n||t==null)return;const d=Hh(Sx(t)),f=d.defaultView||window;let h=(c=f.event)!=null?c:(u=f.parent)==null?void 0:u.event,m=null;M5[r]&&(m=La(d,M5[r],a,!0));const y=La(d,r,o,!0),x=La(d,r,b=>{if(b===h){h=void 0;return}l(b)});let v=[];return"ontouchstart"in d.documentElement&&(v=[].slice.call(d.body.children).map(b=>La(b,"mousemove",L5))),()=>{m==null||m(),y(),x(),v.forEach(b=>b())}},[t,n,r,o,a,l])}function Ife(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function $fe(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function Y7({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:a,popperConfig:l={}}){var c,u,d,f,h;const m=Ife(l.modifiers);return Object.assign({},l,{placement:n,enabled:t,strategy:s?"fixed":l.strategy,modifiers:$fe(Object.assign({},m,{eventListeners:{enabled:e,options:(c=m.eventListeners)==null?void 0:c.options},preventOverflow:Object.assign({},m.preventOverflow,{options:o?Object.assign({padding:o},(u=m.preventOverflow)==null?void 0:u.options):(d=m.preventOverflow)==null?void 0:d.options}),offset:{options:Object.assign({offset:i},(f=m.offset)==null?void 0:f.options)},arrow:Object.assign({},m.arrow,{enabled:!!a,options:Object.assign({},(h=m.arrow)==null?void 0:h.options,{element:a})}),flip:Object.assign({enabled:!!r},m.flip)}))})}const Nfe=["children"];function Ofe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Rfe=()=>{};function J7(t={}){const e=A.useContext(d2),[n,r]=lb(),i=A.useRef(!1),{flip:s,offset:o,rootCloseEvent:a,fixed:l=!1,placement:c,popperConfig:u={},enableEventListeners:d=!0,usePopper:f=!!e}=t,h=(e==null?void 0:e.show)==null?!!t.show:e.show;h&&!i.current&&(i.current=!0);const m=_=>{e==null||e.toggle(!1,_)},{placement:y,setMenu:x,menuElement:v,toggleElement:b}=e||{},w=X7(b,v,Y7({placement:c||y||"bottom-start",enabled:f,enableEvents:d??h,offset:o,flip:s,fixed:l,arrowElement:n,popperConfig:u})),k=Object.assign({ref:x||Rfe,"aria-labelledby":b==null?void 0:b.id},w.attributes.popper,{style:w.styles.popper}),E={show:h,placement:y,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:f?w:null,arrowProps:f?Object.assign({ref:r},w.attributes.arrow,{style:w.styles.arrow}):{}};return Q7(v,m,{clickTrigger:a,disabled:!h}),[k,E]}const Afe={usePopper:!0};function dR(t){let{children:e}=t,n=Ofe(t,Nfe);const[r,i]=J7(n);return R.jsx(R.Fragment,{children:e(r,i)})}dR.displayName="DropdownMenu";dR.defaultProps=Afe;const fb={prefix:String(Math.round(Math.random()*1e10)),current:0},Z7=M.createContext(fb),Pfe=M.createContext(!1);let Dfe=!!(typeof window<"u"&&window.document&&window.document.createElement),pT=new WeakMap;function Ffe(t=!1){let e=A.useContext(Z7),n=A.useRef(null);if(n.current===null&&!t){var r,i;let s=(i=M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(s){let o=pT.get(s);o==null?pT.set(s,{id:e.current,state:s.memoizedState}):s.memoizedState!==o.state&&(e.current=o.id,pT.delete(s))}n.current=++e.current}return n.current}function Lfe(t){let e=A.useContext(Z7);e===fb&&!Dfe&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=Ffe(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function Mfe(t){let e=M.useId(),[n]=A.useState(Ufe()),r=n?"react-aria":`react-aria${fb.prefix}`;return t||`${r}-${e}`}const Bfe=typeof M.useId=="function"?Mfe:Lfe;function zfe(){return!1}function jfe(){return!0}function Vfe(t){return()=>{}}function Ufe(){return typeof M.useSyncExternalStore=="function"?M.useSyncExternalStore(Vfe,zfe,jfe):A.useContext(Pfe)}const eU=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},B5=()=>{};function tU(){const t=Bfe(),{show:e=!1,toggle:n=B5,setToggle:r,menuElement:i}=A.useContext(d2)||{},s=A.useCallback(a=>{n(!e,a)},[e,n]),o={id:t,ref:r||B5,onClick:s,"aria-expanded":!!e};return i&&eU(i)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function nU({children:t}){const[e,n]=tU();return R.jsx(R.Fragment,{children:t(e,n)})}nU.displayName="DropdownToggle";const kh=A.createContext(null),Ch=(t,e=null)=>t!=null?String(t):e||null,rU=A.createContext(null);rU.displayName="NavContext";const fR=rU,Wfe="data-rr-ui-",Gfe="rrUi";function Kh(t){return`${Wfe}${t}`}function Hfe(t){return`${Gfe}${t}`}const qfe=["eventKey","disabled","onClick","active","as"];function Kfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function iU({key:t,href:e,active:n,disabled:r,onClick:i}){const s=A.useContext(kh),o=A.useContext(fR),{activeKey:a}=o||{},l=Ch(t,e),c=n==null&&t!=null?Ch(a)===l:n;return[{onClick:Sn(d=>{r||(i==null||i(d),s&&!d.isPropagationStopped()&&s(l,d))}),"aria-disabled":r||void 0,"aria-selected":c,[Kh("dropdown-item")]:""},{isActive:c}]}const sU=A.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=tR}=t,a=Kfe(t,qfe);const[l]=iU({key:n,href:a.href,disabled:r,onClick:i,active:s});return R.jsx(o,Object.assign({},a,{ref:e},l))});sU.displayName="DropdownItem";const oU=A.createContext(qh?window:void 0);oU.Provider;function h2(){return A.useContext(oU)}function z5(){const t=B7(),e=A.useRef(null),n=A.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function gy({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${Kh("dropdown-item")}]`,focusFirstItemOnShow:s,placement:o="bottom-start",children:a}){const l=h2(),[c,u]=hde(e,t,r),[d,f]=z5(),h=d.current,[m,y]=z5(),x=m.current,v=R7(c),b=A.useRef(null),w=A.useRef(!1),k=A.useContext(kh),E=A.useCallback((F,U,j=U==null?void 0:U.type)=>{u(F,{originalEvent:U,source:j})},[u]),_=Sn((F,U)=>{n==null||n(F,U),E(!1,U,"select"),U.isPropagationStopped()||k==null||k(F,U)}),I=A.useMemo(()=>({toggle:E,placement:o,show:c,menuElement:h,toggleElement:x,setMenu:f,setToggle:y}),[E,o,c,h,x,f,y]);h&&v&&!c&&(w.current=h.contains(h.ownerDocument.activeElement));const N=Sn(()=>{x&&x.focus&&x.focus()}),D=Sn(()=>{const F=b.current;let U=s;if(U==null&&(U=d.current&&eU(d.current)?"keyboard":!1),U===!1||U==="keyboard"&&!/^key.+$/.test(F))return;const j=$a(d.current,i)[0];j&&j.focus&&j.focus()});A.useEffect(()=>{c?D():w.current&&(w.current=!1,N())},[c,w,N,D]),A.useEffect(()=>{b.current=null});const P=(F,U)=>{if(!d.current)return null;const j=$a(d.current,i);let W=j.indexOf(F)+U;return W=Math.max(0,Math.min(W,j.length)),j[W]};return Xue(A.useCallback(()=>l.document,[l]),"keydown",F=>{var U,j;const{key:W}=F,q=F.target,Q=(U=d.current)==null?void 0:U.contains(q),ee=(j=m.current)==null?void 0:j.contains(q);if(/input|textarea/i.test(q.tagName)&&(W===" "||W!=="Escape"&&Q||W==="Escape"&&q.type==="search")||!Q&&!ee||W==="Tab"&&(!d.current||!c))return;b.current=F.type;const H={originalEvent:F,source:F.type};switch(W){case"ArrowUp":{const Y=P(q,-1);Y&&Y.focus&&Y.focus(),F.preventDefault();return}case"ArrowDown":if(F.preventDefault(),!c)u(!0,H);else{const Y=P(q,1);Y&&Y.focus&&Y.focus()}return;case"Tab":JO(q.ownerDocument,"keyup",Y=>{var Z;(Y.key==="Tab"&&!Y.target||!((Z=d.current)!=null&&Z.contains(Y.target)))&&u(!1,H)},{once:!0});break;case"Escape":W==="Escape"&&(F.preventDefault(),F.stopPropagation()),u(!1,H);break}}),R.jsx(kh.Provider,{value:_,children:R.jsx(d2.Provider,{value:I,children:a})})}gy.displayName="Dropdown";gy.Menu=dR;gy.Toggle=nU;gy.Item=sU;const aU=A.createContext({});aU.displayName="DropdownContext";const lU=aU,cU=A.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...i},s)=>(e=at(e,"dropdown-divider"),R.jsx(n,{ref:s,className:Ze(t,e),role:r,...i})));cU.displayName="DropdownDivider";const Xfe=cU,uU=A.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...i},s)=>(e=at(e,"dropdown-header"),R.jsx(n,{ref:s,className:Ze(t,e),role:r,...i})));uU.displayName="DropdownHeader";const Qfe=uU,dU=A.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:s,as:o=P7,...a},l)=>{const c=at(t,"dropdown-item"),[u,d]=iU({key:n,href:a.href,disabled:r,onClick:i,active:s});return R.jsx(o,{...a,...u,ref:l,className:Ze(e,c,d.isActive&&"active",r&&"disabled")})});dU.displayName="DropdownItem";const Yfe=dU,fU=A.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=at(e,"dropdown-item-text"),R.jsx(n,{ref:i,className:Ze(t,e),...r})));fU.displayName="DropdownItemText";const Jfe=fU,hU=A.createContext(null);hU.displayName="InputGroupContext";const pU=hU,mU=A.createContext(null);mU.displayName="NavbarContext";const gU=mU;function yU(t,e){return t}function vU(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",s=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",a=n?"right-start":"left-start",l=n?"right-end":"left-end",c=n?"left-start":"right-start",u=n?"left-end":"right-end";let d=t?o:s;return e==="up"?d=t?i:r:e==="end"?d=t?u:c:e==="start"?d=t?l:a:e==="down-centered"?d="bottom":e==="up-centered"&&(d="top"),d}const xU=A.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i=!0,show:s,renderOnMount:o,as:a="div",popperConfig:l,variant:c,...u},d)=>{let f=!1;const h=A.useContext(gU),m=at(t,"dropdown-menu"),{align:y,drop:x,isRTL:v}=A.useContext(lU);n=n||y;const b=A.useContext(pU),w=[];if(n)if(typeof n=="object"){const F=Object.keys(n);if(F.length){const U=F[0],j=n[U];f=j==="start",w.push(`${m}-${U}-${j}`)}}else n==="end"&&(f=!0);const k=vU(f,x,v),[E,{hasShown:_,popper:I,show:N,toggle:D}]=J7({flip:i,rootCloseEvent:r,show:s,usePopper:!h&&w.length===0,offset:[0,2],popperConfig:l,placement:k});if(E.ref=Eo(yU(d),E.ref),cb(()=>{N&&(I==null||I.update())},[N]),!_&&!o&&!b)return null;typeof a!="string"&&(E.show=N,E.close=()=>D==null?void 0:D(!1),E.align=n);let P=u.style;return I!=null&&I.placement&&(P={...u.style,...E.style},u["x-placement"]=I.placement),R.jsx(a,{...u,...E,style:P,...(w.length||h)&&{"data-bs-popper":"static"},className:Ze(e,m,N&&"show",f&&`${m}-end`,c&&`${m}-${c}`,...w)})});xU.displayName="DropdownMenu";const Zfe=xU,bU=A.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=vh,...s},o)=>{const a=at(t,"dropdown-toggle"),l=A.useContext(d2);r!==void 0&&(s.bsPrefix=r);const[c]=tU();return c.ref=Eo(c.ref,yU(o)),R.jsx(i,{className:Ze(n,a,e&&`${a}-split`,(l==null?void 0:l.show)&&"show"),...c,...s})});bU.displayName="DropdownToggle";const ehe=bU,wU=A.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:i,className:s,align:o="start",onSelect:a,onToggle:l,focusFirstItemOnShow:c,as:u="div",navbar:d,autoClose:f=!0,...h}=YO(t,{show:"onToggle"}),m=A.useContext(pU),y=at(n,"dropdown"),x=u2(),v=I=>f===!1?I==="click":f==="inside"?I!=="rootClose":f==="outside"?I!=="select":!0,b=Sn((I,N)=>{var D,P;!((D=N.originalEvent)==null||(P=D.target)==null)&&P.classList.contains("dropdown-toggle")&&N.source==="mousedown"||(N.originalEvent.currentTarget===document&&(N.source!=="keydown"||N.originalEvent.key==="Escape")&&(N.source="rootClose"),v(N.source)&&(l==null||l(I,N)))}),k=vU(o==="end",r,x),E=A.useMemo(()=>({align:o,drop:r,isRTL:x}),[o,r,x]),_={down:y,"down-centered":`${y}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return R.jsx(lU.Provider,{value:E,children:R.jsx(gy,{placement:k,show:i,onSelect:a,onToggle:b,focusFirstItemOnShow:c,itemSelector:`.${y}-item:not(.disabled):not(:disabled)`,children:m?h.children:R.jsx(u,{...h,ref:e,className:Ze(s,i&&"show",_[r])})})})});wU.displayName="Dropdown";const O1=Object.assign(wU,{Toggle:ehe,Menu:Zfe,Item:Yfe,ItemText:Jfe,Divider:Xfe,Header:Qfe}),the={bsPrefix:he.string,fluid:he.bool,rounded:he.bool,roundedCircle:he.bool,thumbnail:he.bool},hR=A.forwardRef(({bsPrefix:t,className:e,fluid:n=!1,rounded:r=!1,roundedCircle:i=!1,thumbnail:s=!1,...o},a)=>(t=at(t,"img"),R.jsx("img",{ref:a,...o,className:Ze(e,n&&`${t}-fluid`,r&&"rounded",i&&"rounded-circle",s&&`${t}-thumbnail`)})));hR.displayName="Image";const pR=A.forwardRef(({className:t,fluid:e=!0,...n},r)=>R.jsx(hR,{ref:r,...n,fluid:e,className:Ze(t,"figure-img")}));pR.displayName="FigureImage";pR.propTypes=the;const nhe=pR,SU=A.forwardRef(({className:t,bsPrefix:e,as:n="figcaption",...r},i)=>(e=at(e,"figure-caption"),R.jsx(n,{ref:i,className:Ze(t,e),...r})));SU.displayName="FigureCaption";const rhe=SU,kU=A.forwardRef(({className:t,bsPrefix:e,as:n="figure",...r},i)=>(e=at(e,"figure"),R.jsx(n,{ref:i,className:Ze(t,e),...r})));kU.displayName="Figure";const Vi=Object.assign(kU,{Image:nhe,Caption:rhe}),ihe={type:he.string,tooltip:he.bool,as:he.elementType},mR=A.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>R.jsx(t,{...i,ref:s,className:Ze(e,`${n}-${r?"tooltip":"feedback"}`)}));mR.displayName="Feedback";mR.propTypes=ihe;const CU=mR,she=A.createContext({}),Qa=she,EU=A.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:c}=A.useContext(Qa);return e=at(e,"form-check-input"),R.jsx(o,{...a,ref:l,type:r,id:t||c,className:Ze(n,e,i&&"is-valid",s&&"is-invalid")})});EU.displayName="FormCheckInput";const TU=EU,_U=A.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=A.useContext(Qa);return t=at(t,"form-check-label"),R.jsx("label",{...r,ref:i,htmlFor:n||s,className:Ze(e,t)})});_U.displayName="FormCheckLabel";const qI=_U,IU=A.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:c,feedbackType:u,className:d,style:f,title:h="",type:m="checkbox",label:y,children:x,as:v="input",...b},w)=>{e=at(e,"form-check"),n=at(n,"form-switch");const{controlId:k}=A.useContext(Qa),E=A.useMemo(()=>({controlId:t||k}),[k,t]),_=!x&&y!=null&&y!==!1||ude(x,qI),I=R.jsx(TU,{...b,type:m==="switch"?"checkbox":m,ref:w,isValid:o,isInvalid:a,disabled:s,as:v});return R.jsx(Qa.Provider,{value:E,children:R.jsx("div",{style:f,className:Ze(d,_&&e,r&&`${e}-inline`,i&&`${e}-reverse`,m==="switch"&&n),children:x||R.jsxs(R.Fragment,{children:[I,_&&R.jsx(qI,{title:h,children:y}),c&&R.jsx(CU,{type:u,tooltip:l,children:c})]})})})});IU.displayName="FormCheck";const hb=Object.assign(IU,{Input:TU,Label:qI}),$U=A.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:c,as:u="input",...d},f)=>{const{controlId:h}=A.useContext(Qa);return t=at(t,"form-control"),R.jsx(u,{...d,type:e,size:r,ref:f,readOnly:c,id:i||h,className:Ze(s,l?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",a&&"is-invalid")})});$U.displayName="FormControl";const ohe=Object.assign($U,{Feedback:CU}),NU=A.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=at(e,"form-floating"),R.jsx(n,{ref:i,className:Ze(t,e),...r})));NU.displayName="FormFloating";const ahe=NU,OU=A.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=A.useMemo(()=>({controlId:t}),[t]);return R.jsx(Qa.Provider,{value:i,children:R.jsx(e,{...n,ref:r})})});OU.displayName="FormGroup";const RU=OU,AU=A.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=A.useContext(Qa);e=at(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const u=Ze(i,e,r&&"visually-hidden",n&&c);return s=s||l,n?R.jsx(On,{ref:a,as:"label",className:u,htmlFor:s,...o}):R.jsx(t,{ref:a,className:u,htmlFor:s,...o})});AU.displayName="FormLabel";const lhe=AU,PU=A.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=A.useContext(Qa);return t=at(t,"form-range"),R.jsx("input",{...r,type:"range",ref:i,className:Ze(e,t),id:n||s})});PU.displayName="FormRange";const che=PU,DU=A.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:c}=A.useContext(Qa);return t=at(t,"form-select"),R.jsx("select",{...a,size:n,ref:l,className:Ze(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||c})});DU.displayName="FormSelect";const uhe=DU,FU=A.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=at(t,"form-text"),R.jsx(n,{...i,ref:s,className:Ze(e,t,r&&"text-muted")})));FU.displayName="FormText";const dhe=FU,LU=A.forwardRef((t,e)=>R.jsx(hb,{...t,ref:e,type:"switch"}));LU.displayName="Switch";const fhe=Object.assign(LU,{Input:hb.Input,Label:hb.Label}),MU=A.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=at(t,"form-floating"),R.jsxs(RU,{ref:o,className:Ze(e,t),controlId:r,...s,children:[n,R.jsx("label",{htmlFor:r,children:i})]})));MU.displayName="FloatingLabel";const hhe=MU,phe={_ref:he.any,validated:he.bool,as:he.elementType},gR=A.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>R.jsx(n,{...r,ref:i,className:Ze(t,e&&"was-validated")}));gR.displayName="Form";gR.propTypes=phe;const cu=Object.assign(gR,{Group:RU,Control:ohe,Floating:ahe,Check:hb,Switch:fhe,Label:lhe,Text:dhe,Range:che,Select:uhe,FloatingLabel:hhe}),mhe=A.createContext(null),BU=mhe,ghe=["as","active","eventKey"];function yhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yR({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=A.useContext(kh),a=A.useContext(fR),l=A.useContext(BU);let c=n;const u={role:i};if(a){!i&&a.role==="tablist"&&(u.role="tab");const d=a.getControllerId(t??null),f=a.getControlledId(t??null);u[Kh("event-key")]=t,u.id=d||r,c=n==null&&t!=null?a.activeKey===t:n,(c||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(u["aria-controls"]=f)}return u.role==="tab"&&(u["aria-selected"]=c,c||(u.tabIndex=-1),s&&(u.tabIndex=-1,u["aria-disabled"]=!0)),u.onClick=Sn(d=>{s||(e==null||e(d),t!=null&&o&&!d.isPropagationStopped()&&o(t,d))}),[u,{isActive:c}]}const zU=A.forwardRef((t,e)=>{let{as:n=tR,active:r,eventKey:i}=t,s=yhe(t,ghe);const[o,a]=yR(Object.assign({key:Ch(i,s.href),active:r},s));return o[Kh("active")]=a.isActive,R.jsx(n,Object.assign({},s,o,{ref:e}))});zU.displayName="NavItem";const vhe=zU,xhe=["as","onSelect","activeKey","role","onKeyDown"];function bhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const j5=()=>{},V5=Kh("event-key"),jU=A.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,a=bhe(t,xhe);const l=B7(),c=A.useRef(!1),u=A.useContext(kh),d=A.useContext(BU);let f,h;d&&(s=s||"tablist",i=d.activeKey,f=d.getControlledId,h=d.getControllerId);const m=A.useRef(null),y=w=>{const k=m.current;if(!k)return null;const E=$a(k,`[${V5}]:not([aria-disabled=true])`),_=k.querySelector("[aria-selected=true]");if(!_||_!==document.activeElement)return null;const I=E.indexOf(_);if(I===-1)return null;let N=I+w;return N>=E.length&&(N=0),N<0&&(N=E.length-1),E[N]},x=(w,k)=>{w!=null&&(r==null||r(w,k),u==null||u(w,k))},v=w=>{if(o==null||o(w),!d)return;let k;switch(w.key){case"ArrowLeft":case"ArrowUp":k=y(-1);break;case"ArrowRight":case"ArrowDown":k=y(1);break;default:return}k&&(w.preventDefault(),x(k.dataset[Hfe("EventKey")]||null,w),c.current=!0,l())};A.useEffect(()=>{if(m.current&&c.current){const w=m.current.querySelector(`[${V5}][aria-selected=true]`);w==null||w.focus()}c.current=!1});const b=Eo(e,m);return R.jsx(kh.Provider,{value:x,children:R.jsx(fR.Provider,{value:{role:s,activeKey:Ch(i),getControlledId:f||j5,getControllerId:h||j5},children:R.jsx(n,Object.assign({},a,{onKeyDown:v,ref:b,role:s}))})})});jU.displayName="Nav";const VU=Object.assign(jU,{Item:vhe}),UU=A.forwardRef(({bsPrefix:t,active:e,disabled:n,eventKey:r,className:i,variant:s,action:o,as:a,...l},c)=>{t=at(t,"list-group-item");const[u,d]=yR({key:Ch(r,l.href),active:e,...l}),f=Sn(m=>{if(n){m.preventDefault(),m.stopPropagation();return}u.onClick(m)});n&&l.tabIndex===void 0&&(l.tabIndex=-1,l["aria-disabled"]=!0);const h=a||(o?l.href?"a":"button":"div");return R.jsx(h,{ref:c,...l,...u,onClick:f,className:Ze(i,t,d.isActive&&"active",n&&"disabled",s&&`${t}-${s}`,o&&`${t}-action`)})});UU.displayName="ListGroupItem";const whe=UU,WU=A.forwardRef((t,e)=>{const{className:n,bsPrefix:r,variant:i,horizontal:s,numbered:o,as:a="div",...l}=YO(t,{activeKey:"onSelect"}),c=at(r,"list-group");let u;return s&&(u=s===!0?"horizontal":`horizontal-${s}`),R.jsx(VU,{ref:e,...l,as:a,className:Ze(n,c,i&&`${c}-${i}`,u&&`${c}-${u}`,o&&`${c}-numbered`)})});WU.displayName="ListGroup";const mT=Object.assign(WU,{Item:whe});var R1;function U5(t){if((!R1&&R1!==0||t)&&qh){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),R1=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return R1}function gT(t){t===void 0&&(t=Hh());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function She(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const W5=Kh("modal-open");class khe{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return She(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(ku(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(W5,""),ku(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(W5),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const vR=khe,yT=(t,e)=>qh?t==null?(e||Hh()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function KI(t,e){const n=h2(),[r,i]=A.useState(()=>yT(t,n==null?void 0:n.document));if(!r){const s=yT(t);s&&i(s)}return A.useEffect(()=>{e&&r&&e(r)},[e,r]),A.useEffect(()=>{const s=yT(t);s!==r&&i(s)},[t,r]),r}function Che({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=A.useRef(null),o=A.useRef(e),a=Sn(n);A.useEffect(()=>{e?o.current=!0:a(s.current)},[e,a]);const l=Eo(s,t.ref),c=A.cloneElement(t,{ref:l});return e?c:i||!o.current&&r?null:c}const Ehe=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function The(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _he(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:o,addEndListener:a,children:l}=t,c=The(t,Ehe);const u=A.useRef(null),d=Eo(u,typeof l=="function"?null:l.ref),f=k=>E=>{k&&u.current&&k(u.current,E)},h=A.useCallback(f(e),[e]),m=A.useCallback(f(n),[n]),y=A.useCallback(f(r),[r]),x=A.useCallback(f(i),[i]),v=A.useCallback(f(s),[s]),b=A.useCallback(f(o),[o]),w=A.useCallback(f(a),[a]);return Object.assign({},c,{nodeRef:u},e&&{onEnter:h},n&&{onEntering:m},r&&{onEntered:y},i&&{onExit:x},s&&{onExiting:v},o&&{onExited:b},a&&{addEndListener:w},{children:typeof l=="function"?(k,E)=>l(k,Object.assign({},E,{ref:d})):A.cloneElement(l,{ref:d})})}const Ihe=["component"];function $he(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Nhe=A.forwardRef((t,e)=>{let{component:n}=t,r=$he(t,Ihe);const i=_he(r);return R.jsx(n,Object.assign({ref:e},i))}),Ohe=Nhe;function Rhe({in:t,onTransition:e}){const n=A.useRef(null),r=A.useRef(!0),i=Sn(e);return cb(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),cb(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function Ahe({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=A.useState(!e);e&&s&&o(!1);const a=Rhe({in:!!e,onTransition:c=>{const u=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(o(!0),n==null||n(c.element)))};Promise.resolve(i(c)).then(u,d=>{throw c.in||o(!0),d})}}),l=Eo(a,t.ref);return s&&!e?null:A.cloneElement(t,{ref:l})}function XI(t,e,n){return t?R.jsx(Ohe,Object.assign({},n,{component:t})):e?R.jsx(Ahe,Object.assign({},n,{transition:e})):R.jsx(Che,Object.assign({},n))}function GU(t){return t.code==="Escape"||t.keyCode===27}const Phe=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Dhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let vT;function Fhe(t){return vT||(vT=new vR({ownerDocument:t==null?void 0:t.document})),vT}function Lhe(t){const e=h2(),n=t||Fhe(e),r=A.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:A.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:A.useCallback(i=>{r.current.backdrop=i},[])})}const HU=A.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:u,transition:d,runTransition:f,backdropTransition:h,runBackdropTransition:m,autoFocus:y=!0,enforceFocus:x=!0,restoreFocus:v=!0,restoreFocusOptions:b,renderDialog:w,renderBackdrop:k=He=>R.jsx("div",Object.assign({},He)),manager:E,container:_,onShow:I,onHide:N=()=>{},onExit:D,onExited:P,onExiting:F,onEnter:U,onEntering:j,onEntered:W}=t,q=Dhe(t,Phe);const Q=h2(),ee=KI(_),V=Lhe(E),H=ZO(),Y=R7(n),[Z,se]=A.useState(!n),ce=A.useRef(null);A.useImperativeHandle(e,()=>V,[V]),qh&&!Y&&n&&(ce.current=gT(Q==null?void 0:Q.document)),n&&Z&&se(!1);const de=Sn(()=>{if(V.add(),De.current=La(document,"keydown",Ie),$e.current=La(document,"focus",()=>setTimeout(ge),!0),I&&I(),y){var He,rt;const nt=gT((He=(rt=V.dialog)==null?void 0:rt.ownerDocument)!=null?He:Q==null?void 0:Q.document);V.dialog&&nt&&!Ag(V.dialog,nt)&&(ce.current=nt,V.dialog.focus())}}),fe=Sn(()=>{if(V.remove(),De.current==null||De.current(),$e.current==null||$e.current(),v){var He;(He=ce.current)==null||He.focus==null||He.focus(b),ce.current=null}});A.useEffect(()=>{!n||!ee||de()},[n,ee,de]),A.useEffect(()=>{Z&&fe()},[Z,fe]),rR(()=>{fe()});const ge=Sn(()=>{if(!x||!H()||!V.isTopModal())return;const He=gT(Q==null?void 0:Q.document);V.dialog&&He&&!Ag(V.dialog,He)&&V.dialog.focus()}),ke=Sn(He=>{He.target===He.currentTarget&&(c==null||c(He),a===!0&&N())}),Ie=Sn(He=>{l&&GU(He)&&V.isTopModal()&&(u==null||u(He),He.defaultPrevented||N())}),$e=A.useRef(),De=A.useRef(),Oe=(...He)=>{se(!0),P==null||P(...He)};if(!ee)return null;const Qe=Object.assign({role:r,ref:V.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},q,{style:s,className:i,tabIndex:-1});let Xe=w?w(Qe):R.jsx("div",Object.assign({},Qe,{children:A.cloneElement(o,{role:"document"})}));Xe=XI(d,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:D,onExiting:F,onExited:Oe,onEnter:U,onEntering:j,onEntered:W,children:Xe});let et=null;return a&&(et=k({ref:V.setBackdropRef,onClick:ke}),et=XI(h,m,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:et})),R.jsx(R.Fragment,{children:gu.createPortal(R.jsxs(R.Fragment,{children:[et,Xe]}),ee)})});HU.displayName="Modal";const Mhe=Object.assign(HU,{Manager:vR});function QI(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Bhe(t,e){t.classList?t.classList.add(e):QI(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function G5(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function zhe(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=G5(t.className,e):t.setAttribute("class",G5(t.className&&t.className.baseVal||"",e))}const Ud={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class jhe extends vR{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,ku(n,{[e]:`${parseFloat(ku(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],ku(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(Bhe(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";$a(n,Ud.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),$a(n,Ud.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),$a(n,Ud.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();zhe(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";$a(n,Ud.FIXED_CONTENT).forEach(s=>this.restore(r,s)),$a(n,Ud.STICKY_CONTENT).forEach(s=>this.restore(i,s)),$a(n,Ud.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let xT;function Vhe(t){return xT||(xT=new jhe(t)),xT}const qU=A.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=at(e,"modal-body"),R.jsx(n,{ref:i,className:Ze(t,e),...r})));qU.displayName="ModalBody";const Uhe=qU,Whe=A.createContext({onHide(){}}),KU=Whe,XU=A.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:a,...l},c)=>{t=at(t,"modal");const u=`${t}-dialog`,d=typeof s=="string"?`${t}-fullscreen-${s}`:`${t}-fullscreen`;return R.jsx("div",{...l,ref:c,className:Ze(u,e,i&&`${t}-${i}`,r&&`${u}-centered`,a&&`${u}-scrollable`,s&&d),children:R.jsx("div",{className:Ze(`${t}-content`,n),children:o})})});XU.displayName="ModalDialog";const QU=XU,YU=A.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=at(e,"modal-footer"),R.jsx(n,{ref:i,className:Ze(t,e),...r})));YU.displayName="ModalFooter";const Ghe=YU,Hhe=A.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const a=A.useContext(KU),l=Sn(()=>{a==null||a.onHide(),r==null||r()});return R.jsxs("div",{ref:o,...s,children:[i,n&&R.jsx(ode,{"aria-label":t,variant:e,onClick:l})]})}),qhe=Hhe,JU=A.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=at(t,"modal-header"),R.jsx(qhe,{ref:s,...i,className:Ze(e,t),closeLabel:n,closeButton:r})));JU.displayName="ModalHeader";const Khe=JU,Xhe=Kue("h4"),ZU=A.forwardRef(({className:t,bsPrefix:e,as:n=Xhe,...r},i)=>(e=at(e,"modal-title"),R.jsx(n,{ref:i,className:Ze(t,e),...r})));ZU.displayName="ModalTitle";const Qhe=ZU;function Yhe(t){return R.jsx(ub,{...t,timeout:null})}function Jhe(t){return R.jsx(ub,{...t,timeout:null})}const eW=A.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o=QU,"data-bs-theme":a,"aria-labelledby":l,"aria-describedby":c,"aria-label":u,show:d=!1,animation:f=!0,backdrop:h=!0,keyboard:m=!0,onEscapeKeyDown:y,onShow:x,onHide:v,container:b,autoFocus:w=!0,enforceFocus:k=!0,restoreFocus:E=!0,restoreFocusOptions:_,onEntered:I,onExit:N,onExiting:D,onEnter:P,onEntering:F,onExited:U,backdropClassName:j,manager:W,...q},Q)=>{const[ee,V]=A.useState({}),[H,Y]=A.useState(!1),Z=A.useRef(!1),se=A.useRef(!1),ce=A.useRef(null),[de,fe]=lb(),ge=Eo(Q,fe),ke=Sn(v),Ie=u2();t=at(t,"modal");const $e=A.useMemo(()=>({onHide:ke}),[ke]);function De(){return W||Vhe({isRTL:Ie})}function Oe(Pe){if(!qh)return;const ct=De().getScrollbarWidth()>0,Ct=Pe.scrollHeight>Hh(Pe).documentElement.clientHeight;V({paddingRight:ct&&!Ct?U5():void 0,paddingLeft:!ct&&Ct?U5():void 0})}const Qe=Sn(()=>{de&&Oe(de.dialog)});rR(()=>{UI(window,"resize",Qe),ce.current==null||ce.current()});const Xe=()=>{Z.current=!0},et=Pe=>{Z.current&&de&&Pe.target===de.dialog&&(se.current=!0),Z.current=!1},He=()=>{Y(!0),ce.current=O7(de.dialog,()=>{Y(!1)})},rt=Pe=>{Pe.target===Pe.currentTarget&&He()},nt=Pe=>{if(h==="static"){rt(Pe);return}if(se.current||Pe.target!==Pe.currentTarget){se.current=!1;return}v==null||v()},bt=Pe=>{m?y==null||y(Pe):(Pe.preventDefault(),h==="static"&&He())},ln=(Pe,ct)=>{Pe&&Oe(Pe),P==null||P(Pe,ct)},lt=Pe=>{ce.current==null||ce.current(),N==null||N(Pe)},_n=(Pe,ct)=>{F==null||F(Pe,ct),JO(window,"resize",Qe)},cn=Pe=>{Pe&&(Pe.style.display=""),U==null||U(Pe),UI(window,"resize",Qe)},lr=A.useCallback(Pe=>R.jsx("div",{...Pe,className:Ze(`${t}-backdrop`,j,!f&&"show")}),[f,j,t]),ye={...n,...ee};ye.display="block";const Ae=Pe=>R.jsx("div",{role:"dialog",...Pe,style:ye,className:Ze(e,t,H&&`${t}-static`,!f&&"show"),onClick:h?nt:void 0,onMouseUp:et,"data-bs-theme":a,"aria-label":u,"aria-labelledby":l,"aria-describedby":c,children:R.jsx(o,{...q,onMouseDown:Xe,className:r,contentClassName:i,children:s})});return R.jsx(KU.Provider,{value:$e,children:R.jsx(Mhe,{show:d,ref:ge,backdrop:h,container:b,keyboard:!0,autoFocus:w,enforceFocus:k,restoreFocus:E,restoreFocusOptions:_,onEscapeKeyDown:bt,onShow:x,onHide:v,onEnter:ln,onEntering:_n,onEntered:I,onExit:lt,onExiting:D,onExited:cn,manager:De(),transition:f?Yhe:void 0,backdropTransition:f?Jhe:void 0,renderBackdrop:lr,renderDialog:Ae})})});eW.displayName="Modal";const Pf=Object.assign(eW,{Body:Uhe,Header:Khe,Title:Qhe,Footer:Ghe,Dialog:QU,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var H5={exports:{}},YI={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,a,l,c,u,d){var f=c||"<<anonymous>>",h=d||l;if(a[l]==null)return o?new Error("Required "+u+" `"+h+"` was not specified "+("in `"+f+"`.")):null;for(var m=arguments.length,y=Array(m>6?m-6:0),x=6;x<m;x++)y[x-6]=arguments[x];return r.apply(void 0,[a,l,f,u,h].concat(y))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(YI,YI.exports);var Zhe=YI.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=Zhe,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];function c(){for(var u=arguments.length,d=Array(u),f=0;f<u;f++)d[f]=arguments[f];var h=null;return a.forEach(function(m){if(h==null){var y=m.apply(void 0,d);y!=null&&(h=y)}}),h}return(0,r.default)(c)}t.exports=e.default})(H5,H5.exports);const tW=A.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=at(e,"nav-item"),R.jsx(n,{ref:i,className:Ze(t,e),...r})));tW.displayName="NavItem";const epe=tW,nW=A.forwardRef(({bsPrefix:t,className:e,as:n=P7,active:r,eventKey:i,disabled:s=!1,...o},a)=>{t=at(t,"nav-link");const[l,c]=yR({key:Ch(i,o.href),active:r,disabled:s,...o});return R.jsx(n,{...o,...l,ref:a,disabled:s,className:Ze(e,t,s&&"disabled",c.isActive&&"active")})});nW.displayName="NavLink";const tpe=nW,rW=A.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s=!1,justify:o=!1,navbar:a,navbarScroll:l,className:c,activeKey:u,...d}=YO(t,{activeKey:"onSelect"}),f=at(r,"nav");let h,m,y=!1;const x=A.useContext(gU),v=A.useContext(ade);return x?(h=x.bsPrefix,y=a??!0):v&&({cardHeaderBsPrefix:m}=v),R.jsx(VU,{as:n,ref:e,activeKey:u,className:Ze(c,{[f]:!y,[`${h}-nav`]:y,[`${h}-nav-scroll`]:y&&l,[`${m}-${i}`]:!!m,[`${f}-${i}`]:!!i,[`${f}-fill`]:s,[`${f}-justified`]:o}),...d})});rW.displayName="Nav";const q5=Object.assign(rW,{Item:epe,Link:tpe}),npe=()=>{};function rpe(t,e,{disabled:n,clickTrigger:r}={}){const i=e||npe;Q7(t,i,{disabled:n,clickTrigger:r});const s=Sn(o=>{GU(o)&&i(o)});A.useEffect(()=>{if(n||t==null)return;const o=Hh(Sx(t));let a=(o.defaultView||window).event;const l=La(o,"keyup",c=>{if(c===a){a=void 0;return}s(c)});return()=>{l()}},[t,n,s])}const iW=A.forwardRef((t,e)=>{const{flip:n,offset:r,placement:i,containerPadding:s,popperConfig:o={},transition:a,runTransition:l}=t,[c,u]=lb(),[d,f]=lb(),h=Eo(u,e),m=KI(t.container),y=KI(t.target),[x,v]=A.useState(!t.show),b=X7(y,c,Y7({placement:i,enableEvents:!!t.show,containerPadding:s||5,flip:n,offset:r,arrowElement:d,popperConfig:o}));t.show&&x&&v(!1);const w=(...F)=>{v(!0),t.onExited&&t.onExited(...F)},k=t.show||!x;if(rpe(c,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!k)return null;const{onExit:E,onExiting:_,onEnter:I,onEntering:N,onEntered:D}=t;let P=t.children(Object.assign({},b.attributes.popper,{style:b.styles.popper,ref:h}),{popper:b,placement:i,show:!!t.show,arrowProps:Object.assign({},b.attributes.arrow,{style:b.styles.arrow,ref:f})});return P=XI(a,l,{in:!!t.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:P,onExit:E,onExiting:_,onExited:w,onEnter:I,onEntering:N,onEntered:D}),m?gu.createPortal(P,m):null});iW.displayName="Overlay";const ipe=iW,sW=A.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=at(e,"popover-header"),R.jsx(n,{ref:i,className:Ze(t,e),...r})));sW.displayName="PopoverHeader";const spe=sW,oW=A.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=at(e,"popover-body"),R.jsx(n,{ref:i,className:Ze(t,e),...r})));oW.displayName="PopoverBody";const aW=oW;function lW(t,e){let n=t;return t==="left"?n=e?"end":"start":t==="right"&&(n=e?"start":"end"),n}function cW(t="absolute"){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const ope=A.forwardRef(({bsPrefix:t,placement:e="right",className:n,style:r,children:i,body:s,arrowProps:o,hasDoneInitialMeasure:a,popper:l,show:c,...u},d)=>{const f=at(t,"popover"),h=u2(),[m]=(e==null?void 0:e.split("-"))||[],y=lW(m,h);let x=r;return c&&!a&&(x={...r,...cW(l==null?void 0:l.strategy)}),R.jsxs("div",{ref:d,role:"tooltip",style:x,"x-placement":m,className:Ze(n,f,m&&`bs-popover-${y}`),...u,children:[R.jsx("div",{className:"popover-arrow",...o}),s?R.jsx(aW,{children:i}):i]})}),ape=Object.assign(ope,{Header:spe,Body:aW,POPPER_OFFSET:[0,8]}),uW=A.forwardRef(({bsPrefix:t,placement:e="right",className:n,style:r,children:i,arrowProps:s,hasDoneInitialMeasure:o,popper:a,show:l,...c},u)=>{t=at(t,"tooltip");const d=u2(),[f]=(e==null?void 0:e.split("-"))||[],h=lW(f,d);let m=r;return l&&!o&&(m={...r,...cW(a==null?void 0:a.strategy)}),R.jsxs("div",{ref:u,style:m,role:"tooltip","x-placement":f,className:Ze(n,t,`bs-tooltip-${h}`),...c,children:[R.jsx("div",{className:"tooltip-arrow",...s}),R.jsx("div",{className:`${t}-inner`,children:i})]})});uW.displayName="Tooltip";const JI=Object.assign(uW,{TOOLTIP_OFFSET:[0,6]});function lpe(t){const e=A.useRef(null),n=at(void 0,"popover"),r=at(void 0,"tooltip"),i=A.useMemo(()=>({name:"offset",options:{offset:()=>{if(t)return t;if(e.current){if(QI(e.current,n))return ape.POPPER_OFFSET;if(QI(e.current,r))return JI.TOOLTIP_OFFSET}return[0,0]}}}),[t,n,r]);return[e,[i]]}function cpe(t,e){const{ref:n}=t,{ref:r}=e;t.ref=n.__wrapped||(n.__wrapped=i=>n(ab(i))),e.ref=r.__wrapped||(r.__wrapped=i=>r(ab(i)))}const dW=A.forwardRef(({children:t,transition:e=ub,popperConfig:n={},rootClose:r=!1,placement:i="top",show:s=!1,...o},a)=>{const l=A.useRef({}),[c,u]=A.useState(null),[d,f]=lpe(o.offset),h=Eo(a,d),m=e===!0?ub:e||void 0,y=Sn(x=>{u(x),n==null||n.onFirstUpdate==null||n.onFirstUpdate(x)});return cb(()=>{c&&o.target&&(l.current.scheduleUpdate==null||l.current.scheduleUpdate())},[c,o.target]),A.useEffect(()=>{s||u(null)},[s]),R.jsx(ipe,{...o,ref:h,popperConfig:{...n,modifiers:f.concat(n.modifiers||[]),onFirstUpdate:y},transition:m,rootClose:r,placement:i,show:s,children:(x,{arrowProps:v,popper:b,show:w})=>{var k,E;cpe(x,v);const _=b==null?void 0:b.placement,I=Object.assign(l.current,{state:b==null?void 0:b.state,scheduleUpdate:b==null?void 0:b.update,placement:_,outOfBoundaries:(b==null||(k=b.state)==null||(E=k.modifiersData.hide)==null?void 0:E.isReferenceHidden)||!1,strategy:n.strategy}),N=!!c;return typeof t=="function"?t({...x,placement:_,show:w,...!e&&w&&{className:"show"},popper:I,arrowProps:v,hasDoneInitialMeasure:N}):A.cloneElement(t,{...x,placement:_,arrowProps:v,popper:I,hasDoneInitialMeasure:N,className:Ze(t.props.className,!e&&w&&"show"),style:{...t.props.style,...x.style}})}})});dW.displayName="Overlay";const fW=dW;function upe(t){return t&&typeof t=="object"?t:{show:t,hide:t}}function K5(t,e,n){const[r]=e,i=r.currentTarget,s=r.relatedTarget||r.nativeEvent[n];(!s||s!==i)&&!Ag(i,s)&&t(...e)}he.oneOf(["click","hover","focus"]);const dpe=({trigger:t=["hover","focus"],overlay:e,children:n,popperConfig:r={},show:i,defaultShow:s=!1,onToggle:o,delay:a,placement:l,flip:c=l&&l.indexOf("auto")!==-1,...u})=>{const d=A.useRef(null),f=Eo(d,n.ref),h=cde(),m=A.useRef(""),[y,x]=k7(i,s,o),v=upe(a),{onFocus:b,onBlur:w,onClick:k}=typeof n!="function"?A.Children.only(n).props:{},E=q=>{f(ab(q))},_=A.useCallback(()=>{if(h.clear(),m.current="show",!v.show){x(!0);return}h.set(()=>{m.current==="show"&&x(!0)},v.show)},[v.show,x,h]),I=A.useCallback(()=>{if(h.clear(),m.current="hide",!v.hide){x(!1);return}h.set(()=>{m.current==="hide"&&x(!1)},v.hide)},[v.hide,x,h]),N=A.useCallback((...q)=>{_(),b==null||b(...q)},[_,b]),D=A.useCallback((...q)=>{I(),w==null||w(...q)},[I,w]),P=A.useCallback((...q)=>{x(!y),k==null||k(...q)},[k,x,y]),F=A.useCallback((...q)=>{K5(_,q,"fromElement")},[_]),U=A.useCallback((...q)=>{K5(I,q,"toElement")},[I]),j=t==null?[]:[].concat(t),W={ref:E};return j.indexOf("click")!==-1&&(W.onClick=P),j.indexOf("focus")!==-1&&(W.onFocus=N,W.onBlur=D),j.indexOf("hover")!==-1&&(W.onMouseOver=F,W.onMouseOut=U),R.jsxs(R.Fragment,{children:[typeof n=="function"?n(W):A.cloneElement(n,W),R.jsx(fW,{...u,show:y,onHide:I,flip:c,placement:l,popperConfig:r,target:d.current,children:e})]})},X5=dpe,hW=A.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=at(t,"row"),o=C7(),a=E7(),l=`${s}-cols`,c=[];return o.forEach(u=>{const d=r[u];delete r[u];let f;d!=null&&typeof d=="object"?{cols:f}=d:f=d;const h=u!==a?`-${u}`:"";f!=null&&c.push(`${l}${h}-${f}`)}),R.jsx(n,{ref:i,...r,className:Ze(e,s,...c)})});hW.displayName="Row";const cs=hW,pW=A.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:i="div",className:s,...o},a)=>{t=at(t,"spinner");const l=`${t}-${n}`;return R.jsx(i,{ref:a,...o,className:Ze(s,l,r&&`${l}-${r}`,e&&`text-${e}`)})});pW.displayName="Spinner";const fpe=pW,hpe="_darkTheme_81vc6_5",ppe="_lightTheme_81vc6_15",mpe="_greyTheme_81vc6_25",gpe="_whiteTheme_81vc6_35",ype="_contrastTheme_81vc6_45",vpe="_transparentTheme_81vc6_55",xpe="_transparentDarkColorTheme_81vc6_65",bpe="_blackColor_81vc6_75",ja={"font-theme":"_font-theme_81vc6_1","setting-bar":"_setting-bar_81vc6_1","setting-sidbar":"_setting-sidbar_81vc6_1","navbar-parts":"_navbar-parts_81vc6_1",darkTheme:hpe,lightTheme:ppe,greyTheme:mpe,whiteTheme:gpe,contrastTheme:ype,transparentTheme:vpe,transparentDarkColorTheme:xpe,blackColor:bpe,"navbar-buttongroup-tools":"_navbar-buttongroup-tools_81vc6_83"},wpe="_absoluteCenter_1cszp_1",Spe="_fromStartCenter_1cszp_15",kpe="_fromStartBottom_1cszp_43",Cpe="_fromTopCenter_1cszp_57",Epe="_fromBottomCenter_1cszp_69",Tpe="_wrapTrue_1cszp_117",_pe="_wrapFalse_1cszp_125",Rn={absoluteCenter:wpe,fromStartCenter:Spe,"fromStartCenter-footer":"_fromStartCenter-footer_1cszp_29",fromStartBottom:kpe,fromTopCenter:Cpe,fromBottomCenter:Epe,"text-center-middle":"_text-center-middle_1cszp_83","text-center":"_text-center_1cszp_83","text-left":"_text-left_1cszp_101","text-right":"_text-right_1cszp_109",wrapTrue:Tpe,wrapFalse:_pe,"navbar-buttongroup-spacing-10":"_navbar-buttongroup-spacing-10_1cszp_133"},Ipe="_height5_s300e_1",$pe="_height10_s300e_9",Npe="_height50_s300e_17",Ope="_height80_s300e_25",Rpe="_height90_s300e_33",Ape="_height100_s300e_41",Ppe="_width2_5_s300e_49",Dpe="_width5_s300e_65",Fpe="_width10_s300e_73",Lpe="_width25_s300e_81",Mpe="_width50_s300e_89",Bpe="_width80_s300e_97",zpe="_width100_s300e_105",jpe="_widthLogo_s300e_113",Vn={height5:Ipe,height10:$pe,height50:Npe,height80:Ope,height90:Rpe,height100:Ape,width2_5:Ppe,"width-fit":"_width-fit_s300e_57",width5:Dpe,width10:Fpe,width25:Lpe,width50:Mpe,width80:Bpe,width100:zpe,widthLogo:jpe,"mx-h-30vh":"_mx-h-30vh_s300e_121","mx-h-40vh":"_mx-h-40vh_s300e_129","min-h-35vh":"_min-h-35vh_s300e_137"},Vpe="_relative_1gds6_1",Upe="_absolute_1gds6_9",Wpe="_navbar_1gds6_17",Gpe="_top0_1gds6_181",Hpe="_left0_1gds6_189",qpe="_bottom0_1gds6_197",Kpe="_right0_1gds6_205",Xpe="_verticalCenter_1gds6_213",Qpe="_horizontalCenter_1gds6_223",Ype="_zIndex0_1gds6_233",Jpe="_zIndex1_1gds6_241",Zpe="_zIndex2_1gds6_249",eme="_zIndex3_1gds6_257",tr={relative:Vpe,absolute:Upe,navbar:Wpe,"foot-nav-item-close":"_foot-nav-item-close_1gds6_29","custom-offcanvas":"_custom-offcanvas_1gds6_47","toolbar-section-container":"_toolbar-section-container_1gds6_69","toolbar-section-container-button":"_toolbar-section-container-button_1gds6_81","toolbar-section-dropdown-toggle":"_toolbar-section-dropdown-toggle_1gds6_91","toolbar-section-dropdown-menu":"_toolbar-section-dropdown-menu_1gds6_115","toolbar-section-section-text":"_toolbar-section-section-text_1gds6_125","toolbar-section-stack":"_toolbar-section-stack_1gds6_137","toolbar-section-stack-h6":"_toolbar-section-stack-h6_1gds6_151","toolbar-section-h6":"_toolbar-section-h6_1gds6_161","toolbar-upload-photo-dropzone":"_toolbar-upload-photo-dropzone_1gds6_173",top0:Gpe,left0:Hpe,bottom0:qpe,right0:Kpe,verticalCenter:Xpe,horizontalCenter:Qpe,zIndex0:Ype,zIndex1:Jpe,zIndex2:Zpe,zIndex3:eme},tme="_auto_rfxl9_1",nme="_hide_rfxl9_25",rme={auto:tme,"auto-y":"_auto-y_rfxl9_9","auto-x":"_auto-x_rfxl9_17",hide:nme},xR={"font-theme":"_font-theme_1wzvn_19","setting-bar":"_setting-bar_1wzvn_27","setting-sidbar":"_setting-sidbar_1wzvn_41","navbar-parts":"_navbar-parts_1wzvn_51"};var bR=(t=>(t.BackHistory="back-history",t.ForwardHistory="forward-history",t.HorizonalCenter="horizontal-center",t.VerticalCenter="vertical-center",t.LayerUp="layer-up",t.LayerDown="layer-down",t.Text="text",t))(bR||{});const ime=({historyIndex:t=0,onClick:e})=>{M.useState({"":null});const n=Object.values(bR).map(o=>({itemType:o,reference:M.createRef()})),r=[{itemType:"back-history",font:"arrow-90deg-left",svg:R.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:R.jsx("path",{opacity:"0.3",d:"M0.700393 4.01809H0.517214C0.230591 4.01809 0 3.79421 0 3.51593V0.837739C0 0.634782 0.124993 0.450656 0.318948 0.37324C0.512903 0.295823 0.734874 0.33767 0.883573 0.482041L1.78008 1.35245C3.66791 -0.457418 6.70869 -0.451141 8.58574 1.37338C10.4714 3.20417 10.4714 6.17111 8.58574 8.0019C6.70007 9.8327 3.6442 9.8327 1.75853 8.0019C1.48914 7.74036 1.48914 7.31562 1.75853 7.05407C2.02791 6.79253 2.46538 6.79253 2.73477 7.05407C4.08168 8.36179 6.26475 8.36179 7.61166 7.05407C8.95857 5.74636 8.95857 3.62683 7.61166 2.31911C6.27121 1.01768 4.10538 1.0114 2.75632 2.29819L3.64205 3.16023C3.79074 3.3046 3.83385 3.52012 3.75411 3.70843C3.67437 3.89674 3.48473 4.01809 3.27569 4.01809H0.700393Z",fill:"white"})})},{itemType:"forward-history",font:"arrow-90deg-right",svg:R.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:R.jsx("path",{d:"M9.29961 4.01809H9.48279C9.76941 4.01809 10 3.79421 10 3.51593V0.837739C10 0.634782 9.87501 0.450656 9.68105 0.37324C9.4871 0.295823 9.26513 0.33767 9.11643 0.482041L8.21992 1.35245C6.33209 -0.457418 3.29131 -0.451141 1.41426 1.37338C-0.471419 3.20417 -0.471419 6.17111 1.41426 8.0019C3.29993 9.8327 6.3558 9.8327 8.24147 8.0019C8.51086 7.74036 8.51086 7.31562 8.24147 7.05407C7.97209 6.79253 7.53462 6.79253 7.26523 7.05407C5.91832 8.36179 3.73525 8.36179 2.38834 7.05407C1.04143 5.74636 1.04143 3.62683 2.38834 2.31911C3.72879 1.01768 5.89462 1.0114 7.24368 2.29819L6.35795 3.16023C6.20926 3.3046 6.16615 3.52012 6.24589 3.70843C6.32563 3.89674 6.51527 4.01809 6.72431 4.01809H9.29961Z",fill:"#6C6C6C"})})},{itemType:"vertical-center",font:"align-middle",svg:R.jsxs("svg",{width:"11",height:"12",viewBox:"0 0 8 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[R.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 0.5C4.27614 0.5 4.5 0.723858 4.5 1V10C4.5 10.2761 4.27614 10.5 4 10.5C3.72386 10.5 3.5 10.2761 3.5 10V1C3.5 0.723858 3.72386 0.5 4 0.5Z",fill:"white"}),R.jsx("path",{d:"M0 3.875C0 3.39175 0.391751 3 0.875 3H7.125C7.60825 3 8 3.39175 8 3.875C8 4.35825 7.60825 4.75 7.125 4.75H0.875C0.391751 4.75 0 4.35825 0 3.875Z",fill:"white"}),R.jsx("path",{d:"M1 6.875C1 6.39175 1.39175 6 1.875 6H6.125C6.60825 6 7 6.39175 7 6.875C7 7.35825 6.60825 7.75 6.125 7.75H1.875C1.39175 7.75 1 7.35825 1 6.875Z",fill:"white"})]})},{itemType:"horizontal-center",font:"align-center",svg:R.jsxs("svg",{width:"12",height:"11",viewBox:"0 0 10 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[R.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 4.5C-1.20706e-08 4.22386 0.223858 4 0.5 4L9.5 4C9.77614 4 10 4.22386 10 4.5C10 4.77614 9.77614 5 9.5 5L0.5 5C0.223858 5 1.20706e-08 4.77614 0 4.5Z",fill:"white"}),R.jsx("path",{d:"M3.375 8.5C2.89175 8.5 2.5 8.10825 2.5 7.625L2.5 1.375C2.5 0.891751 2.89175 0.5 3.375 0.5C3.85825 0.5 4.25 0.891751 4.25 1.375V7.625C4.25 8.10825 3.85825 8.5 3.375 8.5Z",fill:"white"}),R.jsx("path",{d:"M6.375 7.5C5.89175 7.5 5.5 7.10825 5.5 6.625V2.375C5.5 1.89175 5.89175 1.5 6.375 1.5C6.85825 1.5 7.25 1.89175 7.25 2.375V6.625C7.25 7.10825 6.85825 7.5 6.375 7.5Z",fill:"white"})]})},{itemType:"layer-up",font:"layer-forward",svg:R.jsx("svg",{width:"15",height:"14",viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:R.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5343 13.3321C10.2019 13.5511 9.77134 13.5521 9.43795 13.3347L1.27795 8.01295C0.674636 7.61948 0.672603 6.73649 1.2741 6.34025L9.63225 0.834285C9.96464 0.615322 10.3952 0.61433 10.7286 0.831761L18.8886 6.15348C19.4919 6.54695 19.494 7.42994 18.8925 7.82618L17.9946 8.41768L18.8881 9.00044C19.4915 9.39391 19.4935 10.2769 18.892 10.6731L10.5338 16.1791C10.2015 16.3981 9.77085 16.3991 9.43746 16.1816L2.90038 11.9183L1.82373 12.6276L9.98373 17.9493L18.3419 12.4433L17.2681 11.7431L18.1788 11.1431L18.8881 11.6057C19.4915 11.9992 19.4935 12.8822 18.892 13.2784L10.5338 18.7844C10.2015 19.0033 9.77085 19.0043 9.43746 18.7869L1.27746 13.4652C0.674148 13.0717 0.672115 12.1887 1.27361 11.7925L1.98692 11.3226L1.27746 10.8599C0.674148 10.4664 0.672115 9.58345 1.27361 9.18721L2.17113 8.59596L3.08459 9.1917L1.82373 10.0223L9.98373 15.344L18.3419 9.83805L17.0839 9.01761L10.5343 13.3321ZM9.59211 2.98938C9.84027 2.82853 10.1598 2.82853 10.408 2.98938L13.408 4.93382C13.7555 5.15911 13.8547 5.62352 13.6294 5.97111C13.4041 6.3187 12.9397 6.41784 12.5921 6.19255L10.75 4.99861V10.6187C10.75 11.033 10.4142 11.3687 10 11.3687C9.58582 11.3687 9.25003 11.033 9.25003 10.6187V4.99861L7.40795 6.19255C7.06036 6.41784 6.59596 6.3187 6.37067 5.97111C6.14538 5.62352 6.24452 5.15911 6.59211 4.93382L9.59211 2.98938Z",fill:"#DDDDDD"})})},{itemType:"layer-down",font:"layer-backward",svg:R.jsxs("svg",{width:"15",height:"14",viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[R.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.3679 13.3321C10.0355 13.5511 9.6049 13.5521 9.2715 13.3347L1.11151 8.01295C0.508189 7.61948 0.506157 6.73649 1.10765 6.34025L9.4658 0.834285C9.79819 0.615322 10.2288 0.61433 10.5622 0.831761L18.7222 6.15348C19.3255 6.54695 19.3275 7.42994 18.726 7.82618L17.8283 8.41754L18.7221 9.00044C19.3254 9.39391 19.3275 10.2769 18.726 10.6731L10.3678 16.1791L18.0128 11.1431L18.7221 11.6057C19.3254 11.9992 19.3275 12.8822 18.726 13.2784L10.3678 18.7844C10.0354 19.0034 9.60484 19.0043 9.27144 18.7869L1.11145 13.4652C0.508132 13.0717 0.506099 12.1887 1.1076 11.7925L1.82091 11.3226L1.11145 10.8599C0.508132 10.4664 0.506099 9.58345 1.1076 9.18721L2.00516 8.59594L2.91862 9.19167L1.65771 10.0223L9.81771 15.344L18.1759 9.83805L16.9176 9.01747L10.3679 13.3321ZM9.81777 12.4971L1.65777 7.17534L10.0159 1.66937L18.1759 6.99109L9.81777 12.4971Z",fill:"white"}),R.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.4081 11.2481C10.1599 11.4089 9.84041 11.4089 9.59225 11.2481L6.59225 9.30365C6.24466 9.07836 6.14552 8.61395 6.37081 8.26636C6.5961 7.91878 7.0605 7.81963 7.40809 8.04492L9.25017 9.23886V3.61873C9.25017 3.20452 9.58596 2.86873 10.0002 2.86873C10.4144 2.86873 10.7502 3.20452 10.7502 3.61873V9.23886L12.5922 8.04492C12.9398 7.81963 13.4042 7.91878 13.6295 8.26637C13.8548 8.61395 13.7557 9.07836 13.4081 9.30365L10.4081 11.2481Z",fill:"white"})]})}],i=o=>n.find(a=>a.itemType===o).reference,s=()=>{const o=[];for(let a=0;a<r.length;a+=2)o.push(R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:["flex-1","d-flex","flex-row","justify-content-center","py-1","default-menu"].join(" "),style:{margin:"1rem 0"},children:[R.jsx("div",{ref:i(r[a].itemType),className:"mx-1",style:{width:"12px"},children:r[a].svg}),R.jsx("div",{ref:i(r[a].itemType),className:"mx-1",style:{width:"12px"},children:r[a+1].svg})]}),R.jsx("hr",{style:{margin:"0"}})]}));return o};return R.jsx("div",{className:["d-flex","flex-column","justify-content-center"].join(" "),style:{cursor:"pointer"},children:s()})},sme=[{id:"emojis",name:"Emojis"},{id:"shapes",name:"Shapes & Symbols"},{id:"sports",name:"Sports & Games"},{id:"letters",name:"Letters & Numbers"}],ome=()=>{const t=e=>{};return R.jsxs("div",{className:"d-flex flex-column justify-content-center w-100",style:{padding:".5rem"},children:[R.jsxs("div",{className:"d-flex flex-row justify-content-center align-items-center clipart-form",children:[R.jsx("label",{children:R.jsx("i",{className:"bi bi-search"})}),R.jsx("input",{className:"clipart-input",placeholder:"Browse Clipart"})]}),R.jsx("div",{className:"row",style:{padding:"0.4rem"},children:sme.map((e,n)=>R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"col items-align-center justify-content-center d-flex m-1",style:{height:"4.5rem",fontSize:".8rem",border:"1px solid #ccc",borderRadius:".2rem",cursor:"pointer"},onClick:()=>t(e.id),children:R.jsx("span",{className:"m-auto",children:e.name})},n),n%2===1&&R.jsx("div",{className:"w-100"})]}))})]})},Bu={SETTING_BAR_EVENT:"SETTING_BAR_EVENT",CLIPART_BAR_OPEN_EVENT:"CLIPART_BAR_OPEN_EVENT",PRODUCT_PREVIEW_LOADED_EVENT:"PRODUCT_PREVIEW_LOADED_EVENT",PRODUCT_SELECT_MENU_MOUNTED_EVENT:"PRODUCT_SELECT_MENU_MOUNTED_EVENT"},yy=()=>({on:(r,i)=>{document.addEventListener(r,s=>i(s.detail))},emit:(r,i)=>{document.dispatchEvent(new CustomEvent(r,{detail:i}))},remove:(r,i)=>{document.removeEventListener(r,i)}}),wR=t=>{const{on:e,emit:n,remove:r}=yy(),i=M.useRef(null);return M.useLayoutEffect(()=>{const o=i.current;if(!o)return;const a=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const{x:c,y:u,width:d,height:f}=l[0].contentRect;n(t,{x:c,y:u,width:d,height:f})});return a.observe(o),()=>{a.disconnect(),r(t)}},[]),{ref:i,onEvent:o=>{e(t,o)}}},ame="_roundSM_1kqs3_5",lme="_roundMD_1kqs3_13",cme="_roundLG_1kqs3_21",ume="_noround_1kqs3_29",dme="_roundTopLeftSM_1kqs3_37",fme="_roundBottomLeftSM_1kqs3_53",hme="_roundTopSM_1kqs3_67",pme="_roundBottomRightSM_1kqs3_85",mme="_roundTopLeftAndBottomLeftSM_1kqs3_101",gme="_roundLeftSM_1kqs3_111",yme="_roundRightSM_1kqs3_119",vme="_roundBottomSM_1kqs3_127",xme="_outroundTopSM_1kqs3_137",bme="_outroundLeftSM_1kqs3_173",wme="_outroundRightSM_1kqs3_181",Sme="_outroundBottomSM_1kqs3_189",kme="_top_1kqs3_283",Cme="_left_1kqs3_291",Eme="_right_1kqs3_299",Tme="_bottom_1kqs3_307",_me="_all_1kqs3_315",Ime="_none_1kqs3_331",$me="_hilightOnFocus_1kqs3_349",Nme="_colorDark_1kqs3_365",Ome="_colorWhite_1kqs3_373",Rme="_colorGrey_1kqs3_381",Ame="_colorContrast_1kqs3_389",Zo={"font-theme":"_font-theme_1kqs3_1","setting-bar":"_setting-bar_1kqs3_1","setting-sidbar":"_setting-sidbar_1kqs3_1","navbar-parts":"_navbar-parts_1kqs3_1",roundSM:ame,roundMD:lme,roundLG:cme,noround:ume,roundTopLeftSM:dme,roundBottomLeftSM:fme,roundTopSM:hme,roundBottomRightSM:pme,"roundBottomRightSM-5":"_roundBottomRightSM-5_1kqs3_93",roundTopLeftAndBottomLeftSM:mme,roundLeftSM:gme,roundRightSM:yme,roundBottomSM:vme,outroundTopSM:xme,outroundLeftSM:bme,outroundRightSM:wme,outroundBottomSM:Sme,top:kme,left:Cme,right:Eme,bottom:Tme,all:_me,"all-black":"_all-black_1kqs3_323",none:Ime,hilightOnFocus:$me,colorDark:Nme,colorWhite:Ome,colorGrey:Rme,colorContrast:Ame};var Pg=(t=>(t.Default="default",t.Clipart="clipart",t))(Pg||{});const Pme=A.forwardRef(({activeMenu:t,onDefaultMenuClick:e},n)=>{M.useState({});const r=wR(Bu.SETTING_BAR_EVENT),[i,s]=M.useState(null);yy().on(Bu.CLIPART_BAR_OPEN_EVENT,c=>{});const a=(c,u)=>{switch(u){case"clipart":return{id:"clipart",title:"Clipart",classes:[],style:{width:"19rem",textAlign:"center",top:`${Math.max(0,c.y)}px`,left:`${c.x+c.width}px`,maxHeight:`calc(100vh - ${Math.max(0,c.y)}px)`,color:"#E3E6E8",position:"fixed",zIndex:1},component:R.jsx(ome,{})};default:case"default":return{id:"default",title:"Default",classes:[Zo["roundBottomRightSM-5"]],style:{width:"69px",textAlign:"center",top:`${Math.max(0,c.y)}px`,left:`${c.x+c.width}px`,maxHeight:`calc(100vh - ${Math.max(0,c.y)}px)`,color:"#E3E6E8",position:"fixed",zIndex:1},component:R.jsx(ime,{onClick:e})}}};return r.onEvent(c=>{s(c)}),i&&t?R.jsx("div",{ref:n,className:["overflow-hidden overflow-y-auto",xR["setting-sidbar"]].concat(a(i,t).classes).join(" "),style:a(i,t).style,children:a(i,t).component}):R.jsx(R.Fragment,{})}),Dme=({header:t,navBar:e,settingBar:n,children:r,footer:i,subMenu:s,settingBarKey:o})=>{M.useState(!0),M.useState(Pg.Default);const a=wR(Bu.SETTING_BAR_EVENT),[l,c]=M.useState({backgroundColor:"#E3E6E8"}),{on:u}=yy();return u(Bu.PRODUCT_PREVIEW_LOADED_EVENT,d=>{c({backgroundColor:`#${d.color}`})}),R.jsxs("div",{className:[Vn.height100,Vn.width100,rme.hide].join(" "),children:[t&&R.jsx(cs,{xs:12,className:[Vn.height5,tr.relative,tr.zIndex1].join(" "),children:t}),R.jsx(cs,{xs:12,className:[Vn.height100,tr.relative,tr.zIndex1].join(" "),children:R.jsxs("div",{className:"d-flex",children:[R.jsx("div",{ref:a.ref,className:[Vn.height100,Rn.fromTopCenter,xR["setting-bar"],"px-1","flex-1"].join(" "),style:{width:"200px"},children:n}),s(),R.jsx("div",{className:["flex-1",Vn.width100,Vn.height100,tr.relative].join(" "),style:l,children:r}),R.jsx("div",{className:["flex-1","justify-content-end",Vn.height100,tr.absolute,tr.top0,tr.right0,tr.zIndex1,"me-2"].join(" "),style:l,children:e})]})}),i]})},Fme=[{id:"image",name:"Image"},{id:"font",name:"Font"}],Lme=[{type:"Youtube Video Thumbnail",id:"youtubeVideoThumbnail",width:1280,height:760},{type:"Youtube Channel Icon",id:"youtubeChannelIcon",width:800,height:800},{type:"Youtube Channel Cover",id:"youtubeChannelIcon",width:2560,height:1440},{type:"Instagram Square Photo",id:"instagramSquarePhoto",width:1080,height:1080},{type:"Instagram Profile",id:"instagramProfile",width:110,height:110},{type:"Instagram Story",id:"instagramStory",width:1080,height:1920},{type:"A4",id:"A4",width:2480,height:3508},{type:"sample_100X100",id:"sample_100X100",width:100,height:100},{type:"sample_512X512",id:"sample_512X512",width:512,height:512},{type:"Facebook Profile",id:"facebookProfile",width:180,height:180},{type:"Facebook Cover Photo",id:"facebookCoverPhoto",width:820,height:312},{type:"Twitter Profile",id:"twitterProfile",width:400,height:400},{type:"Twitter Header",id:"twitterHeader",width:1500,height:500},{type:"Twitter Post",id:"twitterPost",width:900,height:450},{type:"LinkedIn Profile",id:"linkedInProfil",width:400,height:400},{type:"LinkedIn Cover",id:"linkedInCover",width:1584,height:396},{type:"Pinterest Board Image",id:"pinterestBoardImage",width:222,height:150},{type:"Pinterest Pin Image",id:"pinterestPinImage",width:236,height:280},{type:"Pinterest Profile",id:"pinterestProfile",width:165,height:165},{type:"Tumblr Profile",id:"tumblrProfile",width:128,height:128},{type:"Tumblr Post Image",id:"tumblrPostImage",width:500,height:750},{type:"Android App Icon",id:"androidAppIcon",width:512,height:512},{type:"Android Feature Graphic",id:"androidFeatureGraphic",width:1024,height:500},{type:"Android Horizontal",id:"androidHorizontal",width:1920,height:1080},{type:"Android Vertical",id:"androidVertical",width:1080,height:1920},{type:"iOS iPhone Vertical (6.7 inch)",id:"iosIPhoneVertical6_7",width:1290,height:2796},{type:"iOS iPhone Vertical (6.5 inch)",id:"iosIPhoneVertical6_5",width:1284,height:2778},{type:"iOS iPhone Vertical (5.8 inch)",id:"iosIPhoneVertical5_8",width:1170,height:2532},{type:"iOS iPhone Vertical (5.5 inch)",id:"iosIPhoneVertical5_5",width:1242,height:2208},{type:"iOS iPhone Vertical (4.7 inch)",id:"iosIPhoneVertical4_7",width:750,height:1334},{type:"iOS iPhone Vertical (4 inch)",id:"iosIPhoneVertical4",width:640,height:1136},{type:"iOS iPhone Vertical (3.5 inch)",id:"iosIPhoneVertical3_5",width:640,height:960},{type:"iOS iPad Vertical (12.9 inch)",id:"iosIPadVertical12_9",width:2048,height:2732},{type:"iOS iPad Vertical (11 inch)",id:"iosIPadVertical11",width:1640,height:2360},{type:"iOS iPad Vertical (10.5 inch)",id:"iosIPadVertical10_5",width:1668,height:2224},{type:"iOS iPad Vertical (9.7 inch)",id:"iosIPadVertical9_7",width:1536,height:2048}],Mme="_font2em_14pcp_1",Bme="_font1em_14pcp_9",zme="_font1rem_14pcp_17",jme="_fontHalf1em_14pcp_25",Vme="_font075em_14pcp_33",Xh={font2em:Mme,font1em:Bme,font1rem:zme,fontHalf1em:jme,font075em:Vme},Ume=t=>e=>{e.currentTarget.dataset.dragSrc&&(e.dataTransfer.effectAllowed=t,e.dataTransfer.setData("text/plain",e.currentTarget.dataset.dragSrc))},Wme=t=>e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t)},Gme=t=>e=>{if(e.preventDefault(),!e.dataTransfer)return;const n=e.dataTransfer.getData("text/plain");t(JSON.parse(n),e)},vy=({dragType:t,dragSrc:e,children:n})=>{const r={draggable:!0,"data-drag-src":JSON.stringify(e),onDragStart:Ume(t)},i=M.Children.map(n,s=>{let o=s;return M.isValidElement(s)&&(o=M.cloneElement(s,r)),o});return R.jsx(R.Fragment,{children:i})},uo={INSERT:{FRAME:"INSERT_FRAME",IMAGE:"INSERT IMAGE",TEXT:"INSERT_TEXT",SHAPE:"INSERT SHAPE",ICON:"INSERT ICON",LINE:"INSERT LINE"}};function Hme(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const Q5={};function ZI(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&Q5[e[0]]||(typeof e[0]=="string"&&(Q5[e[0]]=new Date),Hme(...e))}const mW=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function Y5(t,e,n){t.loadNamespaces(e,mW(t,n))}function J5(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,mW(t,r))}function qme(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=e.services.backendConnector.state[`${a}|${l}`];return c===-1||c===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))}function Kme(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(ZI("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,t))return!1}}):qme(t,e,n)}const Xme=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Qme={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Yme=t=>Qme[t],Jme=t=>t.replace(Xme,Yme);let e$={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Jme};function Zme(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e$={...e$,...t}}function ege(){return e$}let gW;function tge(t){gW=t}function nge(){return gW}const rge={type:"3rdParty",init(t){Zme(t.options.react),tge(t)}},ige=A.createContext();class sge{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const oge=(t,e)=>{const n=A.useRef();return A.useEffect(()=>{n.current=e?n.current:t},[t,e]),n.current};function yW(t,e,n,r){return t.getFixedT(e,n,r)}function age(t,e,n,r){return A.useCallback(yW(t,e,n,r),[t,e,n,r])}function lge(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:i}=A.useContext(ige)||{},s=n||r||nge();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new sge),!s){ZI("You will need to pass in an i18next instance by using initReactI18next");const k=(_,I)=>typeof I=="string"?I:I&&typeof I=="object"&&typeof I.defaultValue=="string"?I.defaultValue:Array.isArray(_)?_[_.length-1]:_,E=[k,{},!1];return E.t=k,E.i18n={},E.ready=!1,E}s.options.react&&s.options.react.wait!==void 0&&ZI("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...ege(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let c=t||i||s.options&&s.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(c);const u=(s.isInitialized||s.initializedStoreOnce)&&c.every(k=>Kme(k,s,o)),d=age(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),f=()=>d,h=()=>yW(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),[m,y]=A.useState(f);let x=c.join();e.lng&&(x=`${e.lng}${x}`);const v=oge(x),b=A.useRef(!0);A.useEffect(()=>{const{bindI18n:k,bindI18nStore:E}=o;b.current=!0,!u&&!a&&(e.lng?J5(s,e.lng,c,()=>{b.current&&y(h)}):Y5(s,c,()=>{b.current&&y(h)})),u&&v&&v!==x&&b.current&&y(h);function _(){b.current&&y(h)}return k&&s&&s.on(k,_),E&&s&&s.store.on(E,_),()=>{b.current=!1,k&&s&&k.split(" ").forEach(I=>s.off(I,_)),E&&s&&E.split(" ").forEach(I=>s.store.off(I,_))}},[s,x]),A.useEffect(()=>{b.current&&u&&y(f)},[s,l,u]);const w=[m,s,u];if(w.t=m,w.i18n=s,w.ready=u,u||!u&&!a)return w;throw new Promise(k=>{e.lng?J5(s,e.lng,c,()=>k()):Y5(s,c,()=>k())})}const gs=()=>{const{t}=lge(["widget","hotkey","workMode","cartview"]);return{getTranslation:(n,...r)=>t(`${n}:${r.join(":")}`)}},cge=()=>R.jsx(cs,{xs:2,className:[Vn["mx-h-30vh"]].join(" "),children:Lme.map(({type:t,id:e,width:n,height:r})=>R.jsx(uge,{data:{id:e,width:n,height:r,"data-frame-type":t},maxPx:80},`frame-thumbnail-${t}`))}),uge=({data:{id:t,width:e,height:n,...r},maxPx:i})=>{const{getTranslation:s}=gs(),o=dge({width:e,height:n},i);return R.jsxs(Vi,{as:On,className:[Rn.absoluteCenter,Rn.wrapTrue].join(" "),children:[R.jsx(vy,{dragType:"copyMove",dragSrc:{trigger:uo.INSERT.FRAME,"data-frame-type":r["data-frame-type"],id:t,width:e,height:n},children:R.jsx(Vi.Image,{alt:`${e} X ${n}`,"data-src":`holder.js/${o.width}x${o.height}?bg=e3e6e8&fg=ffffff&size=7&text=${e} 
X
 ${n}&amp;nowrap=true`})}),R.jsx(Vi.Caption,{className:[Xh.font075em,Vn.width100,"text-center"].join(" "),children:s("widget","frame",t,"name")})]})},dge=({width:t,height:e},n)=>t===e?{width:n,height:n}:t>e?{width:n,height:Math.floor(n*e/t)}:{width:Math.floor(n*t/e),height:n},Wn=t=>Number(t.toFixed(7));function mo(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function aa(t){return!!t&&!!t[fn]}function Ya(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===xge}(t)||Array.isArray(t)||!!t[sM]||!!(!((e=t.constructor)===null||e===void 0)&&e[sM])||SR(t)||kR(t))}function zu(t,e,n){n===void 0&&(n=!1),Qh(t)===0?(n?Object.keys:Qf)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Qh(t){var e=t[fn];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:SR(t)?2:kR(t)?3:0}function Xf(t,e){return Qh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function fge(t,e){return Qh(t)===2?t.get(e):t[e]}function vW(t,e,n){var r=Qh(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function xW(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function SR(t){return yge&&t instanceof Map}function kR(t){return vge&&t instanceof Set}function nu(t){return t.o||t.t}function CR(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=SW(t);delete e[fn];for(var n=Qf(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function ER(t,e){return e===void 0&&(e=!1),TR(t)||aa(t)||!Ya(t)||(Qh(t)>1&&(t.set=t.add=t.clear=t.delete=hge),Object.freeze(t),e&&zu(t,function(n,r){return ER(r,!0)},!0)),t}function hge(){mo(2)}function TR(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function ea(t){var e=i$[t];return e||mo(18,t),e}function pge(t,e){i$[t]||(i$[t]=e)}function t$(){return Dg}function bT(t,e){e&&(ea("Patches"),t.u=[],t.s=[],t.v=e)}function pb(t){n$(t),t.p.forEach(mge),t.p=null}function n$(t){t===Dg&&(Dg=t.l)}function Z5(t){return Dg={p:[],l:Dg,h:t,m:!0,_:0}}function mge(t){var e=t[fn];e.i===0||e.i===1?e.j():e.g=!0}function wT(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||ea("ES5").S(e,t,r),r?(n[fn].P&&(pb(e),mo(4)),Ya(t)&&(t=mb(e,t),e.l||gb(e,t)),e.u&&ea("Patches").M(n[fn].t,t,e.u,e.s)):t=mb(e,n,[]),pb(e),e.u&&e.v(e.u,e.s),t!==wW?t:void 0}function mb(t,e,n){if(TR(e))return e;var r=e[fn];if(!r)return zu(e,function(a,l){return eM(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return gb(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=CR(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),zu(s,function(a,l){return eM(t,r,i,a,l,n,o)}),gb(t,i,!1),n&&t.u&&ea("Patches").N(r,n,t.u,t.s)}return r.o}function eM(t,e,n,r,i,s,o){if(aa(i)){var a=mb(t,i,s&&e&&e.i!==3&&!Xf(e.R,r)?s.concat(r):void 0);if(vW(n,r,a),!aa(a))return;t.m=!1}else o&&n.add(i);if(Ya(i)&&!TR(i)){if(!t.h.D&&t._<1)return;mb(t,i),e&&e.A.l||gb(t,i)}}function gb(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&ER(e,n)}function ST(t,e){var n=t[fn];return(n?nu(n):t)[e]}function tM(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Bl(t){t.P||(t.P=!0,t.l&&Bl(t.l))}function kT(t){t.o||(t.o=CR(t.t))}function r$(t,e,n){var r=SR(e)?ea("MapSet").F(e,n):kR(e)?ea("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:t$(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,c=Fg;o&&(l=[a],c=Em);var u=Proxy.revocable(l,c),d=u.revoke,f=u.proxy;return a.k=f,a.j=d,f}(e,n):ea("ES5").J(e,n);return(n?n.A:t$()).p.push(r),r}function bW(t){return aa(t)||mo(22,t),function e(n){if(!Ya(n))return n;var r,i=n[fn],s=Qh(n);if(i){if(!i.P&&(i.i<4||!ea("ES5").K(i)))return i.t;i.I=!0,r=nM(n,s),i.I=!1}else r=nM(n,s);return zu(r,function(o,a){i&&fge(i.t,o)===a||vW(r,o,e(a))}),s===3?new Set(r):r}(t)}function nM(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return CR(t)}function gge(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[fn];return Fg.get(l,s)},set:function(l){var c=this[fn];Fg.set(c,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][fn];if(!a.P)switch(a.i){case 5:r(a)&&Bl(a);break;case 4:n(a)&&Bl(a)}}}function n(s){for(var o=s.t,a=s.k,l=Qf(a),c=l.length-1;c>=0;c--){var u=l[c];if(u!==fn){var d=o[u];if(d===void 0&&!Xf(o,u))return!0;var f=a[u],h=f&&f[fn];if(h?h.t!==d:!xW(f,d))return!0}}var m=!!o[fn];return l.length!==Qf(o).length+(m?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};pge("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(u,d){if(u){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,t(h,!0));return f}var m=SW(d);delete m[fn];for(var y=Qf(m),x=0;x<y.length;x++){var v=y[x];m[v]=t(v,u||!!m[v].enumerable)}return Object.create(Object.getPrototypeOf(d),m)}(a,s),c={i:a?5:4,A:o?o.A:t$(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,fn,{value:c,writable:!0}),l},S:function(s,o,a){a?aa(o)&&o[fn].A===s&&e(s.p):(s.u&&function l(c){if(c&&typeof c=="object"){var u=c[fn];if(u){var d=u.t,f=u.k,h=u.R,m=u.i;if(m===4)zu(f,function(w){w!==fn&&(d[w]!==void 0||Xf(d,w)?h[w]||l(f[w]):(h[w]=!0,Bl(u)))}),zu(d,function(w){f[w]!==void 0||Xf(f,w)||(h[w]=!1,Bl(u))});else if(m===5){if(r(u)&&(Bl(u),h.length=!0),f.length<d.length)for(var y=f.length;y<d.length;y++)h[y]=!1;else for(var x=d.length;x<f.length;x++)h[x]=!0;for(var v=Math.min(f.length,d.length),b=0;b<v;b++)f.hasOwnProperty(b)||(h[b]=!0),h[b]===void 0&&l(f[b])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var rM,Dg,_R=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",yge=typeof Map<"u",vge=typeof Set<"u",iM=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",wW=_R?Symbol.for("immer-nothing"):((rM={})["immer-nothing"]=!0,rM),sM=_R?Symbol.for("immer-draftable"):"__$immer_draftable",fn=_R?Symbol.for("immer-state"):"__$immer_state",xge=""+Object.prototype.constructor,Qf=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,SW=Object.getOwnPropertyDescriptors||function(t){var e={};return Qf(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},i$={},Fg={get:function(t,e){if(e===fn)return t;var n=nu(t);if(!Xf(n,e))return function(i,s,o){var a,l=tM(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Ya(r)?r:r===ST(t.t,e)?(kT(t),t.o[e]=r$(t.A.h,r,t)):r},has:function(t,e){return e in nu(t)},ownKeys:function(t){return Reflect.ownKeys(nu(t))},set:function(t,e,n){var r=tM(nu(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=ST(nu(t),e),s=i==null?void 0:i[fn];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(xW(n,i)&&(n!==void 0||Xf(t.t,e)))return!0;kT(t),Bl(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return ST(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,kT(t),Bl(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=nu(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){mo(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){mo(12)}},Em={};zu(Fg,function(t,e){Em[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Em.deleteProperty=function(t,e){return Em.set.call(this,t,e,void 0)},Em.set=function(t,e,n){return Fg.set.call(this,t[0],e,n,t[0])};var bge=function(){function t(n){var r=this;this.O=iM,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(y){var x=this;y===void 0&&(y=a);for(var v=arguments.length,b=Array(v>1?v-1:0),w=1;w<v;w++)b[w-1]=arguments[w];return l.produce(y,function(k){var E;return(E=s).call.apply(E,[x,k].concat(b))})}}var c;if(typeof s!="function"&&mo(6),o!==void 0&&typeof o!="function"&&mo(7),Ya(i)){var u=Z5(r),d=r$(r,i,void 0),f=!0;try{c=s(d),f=!1}finally{f?pb(u):n$(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(y){return bT(u,o),wT(y,u)},function(y){throw pb(u),y}):(bT(u,o),wT(c,u))}if(!i||typeof i!="object"){if((c=s(i))===void 0&&(c=i),c===wW&&(c=void 0),r.D&&ER(c,!0),o){var h=[],m=[];ea("Patches").M(i,c,h,m),o(h,m)}return c}mo(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(c){for(var u=arguments.length,d=Array(u>1?u-1:0),f=1;f<u;f++)d[f-1]=arguments[f];return r.produceWithPatches(c,function(h){return i.apply(void 0,[h].concat(d))})};var o,a,l=r.produce(i,s,function(c,u){o=c,a=u});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Ya(n)||mo(8),aa(n)&&(n=bW(n));var r=Z5(this),i=r$(this,n,void 0);return i[fn].C=!0,n$(r),i},e.finishDraft=function(n,r){var i=n&&n[fn],s=i.A;return bT(s,r),wT(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!iM&&mo(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=ea("Patches").$;return aa(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),us=new bge,IR=us.produce;us.produceWithPatches.bind(us);us.setAutoFreeze.bind(us);us.setUseProxies.bind(us);us.applyPatches.bind(us);us.createDraft.bind(us);us.finishDraft.bind(us);function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function wge(t,e){if(Lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sge(t){var e=wge(t,"string");return Lg(e)=="symbol"?e:e+""}function kge(t,e,n){return e=Sge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){kge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kr(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var lM=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),CT=function(){return Math.random().toString(36).substring(7).split("").join(".")},yb={INIT:"@@redux/INIT"+CT(),REPLACE:"@@redux/REPLACE"+CT(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+CT()}};function Cge(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function kW(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Kr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Kr(1));return n(kW)(t,e)}if(typeof t!="function")throw new Error(Kr(2));var i=t,s=e,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function u(){if(l)throw new Error(Kr(3));return s}function d(y){if(typeof y!="function")throw new Error(Kr(4));if(l)throw new Error(Kr(5));var x=!0;return c(),a.push(y),function(){if(x){if(l)throw new Error(Kr(6));x=!1,c();var b=a.indexOf(y);a.splice(b,1),o=null}}}function f(y){if(!Cge(y))throw new Error(Kr(7));if(typeof y.type>"u")throw new Error(Kr(8));if(l)throw new Error(Kr(9));try{l=!0,s=i(s,y)}finally{l=!1}for(var x=o=a,v=0;v<x.length;v++){var b=x[v];b()}return y}function h(y){if(typeof y!="function")throw new Error(Kr(10));i=y,f({type:yb.REPLACE})}function m(){var y,x=d;return y={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(Kr(11));function w(){b.next&&b.next(u())}w();var k=x(w);return{unsubscribe:k}}},y[lM]=function(){return this},y}return f({type:yb.INIT}),r={dispatch:f,subscribe:d,getState:u,replaceReducer:h},r[lM]=m,r}function Ege(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:yb.INIT});if(typeof r>"u")throw new Error(Kr(12));if(typeof n(void 0,{type:yb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Kr(13))})}function Tge(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{Ege(n)}catch(a){o=a}return function(l,c){if(l===void 0&&(l={}),o)throw o;for(var u=!1,d={},f=0;f<s.length;f++){var h=s[f],m=n[h],y=l[h],x=m(y,c);if(typeof x>"u")throw c&&c.type,new Error(Kr(14));d[h]=x,u=u||x!==y}return u=u||s.length!==Object.keys(l).length,u?d:l}}function vb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function _ge(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Kr(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=vb.apply(void 0,a)(i.dispatch),aM(aM({},i),{},{dispatch:s})}}}var xb="NOT_FOUND";function Ige(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:xb},put:function(r,i){e={key:r,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function $ge(t,e){var n=[];function r(a){var l=n.findIndex(function(u){return e(a,u.key)});if(l>-1){var c=n[l];return l>0&&(n.splice(l,1),n.unshift(c)),c.value}return xb}function i(a,l){r(a)===xb&&(n.unshift({key:a,value:l}),n.length>t&&n.pop())}function s(){return n}function o(){n=[]}return{get:r,put:i,getEntries:s,clear:o}}var Nge=function(e,n){return e===n};function Oge(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,s=0;s<i;s++)if(!t(n[s],r[s]))return!1;return!0}}function Rge(t,e){var n=typeof e=="object"?e:{equalityCheck:e},r=n.equalityCheck,i=r===void 0?Nge:r,s=n.maxSize,o=s===void 0?1:s,a=n.resultEqualityCheck,l=Oge(i),c=o===1?Ige(l):$ge(o,l);function u(){var d=c.get(arguments);if(d===xb){if(d=t.apply(null,arguments),a){var f=c.getEntries(),h=f.find(function(m){return a(m.value,d)});h&&(d=h.value)}c.put(arguments,d)}return d}return u.clearCache=function(){return c.clear()},u}function Age(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var n=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function Pge(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var c=0,u,d={memoizeOptions:void 0},f=a.pop();if(typeof f=="object"&&(d=f,f=a.pop()),typeof f!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof f+"]");var h=d,m=h.memoizeOptions,y=m===void 0?n:m,x=Array.isArray(y)?y:[y],v=Age(a),b=t.apply(void 0,[function(){return c++,f.apply(null,arguments)}].concat(x)),w=t(function(){for(var E=[],_=v.length,I=0;I<_;I++)E.push(v[I].apply(null,arguments));return u=b.apply(null,E),u});return Object.assign(w,{resultFunc:f,memoizedResultFunc:b,dependencies:v,lastResult:function(){return u},recomputations:function(){return c},resetRecomputations:function(){return c=0}}),w};return i}var s$=Pge(Rge);function CW(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var EW=CW();EW.withExtraArgument=CW;const cM=EW;var TW=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dge=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},ju=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Fge=Object.defineProperty,Lge=Object.defineProperties,Mge=Object.getOwnPropertyDescriptors,uM=Object.getOwnPropertySymbols,Bge=Object.prototype.hasOwnProperty,zge=Object.prototype.propertyIsEnumerable,dM=function(t,e,n){return e in t?Fge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Di=function(t,e){for(var n in e||(e={}))Bge.call(e,n)&&dM(t,n,e[n]);if(uM)for(var r=0,i=uM(e);r<i.length;r++){var n=i[r];zge.call(e,n)&&dM(t,n,e[n])}return t},ET=function(t,e){return Lge(t,Mge(e))},jge=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(c){i(c)}},o=function(l){try{a(n.throw(l))}catch(c){i(c)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},Il=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=s$.apply(void 0,t),r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return n.apply(void 0,ju([aa(i)?bW(i):i],s))};return r},Vge=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vb:vb.apply(null,arguments)};function _W(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}function rc(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Di(Di({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function Uge(t){return _W(t)&&"type"in t}function Wge(t){return Uge(t)&&typeof t.type=="string"&&Object.keys(t).every(Gge)}function Gge(t){return["type","payload","error","meta"].indexOf(t)>-1}var Hge=function(t){TW(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,ju([void 0],n[0].concat(this)))):new(e.bind.apply(e,ju([void 0],n.concat(this))))},e}(Array),qge=function(t){TW(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,ju([void 0],n[0].concat(this)))):new(e.bind.apply(e,ju([void 0],n.concat(this))))},e}(Array);function o$(t){return Ya(t)?IR(t,function(){}):t}function Kge(t){return typeof t=="boolean"}function Xge(){return function(e){return IW(e)}}function IW(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var r=new Hge;return n&&(Kge(n)?r.push(cM):r.push(cM.withExtraArgument(n.extraArgument))),r}var Qge=!0;function Yge(t){var e=Xge(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,c=n.preloadedState,u=c===void 0?void 0:c,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(_W(i))h=Tge(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var m=o;typeof m=="function"&&(m=m(e));var y=_ge.apply(void 0,m),x=vb;l&&(x=Vge(Di({trace:!Qge},typeof l=="object"&&l)));var v=new qge(y),b=v;Array.isArray(f)?b=ju([y],f):typeof f=="function"&&(b=f(v));var w=x.apply(void 0,b);return kW(h,u,w)}function $W(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function Jge(t){return typeof t=="function"}function Zge(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?$W(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(Jge(t))l=function(){return o$(t())};else{var c=o$(t);l=function(){return c}}function u(d,f){d===void 0&&(d=l());var h=ju([s[f.type]],o.filter(function(m){var y=m.matcher;return y(f)}).map(function(m){var y=m.reducer;return y}));return h.filter(function(m){return!!m}).length===0&&(h=[a]),h.reduce(function(m,y){if(y)if(aa(m)){var x=m,v=y(x,f);return v===void 0?m:v}else{if(Ya(m))return IR(m,function(b){return y(b,f)});var v=y(m,f);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return m},d)}return u.getInitialState=l,u}function eye(t,e){return t+"/"+e}function Yh(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:o$(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(u){var d=r[u],f=eye(e,u),h,m;"reducer"in d?(h=d.reducer,m=d.prepare):h=d,s[u]=h,o[f]=h,a[u]=m?rc(f,m):rc(f)});function l(){var u=typeof t.extraReducers=="function"?$W(t.extraReducers):[t.extraReducers],d=u[0],f=d===void 0?{}:d,h=u[1],m=h===void 0?[]:h,y=u[2],x=y===void 0?void 0:y,v=Di(Di({},f),o);return Zge(n,function(b){for(var w in v)b.addCase(w,v[w]);for(var k=0,E=m;k<E.length;k++){var _=E[k];b.addMatcher(_.matcher,_.reducer)}x&&b.addDefaultCase(x)})}var c;return{name:e,reducer:function(u,d){return c||(c=l()),c(u,d)},actions:a,caseReducers:s,getInitialState:function(){return c||(c=l()),c.getInitialState()}}}function tye(){return{ids:[],entities:{}}}function nye(){function t(e){return e===void 0&&(e={}),Object.assign(tye(),e)}return{getInitialState:t}}function rye(){function t(e){var n=function(c){return c.ids},r=function(c){return c.entities},i=Il(n,r,function(c,u){return c.map(function(d){return u[d]})}),s=function(c,u){return u},o=function(c,u){return c[u]},a=Il(n,function(c){return c.length});if(!e)return{selectIds:n,selectEntities:r,selectAll:i,selectTotal:a,selectById:Il(r,s,o)};var l=Il(e,r);return{selectIds:Il(e,n),selectEntities:l,selectAll:Il(e,i),selectTotal:Il(e,a),selectById:Il(l,s,o)}}return{getSelectors:t}}function iye(t){var e=Ln(function(n,r){return t(r)});return function(r){return e(r,void 0)}}function Ln(t){return function(n,r){function i(o){return Wge(o)}var s=function(o){i(r)?t(r.payload,o):t(r,o)};return aa(n)?(s(n),n):IR(n,s)}}function eg(t,e){var n=e(t);return n}function Eu(t){return Array.isArray(t)||(t=Object.values(t)),t}function NW(t,e,n){t=Eu(t);for(var r=[],i=[],s=0,o=t;s<o.length;s++){var a=o[s],l=eg(a,e);l in n.entities?i.push({id:l,changes:a}):r.push(a)}return[r,i]}function OW(t){function e(m,y){var x=eg(m,t);x in y.entities||(y.ids.push(x),y.entities[x]=m)}function n(m,y){m=Eu(m);for(var x=0,v=m;x<v.length;x++){var b=v[x];e(b,y)}}function r(m,y){var x=eg(m,t);x in y.entities||y.ids.push(x),y.entities[x]=m}function i(m,y){m=Eu(m);for(var x=0,v=m;x<v.length;x++){var b=v[x];r(b,y)}}function s(m,y){m=Eu(m),y.ids=[],y.entities={},n(m,y)}function o(m,y){return a([m],y)}function a(m,y){var x=!1;m.forEach(function(v){v in y.entities&&(delete y.entities[v],x=!0)}),x&&(y.ids=y.ids.filter(function(v){return v in y.entities}))}function l(m){Object.assign(m,{ids:[],entities:{}})}function c(m,y,x){var v=x.entities[y.id],b=Object.assign({},v,y.changes),w=eg(b,t),k=w!==y.id;return k&&(m[y.id]=w,delete x.entities[y.id]),x.entities[w]=b,k}function u(m,y){return d([m],y)}function d(m,y){var x={},v={};m.forEach(function(k){k.id in y.entities&&(v[k.id]={id:k.id,changes:Di(Di({},v[k.id]?v[k.id].changes:null),k.changes)})}),m=Object.values(v);var b=m.length>0;if(b){var w=m.filter(function(k){return c(x,k,y)}).length>0;w&&(y.ids=Object.keys(y.entities))}}function f(m,y){return h([m],y)}function h(m,y){var x=NW(m,t,y),v=x[0],b=x[1];d(b,y),n(v,y)}return{removeAll:iye(l),addOne:Ln(e),addMany:Ln(n),setOne:Ln(r),setMany:Ln(i),setAll:Ln(s),updateOne:Ln(u),updateMany:Ln(d),upsertOne:Ln(f),upsertMany:Ln(h),removeOne:Ln(o),removeMany:Ln(a)}}function sye(t,e){var n=OW(t),r=n.removeOne,i=n.removeMany,s=n.removeAll;function o(b,w){return a([b],w)}function a(b,w){b=Eu(b);var k=b.filter(function(E){return!(eg(E,t)in w.entities)});k.length!==0&&x(k,w)}function l(b,w){return c([b],w)}function c(b,w){b=Eu(b),b.length!==0&&x(b,w)}function u(b,w){b=Eu(b),w.entities={},w.ids=[],a(b,w)}function d(b,w){return f([b],w)}function f(b,w){for(var k=!1,E=0,_=b;E<_.length;E++){var I=_[E],N=w.entities[I.id];if(N){k=!0,Object.assign(N,I.changes);var D=t(N);I.id!==D&&(delete w.entities[I.id],w.entities[D]=N)}}k&&v(w)}function h(b,w){return m([b],w)}function m(b,w){var k=NW(b,t,w),E=k[0],_=k[1];f(_,w),a(E,w)}function y(b,w){if(b.length!==w.length)return!1;for(var k=0;k<b.length&&k<w.length;k++)if(b[k]!==w[k])return!1;return!0}function x(b,w){b.forEach(function(k){w.entities[t(k)]=k}),v(w)}function v(b){var w=Object.values(b.entities);w.sort(e);var k=w.map(t),E=b.ids;y(E,k)||(b.ids=k)}return{removeOne:r,removeMany:i,removeAll:s,addOne:Ln(o),updateOne:Ln(d),upsertOne:Ln(h),setOne:Ln(l),setMany:Ln(c),setAll:Ln(u),addMany:Ln(a),updateMany:Ln(f),upsertMany:Ln(m)}}function xy(t){t===void 0&&(t={});var e=Di({sortComparer:!1,selectId:function(a){return a.id}},t),n=e.selectId,r=e.sortComparer,i=nye(),s=rye(),o=r?sye(n,r):OW(n);return Di(Di(Di({selectId:n,sortComparer:r},i),s),o)}var oye="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",aye=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=oye[Math.random()*64|0];return e},lye=["name","message","stack","code"],TT=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),fM=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),cye=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=lye;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=rc(e+"/fulfilled",function(c,u,d,f){return{payload:c,meta:ET(Di({},f||{}),{arg:d,requestId:u,requestStatus:"fulfilled"})}}),s=rc(e+"/pending",function(c,u,d){return{payload:void 0,meta:ET(Di({},d||{}),{arg:u,requestId:c,requestStatus:"pending"})}}),o=rc(e+"/rejected",function(c,u,d,f,h){return{payload:f,error:(r&&r.serializeError||cye)(c||"Rejected"),meta:ET(Di({},h||{}),{arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function l(c){return function(u,d,f){var h=r!=null&&r.idGenerator?r.idGenerator(c):aye(),m=new a,y;function x(b){y=b,m.abort()}var v=function(){return jge(this,null,function(){var b,w,k,E,_,I,N;return Dge(this,function(D){switch(D.label){case 0:return D.trys.push([0,4,,5]),E=(b=r==null?void 0:r.condition)==null?void 0:b.call(r,c,{getState:d,extra:f}),dye(E)?[4,E]:[3,2];case 1:E=D.sent(),D.label=2;case 2:if(E===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return _=new Promise(function(P,F){return m.signal.addEventListener("abort",function(){return F({name:"AbortError",message:y||"Aborted"})})}),u(s(h,c,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:h,arg:c},{getState:d,extra:f}))),[4,Promise.race([_,Promise.resolve(n(c,{dispatch:u,getState:d,extra:f,requestId:h,signal:m.signal,abort:x,rejectWithValue:function(P,F){return new TT(P,F)},fulfillWithValue:function(P,F){return new fM(P,F)}})).then(function(P){if(P instanceof TT)throw P;return P instanceof fM?i(P.payload,h,c,P.meta):i(P,h,c)})])];case 3:return k=D.sent(),[3,5];case 4:return I=D.sent(),k=I instanceof TT?o(null,h,c,I.payload,I.meta):o(I,h,c),[3,5];case 5:return N=r&&!r.dispatchConditionRejection&&o.match(k)&&k.meta.condition,N||u(k),[2,k]}})})}();return Object.assign(v,{abort:x,requestId:h,arg:c,unwrap:function(){return v.then(uye)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function uye(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function dye(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var $R="listenerMiddleware";rc($R+"/add");rc($R+"/removeAll");rc($R+"/remove");var hM;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);gge();function Hn(t){return typeof t=="function"}function RW(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var _T=RW(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function bb(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var by=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=dh(o),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(y){e={error:y}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var u=this.initialTeardown;if(Hn(u))try{u()}catch(y){s=y instanceof _T?y.errors:[y]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var f=dh(d),h=f.next();!h.done;h=f.next()){var m=h.value;try{pM(m)}catch(y){s=s??[],y instanceof _T?s=Pr(Pr([],fh(s)),fh(y.errors)):s.push(y)}}}catch(y){r={error:y}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}if(s)throw new _T(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)pM(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&bb(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&bb(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),AW=by.EMPTY;function PW(t){return t instanceof by||t&&"closed"in t&&Hn(t.remove)&&Hn(t.add)&&Hn(t.unsubscribe)}function pM(t){Hn(t)?t():t.unsubscribe()}var DW={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},FW={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Pr([t,e],fh(n)))},clearTimeout:function(t){var e=FW.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function LW(t){FW.setTimeout(function(){throw t})}function mM(){}function kx(t){t()}var NR=function(t){Xn(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,PW(n)&&n.add(r)):r.destination=mye,r}return e.create=function(n,r,i){return new a$(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(by),fye=Function.prototype.bind;function IT(t,e){return fye.call(t,e)}var hye=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){A1(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){A1(r)}else A1(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){A1(n)}},t}(),a$=function(t){Xn(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(Hn(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&DW.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&IT(n.next,a),error:n.error&&IT(n.error,a),complete:n.complete&&IT(n.complete,a)}):o=n}return s.destination=new hye(o),s}return e}(NR);function A1(t){LW(t)}function pye(t){throw t}var mye={closed:!0,next:mM,error:pye,complete:mM},OR=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function RR(t){return t}function gye(t){return t.length===0?RR:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var ds=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=vye(e)?e:new a$(e,n,r);return kx(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=gM(n),new n(function(i,s){var o=new a$({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[OR]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return gye(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=gM(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function gM(t){var e;return(e=t??DW.Promise)!==null&&e!==void 0?e:Promise}function yye(t){return t&&Hn(t.next)&&Hn(t.error)&&Hn(t.complete)}function vye(t){return t&&t instanceof NR||yye(t)&&PW(t)}function xye(t){return Hn(t==null?void 0:t.lift)}function ud(t){return function(e){if(xye(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Vu(t,e,n,r,i){return new bye(t,e,n,r,i)}var bye=function(t){Xn(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=r?function(c){try{r(c)}catch(u){n.error(u)}}:t.prototype._next,l._error=s?function(c){try{s(c)}catch(u){n.error(u)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(NR),wye=RW(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),tg=function(t){Xn(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new yM(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new wye},e.prototype.next=function(n){var r=this;kx(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=dh(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;kx(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;kx(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?AW:(this.currentObservers=null,a.push(n),new by(function(){r.currentObservers=null,bb(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new ds;return n.source=this,n},e.create=function(n,r){return new yM(n,r)},e}(ds),yM=function(t){Xn(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:AW},e}(tg),Sye={now:function(){return Date.now()},delegate:void 0},kye=function(t){Xn(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(by),l$={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,Pr([t,e],fh(n)))},clearInterval:function(t){var e=l$.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},Cye=function(t){Xn(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),l$.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&l$.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,s;try{this.work(n)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,bb(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(kye),vM=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=Sye.now,t}(),Eye=function(t){Xn(e,t);function e(n,r){r===void 0&&(r=vM.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(vM),Tye=function(t){Xn(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.schedule=function(n,r){return r===void 0&&(r=0),r>0?t.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},e.prototype.execute=function(n,r){return r>0||this.closed?t.prototype.execute.call(this,n,r):this._execute(n,r)},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?t.prototype.requestAsyncId.call(this,n,r,i):(n.flush(this),0)},e}(Cye),_ye=function(t){Xn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Eye),xM=new _ye(Tye),MW=new ds(function(t){return t.complete()});function Iye(t){return t&&Hn(t.schedule)}function BW(t){return t[t.length-1]}function $ye(t){return Iye(BW(t))?t.pop():void 0}function Nye(t,e){return typeof BW(t)=="number"?t.pop():e}var zW=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function jW(t){return Hn(t==null?void 0:t.then)}function VW(t){return Hn(t[OR])}function UW(t){return Symbol.asyncIterator&&Hn(t==null?void 0:t[Symbol.asyncIterator])}function WW(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Oye(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var GW=Oye();function HW(t){return Hn(t==null?void 0:t[GW])}function qW(t){return ire(this,arguments,function(){var n,r,i,s;return Yr(this,function(o){switch(o.label){case 0:n=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Uf(n.read())];case 3:return r=o.sent(),i=r.value,s=r.done,s?[4,Uf(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Uf(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function KW(t){return Hn(t==null?void 0:t.getReader)}function Jh(t){if(t instanceof ds)return t;if(t!=null){if(VW(t))return Rye(t);if(zW(t))return Aye(t);if(jW(t))return Pye(t);if(UW(t))return XW(t);if(HW(t))return Dye(t);if(KW(t))return Fye(t)}throw WW(t)}function Rye(t){return new ds(function(e){var n=t[OR]();if(Hn(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Aye(t){return new ds(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Pye(t){return new ds(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,LW)})}function Dye(t){return new ds(function(e){var n,r;try{for(var i=dh(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function XW(t){return new ds(function(e){Lye(t,e).catch(function(n){return e.error(n)})})}function Fye(t){return XW(qW(t))}function Lye(t,e){var n,r,i,s;return di(this,void 0,void 0,function(){var o,a;return Yr(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=sre(t),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function ic(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ng(t,e){return e===void 0&&(e=0),ud(function(n,r){n.subscribe(Vu(r,function(i){return ic(r,t,function(){return r.next(i)},e)},function(){return ic(r,t,function(){return r.complete()},e)},function(i){return ic(r,t,function(){return r.error(i)},e)}))})}function AR(t,e){return e===void 0&&(e=0),ud(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function Mye(t,e){return Jh(t).pipe(AR(e),ng(e))}function Bye(t,e){return Jh(t).pipe(AR(e),ng(e))}function zye(t,e){return new ds(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function jye(t,e){return new ds(function(n){var r;return ic(n,e,function(){r=t[GW](),ic(n,e,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return Hn(r==null?void 0:r.return)&&r.return()}})}function QW(t,e){if(!t)throw new Error("Iterable cannot be null");return new ds(function(n){ic(n,e,function(){var r=t[Symbol.asyncIterator]();ic(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function Vye(t,e){return QW(qW(t),e)}function Uye(t,e){if(t!=null){if(VW(t))return Mye(t,e);if(zW(t))return zye(t,e);if(jW(t))return Bye(t,e);if(UW(t))return QW(t,e);if(HW(t))return jye(t,e);if(KW(t))return Vye(t,e)}throw WW(t)}function YW(t,e){return e?Uye(t,e):Jh(t)}function JW(t,e){return ud(function(n,r){var i=0;n.subscribe(Vu(r,function(s){r.next(t.call(e,s,i++))}))})}function Wye(t,e,n,r,i,s,o,a){var l=[],c=0,u=0,d=!1,f=function(){d&&!l.length&&!c&&e.complete()},h=function(y){return c<r?m(y):l.push(y)},m=function(y){s&&e.next(y),c++;var x=!1;Jh(n(y,u++)).subscribe(Vu(e,function(v){i==null||i(v),s?h(v):e.next(v)},function(){x=!0},void 0,function(){if(x)try{c--;for(var v=function(){var b=l.shift();o?ic(e,o,function(){return m(b)}):m(b)};l.length&&c<r;)v();f()}catch(b){e.error(b)}}))};return t.subscribe(Vu(e,h,function(){d=!0,f()})),function(){a==null||a()}}function PR(t,e,n){return n===void 0&&(n=1/0),Hn(e)?PR(function(r,i){return JW(function(s,o){return e(r,s,i,o)})(Jh(t(r,i)))},n):(typeof e=="number"&&(n=e),ud(function(r,i){return Wye(r,i,t,n)}))}function Gye(t){return t===void 0&&(t=1/0),PR(RR,t)}function Hye(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=$ye(t),r=Nye(t,1/0),i=t;return i.length?i.length===1?Jh(i[0]):Gye(r)(YW(i,n)):MW}function qye(t,e){return ud(function(n,r){var i=0;n.subscribe(Vu(r,function(s){return t.call(e,s,i++)&&r.next(s)}))})}function Kye(t){return t<=0?function(){return MW}:ud(function(e,n){var r=0;e.subscribe(Vu(n,function(i){++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Xye(t,e,n){var r=Hn(t)||e||n?{next:t,error:e,complete:n}:t;return r?ud(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;i.subscribe(Vu(s,function(l){var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},function(l){var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},function(){var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):RR}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var c$=function(t,e){return c$=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},c$(t,e)};function Qye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");c$(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Yye=function(t){Qye(e,t);function e(n,r){var i=t.call(this,function(s){var o=i.__notifier.subscribe(s);return o&&!o.closed&&s.next(i.value),o})||this;return i.__notifier=new tg,i.value=r,n.subscribe(function(s){s!==i.value&&(i.value=s,i.__notifier.next(s))}),i}return e}(ds);function Jye(t){t===void 0&&(t={});var e=xM.constructor,n=new e(xM.schedulerActionCtor),r=new tg,i,s=function(o){i=o;var a=new tg,l=new tg,c=a.asObservable().pipe(ng(n)),u=new Yye(l.pipe(ng(n)),i.getState()),d=r.pipe(JW(function(f){var h=f(c,u,t.dependencies);if(!h)throw new TypeError('Your root Epic "'+(f.name||"<anonymous>")+`" does not return a stream. Double check you're not missing a return statement!`);return h}),PR(function(f){return YW(f).pipe(AR(n),ng(n))}));return d.subscribe(i.dispatch),function(f){return function(h){var m=f(h);return l.next(i.getState()),a.next(h),m}}};return s.run=function(o){r.next(o)},s}function Zye(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return Hye.apply(void 0,t.map(function(s){var o=s.apply(void 0,r);if(!o)throw new TypeError('combineEpics: one of the provided Epics "'+(s.name||"<anonymous>")+`" does not return a stream. Double check you're not missing a return statement!`);return o}))};try{Object.defineProperty(n,"name",{value:"combineEpics("+t.map(function(r){return r.name||"<anonymous>"}).join(", ")+")"})}catch{}return n}var bM=function(t,e){return t===e||typeof e=="function"&&t===e.toString()};function eve(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;return qye(n===1?function(r){return bM(r.type,t[0])}:function(r){for(var i=0;i<n;i++)if(bM(r.type,t[i]))return!0;return!1})}const tve="IMAGE_ASSET_LIST",Ea=xy(),ZW=Yh({name:tve,initialState:Ea.setAll(Ea.getInitialState(),[]),reducers:{initialize(t,e){Ea.setAll(t,e.payload)},addItem(t,e){if(Array.isArray(e.payload)){Ea.addMany(t,e.payload);return}Ea.addOne(t,e.payload)},updateItem(t,e){Ea.updateOne(t,{id:e.payload.id,changes:e.payload})},removeItem(t,e){if(Array.isArray(e.payload)){Ea.removeMany(t,e.payload);return}Ea.removeOne(t,e.payload.id)}}}),nve=ZW.reducer,rve=Ea.getSelectors(t=>t.imageAssetList),ive=ZW.actions,sve=()=>{const t=yO(),e=eb(rve.selectAll);return{setImageAsset:async o=>{o.map(a=>t(ive.addItem({type:a["data-item-type"],id:a.id,name:a.name,src:a.src})))},getAllImageAsset:()=>e,getImageAssetSrc:o=>{var a;return((a=e.find(l=>l.id===o))==null?void 0:a.src)??null},reduceImageSize:(o,a,l)=>{ui.Image.fromURL(o,c=>{let u,d;c.width()>c.height()?(u=Wn(512),d=Wn(u*(c.height()/c.width()))):(d=Wn(512),u=Wn(d*(c.width()/c.height()))),c.width(u),c.height(d),c.toDataURL({x:0,y:0,width:u,height:d,pixelRatio:1.2});const f=a??Is();l&&l(`find:${f}`)})}}};var ove=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function wy(t,e){var n=ave(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function ave(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=ove.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var lve=[".DS_Store","Thumbs.db"];function cve(t){return di(this,void 0,void 0,function(){return Yr(this,function(e){return wb(t)&&uve(t.dataTransfer)?[2,pve(t.dataTransfer,t.type)]:dve(t)?[2,fve(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,hve(t)]:[2,[]]})})}function uve(t){return wb(t)}function dve(t){return wb(t)&&wb(t.target)}function wb(t){return typeof t=="object"&&t!==null}function fve(t){return u$(t.target.files).map(function(e){return wy(e)})}function hve(t){return di(this,void 0,void 0,function(){var e;return Yr(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return wy(r)})]}})})}function pve(t,e){return di(this,void 0,void 0,function(){var n,r;return Yr(this,function(i){switch(i.label){case 0:return t.items?(n=u$(t.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(mve))]):[3,2];case 1:return r=i.sent(),[2,wM(eG(r))];case 2:return[2,wM(u$(t.files).map(function(s){return wy(s)}))]}})})}function wM(t){return t.filter(function(e){return lve.indexOf(e.name)===-1})}function u$(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function mve(t){if(typeof t.webkitGetAsEntry!="function")return SM(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?tG(e):SM(t)}function eG(t){return t.reduce(function(e,n){return Pr(Pr([],fh(e),!1),fh(Array.isArray(n)?eG(n):[n]),!1)},[])}function SM(t){var e=t.getAsFile();if(!e)return Promise.reject("".concat(t," is not a File"));var n=wy(e);return Promise.resolve(n)}function gve(t){return di(this,void 0,void 0,function(){return Yr(this,function(e){return[2,t.isDirectory?tG(t):yve(t)]})})}function tG(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function s(){var o=this;e.readEntries(function(a){return di(o,void 0,void 0,function(){var l,c,u;return Yr(this,function(d){switch(d.label){case 0:if(a.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=d.sent(),n(l),[3,4];case 3:return c=d.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(gve)),i.push(u),s(),d.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function yve(t){return di(this,void 0,void 0,function(){return Yr(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var s=wy(i,t.fullPath);n(s)},function(i){r(i)})})]})})}var vve=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function kM(t){return wve(t)||bve(t)||rG(t)||xve()}function xve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wve(t){if(Array.isArray(t))return d$(t)}function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){nG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mg(t,e){return Cve(t)||kve(t,e)||rG(t,e)||Sve()}function Sve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rG(t,e){if(t){if(typeof t=="string")return d$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d$(t,e)}}function d$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Cve(t){if(Array.isArray(t))return t}var Eve="file-invalid-type",Tve="file-too-large",_ve="file-too-small",Ive="too-many-files",$ve=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Eve,message:"File type must be ".concat(n)}},TM=function(e){return{code:Tve,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},_M=function(e){return{code:_ve,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Nve={code:Ive,message:"Too many files"};function iG(t,e){var n=t.type==="application/x-moz-file"||vve(t,e);return[n,n?null:$ve(e)]}function sG(t,e,n){if(uu(t.size))if(uu(e)&&uu(n)){if(t.size>n)return[!1,TM(n)];if(t.size<e)return[!1,_M(e)]}else{if(uu(e)&&t.size<e)return[!1,_M(e)];if(uu(n)&&t.size>n)return[!1,TM(n)]}return[!0,null]}function uu(t){return t!=null}function Ove(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles,a=t.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(l){var c=iG(l,n),u=Mg(c,1),d=u[0],f=sG(l,r,i),h=Mg(f,1),m=h[0],y=a?a(l):null;return d&&m&&!y})}function Sb(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function P1(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function IM(t){t.preventDefault()}function Rve(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Ave(t){return t.indexOf("Edge/")!==-1}function Pve(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Rve(t)||Ave(t)}function Mo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!Sb(r)&&a&&a.apply(void 0,[r].concat(s)),Sb(r)})}}function Dve(){return"showOpenFilePicker"in window}function Fve(t){if(uu(t)){var e=Object.entries(t).filter(function(n){var r=Mg(n,2),i=r[0],s=r[1],o=!0;return oG(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(aG))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=Mg(r,2),s=i[0],o=i[1];return EM(EM({},n),{},nG({},s,o))},{});return[{description:"Files",accept:e}]}return t}function Lve(t){if(uu(t))return Object.entries(t).reduce(function(e,n){var r=Mg(n,2),i=r[0],s=r[1];return[].concat(kM(e),[i],kM(s))},[]).filter(function(e){return oG(e)||aG(e)}).join(",")}function Mve(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Bve(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function oG(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||/\w+\/[-+.\w]+/g.test(t)}function aG(t){return/^.*\.[\w]+$/.test(t)}var zve=["children"],jve=["open"],Vve=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Uve=["refKey","onChange","onClick"];function Wve(t){return qve(t)||Hve(t)||lG(t)||Gve()}function Gve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qve(t){if(Array.isArray(t))return f$(t)}function $T(t,e){return Qve(t)||Xve(t,e)||lG(t,e)||Kve()}function Kve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lG(t,e){if(t){if(typeof t=="string")return f$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f$(t,e)}}function f$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Qve(t){if(Array.isArray(t))return t}function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){h$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kb(t,e){if(t==null)return{};var n=Yve(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yve(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var DR=A.forwardRef(function(t,e){var n=t.children,r=kb(t,zve),i=uG(r),s=i.open,o=kb(i,jve);return A.useImperativeHandle(e,function(){return{open:s}},[s]),M.createElement(A.Fragment,null,n(bn(bn({},o),{},{open:s})))});DR.displayName="Dropzone";var cG={disabled:!1,getFilesFromEvent:cve,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};DR.defaultProps=cG;DR.propTypes={children:he.func,accept:he.objectOf(he.arrayOf(he.string)),multiple:he.bool,preventDropOnDocument:he.bool,noClick:he.bool,noKeyboard:he.bool,noDrag:he.bool,noDragEventsBubbling:he.bool,minSize:he.number,maxSize:he.number,maxFiles:he.number,disabled:he.bool,getFilesFromEvent:he.func,onFileDialogCancel:he.func,onFileDialogOpen:he.func,useFsAccessApi:he.bool,autoFocus:he.bool,onDragEnter:he.func,onDragLeave:he.func,onDragOver:he.func,onDrop:he.func,onDropAccepted:he.func,onDropRejected:he.func,onError:he.func,validator:he.func};var p$={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function uG(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=bn(bn({},cG),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,d=e.onDragOver,f=e.onDrop,h=e.onDropAccepted,m=e.onDropRejected,y=e.onFileDialogCancel,x=e.onFileDialogOpen,v=e.useFsAccessApi,b=e.autoFocus,w=e.preventDropOnDocument,k=e.noClick,E=e.noKeyboard,_=e.noDrag,I=e.noDragEventsBubbling,N=e.onError,D=e.validator,P=A.useMemo(function(){return Lve(n)},[n]),F=A.useMemo(function(){return Fve(n)},[n]),U=A.useMemo(function(){return typeof x=="function"?x:NM},[x]),j=A.useMemo(function(){return typeof y=="function"?y:NM},[y]),W=A.useRef(null),q=A.useRef(null),Q=A.useReducer(Jve,p$),ee=$T(Q,2),V=ee[0],H=ee[1],Y=V.isFocused,Z=V.isFileDialogActive,se=A.useRef(typeof window<"u"&&window.isSecureContext&&v&&Dve()),ce=function(){!se.current&&Z&&setTimeout(function(){if(q.current){var Ae=q.current.files;Ae.length||(H({type:"closeDialog"}),j())}},300)};A.useEffect(function(){return window.addEventListener("focus",ce,!1),function(){window.removeEventListener("focus",ce,!1)}},[q,Z,j,se]);var de=A.useRef([]),fe=function(Ae){W.current&&W.current.contains(Ae.target)||(Ae.preventDefault(),de.current=[])};A.useEffect(function(){return w&&(document.addEventListener("dragover",IM,!1),document.addEventListener("drop",fe,!1)),function(){w&&(document.removeEventListener("dragover",IM),document.removeEventListener("drop",fe))}},[W,w]),A.useEffect(function(){return!r&&b&&W.current&&W.current.focus(),function(){}},[W,b,r]);var ge=A.useCallback(function(ye){N?N(ye):console.error(ye)},[N]),ke=A.useCallback(function(ye){ye.preventDefault(),ye.persist(),lt(ye),de.current=[].concat(Wve(de.current),[ye.target]),P1(ye)&&Promise.resolve(i(ye)).then(function(Ae){if(!(Sb(ye)&&!I)){var Pe=Ae.length,ct=Pe>0&&Ove({files:Ae,accept:P,minSize:o,maxSize:s,multiple:a,maxFiles:l,validator:D}),Ct=Pe>0&&!ct;H({isDragAccept:ct,isDragReject:Ct,isDragActive:!0,type:"setDraggedFiles"}),c&&c(ye)}}).catch(function(Ae){return ge(Ae)})},[i,c,ge,I,P,o,s,a,l,D]),Ie=A.useCallback(function(ye){ye.preventDefault(),ye.persist(),lt(ye);var Ae=P1(ye);if(Ae&&ye.dataTransfer)try{ye.dataTransfer.dropEffect="copy"}catch{}return Ae&&d&&d(ye),!1},[d,I]),$e=A.useCallback(function(ye){ye.preventDefault(),ye.persist(),lt(ye);var Ae=de.current.filter(function(ct){return W.current&&W.current.contains(ct)}),Pe=Ae.indexOf(ye.target);Pe!==-1&&Ae.splice(Pe,1),de.current=Ae,!(Ae.length>0)&&(H({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),P1(ye)&&u&&u(ye))},[W,u,I]),De=A.useCallback(function(ye,Ae){var Pe=[],ct=[];ye.forEach(function(Ct){var ai=iG(Ct,P),xi=$T(ai,2),Ce=xi[0],qt=xi[1],Yn=sG(Ct,o,s),Er=$T(Yn,2),bi=Er[0],wi=Er[1],Tr=D?D(Ct):null;if(Ce&&bi&&!Tr)Pe.push(Ct);else{var kp=[qt,wi];Tr&&(kp=kp.concat(Tr)),ct.push({file:Ct,errors:kp.filter(function(Zk){return Zk})})}}),(!a&&Pe.length>1||a&&l>=1&&Pe.length>l)&&(Pe.forEach(function(Ct){ct.push({file:Ct,errors:[Nve]})}),Pe.splice(0)),H({acceptedFiles:Pe,fileRejections:ct,type:"setFiles"}),f&&f(Pe,ct,Ae),ct.length>0&&m&&m(ct,Ae),Pe.length>0&&h&&h(Pe,Ae)},[H,a,P,o,s,l,f,h,m,D]),Oe=A.useCallback(function(ye){ye.preventDefault(),ye.persist(),lt(ye),de.current=[],P1(ye)&&Promise.resolve(i(ye)).then(function(Ae){Sb(ye)&&!I||De(Ae,ye)}).catch(function(Ae){return ge(Ae)}),H({type:"reset"})},[i,De,ge,I]),Qe=A.useCallback(function(){if(se.current){H({type:"openDialog"}),U();var ye={multiple:a,types:F};window.showOpenFilePicker(ye).then(function(Ae){return i(Ae)}).then(function(Ae){De(Ae,null),H({type:"closeDialog"})}).catch(function(Ae){Mve(Ae)?(j(Ae),H({type:"closeDialog"})):Bve(Ae)?(se.current=!1,q.current?(q.current.value=null,q.current.click()):ge(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ge(Ae)});return}q.current&&(H({type:"openDialog"}),U(),q.current.value=null,q.current.click())},[H,U,j,v,De,ge,F,a]),Xe=A.useCallback(function(ye){!W.current||!W.current.isEqualNode(ye.target)||(ye.key===" "||ye.key==="Enter"||ye.keyCode===32||ye.keyCode===13)&&(ye.preventDefault(),Qe())},[W,Qe]),et=A.useCallback(function(){H({type:"focus"})},[]),He=A.useCallback(function(){H({type:"blur"})},[]),rt=A.useCallback(function(){k||(Pve()?setTimeout(Qe,0):Qe())},[k,Qe]),nt=function(Ae){return r?null:Ae},bt=function(Ae){return E?null:nt(Ae)},ln=function(Ae){return _?null:nt(Ae)},lt=function(Ae){I&&Ae.stopPropagation()},_n=A.useMemo(function(){return function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ae=ye.refKey,Pe=Ae===void 0?"ref":Ae,ct=ye.role,Ct=ye.onKeyDown,ai=ye.onFocus,xi=ye.onBlur,Ce=ye.onClick,qt=ye.onDragEnter,Yn=ye.onDragOver,Er=ye.onDragLeave,bi=ye.onDrop,wi=kb(ye,Vve);return bn(bn(h$({onKeyDown:bt(Mo(Ct,Xe)),onFocus:bt(Mo(ai,et)),onBlur:bt(Mo(xi,He)),onClick:nt(Mo(Ce,rt)),onDragEnter:ln(Mo(qt,ke)),onDragOver:ln(Mo(Yn,Ie)),onDragLeave:ln(Mo(Er,$e)),onDrop:ln(Mo(bi,Oe)),role:typeof ct=="string"&&ct!==""?ct:"presentation"},Pe,W),!r&&!E?{tabIndex:0}:{}),wi)}},[W,Xe,et,He,rt,ke,Ie,$e,Oe,E,_,r]),cn=A.useCallback(function(ye){ye.stopPropagation()},[]),lr=A.useMemo(function(){return function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ae=ye.refKey,Pe=Ae===void 0?"ref":Ae,ct=ye.onChange,Ct=ye.onClick,ai=kb(ye,Uve),xi=h$({accept:P,multiple:a,type:"file",style:{display:"none"},onChange:nt(Mo(ct,Oe)),onClick:nt(Mo(Ct,cn)),tabIndex:-1},Pe,q);return bn(bn({},xi),ai)}},[q,n,a,Oe,r]);return bn(bn({},V),{},{isFocused:Y&&!r,getRootProps:_n,getInputProps:lr,rootRef:W,inputRef:q,open:nt(Qe)})}function Jve(t,e){switch(e.type){case"focus":return bn(bn({},t),{},{isFocused:!0});case"blur":return bn(bn({},t),{},{isFocused:!1});case"openDialog":return bn(bn({},p$),{},{isFileDialogActive:!0});case"closeDialog":return bn(bn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return bn(bn({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return bn(bn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return bn({},p$);default:return t}}function NM(){}const Zve=({onCompleted:t})=>{const{getTranslation:e}=gs(),n=A.useCallback(s=>{s.forEach(o=>{t({id:Is(),attrs:{name:"imported image","data-item-type":"image",x:0,y:0,width:100,height:100,src:URL.createObjectURL(o),zIndex:2,brightness:0,draggable:!0,updatedAt:Date.now()},className:"sample-image",children:[]})})},[]),{getRootProps:r,getInputProps:i}=uG({onDrop:n});return R.jsxs(R.Fragment,{children:[R.jsxs(On,{className:[Vn["mx-h-30vh"]].concat([tr["toolbar-section-container"]]).join(" "),children:[R.jsx(cs,{children:R.jsx("h6",{className:[tr["toolbar-section-h6"]].join(" "),style:{marginTop:"15px",fontSize:"0.8rem"},children:e("widget","uploadPhoto","name")})}),R.jsxs("div",{children:[R.jsx("section",{className:["container"].concat([tr["toolbar-upload-photo-dropzone"]]).join(" "),children:R.jsxs("div",{...r({className:"dropzone",style:{background:"rgba(0,0,0,0)",alignItems:"center",margin:"0.2rem 0"}}),children:[R.jsx("input",{...i()}),R.jsx("p",{className:"m-auto",children:"+"})]})}),R.jsx("p",{style:{fontSize:"0.8rem",fontWeight:"300",fontStyle:"italic",color:"#9798A4",marginBottom:"0"},children:"(JPG,PNG,EPS,AI,& PDF)"}),R.jsx("p",{style:{fontSize:"0.8rem",fontWeight:"300",fontStyle:"italic",color:"#9798A4",marginBottom:"0"},children:"Max 5 MB"})]})]}),R.jsx("hr",{className:"m-0"})]})};var m$=A,e0e=$7,t0e=S7;function FR(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Uo=FR(m$),er=FR(e0e),NT=FR(t0e);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vo=function(){return Vo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vo.apply(this,arguments)};function g$(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var n0e="range-slider",r0e=Uo.default.forwardRef(function(t,e){var n=t.classes,r=t.value,i=t.min,s=t.max,o=t.onChange,a=t.onMouseUpOrTouchEnd,l=t.onMouseUp,c=t.onTouchEnd,u=g$(t,["classes","value","min","max","onChange","onMouseUpOrTouchEnd","onMouseUp","onTouchEnd"]);return Uo.default.createElement("input",Vo({ref:e,type:"range",value:r,min:i,max:s,onChange:function(d){return o(d,d.target.valueAsNumber)},onMouseUp:function(d){a(d),l&&l(d)},onTouchEnd:function(d){a(d),c&&c(d)},className:n,"aria-valuenow":Number(r),"aria-valuemin":Number(i),"aria-valuemax":Number(s)},u))}),i0e=Uo.default.memo(r0e),dG=Uo.default.forwardRef(function(t,e){var n=t.value,r=t.onChange,i=r===void 0?function(){}:r,s=t.onAfterChange,o=s===void 0?function(){}:s,a=t.disabled,l=a===void 0?!1:a,c=t.size,u=t.min,d=u===void 0?0:u,f=t.max,h=f===void 0?100:f,m=t.step,y=t.variant,x=y===void 0?"primary":y,v=t.inputProps,b=v===void 0?{}:v,w=t.tooltip,k=w===void 0?"auto":w,E=t.tooltipPlacement,_=E===void 0?"bottom":E,I=t.tooltipLabel,N=t.tooltipStyle,D=N===void 0?{}:N,P=t.tooltipProps,F=P===void 0?{}:P,U=t.bsPrefix,j=t.className,W=g$(t,["value","onChange","onAfterChange","disabled","size","min","max","step","variant","inputProps","tooltip","tooltipPlacement","tooltipLabel","tooltipStyle","tooltipProps","bsPrefix","className"]),q=m$.useState(),Q=q[0],ee=q[1],V=U||n0e,H=k==="auto"||k==="on",Y=NT.default(j,V,c&&V+"--"+c,l&&"disabled",x&&V+"--"+x),Z=Vo(Vo({},b),W),se=Z.onMouseUp,ce=Z.onTouchEnd,de=g$(Z,["onMouseUp","onTouchEnd"]),fe=m$.useCallback(function(et){Q!==et.target.value&&o(et,et.target.valueAsNumber),ee(et.target.value)},[Q,o]),ge=Uo.default.createElement(i0e,Vo({},Vo({disabled:l,value:n,min:d,max:h,ref:e,step:m,classes:Y,onMouseUpOrTouchEnd:fe,onTouchEnd:ce,onMouseUp:se,onChange:i},de))),ke=NT.default(V+"__wrap",c&&V+"__wrap--"+c),Ie=NT.default(V+"__tooltip",H&&V+"__tooltip--"+k,_&&V+"__tooltip--"+_,l&&V+"__tooltip--disabled"),$e=c==="sm"?8:c==="lg"?12:10,De=(Number(n)-d)/(h-d),Oe=De*100,Qe=(De-.5)*2,Xe=Qe*-$e;return Uo.default.createElement("span",{className:ke},ge,H&&Uo.default.createElement("div",Vo({className:Ie,style:Vo(Vo({},D||{}),{left:"calc("+Oe+"% + "+Xe+"px)"})},F),Uo.default.createElement("div",{className:V+"__tooltip__label"},I?I(Number(n)):n),Uo.default.createElement("div",{className:V+"__tooltip__caret"})))});dG.propTypes={value:er.default.oneOfType([er.default.number,er.default.string]).isRequired,onChange:er.default.func,onAfterChange:er.default.func,min:er.default.number,max:er.default.number,step:er.default.number,disabled:er.default.bool,size:er.default.oneOf(["sm","lg"]),variant:er.default.oneOf(["primary","secondary","success","danger","warning","info","dark","light"]),inputProps:er.default.object,tooltip:er.default.oneOf(["auto","on","off"]),tooltipPlacement:er.default.oneOf(["top","bottom"]),tooltipLabel:er.default.func,tooltipStyle:er.default.object,tooltipProps:er.default.object,className:er.default.string,bsPrefix:er.default.string};var s0e=Uo.default.memo(dG),o0e=s0e;const fG=nl(o0e);var Rs={},Sy={},a0e=typeof go=="object"&&go&&go.Object===Object&&go,hG=a0e,l0e=hG,c0e=typeof self=="object"&&self&&self.Object===Object&&self,u0e=l0e||c0e||Function("return this")(),ma=u0e,d0e=ma,f0e=d0e.Symbol,ky=f0e,OM=ky,pG=Object.prototype,h0e=pG.hasOwnProperty,p0e=pG.toString,am=OM?OM.toStringTag:void 0;function m0e(t){var e=h0e.call(t,am),n=t[am];try{t[am]=void 0;var r=!0}catch{}var i=p0e.call(t);return r&&(e?t[am]=n:delete t[am]),i}var g0e=m0e,y0e=Object.prototype,v0e=y0e.toString;function x0e(t){return v0e.call(t)}var b0e=x0e,RM=ky,w0e=g0e,S0e=b0e,k0e="[object Null]",C0e="[object Undefined]",AM=RM?RM.toStringTag:void 0;function E0e(t){return t==null?t===void 0?C0e:k0e:AM&&AM in Object(t)?w0e(t):S0e(t)}var dd=E0e,T0e=Array.isArray,To=T0e;function _0e(t){return t!=null&&typeof t=="object"}var ll=_0e,I0e=dd,$0e=To,N0e=ll,O0e="[object String]";function R0e(t){return typeof t=="string"||!$0e(t)&&N0e(t)&&I0e(t)==O0e}var A0e=R0e;function P0e(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var D0e=P0e,F0e=D0e,L0e=F0e(),M0e=L0e;function B0e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var z0e=B0e,j0e=dd,V0e=ll,U0e="[object Arguments]";function W0e(t){return V0e(t)&&j0e(t)==U0e}var G0e=W0e,PM=G0e,H0e=ll,mG=Object.prototype,q0e=mG.hasOwnProperty,K0e=mG.propertyIsEnumerable,X0e=PM(function(){return arguments}())?PM:function(t){return H0e(t)&&q0e.call(t,"callee")&&!K0e.call(t,"callee")},gG=X0e,Cb={exports:{}};function Q0e(){return!1}var Y0e=Q0e;Cb.exports;(function(t,e){var n=ma,r=Y0e,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(Cb,Cb.exports);var LR=Cb.exports,J0e=9007199254740991,Z0e=/^(?:0|[1-9]\d*)$/;function e1e(t,e){var n=typeof t;return e=e??J0e,!!e&&(n=="number"||n!="symbol"&&Z0e.test(t))&&t>-1&&t%1==0&&t<e}var yG=e1e,t1e=9007199254740991;function n1e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=t1e}var MR=n1e,r1e=dd,i1e=MR,s1e=ll,o1e="[object Arguments]",a1e="[object Array]",l1e="[object Boolean]",c1e="[object Date]",u1e="[object Error]",d1e="[object Function]",f1e="[object Map]",h1e="[object Number]",p1e="[object Object]",m1e="[object RegExp]",g1e="[object Set]",y1e="[object String]",v1e="[object WeakMap]",x1e="[object ArrayBuffer]",b1e="[object DataView]",w1e="[object Float32Array]",S1e="[object Float64Array]",k1e="[object Int8Array]",C1e="[object Int16Array]",E1e="[object Int32Array]",T1e="[object Uint8Array]",_1e="[object Uint8ClampedArray]",I1e="[object Uint16Array]",$1e="[object Uint32Array]",rn={};rn[w1e]=rn[S1e]=rn[k1e]=rn[C1e]=rn[E1e]=rn[T1e]=rn[_1e]=rn[I1e]=rn[$1e]=!0;rn[o1e]=rn[a1e]=rn[x1e]=rn[l1e]=rn[b1e]=rn[c1e]=rn[u1e]=rn[d1e]=rn[f1e]=rn[h1e]=rn[p1e]=rn[m1e]=rn[g1e]=rn[y1e]=rn[v1e]=!1;function N1e(t){return s1e(t)&&i1e(t.length)&&!!rn[r1e(t)]}var O1e=N1e;function R1e(t){return function(e){return t(e)}}var BR=R1e,Eb={exports:{}};Eb.exports;(function(t,e){var n=hG,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(Eb,Eb.exports);var zR=Eb.exports,A1e=O1e,P1e=BR,DM=zR,FM=DM&&DM.isTypedArray,D1e=FM?P1e(FM):A1e,vG=D1e,F1e=z0e,L1e=gG,M1e=To,B1e=LR,z1e=yG,j1e=vG,V1e=Object.prototype,U1e=V1e.hasOwnProperty;function W1e(t,e){var n=M1e(t),r=!n&&L1e(t),i=!n&&!r&&B1e(t),s=!n&&!r&&!i&&j1e(t),o=n||r||i||s,a=o?F1e(t.length,String):[],l=a.length;for(var c in t)(e||U1e.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||z1e(c,l)))&&a.push(c);return a}var xG=W1e,G1e=Object.prototype;function H1e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||G1e;return t===n}var jR=H1e;function q1e(t,e){return function(n){return t(e(n))}}var bG=q1e,K1e=bG,X1e=K1e(Object.keys,Object),Q1e=X1e,Y1e=jR,J1e=Q1e,Z1e=Object.prototype,exe=Z1e.hasOwnProperty;function txe(t){if(!Y1e(t))return J1e(t);var e=[];for(var n in Object(t))exe.call(t,n)&&n!="constructor"&&e.push(n);return e}var nxe=txe;function rxe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Zh=rxe,ixe=dd,sxe=Zh,oxe="[object AsyncFunction]",axe="[object Function]",lxe="[object GeneratorFunction]",cxe="[object Proxy]";function uxe(t){if(!sxe(t))return!1;var e=ixe(t);return e==axe||e==lxe||e==oxe||e==cxe}var wG=uxe,dxe=wG,fxe=MR;function hxe(t){return t!=null&&fxe(t.length)&&!dxe(t)}var p2=hxe,pxe=xG,mxe=nxe,gxe=p2;function yxe(t){return gxe(t)?pxe(t):mxe(t)}var Cy=yxe,vxe=M0e,xxe=Cy;function bxe(t,e){return t&&vxe(t,e,xxe)}var SG=bxe;function wxe(t){return t}var kG=wxe,Sxe=kG;function kxe(t){return typeof t=="function"?t:Sxe}var Cxe=kxe,Exe=SG,Txe=Cxe;function _xe(t,e){return t&&Exe(t,Txe(e))}var VR=_xe,Ixe=bG,$xe=Ixe(Object.getPrototypeOf,Object),UR=$xe,Nxe=dd,Oxe=UR,Rxe=ll,Axe="[object Object]",Pxe=Function.prototype,Dxe=Object.prototype,CG=Pxe.toString,Fxe=Dxe.hasOwnProperty,Lxe=CG.call(Object);function Mxe(t){if(!Rxe(t)||Nxe(t)!=Axe)return!1;var e=Oxe(t);if(e===null)return!0;var n=Fxe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&CG.call(n)==Lxe}var Bxe=Mxe;function zxe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var EG=zxe;function jxe(){this.__data__=[],this.size=0}var Vxe=jxe;function Uxe(t,e){return t===e||t!==t&&e!==e}var WR=Uxe,Wxe=WR;function Gxe(t,e){for(var n=t.length;n--;)if(Wxe(t[n][0],e))return n;return-1}var m2=Gxe,Hxe=m2,qxe=Array.prototype,Kxe=qxe.splice;function Xxe(t){var e=this.__data__,n=Hxe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Kxe.call(e,n,1),--this.size,!0}var Qxe=Xxe,Yxe=m2;function Jxe(t){var e=this.__data__,n=Yxe(e,t);return n<0?void 0:e[n][1]}var Zxe=Jxe,ebe=m2;function tbe(t){return ebe(this.__data__,t)>-1}var nbe=tbe,rbe=m2;function ibe(t,e){var n=this.__data__,r=rbe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var sbe=ibe,obe=Vxe,abe=Qxe,lbe=Zxe,cbe=nbe,ube=sbe;function ep(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ep.prototype.clear=obe;ep.prototype.delete=abe;ep.prototype.get=lbe;ep.prototype.has=cbe;ep.prototype.set=ube;var g2=ep,dbe=g2;function fbe(){this.__data__=new dbe,this.size=0}var hbe=fbe;function pbe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var mbe=pbe;function gbe(t){return this.__data__.get(t)}var ybe=gbe;function vbe(t){return this.__data__.has(t)}var xbe=vbe,bbe=ma,wbe=bbe["__core-js_shared__"],Sbe=wbe,OT=Sbe,LM=function(){var t=/[^.]+$/.exec(OT&&OT.keys&&OT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function kbe(t){return!!LM&&LM in t}var Cbe=kbe,Ebe=Function.prototype,Tbe=Ebe.toString;function _be(t){if(t!=null){try{return Tbe.call(t)}catch{}try{return t+""}catch{}}return""}var TG=_be,Ibe=wG,$be=Cbe,Nbe=Zh,Obe=TG,Rbe=/[\\^$.*+?()[\]{}|]/g,Abe=/^\[object .+?Constructor\]$/,Pbe=Function.prototype,Dbe=Object.prototype,Fbe=Pbe.toString,Lbe=Dbe.hasOwnProperty,Mbe=RegExp("^"+Fbe.call(Lbe).replace(Rbe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Bbe(t){if(!Nbe(t)||$be(t))return!1;var e=Ibe(t)?Mbe:Abe;return e.test(Obe(t))}var zbe=Bbe;function jbe(t,e){return t==null?void 0:t[e]}var Vbe=jbe,Ube=zbe,Wbe=Vbe;function Gbe(t,e){var n=Wbe(t,e);return Ube(n)?n:void 0}var fd=Gbe,Hbe=fd,qbe=ma,Kbe=Hbe(qbe,"Map"),GR=Kbe,Xbe=fd,Qbe=Xbe(Object,"create"),y2=Qbe,MM=y2;function Ybe(){this.__data__=MM?MM(null):{},this.size=0}var Jbe=Ybe;function Zbe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ewe=Zbe,twe=y2,nwe="__lodash_hash_undefined__",rwe=Object.prototype,iwe=rwe.hasOwnProperty;function swe(t){var e=this.__data__;if(twe){var n=e[t];return n===nwe?void 0:n}return iwe.call(e,t)?e[t]:void 0}var owe=swe,awe=y2,lwe=Object.prototype,cwe=lwe.hasOwnProperty;function uwe(t){var e=this.__data__;return awe?e[t]!==void 0:cwe.call(e,t)}var dwe=uwe,fwe=y2,hwe="__lodash_hash_undefined__";function pwe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=fwe&&e===void 0?hwe:e,this}var mwe=pwe,gwe=Jbe,ywe=ewe,vwe=owe,xwe=dwe,bwe=mwe;function tp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tp.prototype.clear=gwe;tp.prototype.delete=ywe;tp.prototype.get=vwe;tp.prototype.has=xwe;tp.prototype.set=bwe;var wwe=tp,BM=wwe,Swe=g2,kwe=GR;function Cwe(){this.size=0,this.__data__={hash:new BM,map:new(kwe||Swe),string:new BM}}var Ewe=Cwe;function Twe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var _we=Twe,Iwe=_we;function $we(t,e){var n=t.__data__;return Iwe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var v2=$we,Nwe=v2;function Owe(t){var e=Nwe(this,t).delete(t);return this.size-=e?1:0,e}var Rwe=Owe,Awe=v2;function Pwe(t){return Awe(this,t).get(t)}var Dwe=Pwe,Fwe=v2;function Lwe(t){return Fwe(this,t).has(t)}var Mwe=Lwe,Bwe=v2;function zwe(t,e){var n=Bwe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var jwe=zwe,Vwe=Ewe,Uwe=Rwe,Wwe=Dwe,Gwe=Mwe,Hwe=jwe;function np(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}np.prototype.clear=Vwe;np.prototype.delete=Uwe;np.prototype.get=Wwe;np.prototype.has=Gwe;np.prototype.set=Hwe;var HR=np,qwe=g2,Kwe=GR,Xwe=HR,Qwe=200;function Ywe(t,e){var n=this.__data__;if(n instanceof qwe){var r=n.__data__;if(!Kwe||r.length<Qwe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Xwe(r)}return n.set(t,e),this.size=n.size,this}var Jwe=Ywe,Zwe=g2,e2e=hbe,t2e=mbe,n2e=ybe,r2e=xbe,i2e=Jwe;function rp(t){var e=this.__data__=new Zwe(t);this.size=e.size}rp.prototype.clear=e2e;rp.prototype.delete=t2e;rp.prototype.get=n2e;rp.prototype.has=r2e;rp.prototype.set=i2e;var qR=rp,s2e="__lodash_hash_undefined__";function o2e(t){return this.__data__.set(t,s2e),this}var a2e=o2e;function l2e(t){return this.__data__.has(t)}var c2e=l2e,u2e=HR,d2e=a2e,f2e=c2e;function Tb(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new u2e;++e<n;)this.add(t[e])}Tb.prototype.add=Tb.prototype.push=d2e;Tb.prototype.has=f2e;var h2e=Tb;function p2e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var m2e=p2e;function g2e(t,e){return t.has(e)}var y2e=g2e,v2e=h2e,x2e=m2e,b2e=y2e,w2e=1,S2e=2;function k2e(t,e,n,r,i,s){var o=n&w2e,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,h=n&S2e?new v2e:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var m=t[d],y=e[d];if(r)var x=o?r(y,m,d,e,t,s):r(m,y,d,t,e,s);if(x!==void 0){if(x)continue;f=!1;break}if(h){if(!x2e(e,function(v,b){if(!b2e(h,b)&&(m===v||i(m,v,n,r,s)))return h.push(b)})){f=!1;break}}else if(!(m===y||i(m,y,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var _G=k2e,C2e=ma,E2e=C2e.Uint8Array,IG=E2e;function T2e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var _2e=T2e;function I2e(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var $2e=I2e,zM=ky,jM=IG,N2e=WR,O2e=_G,R2e=_2e,A2e=$2e,P2e=1,D2e=2,F2e="[object Boolean]",L2e="[object Date]",M2e="[object Error]",B2e="[object Map]",z2e="[object Number]",j2e="[object RegExp]",V2e="[object Set]",U2e="[object String]",W2e="[object Symbol]",G2e="[object ArrayBuffer]",H2e="[object DataView]",VM=zM?zM.prototype:void 0,RT=VM?VM.valueOf:void 0;function q2e(t,e,n,r,i,s,o){switch(n){case H2e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case G2e:return!(t.byteLength!=e.byteLength||!s(new jM(t),new jM(e)));case F2e:case L2e:case z2e:return N2e(+t,+e);case M2e:return t.name==e.name&&t.message==e.message;case j2e:case U2e:return t==e+"";case B2e:var a=R2e;case V2e:var l=r&P2e;if(a||(a=A2e),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=D2e,o.set(t,e);var u=O2e(a(t),a(e),r,i,s,o);return o.delete(t),u;case W2e:if(RT)return RT.call(t)==RT.call(e)}return!1}var K2e=q2e;function X2e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var $G=X2e,Q2e=$G,Y2e=To;function J2e(t,e,n){var r=e(t);return Y2e(t)?r:Q2e(r,n(t))}var NG=J2e;function Z2e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var eSe=Z2e;function tSe(){return[]}var OG=tSe,nSe=eSe,rSe=OG,iSe=Object.prototype,sSe=iSe.propertyIsEnumerable,UM=Object.getOwnPropertySymbols,oSe=UM?function(t){return t==null?[]:(t=Object(t),nSe(UM(t),function(e){return sSe.call(t,e)}))}:rSe,KR=oSe,aSe=NG,lSe=KR,cSe=Cy;function uSe(t){return aSe(t,cSe,lSe)}var RG=uSe,WM=RG,dSe=1,fSe=Object.prototype,hSe=fSe.hasOwnProperty;function pSe(t,e,n,r,i,s){var o=n&dSe,a=WM(t),l=a.length,c=WM(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:hSe.call(e,f)))return!1}var h=s.get(t),m=s.get(e);if(h&&m)return h==e&&m==t;var y=!0;s.set(t,e),s.set(e,t);for(var x=o;++d<l;){f=a[d];var v=t[f],b=e[f];if(r)var w=o?r(b,v,f,e,t,s):r(v,b,f,t,e,s);if(!(w===void 0?v===b||i(v,b,n,r,s):w)){y=!1;break}x||(x=f=="constructor")}if(y&&!x){var k=t.constructor,E=e.constructor;k!=E&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof E=="function"&&E instanceof E)&&(y=!1)}return s.delete(t),s.delete(e),y}var mSe=pSe,gSe=fd,ySe=ma,vSe=gSe(ySe,"DataView"),xSe=vSe,bSe=fd,wSe=ma,SSe=bSe(wSe,"Promise"),kSe=SSe,CSe=fd,ESe=ma,TSe=CSe(ESe,"Set"),_Se=TSe,ISe=fd,$Se=ma,NSe=ISe($Se,"WeakMap"),OSe=NSe,y$=xSe,v$=GR,x$=kSe,b$=_Se,w$=OSe,AG=dd,ip=TG,GM="[object Map]",RSe="[object Object]",HM="[object Promise]",qM="[object Set]",KM="[object WeakMap]",XM="[object DataView]",ASe=ip(y$),PSe=ip(v$),DSe=ip(x$),FSe=ip(b$),LSe=ip(w$),ru=AG;(y$&&ru(new y$(new ArrayBuffer(1)))!=XM||v$&&ru(new v$)!=GM||x$&&ru(x$.resolve())!=HM||b$&&ru(new b$)!=qM||w$&&ru(new w$)!=KM)&&(ru=function(t){var e=AG(t),n=e==RSe?t.constructor:void 0,r=n?ip(n):"";if(r)switch(r){case ASe:return XM;case PSe:return GM;case DSe:return HM;case FSe:return qM;case LSe:return KM}return e});var x2=ru,AT=qR,MSe=_G,BSe=K2e,zSe=mSe,QM=x2,YM=To,JM=LR,jSe=vG,VSe=1,ZM="[object Arguments]",e6="[object Array]",D1="[object Object]",USe=Object.prototype,t6=USe.hasOwnProperty;function WSe(t,e,n,r,i,s){var o=YM(t),a=YM(e),l=o?e6:QM(t),c=a?e6:QM(e);l=l==ZM?D1:l,c=c==ZM?D1:c;var u=l==D1,d=c==D1,f=l==c;if(f&&JM(t)){if(!JM(e))return!1;o=!0,u=!1}if(f&&!u)return s||(s=new AT),o||jSe(t)?MSe(t,e,n,r,i,s):BSe(t,e,l,n,r,i,s);if(!(n&VSe)){var h=u&&t6.call(t,"__wrapped__"),m=d&&t6.call(e,"__wrapped__");if(h||m){var y=h?t.value():t,x=m?e.value():e;return s||(s=new AT),i(y,x,n,r,s)}}return f?(s||(s=new AT),zSe(t,e,n,r,i,s)):!1}var GSe=WSe,HSe=GSe,n6=ll;function PG(t,e,n,r,i){return t===e?!0:t==null||e==null||!n6(t)&&!n6(e)?t!==t&&e!==e:HSe(t,e,n,r,PG,i)}var DG=PG,qSe=qR,KSe=DG,XSe=1,QSe=2;function YSe(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new qSe;if(r)var f=r(c,u,l,t,e,d);if(!(f===void 0?KSe(u,c,XSe|QSe,r,d):f))return!1}}return!0}var JSe=YSe,ZSe=Zh;function eke(t){return t===t&&!ZSe(t)}var FG=eke,tke=FG,nke=Cy;function rke(t){for(var e=nke(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,tke(i)]}return e}var ike=rke;function ske(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var LG=ske,oke=JSe,ake=ike,lke=LG;function cke(t){var e=ake(t);return e.length==1&&e[0][2]?lke(e[0][0],e[0][1]):function(n){return n===t||oke(n,t,e)}}var uke=cke,dke=dd,fke=ll,hke="[object Symbol]";function pke(t){return typeof t=="symbol"||fke(t)&&dke(t)==hke}var XR=pke,mke=To,gke=XR,yke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vke=/^\w*$/;function xke(t,e){if(mke(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||gke(t)?!0:vke.test(t)||!yke.test(t)||e!=null&&t in Object(e)}var QR=xke,MG=HR,bke="Expected a function";function YR(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(bke);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(YR.Cache||MG),n}YR.Cache=MG;var wke=YR,Ske=wke,kke=500;function Cke(t){var e=Ske(t,function(r){return n.size===kke&&n.clear(),r}),n=e.cache;return e}var Eke=Cke,Tke=Eke,_ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ike=/\\(\\)?/g,$ke=Tke(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(_ke,function(n,r,i,s){e.push(i?s.replace(Ike,"$1"):r||n)}),e}),Nke=$ke,r6=ky,Oke=EG,Rke=To,Ake=XR,Pke=1/0,i6=r6?r6.prototype:void 0,s6=i6?i6.toString:void 0;function BG(t){if(typeof t=="string")return t;if(Rke(t))return Oke(t,BG)+"";if(Ake(t))return s6?s6.call(t):"";var e=t+"";return e=="0"&&1/t==-Pke?"-0":e}var Dke=BG,Fke=Dke;function Lke(t){return t==null?"":Fke(t)}var Mke=Lke,Bke=To,zke=QR,jke=Nke,Vke=Mke;function Uke(t,e){return Bke(t)?t:zke(t,e)?[t]:jke(Vke(t))}var zG=Uke,Wke=XR,Gke=1/0;function Hke(t){if(typeof t=="string"||Wke(t))return t;var e=t+"";return e=="0"&&1/t==-Gke?"-0":e}var b2=Hke,qke=zG,Kke=b2;function Xke(t,e){e=qke(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Kke(e[n++])];return n&&n==r?t:void 0}var jG=Xke,Qke=jG;function Yke(t,e,n){var r=t==null?void 0:Qke(t,e);return r===void 0?n:r}var Jke=Yke;function Zke(t,e){return t!=null&&e in Object(t)}var eCe=Zke,tCe=zG,nCe=gG,rCe=To,iCe=yG,sCe=MR,oCe=b2;function aCe(t,e,n){e=tCe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=oCe(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&sCe(i)&&iCe(o,i)&&(rCe(t)||nCe(t)))}var lCe=aCe,cCe=eCe,uCe=lCe;function dCe(t,e){return t!=null&&uCe(t,e,cCe)}var fCe=dCe,hCe=DG,pCe=Jke,mCe=fCe,gCe=QR,yCe=FG,vCe=LG,xCe=b2,bCe=1,wCe=2;function SCe(t,e){return gCe(t)&&yCe(e)?vCe(xCe(t),e):function(n){var r=pCe(n,t);return r===void 0&&r===e?mCe(n,t):hCe(e,r,bCe|wCe)}}var kCe=SCe;function CCe(t){return function(e){return e==null?void 0:e[t]}}var ECe=CCe,TCe=jG;function _Ce(t){return function(e){return TCe(e,t)}}var ICe=_Ce,$Ce=ECe,NCe=ICe,OCe=QR,RCe=b2;function ACe(t){return OCe(t)?$Ce(RCe(t)):NCe(t)}var PCe=ACe,DCe=uke,FCe=kCe,LCe=kG,MCe=To,BCe=PCe;function zCe(t){return typeof t=="function"?t:t==null?LCe:typeof t=="object"?MCe(t)?FCe(t[0],t[1]):DCe(t):BCe(t)}var jCe=zCe,VCe=p2;function UCe(t,e){return function(n,r){if(n==null)return n;if(!VCe(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var WCe=UCe,GCe=SG,HCe=WCe,qCe=HCe(GCe),KCe=qCe,XCe=KCe,QCe=p2;function YCe(t,e){var n=-1,r=QCe(t)?Array(t.length):[];return XCe(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var JCe=YCe,ZCe=EG,eEe=jCe,tEe=JCe,nEe=To;function rEe(t,e){var n=nEe(t)?ZCe:tEe;return n(t,eEe(e))}var iEe=rEe;Object.defineProperty(Sy,"__esModule",{value:!0});Sy.flattenNames=void 0;var sEe=A0e,oEe=w2(sEe),aEe=VR,lEe=w2(aEe),cEe=Bxe,uEe=w2(cEe),dEe=iEe,fEe=w2(dEe);function w2(t){return t&&t.__esModule?t:{default:t}}var hEe=Sy.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,fEe.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,uEe.default)(r)?(0,lEe.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,oEe.default)(r)&&n.push(r)}),n};Sy.default=hEe;var Ey={};function pEe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var mEe=pEe,gEe=fd,yEe=function(){try{var t=gEe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),vEe=yEe,o6=vEe;function xEe(t,e,n){e=="__proto__"&&o6?o6(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var VG=xEe,bEe=VG,wEe=WR,SEe=Object.prototype,kEe=SEe.hasOwnProperty;function CEe(t,e,n){var r=t[e];(!(kEe.call(t,e)&&wEe(r,n))||n===void 0&&!(e in t))&&bEe(t,e,n)}var UG=CEe,EEe=UG,TEe=VG;function _Ee(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?TEe(n,a,l):EEe(n,a,l)}return n}var S2=_Ee,IEe=S2,$Ee=Cy;function NEe(t,e){return t&&IEe(e,$Ee(e),t)}var OEe=NEe;function REe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var AEe=REe,PEe=Zh,DEe=jR,FEe=AEe,LEe=Object.prototype,MEe=LEe.hasOwnProperty;function BEe(t){if(!PEe(t))return FEe(t);var e=DEe(t),n=[];for(var r in t)r=="constructor"&&(e||!MEe.call(t,r))||n.push(r);return n}var zEe=BEe,jEe=xG,VEe=zEe,UEe=p2;function WEe(t){return UEe(t)?jEe(t,!0):VEe(t)}var JR=WEe,GEe=S2,HEe=JR;function qEe(t,e){return t&&GEe(e,HEe(e),t)}var KEe=qEe,_b={exports:{}};_b.exports;(function(t,e){var n=ma,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var d=c.length,f=a?a(d):new c.constructor(d);return c.copy(f),f}t.exports=l})(_b,_b.exports);var XEe=_b.exports;function QEe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var YEe=QEe,JEe=S2,ZEe=KR;function eTe(t,e){return JEe(t,ZEe(t),e)}var tTe=eTe,nTe=$G,rTe=UR,iTe=KR,sTe=OG,oTe=Object.getOwnPropertySymbols,aTe=oTe?function(t){for(var e=[];t;)nTe(e,iTe(t)),t=rTe(t);return e}:sTe,WG=aTe,lTe=S2,cTe=WG;function uTe(t,e){return lTe(t,cTe(t),e)}var dTe=uTe,fTe=NG,hTe=WG,pTe=JR;function mTe(t){return fTe(t,pTe,hTe)}var gTe=mTe,yTe=Object.prototype,vTe=yTe.hasOwnProperty;function xTe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&vTe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var bTe=xTe,a6=IG;function wTe(t){var e=new t.constructor(t.byteLength);return new a6(e).set(new a6(t)),e}var ZR=wTe,STe=ZR;function kTe(t,e){var n=e?STe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var CTe=kTe,ETe=/\w*$/;function TTe(t){var e=new t.constructor(t.source,ETe.exec(t));return e.lastIndex=t.lastIndex,e}var _Te=TTe,l6=ky,c6=l6?l6.prototype:void 0,u6=c6?c6.valueOf:void 0;function ITe(t){return u6?Object(u6.call(t)):{}}var $Te=ITe,NTe=ZR;function OTe(t,e){var n=e?NTe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var RTe=OTe,ATe=ZR,PTe=CTe,DTe=_Te,FTe=$Te,LTe=RTe,MTe="[object Boolean]",BTe="[object Date]",zTe="[object Map]",jTe="[object Number]",VTe="[object RegExp]",UTe="[object Set]",WTe="[object String]",GTe="[object Symbol]",HTe="[object ArrayBuffer]",qTe="[object DataView]",KTe="[object Float32Array]",XTe="[object Float64Array]",QTe="[object Int8Array]",YTe="[object Int16Array]",JTe="[object Int32Array]",ZTe="[object Uint8Array]",e_e="[object Uint8ClampedArray]",t_e="[object Uint16Array]",n_e="[object Uint32Array]";function r_e(t,e,n){var r=t.constructor;switch(e){case HTe:return ATe(t);case MTe:case BTe:return new r(+t);case qTe:return PTe(t,n);case KTe:case XTe:case QTe:case YTe:case JTe:case ZTe:case e_e:case t_e:case n_e:return LTe(t,n);case zTe:return new r;case jTe:case WTe:return new r(t);case VTe:return DTe(t);case UTe:return new r;case GTe:return FTe(t)}}var i_e=r_e,s_e=Zh,d6=Object.create,o_e=function(){function t(){}return function(e){if(!s_e(e))return{};if(d6)return d6(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),a_e=o_e,l_e=a_e,c_e=UR,u_e=jR;function d_e(t){return typeof t.constructor=="function"&&!u_e(t)?l_e(c_e(t)):{}}var f_e=d_e,h_e=x2,p_e=ll,m_e="[object Map]";function g_e(t){return p_e(t)&&h_e(t)==m_e}var y_e=g_e,v_e=y_e,x_e=BR,f6=zR,h6=f6&&f6.isMap,b_e=h6?x_e(h6):v_e,w_e=b_e,S_e=x2,k_e=ll,C_e="[object Set]";function E_e(t){return k_e(t)&&S_e(t)==C_e}var T_e=E_e,__e=T_e,I_e=BR,p6=zR,m6=p6&&p6.isSet,$_e=m6?I_e(m6):__e,N_e=$_e,O_e=qR,R_e=mEe,A_e=UG,P_e=OEe,D_e=KEe,F_e=XEe,L_e=YEe,M_e=tTe,B_e=dTe,z_e=RG,j_e=gTe,V_e=x2,U_e=bTe,W_e=i_e,G_e=f_e,H_e=To,q_e=LR,K_e=w_e,X_e=Zh,Q_e=N_e,Y_e=Cy,J_e=JR,Z_e=1,eIe=2,tIe=4,GG="[object Arguments]",nIe="[object Array]",rIe="[object Boolean]",iIe="[object Date]",sIe="[object Error]",HG="[object Function]",oIe="[object GeneratorFunction]",aIe="[object Map]",lIe="[object Number]",qG="[object Object]",cIe="[object RegExp]",uIe="[object Set]",dIe="[object String]",fIe="[object Symbol]",hIe="[object WeakMap]",pIe="[object ArrayBuffer]",mIe="[object DataView]",gIe="[object Float32Array]",yIe="[object Float64Array]",vIe="[object Int8Array]",xIe="[object Int16Array]",bIe="[object Int32Array]",wIe="[object Uint8Array]",SIe="[object Uint8ClampedArray]",kIe="[object Uint16Array]",CIe="[object Uint32Array]",Xt={};Xt[GG]=Xt[nIe]=Xt[pIe]=Xt[mIe]=Xt[rIe]=Xt[iIe]=Xt[gIe]=Xt[yIe]=Xt[vIe]=Xt[xIe]=Xt[bIe]=Xt[aIe]=Xt[lIe]=Xt[qG]=Xt[cIe]=Xt[uIe]=Xt[dIe]=Xt[fIe]=Xt[wIe]=Xt[SIe]=Xt[kIe]=Xt[CIe]=!0;Xt[sIe]=Xt[HG]=Xt[hIe]=!1;function Cx(t,e,n,r,i,s){var o,a=e&Z_e,l=e&eIe,c=e&tIe;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!X_e(t))return t;var u=H_e(t);if(u){if(o=U_e(t),!a)return L_e(t,o)}else{var d=V_e(t),f=d==HG||d==oIe;if(q_e(t))return F_e(t,a);if(d==qG||d==GG||f&&!i){if(o=l||f?{}:G_e(t),!a)return l?B_e(t,D_e(o,t)):M_e(t,P_e(o,t))}else{if(!Xt[d])return i?t:{};o=W_e(t,d,a)}}s||(s=new O_e);var h=s.get(t);if(h)return h;s.set(t,o),Q_e(t)?t.forEach(function(x){o.add(Cx(x,e,n,x,t,s))}):K_e(t)&&t.forEach(function(x,v){o.set(v,Cx(x,e,n,v,t,s))});var m=c?l?j_e:z_e:l?J_e:Y_e,y=u?void 0:m(t);return R_e(y||t,function(x,v){y&&(v=x,x=t[v]),A_e(o,v,Cx(x,e,n,v,t,s))}),o}var EIe=Cx,TIe=EIe,_Ie=1,IIe=4;function $Ie(t){return TIe(t,_Ie|IIe)}var NIe=$Ie;Object.defineProperty(Ey,"__esModule",{value:!0});Ey.mergeClasses=void 0;var OIe=VR,RIe=KG(OIe),AIe=NIe,PIe=KG(AIe),DIe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function KG(t){return t&&t.__esModule?t:{default:t}}var FIe=Ey.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,PIe.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,RIe.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=DIe({},r[a],s[a])}),i}),r};Ey.default=FIe;var Ty={};Object.defineProperty(Ty,"__esModule",{value:!0});Ty.autoprefix=void 0;var LIe=VR,g6=BIe(LIe),MIe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function BIe(t){return t&&t.__esModule?t:{default:t}}var zIe={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},jIe=Ty.autoprefix=function(e){var n={};return(0,g6.default)(e,function(r,i){var s={};(0,g6.default)(r,function(o,a){var l=zIe[a];l?s=MIe({},s,l(o)):s[a]=o}),n[i]=s}),n};Ty.default=jIe;var _y={};Object.defineProperty(_y,"__esModule",{value:!0});_y.hover=void 0;var VIe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UIe=A,PT=WIe(UIe);function WIe(t){return t&&t.__esModule?t:{default:t}}function GIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y6(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function HIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var qIe=_y.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){HIe(i,r);function i(){var s,o,a,l;GIe(this,i);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return l=(o=(a=y6(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(u))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return PT.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},PT.default.createElement(e,VIe({},a.props,a.state)))},o),y6(a,l)}return i}(PT.default.Component)};_y.default=qIe;var Iy={};Object.defineProperty(Iy,"__esModule",{value:!0});Iy.active=void 0;var KIe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XIe=A,DT=QIe(XIe);function QIe(t){return t&&t.__esModule?t:{default:t}}function YIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v6(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function JIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ZIe=Iy.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){JIe(i,r);function i(){var s,o,a,l;YIe(this,i);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return l=(o=(a=v6(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(u))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return DT.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},DT.default.createElement(e,KIe({},a.props,a.state)))},o),v6(a,l)}return i}(DT.default.Component)};Iy.default=ZIe;var e3={};Object.defineProperty(e3,"__esModule",{value:!0});var e$e=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};e3.default=e$e;Object.defineProperty(Rs,"__esModule",{value:!0});Rs.ReactCSS=Rs.loop=Rs.handleActive=t3=Rs.handleHover=Rs.hover=void 0;var t$e=Sy,n$e=sp(t$e),r$e=Ey,i$e=sp(r$e),s$e=Ty,o$e=sp(s$e),a$e=_y,XG=sp(a$e),l$e=Iy,c$e=sp(l$e),u$e=e3,d$e=sp(u$e);function sp(t){return t&&t.__esModule?t:{default:t}}Rs.hover=XG.default;var t3=Rs.handleHover=XG.default;Rs.handleActive=c$e.default;Rs.loop=d$e.default;var f$e=Rs.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,n$e.default)(r),o=(0,i$e.default)(e,s);return(0,o$e.default)(o)},tt=Rs.default=f$e,h$e=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=l-(s.getBoundingClientRect().left+window.pageXOffset),d=c-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var f=void 0;if(d<0?f=0:d>a?f=1:f=Math.round(d*100/a)/100,n.a!==f)return{h:n.h,s:n.s,l:n.l,a:f,source:"rgb"}}else{var h=void 0;if(u<0?h=0:u>o?h=1:h=Math.round(u*100/o)/100,i!==h)return{h:n.h,s:n.s,l:n.l,a:h,source:"rgb"}}return null},FT={},p$e=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},m$e=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(FT[s])return FT[s];var o=p$e(e,n,r,i);return FT[s]=o,o},x6=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},op=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,c=tt({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+m$e(n,r,i,s.canvas)+") center left"}}});return A.isValidElement(l)?M.cloneElement(l,x6({},l.props,{style:x6({},l.props.style,c.grid)})):M.createElement("div",{style:c.grid})};op.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var g$e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y$e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function v$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b6(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function x$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var n3=function(t){x$e(e,t);function e(){var n,r,i,s;v$e(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=b6(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=h$e(c,i.props.hsl,i.props.direction,i.props.a,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),b6(i,s)}return y$e(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=tt({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:g$e({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return M.createElement("div",{style:s.alpha},M.createElement("div",{style:s.checkboard},M.createElement(op,{renderers:this.props.renderers})),M.createElement("div",{style:s.gradient}),M.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},M.createElement("div",{style:s.pointer},this.props.pointer?M.createElement(this.props.pointer,this.props):M.createElement("div",{style:s.slider}))))}}]),e}(A.PureComponent||A.Component),b$e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function w$e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k$e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function C$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var E$e=1,QG=38,T$e=40,_$e=[QG,T$e],I$e=function(e){return _$e.indexOf(e)>-1},$$e=function(e){return Number(String(e).replace(/%/g,""))},N$e=1,vt=function(t){C$e(e,t);function e(n){S$e(this,e);var r=k$e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=$$e(i.target.value);if(!isNaN(s)&&I$e(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===QG?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+N$e++,r}return b$e(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return w$e({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||E$e}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=tt({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return M.createElement("div",{style:i.wrap},M.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?M.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(A.PureComponent||A.Component),O$e=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),u=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var d=void 0;if(u<0)d=359;else if(u>o)d=0;else{var f=-(u*100/o)+100;d=360*f/100}if(r.h!==d)return{h:d,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var h=void 0;if(c<0)h=0;else if(c>s)h=359;else{var m=c*100/s;h=360*m/100}if(r.h!==h)return{h,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},R$e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function A$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w6(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function P$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ap=function(t){P$e(e,t);function e(){var n,r,i,s;A$e(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=w6(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=O$e(c,i.props.direction,i.props.hsl,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),w6(i,s)}return R$e(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=tt({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return M.createElement("div",{style:o.hue},M.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},M.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),M.createElement("div",{style:o.pointer},this.props.pointer?M.createElement(this.props.pointer,this.props):M.createElement("div",{style:o.slider}))))}}]),e}(A.PureComponent||A.Component);function D$e(){this.__data__=[],this.size=0}function $y(t,e){return t===e||t!==t&&e!==e}function k2(t,e){for(var n=t.length;n--;)if($y(t[n][0],e))return n;return-1}var F$e=Array.prototype,L$e=F$e.splice;function M$e(t){var e=this.__data__,n=k2(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():L$e.call(e,n,1),--this.size,!0}function B$e(t){var e=this.__data__,n=k2(e,t);return n<0?void 0:e[n][1]}function z$e(t){return k2(this.__data__,t)>-1}function j$e(t,e){var n=this.__data__,r=k2(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function cl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cl.prototype.clear=D$e;cl.prototype.delete=M$e;cl.prototype.get=B$e;cl.prototype.has=z$e;cl.prototype.set=j$e;function V$e(){this.__data__=new cl,this.size=0}function U$e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function W$e(t){return this.__data__.get(t)}function G$e(t){return this.__data__.has(t)}var YG=typeof global=="object"&&global&&global.Object===Object&&global,H$e=typeof self=="object"&&self&&self.Object===Object&&self,_o=YG||H$e||Function("return this")(),pc=_o.Symbol,JG=Object.prototype,q$e=JG.hasOwnProperty,K$e=JG.toString,lm=pc?pc.toStringTag:void 0;function X$e(t){var e=q$e.call(t,lm),n=t[lm];try{t[lm]=void 0;var r=!0}catch{}var i=K$e.call(t);return r&&(e?t[lm]=n:delete t[lm]),i}var Q$e=Object.prototype,Y$e=Q$e.toString;function J$e(t){return Y$e.call(t)}var Z$e="[object Null]",eNe="[object Undefined]",S6=pc?pc.toStringTag:void 0;function hd(t){return t==null?t===void 0?eNe:Z$e:S6&&S6 in Object(t)?X$e(t):J$e(t)}function Hs(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var tNe="[object AsyncFunction]",nNe="[object Function]",rNe="[object GeneratorFunction]",iNe="[object Proxy]";function r3(t){if(!Hs(t))return!1;var e=hd(t);return e==nNe||e==rNe||e==tNe||e==iNe}var LT=_o["__core-js_shared__"],k6=function(){var t=/[^.]+$/.exec(LT&&LT.keys&&LT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function sNe(t){return!!k6&&k6 in t}var oNe=Function.prototype,aNe=oNe.toString;function pd(t){if(t!=null){try{return aNe.call(t)}catch{}try{return t+""}catch{}}return""}var lNe=/[\\^$.*+?()[\]{}|]/g,cNe=/^\[object .+?Constructor\]$/,uNe=Function.prototype,dNe=Object.prototype,fNe=uNe.toString,hNe=dNe.hasOwnProperty,pNe=RegExp("^"+fNe.call(hNe).replace(lNe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mNe(t){if(!Hs(t)||sNe(t))return!1;var e=r3(t)?pNe:cNe;return e.test(pd(t))}function gNe(t,e){return t==null?void 0:t[e]}function md(t,e){var n=gNe(t,e);return mNe(n)?n:void 0}var Bg=md(_o,"Map"),zg=md(Object,"create");function yNe(){this.__data__=zg?zg(null):{},this.size=0}function vNe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var xNe="__lodash_hash_undefined__",bNe=Object.prototype,wNe=bNe.hasOwnProperty;function SNe(t){var e=this.__data__;if(zg){var n=e[t];return n===xNe?void 0:n}return wNe.call(e,t)?e[t]:void 0}var kNe=Object.prototype,CNe=kNe.hasOwnProperty;function ENe(t){var e=this.__data__;return zg?e[t]!==void 0:CNe.call(e,t)}var TNe="__lodash_hash_undefined__";function _Ne(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=zg&&e===void 0?TNe:e,this}function Uu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Uu.prototype.clear=yNe;Uu.prototype.delete=vNe;Uu.prototype.get=SNe;Uu.prototype.has=ENe;Uu.prototype.set=_Ne;function INe(){this.size=0,this.__data__={hash:new Uu,map:new(Bg||cl),string:new Uu}}function $Ne(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function C2(t,e){var n=t.__data__;return $Ne(e)?n[typeof e=="string"?"string":"hash"]:n.map}function NNe(t){var e=C2(this,t).delete(t);return this.size-=e?1:0,e}function ONe(t){return C2(this,t).get(t)}function RNe(t){return C2(this,t).has(t)}function ANe(t,e){var n=C2(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ul(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ul.prototype.clear=INe;ul.prototype.delete=NNe;ul.prototype.get=ONe;ul.prototype.has=RNe;ul.prototype.set=ANe;var PNe=200;function DNe(t,e){var n=this.__data__;if(n instanceof cl){var r=n.__data__;if(!Bg||r.length<PNe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ul(r)}return n.set(t,e),this.size=n.size,this}function ta(t){var e=this.__data__=new cl(t);this.size=e.size}ta.prototype.clear=V$e;ta.prototype.delete=U$e;ta.prototype.get=W$e;ta.prototype.has=G$e;ta.prototype.set=DNe;var Ib=function(){try{var t=md(Object,"defineProperty");return t({},"",{}),t}catch{}}();function i3(t,e,n){e=="__proto__"&&Ib?Ib(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function S$(t,e,n){(n!==void 0&&!$y(t[e],n)||n===void 0&&!(e in t))&&i3(t,e,n)}function FNe(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var ZG=FNe(),eH=typeof rs=="object"&&rs&&!rs.nodeType&&rs,C6=eH&&typeof fi=="object"&&fi&&!fi.nodeType&&fi,LNe=C6&&C6.exports===eH,E6=LNe?_o.Buffer:void 0,T6=E6?E6.allocUnsafe:void 0;function MNe(t,e){if(e)return t.slice();var n=t.length,r=T6?T6(n):new t.constructor(n);return t.copy(r),r}var $b=_o.Uint8Array;function BNe(t){var e=new t.constructor(t.byteLength);return new $b(e).set(new $b(t)),e}function zNe(t,e){var n=e?BNe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function jNe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var _6=Object.create,VNe=function(){function t(){}return function(e){if(!Hs(e))return{};if(_6)return _6(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function tH(t,e){return function(n){return t(e(n))}}var UNe=tH(Object.getPrototypeOf,Object);const nH=UNe;var WNe=Object.prototype;function s3(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||WNe;return t===n}function GNe(t){return typeof t.constructor=="function"&&!s3(t)?VNe(nH(t)):{}}function mc(t){return t!=null&&typeof t=="object"}var HNe="[object Arguments]";function I6(t){return mc(t)&&hd(t)==HNe}var rH=Object.prototype,qNe=rH.hasOwnProperty,KNe=rH.propertyIsEnumerable,XNe=I6(function(){return arguments}())?I6:function(t){return mc(t)&&qNe.call(t,"callee")&&!KNe.call(t,"callee")};const Nb=XNe;var fs=Array.isArray,QNe=9007199254740991;function o3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=QNe}function lp(t){return t!=null&&o3(t.length)&&!r3(t)}function YNe(t){return mc(t)&&lp(t)}function JNe(){return!1}var iH=typeof rs=="object"&&rs&&!rs.nodeType&&rs,$6=iH&&typeof fi=="object"&&fi&&!fi.nodeType&&fi,ZNe=$6&&$6.exports===iH,N6=ZNe?_o.Buffer:void 0,eOe=N6?N6.isBuffer:void 0,Ob=eOe||JNe,tOe="[object Object]",nOe=Function.prototype,rOe=Object.prototype,sH=nOe.toString,iOe=rOe.hasOwnProperty,sOe=sH.call(Object);function oOe(t){if(!mc(t)||hd(t)!=tOe)return!1;var e=nH(t);if(e===null)return!0;var n=iOe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&sH.call(n)==sOe}var aOe="[object Arguments]",lOe="[object Array]",cOe="[object Boolean]",uOe="[object Date]",dOe="[object Error]",fOe="[object Function]",hOe="[object Map]",pOe="[object Number]",mOe="[object Object]",gOe="[object RegExp]",yOe="[object Set]",vOe="[object String]",xOe="[object WeakMap]",bOe="[object ArrayBuffer]",wOe="[object DataView]",SOe="[object Float32Array]",kOe="[object Float64Array]",COe="[object Int8Array]",EOe="[object Int16Array]",TOe="[object Int32Array]",_Oe="[object Uint8Array]",IOe="[object Uint8ClampedArray]",$Oe="[object Uint16Array]",NOe="[object Uint32Array]",sn={};sn[SOe]=sn[kOe]=sn[COe]=sn[EOe]=sn[TOe]=sn[_Oe]=sn[IOe]=sn[$Oe]=sn[NOe]=!0;sn[aOe]=sn[lOe]=sn[bOe]=sn[cOe]=sn[wOe]=sn[uOe]=sn[dOe]=sn[fOe]=sn[hOe]=sn[pOe]=sn[mOe]=sn[gOe]=sn[yOe]=sn[vOe]=sn[xOe]=!1;function OOe(t){return mc(t)&&o3(t.length)&&!!sn[hd(t)]}function ROe(t){return function(e){return t(e)}}var oH=typeof rs=="object"&&rs&&!rs.nodeType&&rs,rg=oH&&typeof fi=="object"&&fi&&!fi.nodeType&&fi,AOe=rg&&rg.exports===oH,MT=AOe&&YG.process,O6=function(){try{var t=rg&&rg.require&&rg.require("util").types;return t||MT&&MT.binding&&MT.binding("util")}catch{}}(),R6=O6&&O6.isTypedArray,a3=R6?ROe(R6):OOe;function k$(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var POe=Object.prototype,DOe=POe.hasOwnProperty;function FOe(t,e,n){var r=t[e];(!(DOe.call(t,e)&&$y(r,n))||n===void 0&&!(e in t))&&i3(t,e,n)}function LOe(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?i3(n,a,l):FOe(n,a,l)}return n}function MOe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var BOe=9007199254740991,zOe=/^(?:0|[1-9]\d*)$/;function l3(t,e){var n=typeof t;return e=e??BOe,!!e&&(n=="number"||n!="symbol"&&zOe.test(t))&&t>-1&&t%1==0&&t<e}var jOe=Object.prototype,VOe=jOe.hasOwnProperty;function aH(t,e){var n=fs(t),r=!n&&Nb(t),i=!n&&!r&&Ob(t),s=!n&&!r&&!i&&a3(t),o=n||r||i||s,a=o?MOe(t.length,String):[],l=a.length;for(var c in t)(e||VOe.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||l3(c,l)))&&a.push(c);return a}function UOe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var WOe=Object.prototype,GOe=WOe.hasOwnProperty;function HOe(t){if(!Hs(t))return UOe(t);var e=s3(t),n=[];for(var r in t)r=="constructor"&&(e||!GOe.call(t,r))||n.push(r);return n}function lH(t){return lp(t)?aH(t,!0):HOe(t)}function qOe(t){return LOe(t,lH(t))}function KOe(t,e,n,r,i,s,o){var a=k$(t,n),l=k$(e,n),c=o.get(l);if(c){S$(t,n,c);return}var u=s?s(a,l,n+"",t,e,o):void 0,d=u===void 0;if(d){var f=fs(l),h=!f&&Ob(l),m=!f&&!h&&a3(l);u=l,f||h||m?fs(a)?u=a:YNe(a)?u=jNe(a):h?(d=!1,u=MNe(l,!0)):m?(d=!1,u=zNe(l,!0)):u=[]:oOe(l)||Nb(l)?(u=a,Nb(a)?u=qOe(a):(!Hs(a)||r3(a))&&(u=GNe(l))):d=!1}d&&(o.set(l,u),i(u,l,r,s,o),o.delete(l)),S$(t,n,u)}function cH(t,e,n,r,i){t!==e&&ZG(e,function(s,o){if(i||(i=new ta),Hs(s))KOe(t,e,o,n,cH,r,i);else{var a=r?r(k$(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),S$(t,o,a)}},lH)}function E2(t){return t}function XOe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var A6=Math.max;function QOe(t,e,n){return e=A6(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=A6(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),XOe(t,this,a)}}function YOe(t){return function(){return t}}var JOe=Ib?function(t,e){return Ib(t,"toString",{configurable:!0,enumerable:!1,value:YOe(e),writable:!0})}:E2;const ZOe=JOe;var eRe=800,tRe=16,nRe=Date.now;function rRe(t){var e=0,n=0;return function(){var r=nRe(),i=tRe-(r-n);if(n=r,i>0){if(++e>=eRe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var iRe=rRe(ZOe);function sRe(t,e){return iRe(QOe(t,e,E2),t+"")}function oRe(t,e,n){if(!Hs(n))return!1;var r=typeof e;return(r=="number"?lp(n)&&l3(e,n.length):r=="string"&&e in n)?$y(n[e],t):!1}function aRe(t){return sRe(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&oRe(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var Hi=aRe(function(t,e,n){cH(t,e,n)}),Ny=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=tt(Hi({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return M.createElement("div",{style:l.wrap},M.createElement("div",{style:l.bg}),M.createElement("div",{style:l.content},s))};Ny.propTypes={background:he.string,zDepth:he.oneOf([0,1,2,3,4,5]),radius:he.number,styles:he.object};Ny.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var BT=function(){return _o.Date.now()},lRe=/\s/;function cRe(t){for(var e=t.length;e--&&lRe.test(t.charAt(e)););return e}var uRe=/^\s+/;function dRe(t){return t&&t.slice(0,cRe(t)+1).replace(uRe,"")}var fRe="[object Symbol]";function T2(t){return typeof t=="symbol"||mc(t)&&hd(t)==fRe}var P6=NaN,hRe=/^[-+]0x[0-9a-f]+$/i,pRe=/^0b[01]+$/i,mRe=/^0o[0-7]+$/i,gRe=parseInt;function D6(t){if(typeof t=="number")return t;if(T2(t))return P6;if(Hs(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Hs(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=dRe(t);var n=pRe.test(t);return n||mRe.test(t)?gRe(t.slice(2),n?2:8):hRe.test(t)?P6:+t}var yRe="Expected a function",vRe=Math.max,xRe=Math.min;function uH(t,e,n){var r,i,s,o,a,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(yRe);e=D6(e)||0,Hs(n)&&(u=!!n.leading,d="maxWait"in n,s=d?vRe(D6(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function h(_){var I=r,N=i;return r=i=void 0,c=_,o=t.apply(N,I),o}function m(_){return c=_,a=setTimeout(v,e),u?h(_):o}function y(_){var I=_-l,N=_-c,D=e-I;return d?xRe(D,s-N):D}function x(_){var I=_-l,N=_-c;return l===void 0||I>=e||I<0||d&&N>=s}function v(){var _=BT();if(x(_))return b(_);a=setTimeout(v,y(_))}function b(_){return a=void 0,f&&r?h(_):(r=i=void 0,o)}function w(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function k(){return a===void 0?o:b(BT())}function E(){var _=BT(),I=x(_);if(r=arguments,i=this,l=_,I){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(v,e),h(l)}return a===void 0&&(a=setTimeout(v,e)),o}return E.cancel=w,E.flush=k,E}var bRe="Expected a function";function wRe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(bRe);return Hs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),uH(t,e,{leading:r,maxWait:e,trailing:i})}var SRe=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>s&&(c=s),u<0?u=0:u>o&&(u=o);var d=c/s,f=1-u/o;return{h:n.h,s:d,v:f,a:n.a,source:"hsv"}},kRe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function CRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ERe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function TRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _2=function(t){TRe(e,t);function e(n){CRe(this,e);var r=ERe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,SRe(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=wRe(function(i,s,o){i(s,o)},50),r}return kRe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,c=i.circle,u=tt({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:c}},{custom:!!this.props.style});return M.createElement("div",{style:u.color,ref:function(f){return r.container=f},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},M.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),M.createElement("div",{style:u.white,className:"saturation-white"},M.createElement("div",{style:u.black,className:"saturation-black"}),M.createElement("div",{style:u.pointer},this.props.pointer?M.createElement(this.props.pointer,this.props):M.createElement("div",{style:u.circle}))))}}]),e}(A.PureComponent||A.Component);function _Re(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var IRe=tH(Object.keys,Object),$Re=Object.prototype,NRe=$Re.hasOwnProperty;function ORe(t){if(!s3(t))return IRe(t);var e=[];for(var n in Object(t))NRe.call(t,n)&&n!="constructor"&&e.push(n);return e}function c3(t){return lp(t)?aH(t):ORe(t)}function RRe(t,e){return t&&ZG(t,e,c3)}function ARe(t,e){return function(n,r){if(n==null)return n;if(!lp(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var PRe=ARe(RRe);const dH=PRe;function DRe(t){return typeof t=="function"?t:E2}function FRe(t,e){var n=fs(t)?_Re:dH;return n(t,DRe(e))}function Rb(t){"@babel/helpers - typeof";return Rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rb(t)}var LRe=/^\s+/,MRe=/\s+$/;function Ge(t,e){if(t=t||"",e=e||{},t instanceof Ge)return t;if(!(this instanceof Ge))return new Ge(t,e);var n=BRe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Ge.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=fH(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=L6(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=L6(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=F6(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=F6(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return M6(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return URe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(pn(this._r,255)*100)+"%",g:Math.round(pn(this._g,255)*100)+"%",b:Math.round(pn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(pn(this._r,255)*100)+"%, "+Math.round(pn(this._g,255)*100)+"%, "+Math.round(pn(this._b,255)*100)+"%)":"rgba("+Math.round(pn(this._r,255)*100)+"%, "+Math.round(pn(this._g,255)*100)+"%, "+Math.round(pn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:t3e[M6(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+B6(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Ge(e);r="#"+B6(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Ge(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(qRe,arguments)},brighten:function(){return this._applyModification(KRe,arguments)},darken:function(){return this._applyModification(XRe,arguments)},desaturate:function(){return this._applyModification(WRe,arguments)},saturate:function(){return this._applyModification(GRe,arguments)},greyscale:function(){return this._applyModification(HRe,arguments)},spin:function(){return this._applyModification(QRe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(ZRe,arguments)},complement:function(){return this._applyCombination(YRe,arguments)},monochromatic:function(){return this._applyCombination(e3e,arguments)},splitcomplement:function(){return this._applyCombination(JRe,arguments)},triad:function(){return this._applyCombination(z6,[3])},tetrad:function(){return this._applyCombination(z6,[4])}};Ge.fromRatio=function(t,e){if(Rb(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Tm(t[r]));t=n}return Ge(t,e)};function BRe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=s3e(t)),Rb(t)=="object"&&(ka(t.r)&&ka(t.g)&&ka(t.b)?(e=zRe(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ka(t.h)&&ka(t.s)&&ka(t.v)?(r=Tm(t.s),i=Tm(t.v),e=VRe(t.h,r,i),o=!0,a="hsv"):ka(t.h)&&ka(t.s)&&ka(t.l)&&(r=Tm(t.s),s=Tm(t.l),e=jRe(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=fH(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function zRe(t,e,n){return{r:pn(t,255)*255,g:pn(e,255)*255,b:pn(n,255)*255}}function F6(t,e,n){t=pn(t,255),e=pn(e,255),n=pn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function jRe(t,e,n){var r,i,s;t=pn(t,360),e=pn(e,100),n=pn(n,100);function o(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function L6(t,e,n){t=pn(t,255),e=pn(e,255),n=pn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function VRe(t,e,n){t=pn(t,360)*6,e=pn(e,100),n=pn(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,o,s,s,a,n][l],u=[a,n,n,o,s,s][l],d=[s,s,a,n,n,o][l];return{r:c*255,g:u*255,b:d*255}}function M6(t,e,n,r){var i=[yo(Math.round(t).toString(16)),yo(Math.round(e).toString(16)),yo(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function URe(t,e,n,r,i){var s=[yo(Math.round(t).toString(16)),yo(Math.round(e).toString(16)),yo(Math.round(n).toString(16)),yo(hH(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function B6(t,e,n,r){var i=[yo(hH(r)),yo(Math.round(t).toString(16)),yo(Math.round(e).toString(16)),yo(Math.round(n).toString(16))];return i.join("")}Ge.equals=function(t,e){return!t||!e?!1:Ge(t).toRgbString()==Ge(e).toRgbString()};Ge.random=function(){return Ge.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function WRe(t,e){e=e===0?0:e||10;var n=Ge(t).toHsl();return n.s-=e/100,n.s=I2(n.s),Ge(n)}function GRe(t,e){e=e===0?0:e||10;var n=Ge(t).toHsl();return n.s+=e/100,n.s=I2(n.s),Ge(n)}function HRe(t){return Ge(t).desaturate(100)}function qRe(t,e){e=e===0?0:e||10;var n=Ge(t).toHsl();return n.l+=e/100,n.l=I2(n.l),Ge(n)}function KRe(t,e){e=e===0?0:e||10;var n=Ge(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Ge(n)}function XRe(t,e){e=e===0?0:e||10;var n=Ge(t).toHsl();return n.l-=e/100,n.l=I2(n.l),Ge(n)}function QRe(t,e){var n=Ge(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Ge(n)}function YRe(t){var e=Ge(t).toHsl();return e.h=(e.h+180)%360,Ge(e)}function z6(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ge(t).toHsl(),r=[Ge(t)],i=360/e,s=1;s<e;s++)r.push(Ge({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function JRe(t){var e=Ge(t).toHsl(),n=e.h;return[Ge(t),Ge({h:(n+72)%360,s:e.s,l:e.l}),Ge({h:(n+216)%360,s:e.s,l:e.l})]}function ZRe(t,e,n){e=e||6,n=n||30;var r=Ge(t).toHsl(),i=360/n,s=[Ge(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(Ge(r));return s}function e3e(t,e){e=e||6;for(var n=Ge(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(Ge({h:r,s:i,v:s})),s=(s+a)%1;return o}Ge.mix=function(t,e,n){n=n===0?0:n||50;var r=Ge(t).toRgb(),i=Ge(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return Ge(o)};Ge.readability=function(t,e){var n=Ge(t),r=Ge(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Ge.isReadable=function(t,e,n){var r=Ge.readability(t,e),i,s;switch(s=!1,i=o3e(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Ge.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)s=Ge.readability(t,e[c]),s>i&&(i=s,r=Ge(e[c]));return Ge.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,Ge.mostReadable(t,["#fff","#000"],n))};var C$=Ge.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},t3e=Ge.hexNames=n3e(C$);function n3e(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function fH(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function pn(t,e){r3e(t)&&(t="100%");var n=i3e(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function I2(t){return Math.min(1,Math.max(0,t))}function Ji(t){return parseInt(t,16)}function r3e(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function i3e(t){return typeof t=="string"&&t.indexOf("%")!=-1}function yo(t){return t.length==1?"0"+t:""+t}function Tm(t){return t<=1&&(t=t*100+"%"),t}function hH(t){return Math.round(parseFloat(t)*255).toString(16)}function j6(t){return Ji(t)/255}var so=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ka(t){return!!so.CSS_UNIT.exec(t)}function s3e(t){t=t.replace(LRe,"").replace(MRe,"").toLowerCase();var e=!1;if(C$[t])t=C$[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=so.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=so.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=so.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=so.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=so.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=so.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=so.hex8.exec(t))?{r:Ji(n[1]),g:Ji(n[2]),b:Ji(n[3]),a:j6(n[4]),format:e?"name":"hex8"}:(n=so.hex6.exec(t))?{r:Ji(n[1]),g:Ji(n[2]),b:Ji(n[3]),format:e?"name":"hex"}:(n=so.hex4.exec(t))?{r:Ji(n[1]+""+n[1]),g:Ji(n[2]+""+n[2]),b:Ji(n[3]+""+n[3]),a:j6(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=so.hex3.exec(t))?{r:Ji(n[1]+""+n[1]),g:Ji(n[2]+""+n[2]),b:Ji(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function o3e(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var V6=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return FRe(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},_m=function(e,n){var r=e.hex?Ge(e.hex):Ge(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},Nc=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Ge(e).isValid()},u3=function(e){if(!e)return"#fff";var n=_m(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},zT=function(e,n){var r=e.replace("°","");return Ge(n+" ("+r+")")._ok},cm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a3e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function l3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c3e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function u3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var qi=function(e){var n=function(r){u3e(i,r);function i(s){l3e(this,i);var o=c3e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var c=V6(a);if(c){var u=_m(a,a.h||o.state.oldHue);o.setState(u),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,u,l),o.props.onChange&&o.props.onChange(u,l)}},o.handleSwatchHover=function(a,l){var c=V6(a);if(c){var u=_m(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(u,l)}},o.state=cm({},_m(s.color,0)),o.debounce=uH(function(a,l,c){a(l,c)},100),o}return a3e(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),M.createElement(e,cm({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return cm({},_m(o.color,a.oldHue))}}]),i}(A.PureComponent||A.Component);return n.propTypes=cm({},e.propTypes),n.defaultProps=cm({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},d3e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f3e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function h3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U6(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function p3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m3e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){p3e(i,r);function i(){var s,o,a,l;h3e(this,i);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return l=(o=(a=U6(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(u))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),U6(a,l)}return f3e(i,[{key:"render",value:function(){return M.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},M.createElement(e,d3e({},this.props,this.state)))}}]),i}(M.Component)},W6=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g3e=13,y3e=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,c=e.children,u=e.focus,d=e.focusStyle,f=d===void 0?{}:d,h=n==="transparent",m=tt({default:{swatch:W6({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?f:{})}}),y=function(k){return s(n,k)},x=function(k){return k.keyCode===g3e&&s(n,k)},v=function(k){return o(n,k)},b={};return o&&(b.onMouseOver=v),M.createElement("div",W6({style:m.swatch,onClick:y,title:l,tabIndex:0,onKeyDown:x},b),c,h&&M.createElement(op,{borderRadius:m.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const gd=m3e(y3e);var v3e=function(e){var n=e.direction,r=tt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return M.createElement("div",{style:r.picker})},x3e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pH=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,c=e.renderers,u=e.pointer,d=e.className,f=d===void 0?"":d,h=tt({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return M.createElement("div",{style:h.picker,className:"alpha-picker "+f},M.createElement(n3,x3e({},h.alpha,{rgb:n,hsl:r,pointer:u,renderers:c,onChange:o,direction:a})))};pH.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:v3e};qi(pH);function mH(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var b3e="__lodash_hash_undefined__";function w3e(t){return this.__data__.set(t,b3e),this}function S3e(t){return this.__data__.has(t)}function Ab(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ul;++e<n;)this.add(t[e])}Ab.prototype.add=Ab.prototype.push=w3e;Ab.prototype.has=S3e;function k3e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function C3e(t,e){return t.has(e)}var E3e=1,T3e=2;function gH(t,e,n,r,i,s){var o=n&E3e,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,h=n&T3e?new Ab:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var m=t[d],y=e[d];if(r)var x=o?r(y,m,d,e,t,s):r(m,y,d,t,e,s);if(x!==void 0){if(x)continue;f=!1;break}if(h){if(!k3e(e,function(v,b){if(!C3e(h,b)&&(m===v||i(m,v,n,r,s)))return h.push(b)})){f=!1;break}}else if(!(m===y||i(m,y,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}function _3e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function I3e(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var $3e=1,N3e=2,O3e="[object Boolean]",R3e="[object Date]",A3e="[object Error]",P3e="[object Map]",D3e="[object Number]",F3e="[object RegExp]",L3e="[object Set]",M3e="[object String]",B3e="[object Symbol]",z3e="[object ArrayBuffer]",j3e="[object DataView]",G6=pc?pc.prototype:void 0,jT=G6?G6.valueOf:void 0;function V3e(t,e,n,r,i,s,o){switch(n){case j3e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case z3e:return!(t.byteLength!=e.byteLength||!s(new $b(t),new $b(e)));case O3e:case R3e:case D3e:return $y(+t,+e);case A3e:return t.name==e.name&&t.message==e.message;case F3e:case M3e:return t==e+"";case P3e:var a=_3e;case L3e:var l=r&$3e;if(a||(a=I3e),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=N3e,o.set(t,e);var u=gH(a(t),a(e),r,i,s,o);return o.delete(t),u;case B3e:if(jT)return jT.call(t)==jT.call(e)}return!1}function U3e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function W3e(t,e,n){var r=e(t);return fs(t)?r:U3e(r,n(t))}function G3e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function H3e(){return[]}var q3e=Object.prototype,K3e=q3e.propertyIsEnumerable,H6=Object.getOwnPropertySymbols,X3e=H6?function(t){return t==null?[]:(t=Object(t),G3e(H6(t),function(e){return K3e.call(t,e)}))}:H3e;const Q3e=X3e;function q6(t){return W3e(t,c3,Q3e)}var Y3e=1,J3e=Object.prototype,Z3e=J3e.hasOwnProperty;function eAe(t,e,n,r,i,s){var o=n&Y3e,a=q6(t),l=a.length,c=q6(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:Z3e.call(e,f)))return!1}var h=s.get(t),m=s.get(e);if(h&&m)return h==e&&m==t;var y=!0;s.set(t,e),s.set(e,t);for(var x=o;++d<l;){f=a[d];var v=t[f],b=e[f];if(r)var w=o?r(b,v,f,e,t,s):r(v,b,f,t,e,s);if(!(w===void 0?v===b||i(v,b,n,r,s):w)){y=!1;break}x||(x=f=="constructor")}if(y&&!x){var k=t.constructor,E=e.constructor;k!=E&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof E=="function"&&E instanceof E)&&(y=!1)}return s.delete(t),s.delete(e),y}var E$=md(_o,"DataView"),T$=md(_o,"Promise"),_$=md(_o,"Set"),I$=md(_o,"WeakMap"),K6="[object Map]",tAe="[object Object]",X6="[object Promise]",Q6="[object Set]",Y6="[object WeakMap]",J6="[object DataView]",nAe=pd(E$),rAe=pd(Bg),iAe=pd(T$),sAe=pd(_$),oAe=pd(I$),iu=hd;(E$&&iu(new E$(new ArrayBuffer(1)))!=J6||Bg&&iu(new Bg)!=K6||T$&&iu(T$.resolve())!=X6||_$&&iu(new _$)!=Q6||I$&&iu(new I$)!=Y6)&&(iu=function(t){var e=hd(t),n=e==tAe?t.constructor:void 0,r=n?pd(n):"";if(r)switch(r){case nAe:return J6;case rAe:return K6;case iAe:return X6;case sAe:return Q6;case oAe:return Y6}return e});const Z6=iu;var aAe=1,eB="[object Arguments]",tB="[object Array]",F1="[object Object]",lAe=Object.prototype,nB=lAe.hasOwnProperty;function cAe(t,e,n,r,i,s){var o=fs(t),a=fs(e),l=o?tB:Z6(t),c=a?tB:Z6(e);l=l==eB?F1:l,c=c==eB?F1:c;var u=l==F1,d=c==F1,f=l==c;if(f&&Ob(t)){if(!Ob(e))return!1;o=!0,u=!1}if(f&&!u)return s||(s=new ta),o||a3(t)?gH(t,e,n,r,i,s):V3e(t,e,l,n,r,i,s);if(!(n&aAe)){var h=u&&nB.call(t,"__wrapped__"),m=d&&nB.call(e,"__wrapped__");if(h||m){var y=h?t.value():t,x=m?e.value():e;return s||(s=new ta),i(y,x,n,r,s)}}return f?(s||(s=new ta),eAe(t,e,n,r,i,s)):!1}function d3(t,e,n,r,i){return t===e?!0:t==null||e==null||!mc(t)&&!mc(e)?t!==t&&e!==e:cAe(t,e,n,r,d3,i)}var uAe=1,dAe=2;function fAe(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new ta;if(r)var f=r(c,u,l,t,e,d);if(!(f===void 0?d3(u,c,uAe|dAe,r,d):f))return!1}}return!0}function yH(t){return t===t&&!Hs(t)}function hAe(t){for(var e=c3(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,yH(i)]}return e}function vH(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function pAe(t){var e=hAe(t);return e.length==1&&e[0][2]?vH(e[0][0],e[0][1]):function(n){return n===t||fAe(n,t,e)}}var mAe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gAe=/^\w*$/;function f3(t,e){if(fs(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||T2(t)?!0:gAe.test(t)||!mAe.test(t)||e!=null&&t in Object(e)}var yAe="Expected a function";function h3(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(yAe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(h3.Cache||ul),n}h3.Cache=ul;var vAe=500;function xAe(t){var e=h3(t,function(r){return n.size===vAe&&n.clear(),r}),n=e.cache;return e}var bAe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wAe=/\\(\\)?/g,SAe=xAe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(bAe,function(n,r,i,s){e.push(i?s.replace(wAe,"$1"):r||n)}),e}),kAe=1/0,rB=pc?pc.prototype:void 0,iB=rB?rB.toString:void 0;function xH(t){if(typeof t=="string")return t;if(fs(t))return mH(t,xH)+"";if(T2(t))return iB?iB.call(t):"";var e=t+"";return e=="0"&&1/t==-kAe?"-0":e}function CAe(t){return t==null?"":xH(t)}function bH(t,e){return fs(t)?t:f3(t,e)?[t]:SAe(CAe(t))}var EAe=1/0;function $2(t){if(typeof t=="string"||T2(t))return t;var e=t+"";return e=="0"&&1/t==-EAe?"-0":e}function wH(t,e){e=bH(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[$2(e[n++])];return n&&n==r?t:void 0}function TAe(t,e,n){var r=t==null?void 0:wH(t,e);return r===void 0?n:r}function _Ae(t,e){return t!=null&&e in Object(t)}function IAe(t,e,n){e=bH(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=$2(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&o3(i)&&l3(o,i)&&(fs(t)||Nb(t)))}function $Ae(t,e){return t!=null&&IAe(t,e,_Ae)}var NAe=1,OAe=2;function RAe(t,e){return f3(t)&&yH(e)?vH($2(t),e):function(n){var r=TAe(n,t);return r===void 0&&r===e?$Ae(n,t):d3(e,r,NAe|OAe)}}function AAe(t){return function(e){return e==null?void 0:e[t]}}function PAe(t){return function(e){return wH(e,t)}}function DAe(t){return f3(t)?AAe($2(t)):PAe(t)}function FAe(t){return typeof t=="function"?t:t==null?E2:typeof t=="object"?fs(t)?RAe(t[0],t[1]):pAe(t):DAe(t)}function LAe(t,e){var n=-1,r=lp(t)?Array(t.length):[];return dH(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function yd(t,e){var n=fs(t)?mH:LAe;return n(t,FAe(e))}var MAe=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=tt({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return M.createElement("div",{style:s.swatches},yd(n,function(o){return M.createElement(gd,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),M.createElement("div",{style:s.clear}))},p3=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,d=u===void 0?"":u,f=i==="transparent",h=function(x,v){Nc(x)&&n({hex:x,source:"hex"},v)},m=tt(Hi({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:u3(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return M.createElement("div",{style:m.card,className:"block-picker "+d},M.createElement("div",{style:m.triangle}),M.createElement("div",{style:m.head},f&&M.createElement(op,{borderRadius:"6px 6px 0 0"}),M.createElement("div",{style:m.label},i)),M.createElement("div",{style:m.body},M.createElement(MAe,{colors:s,onClick:h,onSwatchHover:r}),M.createElement(vt,{style:{input:m.input},value:i,onChange:h})))};p3.propTypes={width:he.oneOfType([he.string,he.number]),colors:he.arrayOf(he.string),triangle:he.oneOf(["top","hide"]),styles:he.object};p3.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};qi(p3);var Yd={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Jd={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Zd={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},ef={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},tf={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},nf={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},rf={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},sf={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},of={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Im={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},af={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},lf={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},cf={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},uf={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},df={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},ff={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},hf={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},pf={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},SH=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,c=tt({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return M.createElement("div",{style:c.swatch},M.createElement(gd,{style:c.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};SH.defaultProps={circleSize:28,circleSpacing:14};const BAe=t3(SH);var m3=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,c=l===void 0?{}:l,u=e.circleSpacing,d=e.className,f=d===void 0?"":d,h=tt(Hi({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),m=function(x,v){return r({hex:x,source:"hex"},v)};return M.createElement("div",{style:h.card,className:"circle-picker "+f},yd(s,function(y){return M.createElement(BAe,{key:y,color:y,onClick:m,onSwatchHover:i,active:o===y.toLowerCase(),circleSize:a,circleSpacing:u})}))};m3.propTypes={width:he.oneOfType([he.string,he.number]),circleSize:he.number,circleSpacing:he.number,styles:he.object};m3.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Yd[500],Jd[500],Zd[500],ef[500],tf[500],nf[500],rf[500],sf[500],of[500],Im[500],af[500],lf[500],cf[500],uf[500],df[500],ff[500],hf[500],pf[500]],styles:{}};qi(m3);function sB(t){return t===void 0}var kH={};Object.defineProperty(kH,"__esModule",{value:!0});var oB=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zAe=A,aB=jAe(zAe);function jAe(t){return t&&t.__esModule?t:{default:t}}function VAe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var L1=24,UAe=kH.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?L1:r,s=t.height,o=s===void 0?L1:s,a=t.style,l=a===void 0?{}:a,c=VAe(t,["fill","width","height","style"]);return aB.default.createElement("svg",oB({viewBox:"0 0 "+L1+" "+L1,style:oB({fill:n,width:i,height:o},l)},c),aB.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},WAe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function GAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HAe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var CH=function(t){qAe(e,t);function e(n){GAe(this,e);var r=HAe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?Nc(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(sB(i.s)?r.props.hsl.s:i.s),l:Number(sB(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return WAe(e,[{key:"render",value:function(){var r=this,i=tt({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=M.createElement("div",{style:i.fields,className:"flexbox-fix"},M.createElement("div",{style:i.field},M.createElement(vt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=M.createElement("div",{style:i.fields,className:"flexbox-fix"},M.createElement("div",{style:i.field},M.createElement(vt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),M.createElement("div",{style:i.field},M.createElement(vt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),M.createElement("div",{style:i.field},M.createElement(vt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),M.createElement("div",{style:i.alpha},M.createElement(vt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=M.createElement("div",{style:i.fields,className:"flexbox-fix"},M.createElement("div",{style:i.field},M.createElement(vt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),M.createElement("div",{style:i.field},M.createElement(vt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),M.createElement("div",{style:i.field},M.createElement(vt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),M.createElement("div",{style:i.alpha},M.createElement(vt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),M.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,M.createElement("div",{style:i.toggle},M.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},M.createElement(UAe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(M.Component);CH.defaultProps={view:"hex"};var lB=function(){var e=tt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return M.createElement("div",{style:e.picker})},KAe=function(){var e=tt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return M.createElement("div",{style:e.picker})},g3=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,c=e.renderers,u=e.styles,d=u===void 0?{}:u,f=e.className,h=f===void 0?"":f,m=e.defaultView,y=tt(Hi({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:i});return M.createElement("div",{style:y.picker,className:"chrome-picker "+h},M.createElement("div",{style:y.saturation},M.createElement(_2,{style:y.Saturation,hsl:o,hsv:a,pointer:KAe,onChange:r})),M.createElement("div",{style:y.body},M.createElement("div",{style:y.controls,className:"flexbox-fix"},M.createElement("div",{style:y.color},M.createElement("div",{style:y.swatch},M.createElement("div",{style:y.active}),M.createElement(op,{renderers:c}))),M.createElement("div",{style:y.toggles},M.createElement("div",{style:y.hue},M.createElement(ap,{style:y.Hue,hsl:o,pointer:lB,onChange:r})),M.createElement("div",{style:y.alpha},M.createElement(n3,{style:y.Alpha,rgb:s,hsl:o,pointer:lB,renderers:c,onChange:r})))),M.createElement(CH,{rgb:s,hsl:o,hex:l,view:m,onChange:r,disableAlpha:i})))};g3.propTypes={width:he.oneOfType([he.string,he.number]),disableAlpha:he.bool,styles:he.object,defaultView:he.oneOf(["hex","rgb","hsl"])};g3.defaultProps={width:225,disableAlpha:!1,styles:{}};qi(g3);var XAe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=tt({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:u3(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return M.createElement(gd,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},M.createElement("div",{style:a.dot}))},QAe=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=tt({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return M.createElement("div",{style:s.fields,className:"flexbox-fix"},M.createElement("div",{style:s.active}),M.createElement(vt,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),M.createElement(vt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),M.createElement(vt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),M.createElement(vt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},y3=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,d=tt(Hi({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),f=function(m,y){m.hex?Nc(m.hex)&&n({hex:m.hex,source:"hex"},y):n(m,y)};return M.createElement(Ny,{style:d.Compact,styles:l},M.createElement("div",{style:d.compact,className:"compact-picker "+u},M.createElement("div",null,yd(i,function(h){return M.createElement(XAe,{key:h,color:h,active:h.toLowerCase()===s,onClick:f,onSwatchHover:r})}),M.createElement("div",{style:d.clear})),M.createElement(QAe,{hex:s,rgb:o,onChange:f})))};y3.propTypes={colors:he.arrayOf(he.string),styles:he.object};y3.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};qi(y3);var YAe=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=tt({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return M.createElement("div",{style:a.swatch},M.createElement(gd,{color:r,onClick:i,onHover:s,focusStyle:o}))};const JAe=t3(YAe);var v3=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,d=tt(Hi({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),f=function(m,y){return i({hex:m,source:"hex"},y)};return M.createElement("div",{style:d.card,className:"github-picker "+u},M.createElement("div",{style:d.triangleShadow}),M.createElement("div",{style:d.triangle}),yd(r,function(h){return M.createElement(JAe,{color:h,key:h,onClick:f,onSwatchHover:s})}))};v3.propTypes={width:he.oneOfType([he.string,he.number]),colors:he.arrayOf(he.string),triangle:he.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:he.object};v3.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};qi(v3);var ZAe=function(e){var n=e.direction,r=tt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return M.createElement("div",{style:r.picker})},ePe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x3=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,c=l===void 0?{}:l,u=e.className,d=u===void 0?"":u,f=tt(Hi({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),h=function(y){return i({a:1,h:y.h,l:.5,s:1})};return M.createElement("div",{style:f.picker,className:"hue-picker "+d},M.createElement(ap,ePe({},f.hue,{hsl:s,pointer:a,onChange:h,direction:o})))};x3.propTypes={styles:he.object};x3.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:ZAe,styles:{}};qi(x3);var tPe=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,c=tt(Hi({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),u=function(f,h){f.hex?Nc(f.hex)&&n({hex:f.hex,source:"hex"},h):(f.r||f.g||f.b)&&n({r:f.r||i.r,g:f.g||i.g,b:f.b||i.b,source:"rgb"},h)};return M.createElement(Ny,{styles:o},M.createElement("div",{style:c.material,className:"material-picker "+l},M.createElement(vt,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:u}),M.createElement("div",{style:c.split,className:"flexbox-fix"},M.createElement("div",{style:c.third},M.createElement(vt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:u})),M.createElement("div",{style:c.third},M.createElement(vt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:u})),M.createElement("div",{style:c.third},M.createElement(vt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:u})))))};qi(tPe);var nPe=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=tt({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,u){c["#"]?Nc(c["#"])&&n({hex:c["#"],source:"hex"},u):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},u):(c.h||c.s||c.v)&&n({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},u)};return M.createElement("div",{style:o.fields},M.createElement(vt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),M.createElement(vt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),M.createElement(vt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),M.createElement("div",{style:o.divider}),M.createElement(vt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),M.createElement(vt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),M.createElement(vt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),M.createElement("div",{style:o.divider}),M.createElement(vt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),M.createElement("div",{style:o.fieldSymbols},M.createElement("div",{style:o.symbol},"°"),M.createElement("div",{style:o.symbol},"%"),M.createElement("div",{style:o.symbol},"%")))},rPe=function(e){var n=e.hsl,r=tt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return M.createElement("div",{style:r.picker})},iPe=function(){var e=tt({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return M.createElement("div",{style:e.pointer},M.createElement("div",{style:e.left},M.createElement("div",{style:e.leftInside})),M.createElement("div",{style:e.right},M.createElement("div",{style:e.rightInside})))},cB=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=tt({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return M.createElement("div",{style:o.button,onClick:n},r||i)},sPe=function(e){var n=e.rgb,r=e.currentColor,i=tt({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return M.createElement("div",null,M.createElement("div",{style:i.label},"new"),M.createElement("div",{style:i.swatches},M.createElement("div",{style:i.new}),M.createElement("div",{style:i.current})),M.createElement("div",{style:i.label},"current"))},oPe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function aPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lPe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b3=function(t){cPe(e,t);function e(n){aPe(this,e);var r=lPe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return oPe(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=tt(Hi({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return M.createElement("div",{style:l.picker,className:"photoshop-picker "+a},M.createElement("div",{style:l.head},this.props.header),M.createElement("div",{style:l.body,className:"flexbox-fix"},M.createElement("div",{style:l.saturation},M.createElement(_2,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:rPe,onChange:this.props.onChange})),M.createElement("div",{style:l.hue},M.createElement(ap,{direction:"vertical",hsl:this.props.hsl,pointer:iPe,onChange:this.props.onChange})),M.createElement("div",{style:l.controls},M.createElement("div",{style:l.top,className:"flexbox-fix"},M.createElement("div",{style:l.previews},M.createElement(sPe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),M.createElement("div",{style:l.actions},M.createElement(cB,{label:"OK",onClick:this.props.onAccept,active:!0}),M.createElement(cB,{label:"Cancel",onClick:this.props.onCancel}),M.createElement(nPe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(M.Component);b3.propTypes={header:he.string,styles:he.object};b3.defaultProps={header:"Color Picker",styles:{}};qi(b3);var uPe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=tt({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(u,d){u.hex?Nc(u.hex)&&n({hex:u.hex,source:"hex"},d):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,a:r.a,source:"rgb"},d):u.a&&(u.a<0?u.a=0:u.a>100&&(u.a=100),u.a/=100,n({h:i.h,s:i.s,l:i.l,a:u.a,source:"rgb"},d))};return M.createElement("div",{style:a.fields,className:"flexbox-fix"},M.createElement("div",{style:a.double},M.createElement(vt,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})),M.createElement("div",{style:a.single},M.createElement(vt,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),M.createElement("div",{style:a.single},M.createElement(vt,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),M.createElement("div",{style:a.single},M.createElement(vt,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),M.createElement("div",{style:a.alpha},M.createElement(vt,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},dPe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EH=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=tt({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(c,u){i({hex:c,source:"hex"},u)};return M.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(l){var c=typeof l=="string"?{color:l}:l,u=""+c.color+(c.title||"");return M.createElement("div",{key:u,style:o.swatchWrap},M.createElement(gd,dPe({},c,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};EH.propTypes={colors:he.arrayOf(he.oneOfType([he.string,he.shape({color:he.string,title:he.string})])).isRequired};var fPe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w3=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,u=e.presetColors,d=e.renderers,f=e.styles,h=f===void 0?{}:f,m=e.className,y=m===void 0?"":m,x=tt(Hi({default:fPe({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},h),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},h),{disableAlpha:c});return M.createElement("div",{style:x.picker,className:"sketch-picker "+y},M.createElement("div",{style:x.saturation},M.createElement(_2,{style:x.Saturation,hsl:o,hsv:s,onChange:a})),M.createElement("div",{style:x.controls,className:"flexbox-fix"},M.createElement("div",{style:x.sliders},M.createElement("div",{style:x.hue},M.createElement(ap,{style:x.Hue,hsl:o,onChange:a})),M.createElement("div",{style:x.alpha},M.createElement(n3,{style:x.Alpha,rgb:r,hsl:o,renderers:d,onChange:a}))),M.createElement("div",{style:x.color},M.createElement(op,null),M.createElement("div",{style:x.activeColor}))),M.createElement(uPe,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:c}),M.createElement(EH,{colors:u,onClick:a,onSwatchHover:l}))};w3.propTypes={disableAlpha:he.bool,width:he.oneOfType([he.string,he.number]),styles:he.object};w3.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const hPe=qi(w3);var um=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,c=tt({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),u=function(f){return s({h:n.h,s:.5,l:r,source:"hsl"},f)};return M.createElement("div",{style:c.swatch,onClick:u})},pPe=function(e){var n=e.onClick,r=e.hsl,i=tt({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return M.createElement("div",{style:i.swatches},M.createElement("div",{style:i.swatch},M.createElement(um,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),M.createElement("div",{style:i.swatch},M.createElement(um,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),M.createElement("div",{style:i.swatch},M.createElement(um,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),M.createElement("div",{style:i.swatch},M.createElement(um,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),M.createElement("div",{style:i.swatch},M.createElement(um,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),M.createElement("div",{style:i.clear}))},mPe=function(){var e=tt({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return M.createElement("div",{style:e.picker})},S3=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,c=tt(Hi({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return M.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},M.createElement("div",{style:c.hue},M.createElement(ap,{style:c.Hue,hsl:n,pointer:i,onChange:r})),M.createElement("div",{style:c.swatches},M.createElement(pPe,{hsl:n,onClick:r})))};S3.propTypes={styles:he.object};S3.defaultProps={pointer:mPe,styles:{}};qi(S3);var TH={};Object.defineProperty(TH,"__esModule",{value:!0});var uB=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gPe=A,dB=yPe(gPe);function yPe(t){return t&&t.__esModule?t:{default:t}}function vPe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var M1=24,xPe=TH.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?M1:r,s=t.height,o=s===void 0?M1:s,a=t.style,l=a===void 0?{}:a,c=vPe(t,["fill","width","height","style"]);return dB.default.createElement("svg",uB({viewBox:"0 0 "+M1+" "+M1,style:uB({fill:n,width:i,height:o},l)},c),dB.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},bPe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,c=tt({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:u3(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return M.createElement(gd,{color:n,style:c.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},M.createElement("div",{style:c.check},M.createElement(xPe,null)))},wPe=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=tt({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return M.createElement("div",{style:o.group},yd(i,function(a,l){return M.createElement(bPe,{key:a,color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},k3=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,c=l===void 0?{}:l,u=e.className,d=u===void 0?"":u,f=tt(Hi({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),h=function(y,x){return i({hex:y,source:"hex"},x)};return M.createElement("div",{style:f.picker,className:"swatches-picker "+d},M.createElement(Ny,null,M.createElement("div",{style:f.overflow},M.createElement("div",{style:f.body},yd(o,function(m){return M.createElement(wPe,{key:m.toString(),group:m,active:a,onClick:h,onSwatchHover:s})}),M.createElement("div",{style:f.clear})))))};k3.propTypes={width:he.oneOfType([he.string,he.number]),height:he.oneOfType([he.string,he.number]),colors:he.arrayOf(he.arrayOf(he.string)),styles:he.object};k3.defaultProps={width:320,height:240,colors:[[Yd[900],Yd[700],Yd[500],Yd[300],Yd[100]],[Jd[900],Jd[700],Jd[500],Jd[300],Jd[100]],[Zd[900],Zd[700],Zd[500],Zd[300],Zd[100]],[ef[900],ef[700],ef[500],ef[300],ef[100]],[tf[900],tf[700],tf[500],tf[300],tf[100]],[nf[900],nf[700],nf[500],nf[300],nf[100]],[rf[900],rf[700],rf[500],rf[300],rf[100]],[sf[900],sf[700],sf[500],sf[300],sf[100]],[of[900],of[700],of[500],of[300],of[100]],["#194D33",Im[700],Im[500],Im[300],Im[100]],[af[900],af[700],af[500],af[300],af[100]],[lf[900],lf[700],lf[500],lf[300],lf[100]],[cf[900],cf[700],cf[500],cf[300],cf[100]],[uf[900],uf[700],uf[500],uf[300],uf[100]],[df[900],df[700],df[500],df[300],df[100]],[ff[900],ff[700],ff[500],ff[300],ff[100]],[hf[900],hf[700],hf[500],hf[300],hf[100]],[pf[900],pf[700],pf[500],pf[300],pf[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};qi(k3);var C3=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,d=u===void 0?"":u,f=tt(Hi({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),h=function(y,x){Nc(y)&&n({hex:y,source:"hex"},x)};return M.createElement("div",{style:f.card,className:"twitter-picker "+d},M.createElement("div",{style:f.triangleShadow}),M.createElement("div",{style:f.triangle}),M.createElement("div",{style:f.body},yd(s,function(m,y){return M.createElement(gd,{key:y,color:m,hex:m,style:f.swatch,onClick:h,onHover:r,focusStyle:{boxShadow:"0 0 4px "+m}})}),M.createElement("div",{style:f.hash},"#"),M.createElement(vt,{label:null,style:{input:f.input},value:i.replace("#",""),onChange:h}),M.createElement("div",{style:f.clear})))};C3.propTypes={width:he.oneOfType([he.string,he.number]),triangle:he.oneOf(["hide","top-left","top-right"]),colors:he.arrayOf(he.string),styles:he.object};C3.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};qi(C3);var E3=function(e){var n=tt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return M.createElement("div",{style:n.picker})};E3.propTypes={hsl:he.shape({h:he.number,s:he.number,l:he.number,a:he.number})};E3.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var T3=function(e){var n=tt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return M.createElement("div",{style:n.picker})};T3.propTypes={hsl:he.shape({h:he.number,s:he.number,l:he.number,a:he.number})};T3.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var SPe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(h,m){if(h.hex)Nc(h.hex)&&n({hex:h.hex,source:"hex"},m);else if(h.rgb){var y=h.rgb.split(",");zT(h.rgb,"rgb")&&n({r:y[0],g:y[1],b:y[2],a:1,source:"rgb"},m)}else if(h.hsv){var x=h.hsv.split(",");zT(h.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("°",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),n({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},m))}else if(h.hsl){var v=h.hsl.split(",");zT(h.hsl,"hsl")&&(v[2]=v[2].replace("%",""),v[1]=v[1].replace("%",""),v[0]=v[0].replace("°",""),d[1]==1?d[1]=.01:d[2]==1&&(d[2]=.01),n({h:Number(v[0]),s:Number(v[1]),v:Number(v[2]),source:"hsl"},m))}},l=tt({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,u=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",d=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return M.createElement("div",{style:l.wrap,className:"flexbox-fix"},M.createElement("div",{style:l.fields},M.createElement("div",{style:l.double},M.createElement(vt,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})),M.createElement("div",{style:l.column},M.createElement("div",{style:l.single},M.createElement(vt,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:a})),M.createElement("div",{style:l.single},M.createElement(vt,{style:{input:l.input2,label:l.label2},label:"hsv",value:d,onChange:a})),M.createElement("div",{style:l.single},M.createElement(vt,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:a})))))},_3=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,c=e.styles,u=c===void 0?{}:c,d=e.className,f=d===void 0?"":d,h=tt(Hi({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return M.createElement("div",{style:h.picker,className:"google-picker "+f},M.createElement("div",{style:h.head},l),M.createElement("div",{style:h.swatch}),M.createElement("div",{style:h.saturation},M.createElement(_2,{hsl:s,hsv:o,pointer:E3,onChange:r})),M.createElement("div",{style:h.body},M.createElement("div",{style:h.controls,className:"flexbox-fix"},M.createElement("div",{style:h.hue},M.createElement(ap,{style:h.Hue,hsl:s,radius:"4px",pointer:T3,onChange:r}))),M.createElement(SPe,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};_3.propTypes={width:he.oneOfType([he.string,he.number]),styles:he.object,header:he.string};_3.defaultProps={width:652,styles:{},header:"Color picker"};qi(_3);const kPe=[{type:"color",id:"white",colorCode:"#FFFFFF"},{type:"color",id:"black",colorCode:"#000000"},{type:"color",id:"grey",colorCode:"#404040"},{type:"color",id:"purple",colorCode:"#272755"}],CPe="_p0_99d3v_1",EPe="_p05em_99d3v_9",TPe="_ml1rem_99d3v_17",_Pe="_pl1rem_99d3v_25",IPe="_pr1rem_99d3v_33",$Pe="_pt1rem_99d3v_41",NPe="_mt1rem_99d3v_49",Gl={p0:CPe,p05em:EPe,ml1rem:TPe,pl1rem:_Pe,pr1rem:IPe,pt1rem:$Pe,mt1rem:NPe},OPe="_inline_5b3nw_1",$$={inline:OPe,"inline-block":"_inline-block_5b3nw_9"},RPe="STAGE",APe=(t,e)=>t.pipe(eve(su.addItem.type),Kye(1),Xye(n=>console.log(""))),Bo=xy(),_H=Yh({name:RPe,initialState:Bo.setAll(Bo.getInitialState(),[]),reducers:{addItem(t,e){if(Array.isArray(e.payload)){Bo.addMany(t,e.payload);return}Bo.addOne(t,e.payload)},updateItem(t,e){if(Array.isArray(e.payload)){Bo.updateMany(t,e.payload.map(n=>({id:n.id,changes:n.attrs})));return}Bo.updateOne(t,{id:e.payload.id,changes:e.payload})},removeItem(t,e){if(Array.isArray(e.payload)){Bo.removeMany(t,e.payload);return}Bo.removeOne(t,e.payload.id)},clearItems(t,e){Bo.removeAll(t)}}}),PPe=_H.reducer,IH=Bo.getSelectors(t=>t.currentStageData),su=_H.actions,br=()=>{const t=yO(),e=eb(IH.selectAll);return{stageData:e,createItem:a=>{t(su.addItem(a))},updateItem:(a,l)=>{const c=e.find(d=>d.id===a||d.attrs.id===a),u={...c??{},attrs:{...c?c.attrs:{},...l(c)}};t(su.updateItem(u))},removeItem:a=>{t(su.removeItem(a))},alterItems:a=>{t(su.clearItems({})),t(su.addItem(a))},clearItems:()=>{t(su.clearItems({}))}}},N2=()=>({getValue:n=>window.localStorage.getItem(n)&&window.localStorage.getItem(n)!=="null"?JSON.parse(window.localStorage.getItem(n)):null,setValue:(n,r)=>{window.localStorage.setItem(n,JSON.stringify(r))}}),VT="colorList",DPe=({data:t})=>{const{getValue:e,setValue:n}=N2(),{updateItem:r}=br(),[i,s]=A.useState(!1),[o,a]=A.useState("#000000"),{getTranslation:l}=gs(),[c,u]=A.useState(()=>e(VT)?[...e(VT)]:[...kPe]),d=y=>{a(y.hex)},f=y=>{i&&h(),s(x=>!x)},h=()=>{if(!c.find(y=>y.colorCode===o)){const y=[...c,{id:Is(),type:"color",colorCode:o}];n(VT,y),u(y)}},m=y=>{t.selectedItems[0]&&(y.shiftKey?t.selectedItems[0].attrs.stroke=void 0:t.selectedItems[0].attrs.fill="transparent",r(t.selectedItems[0].id(),x=>t.selectedItems[0].attrs))};return R.jsxs(On,{children:[R.jsxs("h6",{children:[l("widget","colorPalette","name"),R.jsx(X5,{placement:"bottom",overlay:R.jsx(JI,{id:"tooltip-clear-color",children:l("widget","colorPalette","addColor","name")}),children:R.jsx(vh,{className:[ja.transparentDarkColorTheme,Zo.none,$$["inline-block"],Vn.width10,Gl.p0,Gl.ml1rem,Rn["text-left"]].join(" "),onClick:f,children:R.jsx("i",{className:"bi-plus"})})}),R.jsx(X5,{placement:"bottom",overlay:R.jsx(JI,{id:"tooltip-clear-color",children:l("widget","colorPalette","clearColor","name")}),children:R.jsx(vh,{className:[ja.transparentDarkColorTheme,Zo.none,$$["inline-block"],Vn.width10,Gl.p0,Gl.ml1rem,Rn["text-left"]].join(" "),onClick:m,children:R.jsx("i",{className:"bi-x-circle"})})})]}),i&&R.jsx(hPe,{color:o,onChange:d,className:[tr.absolute,tr.left0,tr.zIndex3].join(" ")}),R.jsx(cs,{xs:4,children:c.map(y=>R.jsx(FPe,{data:{id:y.id,"data-item-type":"color",colorCode:y.colorCode,selectedItems:t.selectedItems}},`colorPalette-thumbnail-${y.id}`))}),R.jsx(LPe,{data:{"data-item-type":"opacity",selectedItems:t.selectedItems}}),R.jsx(MPe,{data:{"data-item-type":"brightness",selectedItems:t.selectedItems}}),R.jsx(BPe,{data:{"data-item-type":"grayScale",selectedItems:t.selectedItems}})]})},FPe=({data:{id:t,...e}})=>{const{updateItem:n}=br(),r=i=>{var s,o;i.preventDefault(),i.stopPropagation(),(s=window.getSelection())==null||s.removeAllRanges(),e.selectedItems.forEach(a=>{i.shiftKey?a.attrs.stroke=e.colorCode:a.attrs.fill=e.colorCode,n(a.id(),()=>a.attrs)}),(o=e.selectedItems[0].getStage())==null||o.batchDraw()};return R.jsxs(Vi,{as:On,className:[Rn.absoluteCenter,Rn.wrapTrue].join(" "),children:[R.jsx("div",{onClick:r,style:{width:20,height:20,backgroundColor:e.colorCode}}),R.jsx(Vi.Caption,{className:[Xh.fontHalf1em,"text-center"].join(" "),children:`${e.colorCode}`})]})},LPe=({data:t})=>{const{updateItem:e}=br(),{getTranslation:n}=gs(),[r,i]=A.useState(t.selectedItems[0]?t.selectedItems[0].attrs.opacity*100:100);A.useEffect(()=>{i(t.selectedItems[0]&&t.selectedItems[0].attrs.opacity!==void 0&&t.selectedItems[0].attrs.opacity!==null?t.selectedItems[0].attrs.opacity*100:100)},[t.selectedItems]);const s=o=>{var a;i(parseInt(o.currentTarget.value)),t.selectedItems.length!==0&&(t.selectedItems.forEach(l=>{l.opacity(parseInt(o.currentTarget.value)*.01),l.attrs.opacity=parseInt(o.currentTarget.value)*.01,e(l.id(),()=>l.attrs)}),(a=t.selectedItems[0].getStage())==null||a.batchDraw())};return R.jsxs(On,{children:[R.jsx("h6",{children:n("widget","colorPalette","opacity","name")}),R.jsx(fG,{tooltipLabel:o=>`${o}%`,value:r,onChange:s})]})},MPe=({data:t})=>{const{updateItem:e}=br(),{getTranslation:n}=gs(),[r,i]=A.useState(t.selectedItems[0]&&t.selectedItems[0].attrs.brightness?t.selectedItems[0].attrs.brightness*100:0);A.useEffect(()=>{i(t.selectedItems[0]&&t.selectedItems[0].attrs.brightness!==void 0&&t.selectedItems[0].attrs.brightness!==null?t.selectedItems[0].attrs.brightness*100:0)},[t.selectedItems]);const s=o=>{var a;i(parseInt(o.currentTarget.value)),t.selectedItems.length!==0&&(t.selectedItems.forEach(l=>{l.brightness(parseInt(o.currentTarget.value)*.01),l.attrs.brightness=parseInt(o.currentTarget.value)*.01,e(l.id(),()=>l.attrs)}),(a=t.selectedItems[0].getStage())==null||a.batchDraw())};return R.jsxs(On,{children:[R.jsx("h6",{children:n("widget","colorPalette","brightness","name")}),R.jsx(fG,{tooltipLabel:o=>`${o}%`,value:r,onChange:s})]})},BPe=({data:t})=>{const{updateItem:e}=br(),{getTranslation:n}=gs(),[r,i]=A.useState(!!(t.selectedItems[0]&&t.selectedItems[0].filters()&&t.selectedItems[0].filters().find(o=>o===ui.Filters.Grayscale))),s=o=>{var l;if(i(o.currentTarget.checked),t.selectedItems.length===0)return;let a=[];t.selectedItems[0].filters().find(c=>c===ui.Filters.Grayscale)?(t.selectedItems[0].filters(t.selectedItems[0].filters().filter(c=>c!==ui.Filters.Grayscale)),a=t.selectedItems[0].filters().filter(c=>c!==ui.Filters.Grayscale)):(t.selectedItems[0].filters([...t.selectedItems[0].filters(),ui.Filters.Grayscale]),a=[...t.selectedItems[0].filters(),ui.Filters.Grayscale]),e(t.selectedItems[0].id(),()=>({...t.selectedItems[0].attrs,_filters:a.map(c=>c.name)})),(l=t.selectedItems[0].getStage())==null||l.batchDraw()};return A.useEffect(()=>{i(!!(t.selectedItems[0]&&t.selectedItems[0].filters()&&t.selectedItems[0].filters().find(o=>o===ui.Filters.Grayscale)))},[t.selectedItems]),R.jsxs(On,{children:[R.jsx("h6",{children:n("widget","colorPalette","grayScale","name")}),R.jsx(cu,{children:R.jsx(cu.Check,{checked:r,onChange:s,type:"switch",label:"",id:"grayScaleSwitch"})})]})},zPe=[{type:"text",id:"sample-text-1",width:250,height:35,fontSize:30,fontFamily:"serif",text:"hello world!"},{type:"text",id:"sample-text-2",width:250,height:35,fontSize:30,fontFamily:"'Fira Mono', monospace",text:"hello world!"},{type:"text",id:"sample-text-3",width:250,height:35,fontSize:30,fontFamily:"'Hurricane', cursive",text:"hello world!"},{type:"text",id:"sample-text-4",width:250,height:35,fontSize:30,fontFamily:"'League Gothic', sans-serif",text:"hello world!"},{type:"text",id:"sample-text-5",width:250,height:35,fontSize:30,fontFamily:"'Roboto Slab', serif",text:"hello world!"},{type:"text",id:"sample-text-6",width:250,height:35,fontSize:30,fontFamily:"'Nanum Gothic', sans-serif",text:"안녕하세요"},{type:"text",id:"sample-text-7",width:250,height:35,fontSize:30,fontFamily:"'Do Hyeon', sans-serif",text:"안녕하세요"},{type:"text",id:"sample-text-8",width:250,height:35,fontSize:30,fontFamily:"'Gamja Flower', cursive",text:"안녕하세요"},{type:"text",id:"sample-text-9",width:250,height:35,fontSize:30,fontFamily:"'Jua', sans-serif",text:"안녕하세요"},{type:"text",id:"sample-text-10",width:250,height:35,fontSize:30,fontFamily:"'Noto Sans KR', sans-serif",text:"안녕하세요"},{type:"text",id:"sample-text-11",width:250,height:35,fontSize:30,fontFamily:"'Noto Serif KR', serif",text:"안녕하세요"},{type:"text",id:"sample-text-12",width:250,height:35,fontSize:30,fontFamily:"'Ma Shan Zheng', cursive",text:"你是我的朋友"},{type:"text",id:"sample-text-13",width:250,height:35,fontSize:30,fontFamily:"'Noto Serif SC', serif",text:"你是我的朋友"},{type:"text",id:"sample-text-14",width:250,height:35,fontSize:30,fontFamily:"'ZCOOL KuaiLe', cursive",text:"你是我的朋友"},{type:"text",id:"sample-text-15",width:250,height:35,fontSize:30,fontFamily:"'M PLUS 1', sans-serif",text:"今日は気持ちいい"},{type:"text",id:"sample-text-16",width:250,height:35,fontSize:30,fontFamily:"'Noto Sans JP', sans-serif",text:"今日は気持ちいい"},{type:"text",id:"sample-text-17",width:250,height:35,fontSize:30,fontFamily:"'Noto Serif JP', serif",text:"今日は気持ちいい"},{type:"text",id:"sample-text-18",width:250,height:35,fontSize:30,fontFamily:"'Rampart One', cursive",text:"今日は気持ちいい"},{type:"text",id:"sample-text-19",width:250,height:35,fontSize:30,fontFamily:"'Yuji Hentaigana Akebono', cursive",text:"今日は気持ちいい"},{type:"text",id:"sample-text-20",width:250,height:35,fontSize:30,fontFamily:"'Zen Kurenaido', sans-serif",text:"今日は気持ちいい"},{type:"text",id:"sample-text-21",width:250,height:35,fontSize:30,fontFamily:"'Anton', sans-serif",text:"bầu trời màu xanh"},{type:"text",id:"sample-text-22",width:250,height:35,fontSize:30,fontFamily:"'Dancing Script', cursive",text:"bầu trời màu xanh"},{type:"text",id:"sample-text-23",width:250,height:35,fontSize:30,fontFamily:"'Inconsolata', monospace",text:"bầu trời màu xanh"},{type:"text",id:"sample-text-24",width:250,height:35,fontSize:30,fontFamily:"'Open Sans', sans-serif",text:"bầu trời màu xanh"},{type:"text",id:"sample-text-25",width:250,height:35,fontSize:30,fontFamily:"'Playfair Display', serif",text:"bầu trời màu xanh"},{type:"text",id:"sample-text-26",width:250,height:35,fontSize:30,fontFamily:"'Roboto Mono', monospace",text:"bầu trời màu xanh"}],jPe=()=>R.jsx(cs,{xs:2,className:[Vn["mx-h-30vh"]].join(" "),children:zPe.map(({type:t,id:e,width:n,height:r,fontSize:i,fontFamily:s,text:o})=>R.jsx(VPe,{data:{id:e,name:o,width:n,height:r,fontSize:i,fontFamily:s,text:o,"data-item-type":t},maxPx:80},`text-thumbnail-${e}`))}),VPe=({data:t,maxPx:e})=>R.jsx(Vi,{as:On,className:[Rn.absoluteCenter,Rn.wrapTrue].join(" "),children:R.jsx(vy,{dragType:"copyMove",dragSrc:{trigger:uo.INSERT.TEXT,...t},children:R.jsx("h6",{style:{width:"100%",fontFamily:t.fontFamily,fontSize:t.fontSize-10,textAlign:"center"},children:t.text})})}),UPe=[{type:"align",id:"left",icon:"align-start"},{type:"align",id:"center",icon:"align-center"},{type:"align",id:"right",icon:"align-end"},{type:"align",id:"top",icon:"align-top"},{type:"align",id:"middle",icon:"align-middle"},{type:"align",id:"bottom",icon:"align-bottom"}],WPe=({data:t})=>R.jsx(On,{children:R.jsx(cs,{children:UPe.map(e=>R.jsx(GPe,{data:{id:e.id,icon:e.icon,"data-item-type":"align",selectedItems:t.selectedItems}},`align-thumbnail-${e.id}`))})}),GPe=({data:t})=>{const{updateItem:e}=br(),{getTranslation:n}=gs(),r=(a,l)=>{var c;["left","center","right"].includes(l)?a.align(l):a.verticalAlign(l),(c=a.getStage())==null||c.batchDraw()},i=(a,l,c)=>{switch(a){case"left":return HPe(l,c);case"center":return qPe(l,c);case"right":return KPe(l,c);case"top":return XPe(l,c);case"middle":return QPe(l,c);case"bottom":return YPe(l,c);default:return{x:l.x(),y:l.y()}}},s=(a,l,c)=>{const{x:u,y:d}=i(a,l,c);l.x(u),l.y(d),l.attrs.x=u,l.attrs.y=d,e(l.id(),()=>l.attrs)},o=a=>()=>{var u,d;if(t.selectedItems.length===0)return;if(t.selectedItems.length===1&&t.selectedItems[0].className==="Text"){r(t.selectedItems[0],a);return}const l=t.selectedItems.find(f=>f.attrs["data-item-type"]==="frame");if(l){t.selectedItems.filter(f=>f.id()!==l.id()).forEach(f=>{s(a,f,l)}),(u=t.selectedItems[0].getStage())==null||u.batchDraw();return}const c=t.selectedItems[0].getStage();c&&(t.selectedItems.forEach(f=>{s(a,f,c)}),(d=t.selectedItems[0].getStage())==null||d.batchDraw())};return R.jsxs(Vi,{as:On,onClick:o(t.id),className:[Rn.absoluteCenter,Rn.wrapTrue].join(" "),children:[R.jsx("i",{className:`bi-${t.icon}`,style:{fontSize:20,width:25}}),R.jsx(Vi.Caption,{className:[Xh.font075em,Vn.width100,"text-center"].join(" "),children:`${n("widget","align",t.id,"name")}`})]})},HPe=(t,e)=>t.attrs["data-item-type"]==="shape"&&t.attrs.sides!==4?{x:e.position().x+t.attrs.radius,y:t.y()}:{x:e.position().x,y:t.y()},qPe=(t,e)=>t.attrs["data-item-type"]==="shape"&&t.attrs.sides!==4?{x:e.position().x+e.size().width*e.scaleX()/2,y:t.y()}:{x:e.position().x+e.size().width*e.scaleX()/2-t.size().width*t.scaleX()/2,y:t.y()},KPe=(t,e)=>t.attrs["data-item-type"]==="shape"&&t.attrs.sides!==4?{x:e.position().x+e.size().width*e.scaleX()-t.attrs.radius,y:t.y()}:{x:e.position().x+e.size().width*e.scaleX()-t.size().width*t.scaleX(),y:t.y()},XPe=(t,e)=>t.attrs["data-item-type"]==="shape"&&t.attrs.sides!==4?{x:t.x(),y:e.position().y+t.attrs.radius}:{x:t.x(),y:e.position().y},QPe=(t,e)=>t.attrs["data-item-type"]==="shape"&&t.attrs.sides!==4?{x:t.x(),y:e.position().y+e.size().height*e.scaleY()/2}:{x:t.x(),y:e.position().y+e.size().height*e.scaleY()/2-t.size().height*t.scaleY()/2},YPe=(t,e)=>t.attrs["data-item-type"]==="shape"&&t.attrs.sides!==4?{x:t.x(),y:e.position().y+e.size().height*e.scaleY()-t.attrs.radius}:{x:t.x(),y:e.position().y+e.size().height*e.scaleY()-t.size().height*t.scaleY()},JPe=[{type:"export",id:"export-all-frame",name:"Export All Frame",icon:"download"},{type:"export",id:"export-selected",name:"Export Selected Frame",icon:"box-arrow-down"}],ZPe=({data:t})=>R.jsx(On,{children:R.jsx(cs,{children:JPe.map(e=>R.jsx(eDe,{data:{id:e.id,icon:e.icon,name:e.name,"data-item-type":"export",selectedItems:t.selectedItems,clearSelection:t.clearSelection,stageRef:t.stageRef}},`export-thumbnail-${e.id}`))})}),eDe=({data:t})=>{const{getTranslation:e}=gs(),n=s=>{const o=document.createElement("a"),a=s??t.selectedItems.find(l=>l.attrs["data-item-type"]==="frame");if(a){const l=a.getStage();t.clearSelection();const c=l.toDataURL({x:a.getClientRect().x,y:a.getClientRect().y,width:a.attrs.width*l.scaleX(),height:a.attrs.height*l.scaleY(),pixelRatio:1/l.scaleX()});c&&(o.download="export.png",o.href=c,document.body.appendChild(o),o.click(),document.body.removeChild(o))}},r=()=>{t.stageRef.current.getChildren()[0].getChildren(o=>o.attrs.name==="label-group").map(o=>o.getChildren(a=>a.attrs.name==="label-target")[0]).forEach(o=>{n(o)})},i=s=>()=>{if(s==="export-all-frame"){r();return}n()};return R.jsxs(Vi,{as:On,onClick:i(t.id),className:[Rn.absoluteCenter,Rn.wrapTrue].join(" "),children:[R.jsx("i",{className:`bi-${t.icon}`,style:{fontSize:20,width:25}}),R.jsx(Vi.Caption,{className:[Xh.font075em,Vn.width100,"text-center"].join(" "),children:`${e("widget","export",t.id,"name")}`})]})},tDe=[{type:"shape",id:"trianle",icon:"triangle-fill",sides:3,radius:100},{type:"shape",id:"square",icon:"square-fill",sides:4,radius:400},{type:"shape",id:"pentagon",icon:"pentagon-fill",sides:5,radius:100},{type:"shape",id:"hexagon",icon:"hexagon-fill",sides:6,radius:100},{type:"shape",id:"heptagon",icon:"heptagon-fill",sides:7,radius:100},{type:"shape",id:"octagon",icon:"octagon-fill",sides:8,radius:100}],nDe=()=>R.jsx(cs,{xs:2,children:tDe.map(({type:t,id:e,sides:n,radius:r,icon:i})=>R.jsx(rDe,{data:{id:e,sides:n,radius:r,icon:i,"data-item-type":t},maxPx:80},`shape-thumbnail-${e}`))}),rDe=({data:t,maxPx:e})=>R.jsx(Vi,{as:On,className:[Rn.absoluteCenter,Rn.wrapTrue,Vn.width25].join(" "),children:R.jsx(vy,{dragType:"copyMove",dragSrc:{trigger:uo.INSERT.SHAPE,...t},children:R.jsx("i",{className:[`bi-${t.icon}`].join(" "),style:{fontSize:20,width:25}})})}),fB=[{type:"icon",id:"123",name:"123",icon:"123.svg"},{type:"icon",id:"activity",name:"activity",icon:"activity.svg"},{type:"icon",id:"alarm-fill",name:"alarm fill",icon:"alarm-fill.svg"},{type:"icon",id:"alarm",name:"alarm",icon:"alarm.svg"},{type:"icon",id:"align-bottom",name:"align bottom",icon:"align-bottom.svg"},{type:"icon",id:"align-center",name:"align center",icon:"align-center.svg"},{type:"icon",id:"align-end",name:"align end",icon:"align-end.svg"},{type:"icon",id:"align-middle",name:"align middle",icon:"align-middle.svg"},{type:"icon",id:"align-start",name:"align start",icon:"align-start.svg"},{type:"icon",id:"align-top",name:"align top",icon:"align-top.svg"},{type:"icon",id:"alt",name:"alt",icon:"alt.svg"},{type:"icon",id:"app-indicator",name:"app indicator",icon:"app-indicator.svg"},{type:"icon",id:"app",name:"app",icon:"app.svg"},{type:"icon",id:"apple",name:"apple",icon:"apple.svg"},{type:"icon",id:"archive-fill",name:"archive fill",icon:"archive-fill.svg"},{type:"icon",id:"archive",name:"archive",icon:"archive.svg"},{type:"icon",id:"arrow-90deg-down",name:"arrow 90deg down",icon:"arrow-90deg-down.svg"},{type:"icon",id:"arrow-90deg-left",name:"arrow 90deg left",icon:"arrow-90deg-left.svg"},{type:"icon",id:"arrow-90deg-right",name:"arrow 90deg right",icon:"arrow-90deg-right.svg"},{type:"icon",id:"arrow-90deg-up",name:"arrow 90deg up",icon:"arrow-90deg-up.svg"},{type:"icon",id:"arrow-bar-down",name:"arrow bar down",icon:"arrow-bar-down.svg"},{type:"icon",id:"arrow-bar-left",name:"arrow bar left",icon:"arrow-bar-left.svg"},{type:"icon",id:"arrow-bar-right",name:"arrow bar right",icon:"arrow-bar-right.svg"},{type:"icon",id:"arrow-bar-up",name:"arrow bar up",icon:"arrow-bar-up.svg"},{type:"icon",id:"arrow-clockwise",name:"arrow clockwise",icon:"arrow-clockwise.svg"},{type:"icon",id:"arrow-counterclockwise",name:"arrow counterclockwise",icon:"arrow-counterclockwise.svg"},{type:"icon",id:"arrow-down-circle-fill",name:"arrow down circle fill",icon:"arrow-down-circle-fill.svg"},{type:"icon",id:"arrow-down-circle",name:"arrow down circle",icon:"arrow-down-circle.svg"},{type:"icon",id:"arrow-down-left-circle-fill",name:"arrow down left circle fill",icon:"arrow-down-left-circle-fill.svg"},{type:"icon",id:"arrow-down-left-circle",name:"arrow down left circle",icon:"arrow-down-left-circle.svg"},{type:"icon",id:"arrow-down-left-square-fill",name:"arrow down left square fill",icon:"arrow-down-left-square-fill.svg"},{type:"icon",id:"arrow-down-left-square",name:"arrow down left square",icon:"arrow-down-left-square.svg"},{type:"icon",id:"arrow-down-left",name:"arrow down left",icon:"arrow-down-left.svg"},{type:"icon",id:"arrow-down-right-circle-fill",name:"arrow down right circle fill",icon:"arrow-down-right-circle-fill.svg"},{type:"icon",id:"arrow-down-right-circle",name:"arrow down right circle",icon:"arrow-down-right-circle.svg"},{type:"icon",id:"arrow-down-right-square-fill",name:"arrow down right square fill",icon:"arrow-down-right-square-fill.svg"},{type:"icon",id:"arrow-down-right-square",name:"arrow down right square",icon:"arrow-down-right-square.svg"},{type:"icon",id:"arrow-down-right",name:"arrow down right",icon:"arrow-down-right.svg"},{type:"icon",id:"arrow-down-short",name:"arrow down short",icon:"arrow-down-short.svg"},{type:"icon",id:"arrow-down-square-fill",name:"arrow down square fill",icon:"arrow-down-square-fill.svg"},{type:"icon",id:"arrow-down-square",name:"arrow down square",icon:"arrow-down-square.svg"},{type:"icon",id:"arrow-down-up",name:"arrow down up",icon:"arrow-down-up.svg"},{type:"icon",id:"arrow-down",name:"arrow down",icon:"arrow-down.svg"},{type:"icon",id:"arrow-left-circle-fill",name:"arrow left circle fill",icon:"arrow-left-circle-fill.svg"},{type:"icon",id:"arrow-left-circle",name:"arrow left circle",icon:"arrow-left-circle.svg"},{type:"icon",id:"arrow-left-right",name:"arrow left right",icon:"arrow-left-right.svg"},{type:"icon",id:"arrow-left-short",name:"arrow left short",icon:"arrow-left-short.svg"},{type:"icon",id:"arrow-left-square-fill",name:"arrow left square fill",icon:"arrow-left-square-fill.svg"},{type:"icon",id:"arrow-left-square",name:"arrow left square",icon:"arrow-left-square.svg"},{type:"icon",id:"arrow-left",name:"arrow left",icon:"arrow-left.svg"},{type:"icon",id:"arrow-repeat",name:"arrow repeat",icon:"arrow-repeat.svg"},{type:"icon",id:"arrow-return-left",name:"arrow return left",icon:"arrow-return-left.svg"},{type:"icon",id:"arrow-return-right",name:"arrow return right",icon:"arrow-return-right.svg"},{type:"icon",id:"arrow-right-circle-fill",name:"arrow right circle fill",icon:"arrow-right-circle-fill.svg"},{type:"icon",id:"arrow-right-circle",name:"arrow right circle",icon:"arrow-right-circle.svg"},{type:"icon",id:"arrow-right-short",name:"arrow right short",icon:"arrow-right-short.svg"},{type:"icon",id:"arrow-right-square-fill",name:"arrow right square fill",icon:"arrow-right-square-fill.svg"},{type:"icon",id:"arrow-right-square",name:"arrow right square",icon:"arrow-right-square.svg"},{type:"icon",id:"arrow-right",name:"arrow right",icon:"arrow-right.svg"},{type:"icon",id:"arrow-through-heart-fill",name:"arrow through heart fill",icon:"arrow-through-heart-fill.svg"},{type:"icon",id:"arrow-through-heart",name:"arrow through heart",icon:"arrow-through-heart.svg"},{type:"icon",id:"arrow-up-circle-fill",name:"arrow up circle fill",icon:"arrow-up-circle-fill.svg"},{type:"icon",id:"arrow-up-circle",name:"arrow up circle",icon:"arrow-up-circle.svg"},{type:"icon",id:"arrow-up-left-circle-fill",name:"arrow up left circle fill",icon:"arrow-up-left-circle-fill.svg"},{type:"icon",id:"arrow-up-left-circle",name:"arrow up left circle",icon:"arrow-up-left-circle.svg"},{type:"icon",id:"arrow-up-left-square-fill",name:"arrow up left square fill",icon:"arrow-up-left-square-fill.svg"},{type:"icon",id:"arrow-up-left-square",name:"arrow up left square",icon:"arrow-up-left-square.svg"},{type:"icon",id:"arrow-up-left",name:"arrow up left",icon:"arrow-up-left.svg"},{type:"icon",id:"arrow-up-right-circle-fill",name:"arrow up right circle fill",icon:"arrow-up-right-circle-fill.svg"},{type:"icon",id:"arrow-up-right-circle",name:"arrow up right circle",icon:"arrow-up-right-circle.svg"},{type:"icon",id:"arrow-up-right-square-fill",name:"arrow up right square fill",icon:"arrow-up-right-square-fill.svg"},{type:"icon",id:"arrow-up-right-square",name:"arrow up right square",icon:"arrow-up-right-square.svg"},{type:"icon",id:"arrow-up-right",name:"arrow up right",icon:"arrow-up-right.svg"},{type:"icon",id:"arrow-up-short",name:"arrow up short",icon:"arrow-up-short.svg"},{type:"icon",id:"arrow-up-square-fill",name:"arrow up square fill",icon:"arrow-up-square-fill.svg"},{type:"icon",id:"arrow-up-square",name:"arrow up square",icon:"arrow-up-square.svg"},{type:"icon",id:"arrow-up",name:"arrow up",icon:"arrow-up.svg"},{type:"icon",id:"arrows-angle-contract",name:"arrows angle contract",icon:"arrows-angle-contract.svg"},{type:"icon",id:"arrows-angle-expand",name:"arrows angle expand",icon:"arrows-angle-expand.svg"},{type:"icon",id:"arrows-collapse",name:"arrows collapse",icon:"arrows-collapse.svg"},{type:"icon",id:"arrows-expand",name:"arrows expand",icon:"arrows-expand.svg"},{type:"icon",id:"arrows-fullscreen",name:"arrows fullscreen",icon:"arrows-fullscreen.svg"},{type:"icon",id:"arrows-move",name:"arrows move",icon:"arrows-move.svg"},{type:"icon",id:"aspect-ratio-fill",name:"aspect ratio fill",icon:"aspect-ratio-fill.svg"},{type:"icon",id:"aspect-ratio",name:"aspect ratio",icon:"aspect-ratio.svg"},{type:"icon",id:"asterisk",name:"asterisk",icon:"asterisk.svg"},{type:"icon",id:"at",name:"at",icon:"at.svg"},{type:"icon",id:"award-fill",name:"award fill",icon:"award-fill.svg"},{type:"icon",id:"award",name:"award",icon:"award.svg"},{type:"icon",id:"back",name:"back",icon:"back.svg"},{type:"icon",id:"backspace-fill",name:"backspace fill",icon:"backspace-fill.svg"},{type:"icon",id:"backspace-reverse-fill",name:"backspace reverse fill",icon:"backspace-reverse-fill.svg"},{type:"icon",id:"backspace-reverse",name:"backspace reverse",icon:"backspace-reverse.svg"},{type:"icon",id:"backspace",name:"backspace",icon:"backspace.svg"},{type:"icon",id:"badge-3d-fill",name:"badge 3d fill",icon:"badge-3d-fill.svg"},{type:"icon",id:"badge-3d",name:"badge 3d",icon:"badge-3d.svg"},{type:"icon",id:"badge-4k-fill",name:"badge 4k fill",icon:"badge-4k-fill.svg"},{type:"icon",id:"badge-4k",name:"badge 4k",icon:"badge-4k.svg"},{type:"icon",id:"badge-8k-fill",name:"badge 8k fill",icon:"badge-8k-fill.svg"},{type:"icon",id:"badge-8k",name:"badge 8k",icon:"badge-8k.svg"},{type:"icon",id:"badge-ad-fill",name:"badge ad fill",icon:"badge-ad-fill.svg"},{type:"icon",id:"badge-ad",name:"badge ad",icon:"badge-ad.svg"},{type:"icon",id:"badge-ar-fill",name:"badge ar fill",icon:"badge-ar-fill.svg"},{type:"icon",id:"badge-ar",name:"badge ar",icon:"badge-ar.svg"},{type:"icon",id:"badge-cc-fill",name:"badge cc fill",icon:"badge-cc-fill.svg"},{type:"icon",id:"badge-cc",name:"badge cc",icon:"badge-cc.svg"},{type:"icon",id:"badge-hd-fill",name:"badge hd fill",icon:"badge-hd-fill.svg"},{type:"icon",id:"badge-hd",name:"badge hd",icon:"badge-hd.svg"},{type:"icon",id:"badge-sd-fill",name:"badge sd fill",icon:"badge-sd-fill.svg"},{type:"icon",id:"badge-sd",name:"badge sd",icon:"badge-sd.svg"},{type:"icon",id:"badge-tm-fill",name:"badge tm fill",icon:"badge-tm-fill.svg"},{type:"icon",id:"badge-tm",name:"badge tm",icon:"badge-tm.svg"},{type:"icon",id:"badge-vo-fill",name:"badge vo fill",icon:"badge-vo-fill.svg"},{type:"icon",id:"badge-vo",name:"badge vo",icon:"badge-vo.svg"},{type:"icon",id:"badge-vr-fill",name:"badge vr fill",icon:"badge-vr-fill.svg"},{type:"icon",id:"badge-vr",name:"badge vr",icon:"badge-vr.svg"},{type:"icon",id:"badge-wc-fill",name:"badge wc fill",icon:"badge-wc-fill.svg"},{type:"icon",id:"badge-wc",name:"badge wc",icon:"badge-wc.svg"},{type:"icon",id:"bag-check-fill",name:"bag check fill",icon:"bag-check-fill.svg"},{type:"icon",id:"bag-check",name:"bag check",icon:"bag-check.svg"},{type:"icon",id:"bag-dash-fill",name:"bag dash fill",icon:"bag-dash-fill.svg"},{type:"icon",id:"bag-dash",name:"bag dash",icon:"bag-dash.svg"},{type:"icon",id:"bag-fill",name:"bag fill",icon:"bag-fill.svg"},{type:"icon",id:"bag-heart-fill",name:"bag heart fill",icon:"bag-heart-fill.svg"},{type:"icon",id:"bag-heart",name:"bag heart",icon:"bag-heart.svg"},{type:"icon",id:"bag-plus-fill",name:"bag plus fill",icon:"bag-plus-fill.svg"},{type:"icon",id:"bag-plus",name:"bag plus",icon:"bag-plus.svg"},{type:"icon",id:"bag-x-fill",name:"bag x fill",icon:"bag-x-fill.svg"},{type:"icon",id:"bag-x",name:"bag x",icon:"bag-x.svg"},{type:"icon",id:"bag",name:"bag",icon:"bag.svg"},{type:"icon",id:"balloon-fill",name:"balloon fill",icon:"balloon-fill.svg"},{type:"icon",id:"balloon-heart-fill",name:"balloon heart fill",icon:"balloon-heart-fill.svg"},{type:"icon",id:"balloon-heart",name:"balloon heart",icon:"balloon-heart.svg"},{type:"icon",id:"balloon",name:"balloon",icon:"balloon.svg"},{type:"icon",id:"bandaid-fill",name:"bandaid fill",icon:"bandaid-fill.svg"},{type:"icon",id:"bandaid",name:"bandaid",icon:"bandaid.svg"},{type:"icon",id:"bank",name:"bank",icon:"bank.svg"},{type:"icon",id:"bank2",name:"bank2",icon:"bank2.svg"},{type:"icon",id:"bar-chart-fill",name:"bar chart fill",icon:"bar-chart-fill.svg"},{type:"icon",id:"bar-chart-line-fill",name:"bar chart line fill",icon:"bar-chart-line-fill.svg"},{type:"icon",id:"bar-chart-line",name:"bar chart line",icon:"bar-chart-line.svg"},{type:"icon",id:"bar-chart-steps",name:"bar chart steps",icon:"bar-chart-steps.svg"},{type:"icon",id:"bar-chart",name:"bar chart",icon:"bar-chart.svg"},{type:"icon",id:"basket-fill",name:"basket fill",icon:"basket-fill.svg"},{type:"icon",id:"basket",name:"basket",icon:"basket.svg"},{type:"icon",id:"basket2-fill",name:"basket2 fill",icon:"basket2-fill.svg"},{type:"icon",id:"basket2",name:"basket2",icon:"basket2.svg"},{type:"icon",id:"basket3-fill",name:"basket3 fill",icon:"basket3-fill.svg"},{type:"icon",id:"basket3",name:"basket3",icon:"basket3.svg"},{type:"icon",id:"battery-charging",name:"battery charging",icon:"battery-charging.svg"},{type:"icon",id:"battery-full",name:"battery full",icon:"battery-full.svg"},{type:"icon",id:"battery-half",name:"battery half",icon:"battery-half.svg"},{type:"icon",id:"battery",name:"battery",icon:"battery.svg"},{type:"icon",id:"behance",name:"behance",icon:"behance.svg"},{type:"icon",id:"bell-fill",name:"bell fill",icon:"bell-fill.svg"},{type:"icon",id:"bell-slash-fill",name:"bell slash fill",icon:"bell-slash-fill.svg"},{type:"icon",id:"bell-slash",name:"bell slash",icon:"bell-slash.svg"},{type:"icon",id:"bell",name:"bell",icon:"bell.svg"},{type:"icon",id:"bezier",name:"bezier",icon:"bezier.svg"},{type:"icon",id:"bezier2",name:"bezier2",icon:"bezier2.svg"},{type:"icon",id:"bicycle",name:"bicycle",icon:"bicycle.svg"},{type:"icon",id:"binoculars-fill",name:"binoculars fill",icon:"binoculars-fill.svg"},{type:"icon",id:"binoculars",name:"binoculars",icon:"binoculars.svg"},{type:"icon",id:"blockquote-left",name:"blockquote left",icon:"blockquote-left.svg"},{type:"icon",id:"blockquote-right",name:"blockquote right",icon:"blockquote-right.svg"},{type:"icon",id:"bluetooth",name:"bluetooth",icon:"bluetooth.svg"},{type:"icon",id:"body-text",name:"body text",icon:"body-text.svg"},{type:"icon",id:"book-fill",name:"book fill",icon:"book-fill.svg"},{type:"icon",id:"book-half",name:"book half",icon:"book-half.svg"},{type:"icon",id:"book",name:"book",icon:"book.svg"},{type:"icon",id:"bookmark-check-fill",name:"bookmark check fill",icon:"bookmark-check-fill.svg"},{type:"icon",id:"bookmark-check",name:"bookmark check",icon:"bookmark-check.svg"},{type:"icon",id:"bookmark-dash-fill",name:"bookmark dash fill",icon:"bookmark-dash-fill.svg"},{type:"icon",id:"bookmark-dash",name:"bookmark dash",icon:"bookmark-dash.svg"},{type:"icon",id:"bookmark-fill",name:"bookmark fill",icon:"bookmark-fill.svg"},{type:"icon",id:"bookmark-heart-fill",name:"bookmark heart fill",icon:"bookmark-heart-fill.svg"},{type:"icon",id:"bookmark-heart",name:"bookmark heart",icon:"bookmark-heart.svg"},{type:"icon",id:"bookmark-plus-fill",name:"bookmark plus fill",icon:"bookmark-plus-fill.svg"},{type:"icon",id:"bookmark-plus",name:"bookmark plus",icon:"bookmark-plus.svg"},{type:"icon",id:"bookmark-star-fill",name:"bookmark star fill",icon:"bookmark-star-fill.svg"},{type:"icon",id:"bookmark-star",name:"bookmark star",icon:"bookmark-star.svg"},{type:"icon",id:"bookmark-x-fill",name:"bookmark x fill",icon:"bookmark-x-fill.svg"},{type:"icon",id:"bookmark-x",name:"bookmark x",icon:"bookmark-x.svg"},{type:"icon",id:"bookmark",name:"bookmark",icon:"bookmark.svg"},{type:"icon",id:"bookmarks-fill",name:"bookmarks fill",icon:"bookmarks-fill.svg"},{type:"icon",id:"bookmarks",name:"bookmarks",icon:"bookmarks.svg"},{type:"icon",id:"bookshelf",name:"bookshelf",icon:"bookshelf.svg"},{type:"icon",id:"boombox-fill",name:"boombox fill",icon:"boombox-fill.svg"},{type:"icon",id:"boombox",name:"boombox",icon:"boombox.svg"},{type:"icon",id:"bootstrap-fill",name:"bootstrap fill",icon:"bootstrap-fill.svg"},{type:"icon",id:"bootstrap-icons",name:"bootstrap icons",icon:"bootstrap-icons.svg"},{type:"icon",id:"bootstrap-reboot",name:"bootstrap reboot",icon:"bootstrap-reboot.svg"},{type:"icon",id:"bootstrap",name:"bootstrap",icon:"bootstrap.svg"},{type:"icon",id:"border-all",name:"border all",icon:"border-all.svg"},{type:"icon",id:"border-bottom",name:"border bottom",icon:"border-bottom.svg"},{type:"icon",id:"border-center",name:"border center",icon:"border-center.svg"},{type:"icon",id:"border-inner",name:"border inner",icon:"border-inner.svg"},{type:"icon",id:"border-left",name:"border left",icon:"border-left.svg"},{type:"icon",id:"border-middle",name:"border middle",icon:"border-middle.svg"},{type:"icon",id:"border-outer",name:"border outer",icon:"border-outer.svg"},{type:"icon",id:"border-right",name:"border right",icon:"border-right.svg"},{type:"icon",id:"border-style",name:"border style",icon:"border-style.svg"},{type:"icon",id:"border-top",name:"border top",icon:"border-top.svg"},{type:"icon",id:"border-width",name:"border width",icon:"border-width.svg"},{type:"icon",id:"border",name:"border",icon:"border.svg"},{type:"icon",id:"bounding-box-circles",name:"bounding box circles",icon:"bounding-box-circles.svg"},{type:"icon",id:"bounding-box",name:"bounding box",icon:"bounding-box.svg"},{type:"icon",id:"box-arrow-down-left",name:"box arrow down left",icon:"box-arrow-down-left.svg"},{type:"icon",id:"box-arrow-down-right",name:"box arrow down right",icon:"box-arrow-down-right.svg"},{type:"icon",id:"box-arrow-down",name:"box arrow down",icon:"box-arrow-down.svg"},{type:"icon",id:"box-arrow-in-down-left",name:"box arrow in down left",icon:"box-arrow-in-down-left.svg"},{type:"icon",id:"box-arrow-in-down-right",name:"box arrow in down right",icon:"box-arrow-in-down-right.svg"},{type:"icon",id:"box-arrow-in-down",name:"box arrow in down",icon:"box-arrow-in-down.svg"},{type:"icon",id:"box-arrow-in-left",name:"box arrow in left",icon:"box-arrow-in-left.svg"},{type:"icon",id:"box-arrow-in-right",name:"box arrow in right",icon:"box-arrow-in-right.svg"},{type:"icon",id:"box-arrow-in-up-left",name:"box arrow in up left",icon:"box-arrow-in-up-left.svg"},{type:"icon",id:"box-arrow-in-up-right",name:"box arrow in up right",icon:"box-arrow-in-up-right.svg"},{type:"icon",id:"box-arrow-in-up",name:"box arrow in up",icon:"box-arrow-in-up.svg"},{type:"icon",id:"box-arrow-left",name:"box arrow left",icon:"box-arrow-left.svg"},{type:"icon",id:"box-arrow-right",name:"box arrow right",icon:"box-arrow-right.svg"},{type:"icon",id:"box-arrow-up-left",name:"box arrow up left",icon:"box-arrow-up-left.svg"},{type:"icon",id:"box-arrow-up-right",name:"box arrow up right",icon:"box-arrow-up-right.svg"},{type:"icon",id:"box-arrow-up",name:"box arrow up",icon:"box-arrow-up.svg"},{type:"icon",id:"box-seam",name:"box seam",icon:"box-seam.svg"},{type:"icon",id:"box",name:"box",icon:"box.svg"},{type:"icon",id:"box2-fill",name:"box2 fill",icon:"box2-fill.svg"},{type:"icon",id:"box2-heart-fill",name:"box2 heart fill",icon:"box2-heart-fill.svg"},{type:"icon",id:"box2-heart",name:"box2 heart",icon:"box2-heart.svg"},{type:"icon",id:"box2",name:"box2",icon:"box2.svg"},{type:"icon",id:"boxes",name:"boxes",icon:"boxes.svg"},{type:"icon",id:"braces-asterisk",name:"braces asterisk",icon:"braces-asterisk.svg"},{type:"icon",id:"braces",name:"braces",icon:"braces.svg"},{type:"icon",id:"bricks",name:"bricks",icon:"bricks.svg"},{type:"icon",id:"briefcase-fill",name:"briefcase fill",icon:"briefcase-fill.svg"},{type:"icon",id:"briefcase",name:"briefcase",icon:"briefcase.svg"},{type:"icon",id:"brightness-alt-high-fill",name:"brightness alt high fill",icon:"brightness-alt-high-fill.svg"},{type:"icon",id:"brightness-alt-high",name:"brightness alt high",icon:"brightness-alt-high.svg"},{type:"icon",id:"brightness-alt-low-fill",name:"brightness alt low fill",icon:"brightness-alt-low-fill.svg"},{type:"icon",id:"brightness-alt-low",name:"brightness alt low",icon:"brightness-alt-low.svg"},{type:"icon",id:"brightness-high-fill",name:"brightness high fill",icon:"brightness-high-fill.svg"},{type:"icon",id:"brightness-high",name:"brightness high",icon:"brightness-high.svg"},{type:"icon",id:"brightness-low-fill",name:"brightness low fill",icon:"brightness-low-fill.svg"},{type:"icon",id:"brightness-low",name:"brightness low",icon:"brightness-low.svg"},{type:"icon",id:"broadcast-pin",name:"broadcast pin",icon:"broadcast-pin.svg"},{type:"icon",id:"broadcast",name:"broadcast",icon:"broadcast.svg"},{type:"icon",id:"brush-fill",name:"brush fill",icon:"brush-fill.svg"},{type:"icon",id:"brush",name:"brush",icon:"brush.svg"},{type:"icon",id:"bucket-fill",name:"bucket fill",icon:"bucket-fill.svg"},{type:"icon",id:"bucket",name:"bucket",icon:"bucket.svg"},{type:"icon",id:"bug-fill",name:"bug fill",icon:"bug-fill.svg"},{type:"icon",id:"bug",name:"bug",icon:"bug.svg"},{type:"icon",id:"building",name:"building",icon:"building.svg"},{type:"icon",id:"bullseye",name:"bullseye",icon:"bullseye.svg"},{type:"icon",id:"calculator-fill",name:"calculator fill",icon:"calculator-fill.svg"},{type:"icon",id:"calculator",name:"calculator",icon:"calculator.svg"},{type:"icon",id:"calendar-check-fill",name:"calendar check fill",icon:"calendar-check-fill.svg"},{type:"icon",id:"calendar-check",name:"calendar check",icon:"calendar-check.svg"},{type:"icon",id:"calendar-date-fill",name:"calendar date fill",icon:"calendar-date-fill.svg"},{type:"icon",id:"calendar-date",name:"calendar date",icon:"calendar-date.svg"},{type:"icon",id:"calendar-day-fill",name:"calendar day fill",icon:"calendar-day-fill.svg"},{type:"icon",id:"calendar-day",name:"calendar day",icon:"calendar-day.svg"},{type:"icon",id:"calendar-event-fill",name:"calendar event fill",icon:"calendar-event-fill.svg"},{type:"icon",id:"calendar-event",name:"calendar event",icon:"calendar-event.svg"},{type:"icon",id:"calendar-fill",name:"calendar fill",icon:"calendar-fill.svg"},{type:"icon",id:"calendar-heart-fill",name:"calendar heart fill",icon:"calendar-heart-fill.svg"},{type:"icon",id:"calendar-heart",name:"calendar heart",icon:"calendar-heart.svg"},{type:"icon",id:"calendar-minus-fill",name:"calendar minus fill",icon:"calendar-minus-fill.svg"},{type:"icon",id:"calendar-minus",name:"calendar minus",icon:"calendar-minus.svg"},{type:"icon",id:"calendar-month-fill",name:"calendar month fill",icon:"calendar-month-fill.svg"},{type:"icon",id:"calendar-month",name:"calendar month",icon:"calendar-month.svg"},{type:"icon",id:"calendar-plus-fill",name:"calendar plus fill",icon:"calendar-plus-fill.svg"},{type:"icon",id:"calendar-plus",name:"calendar plus",icon:"calendar-plus.svg"},{type:"icon",id:"calendar-range-fill",name:"calendar range fill",icon:"calendar-range-fill.svg"},{type:"icon",id:"calendar-range",name:"calendar range",icon:"calendar-range.svg"},{type:"icon",id:"calendar-week-fill",name:"calendar week fill",icon:"calendar-week-fill.svg"},{type:"icon",id:"calendar-week",name:"calendar week",icon:"calendar-week.svg"},{type:"icon",id:"calendar-x-fill",name:"calendar x fill",icon:"calendar-x-fill.svg"},{type:"icon",id:"calendar-x",name:"calendar x",icon:"calendar-x.svg"},{type:"icon",id:"calendar",name:"calendar",icon:"calendar.svg"},{type:"icon",id:"calendar2-check-fill",name:"calendar2 check fill",icon:"calendar2-check-fill.svg"},{type:"icon",id:"calendar2-check",name:"calendar2 check",icon:"calendar2-check.svg"},{type:"icon",id:"calendar2-date-fill",name:"calendar2 date fill",icon:"calendar2-date-fill.svg"},{type:"icon",id:"calendar2-date",name:"calendar2 date",icon:"calendar2-date.svg"},{type:"icon",id:"calendar2-day-fill",name:"calendar2 day fill",icon:"calendar2-day-fill.svg"},{type:"icon",id:"calendar2-day",name:"calendar2 day",icon:"calendar2-day.svg"},{type:"icon",id:"calendar2-event-fill",name:"calendar2 event fill",icon:"calendar2-event-fill.svg"},{type:"icon",id:"calendar2-event",name:"calendar2 event",icon:"calendar2-event.svg"},{type:"icon",id:"calendar2-fill",name:"calendar2 fill",icon:"calendar2-fill.svg"},{type:"icon",id:"calendar2-heart-fill",name:"calendar2 heart fill",icon:"calendar2-heart-fill.svg"},{type:"icon",id:"calendar2-heart",name:"calendar2 heart",icon:"calendar2-heart.svg"},{type:"icon",id:"calendar2-minus-fill",name:"calendar2 minus fill",icon:"calendar2-minus-fill.svg"},{type:"icon",id:"calendar2-minus",name:"calendar2 minus",icon:"calendar2-minus.svg"},{type:"icon",id:"calendar2-month-fill",name:"calendar2 month fill",icon:"calendar2-month-fill.svg"},{type:"icon",id:"calendar2-month",name:"calendar2 month",icon:"calendar2-month.svg"},{type:"icon",id:"calendar2-plus-fill",name:"calendar2 plus fill",icon:"calendar2-plus-fill.svg"},{type:"icon",id:"calendar2-plus",name:"calendar2 plus",icon:"calendar2-plus.svg"},{type:"icon",id:"calendar2-range-fill",name:"calendar2 range fill",icon:"calendar2-range-fill.svg"},{type:"icon",id:"calendar2-range",name:"calendar2 range",icon:"calendar2-range.svg"},{type:"icon",id:"calendar2-week-fill",name:"calendar2 week fill",icon:"calendar2-week-fill.svg"},{type:"icon",id:"calendar2-week",name:"calendar2 week",icon:"calendar2-week.svg"},{type:"icon",id:"calendar2-x-fill",name:"calendar2 x fill",icon:"calendar2-x-fill.svg"},{type:"icon",id:"calendar2-x",name:"calendar2 x",icon:"calendar2-x.svg"},{type:"icon",id:"calendar2",name:"calendar2",icon:"calendar2.svg"},{type:"icon",id:"calendar3-event-fill",name:"calendar3 event fill",icon:"calendar3-event-fill.svg"},{type:"icon",id:"calendar3-event",name:"calendar3 event",icon:"calendar3-event.svg"},{type:"icon",id:"calendar3-fill",name:"calendar3 fill",icon:"calendar3-fill.svg"},{type:"icon",id:"calendar3-range-fill",name:"calendar3 range fill",icon:"calendar3-range-fill.svg"},{type:"icon",id:"calendar3-range",name:"calendar3 range",icon:"calendar3-range.svg"},{type:"icon",id:"calendar3-week-fill",name:"calendar3 week fill",icon:"calendar3-week-fill.svg"},{type:"icon",id:"calendar3-week",name:"calendar3 week",icon:"calendar3-week.svg"},{type:"icon",id:"calendar3",name:"calendar3",icon:"calendar3.svg"},{type:"icon",id:"calendar4-event",name:"calendar4 event",icon:"calendar4-event.svg"},{type:"icon",id:"calendar4-range",name:"calendar4 range",icon:"calendar4-range.svg"},{type:"icon",id:"calendar4-week",name:"calendar4 week",icon:"calendar4-week.svg"},{type:"icon",id:"calendar4",name:"calendar4",icon:"calendar4.svg"},{type:"icon",id:"camera-fill",name:"camera fill",icon:"camera-fill.svg"},{type:"icon",id:"camera-reels-fill",name:"camera reels fill",icon:"camera-reels-fill.svg"},{type:"icon",id:"camera-reels",name:"camera reels",icon:"camera-reels.svg"},{type:"icon",id:"camera-video-fill",name:"camera video fill",icon:"camera-video-fill.svg"},{type:"icon",id:"camera-video-off-fill",name:"camera video off fill",icon:"camera-video-off-fill.svg"},{type:"icon",id:"camera-video-off",name:"camera video off",icon:"camera-video-off.svg"},{type:"icon",id:"camera-video",name:"camera video",icon:"camera-video.svg"},{type:"icon",id:"camera",name:"camera",icon:"camera.svg"},{type:"icon",id:"camera2",name:"camera2",icon:"camera2.svg"},{type:"icon",id:"capslock-fill",name:"capslock fill",icon:"capslock-fill.svg"},{type:"icon",id:"capslock",name:"capslock",icon:"capslock.svg"},{type:"icon",id:"card-checklist",name:"card checklist",icon:"card-checklist.svg"},{type:"icon",id:"card-heading",name:"card heading",icon:"card-heading.svg"},{type:"icon",id:"card-image",name:"card image",icon:"card-image.svg"},{type:"icon",id:"card-list",name:"card list",icon:"card-list.svg"},{type:"icon",id:"card-text",name:"card text",icon:"card-text.svg"},{type:"icon",id:"caret-down-fill",name:"caret down fill",icon:"caret-down-fill.svg"},{type:"icon",id:"caret-down-square-fill",name:"caret down square fill",icon:"caret-down-square-fill.svg"},{type:"icon",id:"caret-down-square",name:"caret down square",icon:"caret-down-square.svg"},{type:"icon",id:"caret-down",name:"caret down",icon:"caret-down.svg"},{type:"icon",id:"caret-left-fill",name:"caret left fill",icon:"caret-left-fill.svg"},{type:"icon",id:"caret-left-square-fill",name:"caret left square fill",icon:"caret-left-square-fill.svg"},{type:"icon",id:"caret-left-square",name:"caret left square",icon:"caret-left-square.svg"},{type:"icon",id:"caret-left",name:"caret left",icon:"caret-left.svg"},{type:"icon",id:"caret-right-fill",name:"caret right fill",icon:"caret-right-fill.svg"},{type:"icon",id:"caret-right-square-fill",name:"caret right square fill",icon:"caret-right-square-fill.svg"},{type:"icon",id:"caret-right-square",name:"caret right square",icon:"caret-right-square.svg"},{type:"icon",id:"caret-right",name:"caret right",icon:"caret-right.svg"},{type:"icon",id:"caret-up-fill",name:"caret up fill",icon:"caret-up-fill.svg"},{type:"icon",id:"caret-up-square-fill",name:"caret up square fill",icon:"caret-up-square-fill.svg"},{type:"icon",id:"caret-up-square",name:"caret up square",icon:"caret-up-square.svg"},{type:"icon",id:"caret-up",name:"caret up",icon:"caret-up.svg"},{type:"icon",id:"cart-check-fill",name:"cart check fill",icon:"cart-check-fill.svg"},{type:"icon",id:"cart-check",name:"cart check",icon:"cart-check.svg"},{type:"icon",id:"cart-dash-fill",name:"cart dash fill",icon:"cart-dash-fill.svg"},{type:"icon",id:"cart-dash",name:"cart dash",icon:"cart-dash.svg"},{type:"icon",id:"cart-fill",name:"cart fill",icon:"cart-fill.svg"},{type:"icon",id:"cart-plus-fill",name:"cart plus fill",icon:"cart-plus-fill.svg"},{type:"icon",id:"cart-plus",name:"cart plus",icon:"cart-plus.svg"},{type:"icon",id:"cart-x-fill",name:"cart x fill",icon:"cart-x-fill.svg"},{type:"icon",id:"cart-x",name:"cart x",icon:"cart-x.svg"},{type:"icon",id:"cart",name:"cart",icon:"cart.svg"},{type:"icon",id:"cart2",name:"cart2",icon:"cart2.svg"},{type:"icon",id:"cart3",name:"cart3",icon:"cart3.svg"},{type:"icon",id:"cart4",name:"cart4",icon:"cart4.svg"},{type:"icon",id:"cash-coin",name:"cash coin",icon:"cash-coin.svg"},{type:"icon",id:"cash-stack",name:"cash stack",icon:"cash-stack.svg"},{type:"icon",id:"cash",name:"cash",icon:"cash.svg"},{type:"icon",id:"cast",name:"cast",icon:"cast.svg"},{type:"icon",id:"chat-dots-fill",name:"chat dots fill",icon:"chat-dots-fill.svg"},{type:"icon",id:"chat-dots",name:"chat dots",icon:"chat-dots.svg"},{type:"icon",id:"chat-fill",name:"chat fill",icon:"chat-fill.svg"},{type:"icon",id:"chat-heart-fill",name:"chat heart fill",icon:"chat-heart-fill.svg"},{type:"icon",id:"chat-heart",name:"chat heart",icon:"chat-heart.svg"},{type:"icon",id:"chat-left-dots-fill",name:"chat left dots fill",icon:"chat-left-dots-fill.svg"},{type:"icon",id:"chat-left-dots",name:"chat left dots",icon:"chat-left-dots.svg"},{type:"icon",id:"chat-left-fill",name:"chat left fill",icon:"chat-left-fill.svg"},{type:"icon",id:"chat-left-heart-fill",name:"chat left heart fill",icon:"chat-left-heart-fill.svg"},{type:"icon",id:"chat-left-heart",name:"chat left heart",icon:"chat-left-heart.svg"},{type:"icon",id:"chat-left-quote-fill",name:"chat left quote fill",icon:"chat-left-quote-fill.svg"},{type:"icon",id:"chat-left-quote",name:"chat left quote",icon:"chat-left-quote.svg"},{type:"icon",id:"chat-left-text-fill",name:"chat left text fill",icon:"chat-left-text-fill.svg"},{type:"icon",id:"chat-left-text",name:"chat left text",icon:"chat-left-text.svg"},{type:"icon",id:"chat-left",name:"chat left",icon:"chat-left.svg"},{type:"icon",id:"chat-quote-fill",name:"chat quote fill",icon:"chat-quote-fill.svg"},{type:"icon",id:"chat-quote",name:"chat quote",icon:"chat-quote.svg"},{type:"icon",id:"chat-right-dots-fill",name:"chat right dots fill",icon:"chat-right-dots-fill.svg"},{type:"icon",id:"chat-right-dots",name:"chat right dots",icon:"chat-right-dots.svg"},{type:"icon",id:"chat-right-fill",name:"chat right fill",icon:"chat-right-fill.svg"},{type:"icon",id:"chat-right-heart-fill",name:"chat right heart fill",icon:"chat-right-heart-fill.svg"},{type:"icon",id:"chat-right-heart",name:"chat right heart",icon:"chat-right-heart.svg"},{type:"icon",id:"chat-right-quote-fill",name:"chat right quote fill",icon:"chat-right-quote-fill.svg"},{type:"icon",id:"chat-right-quote",name:"chat right quote",icon:"chat-right-quote.svg"},{type:"icon",id:"chat-right-text-fill",name:"chat right text fill",icon:"chat-right-text-fill.svg"},{type:"icon",id:"chat-right-text",name:"chat right text",icon:"chat-right-text.svg"},{type:"icon",id:"chat-right",name:"chat right",icon:"chat-right.svg"},{type:"icon",id:"chat-square-dots-fill",name:"chat square dots fill",icon:"chat-square-dots-fill.svg"},{type:"icon",id:"chat-square-dots",name:"chat square dots",icon:"chat-square-dots.svg"},{type:"icon",id:"chat-square-fill",name:"chat square fill",icon:"chat-square-fill.svg"},{type:"icon",id:"chat-square-heart-fill",name:"chat square heart fill",icon:"chat-square-heart-fill.svg"},{type:"icon",id:"chat-square-heart",name:"chat square heart",icon:"chat-square-heart.svg"},{type:"icon",id:"chat-square-quote-fill",name:"chat square quote fill",icon:"chat-square-quote-fill.svg"},{type:"icon",id:"chat-square-quote",name:"chat square quote",icon:"chat-square-quote.svg"},{type:"icon",id:"chat-square-text-fill",name:"chat square text fill",icon:"chat-square-text-fill.svg"},{type:"icon",id:"chat-square-text",name:"chat square text",icon:"chat-square-text.svg"},{type:"icon",id:"chat-square",name:"chat square",icon:"chat-square.svg"},{type:"icon",id:"chat-text-fill",name:"chat text fill",icon:"chat-text-fill.svg"},{type:"icon",id:"chat-text",name:"chat text",icon:"chat-text.svg"},{type:"icon",id:"chat",name:"chat",icon:"chat.svg"},{type:"icon",id:"check-all",name:"check all",icon:"check-all.svg"},{type:"icon",id:"check-circle-fill",name:"check circle fill",icon:"check-circle-fill.svg"},{type:"icon",id:"check-circle",name:"check circle",icon:"check-circle.svg"},{type:"icon",id:"check-lg",name:"check lg",icon:"check-lg.svg"},{type:"icon",id:"check-square-fill",name:"check square fill",icon:"check-square-fill.svg"},{type:"icon",id:"check-square",name:"check square",icon:"check-square.svg"},{type:"icon",id:"check",name:"check",icon:"check.svg"},{type:"icon",id:"check2-all",name:"check2 all",icon:"check2-all.svg"},{type:"icon",id:"check2-circle",name:"check2 circle",icon:"check2-circle.svg"},{type:"icon",id:"check2-square",name:"check2 square",icon:"check2-square.svg"},{type:"icon",id:"check2",name:"check2",icon:"check2.svg"},{type:"icon",id:"chevron-bar-contract",name:"chevron bar contract",icon:"chevron-bar-contract.svg"},{type:"icon",id:"chevron-bar-down",name:"chevron bar down",icon:"chevron-bar-down.svg"},{type:"icon",id:"chevron-bar-expand",name:"chevron bar expand",icon:"chevron-bar-expand.svg"},{type:"icon",id:"chevron-bar-left",name:"chevron bar left",icon:"chevron-bar-left.svg"},{type:"icon",id:"chevron-bar-right",name:"chevron bar right",icon:"chevron-bar-right.svg"},{type:"icon",id:"chevron-bar-up",name:"chevron bar up",icon:"chevron-bar-up.svg"},{type:"icon",id:"chevron-compact-down",name:"chevron compact down",icon:"chevron-compact-down.svg"},{type:"icon",id:"chevron-compact-left",name:"chevron compact left",icon:"chevron-compact-left.svg"},{type:"icon",id:"chevron-compact-right",name:"chevron compact right",icon:"chevron-compact-right.svg"},{type:"icon",id:"chevron-compact-up",name:"chevron compact up",icon:"chevron-compact-up.svg"},{type:"icon",id:"chevron-contract",name:"chevron contract",icon:"chevron-contract.svg"},{type:"icon",id:"chevron-double-down",name:"chevron double down",icon:"chevron-double-down.svg"},{type:"icon",id:"chevron-double-left",name:"chevron double left",icon:"chevron-double-left.svg"},{type:"icon",id:"chevron-double-right",name:"chevron double right",icon:"chevron-double-right.svg"},{type:"icon",id:"chevron-double-up",name:"chevron double up",icon:"chevron-double-up.svg"},{type:"icon",id:"chevron-down",name:"chevron down",icon:"chevron-down.svg"},{type:"icon",id:"chevron-expand",name:"chevron expand",icon:"chevron-expand.svg"},{type:"icon",id:"chevron-left",name:"chevron left",icon:"chevron-left.svg"},{type:"icon",id:"chevron-right",name:"chevron right",icon:"chevron-right.svg"},{type:"icon",id:"chevron-up",name:"chevron up",icon:"chevron-up.svg"},{type:"icon",id:"circle-fill",name:"circle fill",icon:"circle-fill.svg"},{type:"icon",id:"circle-half",name:"circle half",icon:"circle-half.svg"},{type:"icon",id:"circle-square",name:"circle square",icon:"circle-square.svg"},{type:"icon",id:"circle",name:"circle",icon:"circle.svg"},{type:"icon",id:"clipboard-check-fill",name:"clipboard check fill",icon:"clipboard-check-fill.svg"},{type:"icon",id:"clipboard-check",name:"clipboard check",icon:"clipboard-check.svg"},{type:"icon",id:"clipboard-data-fill",name:"clipboard data fill",icon:"clipboard-data-fill.svg"},{type:"icon",id:"clipboard-data",name:"clipboard data",icon:"clipboard-data.svg"},{type:"icon",id:"clipboard-fill",name:"clipboard fill",icon:"clipboard-fill.svg"},{type:"icon",id:"clipboard-heart-fill",name:"clipboard heart fill",icon:"clipboard-heart-fill.svg"},{type:"icon",id:"clipboard-heart",name:"clipboard heart",icon:"clipboard-heart.svg"},{type:"icon",id:"clipboard-minus-fill",name:"clipboard minus fill",icon:"clipboard-minus-fill.svg"},{type:"icon",id:"clipboard-minus",name:"clipboard minus",icon:"clipboard-minus.svg"},{type:"icon",id:"clipboard-plus-fill",name:"clipboard plus fill",icon:"clipboard-plus-fill.svg"},{type:"icon",id:"clipboard-plus",name:"clipboard plus",icon:"clipboard-plus.svg"},{type:"icon",id:"clipboard-pulse",name:"clipboard pulse",icon:"clipboard-pulse.svg"},{type:"icon",id:"clipboard-x-fill",name:"clipboard x fill",icon:"clipboard-x-fill.svg"},{type:"icon",id:"clipboard-x",name:"clipboard x",icon:"clipboard-x.svg"},{type:"icon",id:"clipboard",name:"clipboard",icon:"clipboard.svg"},{type:"icon",id:"clipboard2-check-fill",name:"clipboard2 check fill",icon:"clipboard2-check-fill.svg"},{type:"icon",id:"clipboard2-check",name:"clipboard2 check",icon:"clipboard2-check.svg"},{type:"icon",id:"clipboard2-data-fill",name:"clipboard2 data fill",icon:"clipboard2-data-fill.svg"},{type:"icon",id:"clipboard2-data",name:"clipboard2 data",icon:"clipboard2-data.svg"},{type:"icon",id:"clipboard2-fill",name:"clipboard2 fill",icon:"clipboard2-fill.svg"},{type:"icon",id:"clipboard2-heart-fill",name:"clipboard2 heart fill",icon:"clipboard2-heart-fill.svg"},{type:"icon",id:"clipboard2-heart",name:"clipboard2 heart",icon:"clipboard2-heart.svg"},{type:"icon",id:"clipboard2-minus-fill",name:"clipboard2 minus fill",icon:"clipboard2-minus-fill.svg"},{type:"icon",id:"clipboard2-minus",name:"clipboard2 minus",icon:"clipboard2-minus.svg"},{type:"icon",id:"clipboard2-plus-fill",name:"clipboard2 plus fill",icon:"clipboard2-plus-fill.svg"},{type:"icon",id:"clipboard2-plus",name:"clipboard2 plus",icon:"clipboard2-plus.svg"},{type:"icon",id:"clipboard2-pulse-fill",name:"clipboard2 pulse fill",icon:"clipboard2-pulse-fill.svg"},{type:"icon",id:"clipboard2-pulse",name:"clipboard2 pulse",icon:"clipboard2-pulse.svg"},{type:"icon",id:"clipboard2-x-fill",name:"clipboard2 x fill",icon:"clipboard2-x-fill.svg"},{type:"icon",id:"clipboard2-x",name:"clipboard2 x",icon:"clipboard2-x.svg"},{type:"icon",id:"clipboard2",name:"clipboard2",icon:"clipboard2.svg"},{type:"icon",id:"clock-fill",name:"clock fill",icon:"clock-fill.svg"},{type:"icon",id:"clock-history",name:"clock history",icon:"clock-history.svg"},{type:"icon",id:"clock",name:"clock",icon:"clock.svg"},{type:"icon",id:"cloud-arrow-down-fill",name:"cloud arrow down fill",icon:"cloud-arrow-down-fill.svg"},{type:"icon",id:"cloud-arrow-down",name:"cloud arrow down",icon:"cloud-arrow-down.svg"},{type:"icon",id:"cloud-arrow-up-fill",name:"cloud arrow up fill",icon:"cloud-arrow-up-fill.svg"},{type:"icon",id:"cloud-arrow-up",name:"cloud arrow up",icon:"cloud-arrow-up.svg"},{type:"icon",id:"cloud-check-fill",name:"cloud check fill",icon:"cloud-check-fill.svg"},{type:"icon",id:"cloud-check",name:"cloud check",icon:"cloud-check.svg"},{type:"icon",id:"cloud-download-fill",name:"cloud download fill",icon:"cloud-download-fill.svg"},{type:"icon",id:"cloud-download",name:"cloud download",icon:"cloud-download.svg"},{type:"icon",id:"cloud-drizzle-fill",name:"cloud drizzle fill",icon:"cloud-drizzle-fill.svg"},{type:"icon",id:"cloud-drizzle",name:"cloud drizzle",icon:"cloud-drizzle.svg"},{type:"icon",id:"cloud-fill",name:"cloud fill",icon:"cloud-fill.svg"},{type:"icon",id:"cloud-fog-fill",name:"cloud fog fill",icon:"cloud-fog-fill.svg"},{type:"icon",id:"cloud-fog",name:"cloud fog",icon:"cloud-fog.svg"},{type:"icon",id:"cloud-fog2-fill",name:"cloud fog2 fill",icon:"cloud-fog2-fill.svg"},{type:"icon",id:"cloud-fog2",name:"cloud fog2",icon:"cloud-fog2.svg"},{type:"icon",id:"cloud-hail-fill",name:"cloud hail fill",icon:"cloud-hail-fill.svg"},{type:"icon",id:"cloud-hail",name:"cloud hail",icon:"cloud-hail.svg"},{type:"icon",id:"cloud-haze-fill",name:"cloud haze fill",icon:"cloud-haze-fill.svg"},{type:"icon",id:"cloud-haze",name:"cloud haze",icon:"cloud-haze.svg"},{type:"icon",id:"cloud-haze2-fill",name:"cloud haze2 fill",icon:"cloud-haze2-fill.svg"},{type:"icon",id:"cloud-haze2",name:"cloud haze2",icon:"cloud-haze2.svg"},{type:"icon",id:"cloud-lightning-fill",name:"cloud lightning fill",icon:"cloud-lightning-fill.svg"},{type:"icon",id:"cloud-lightning-rain-fill",name:"cloud lightning rain fill",icon:"cloud-lightning-rain-fill.svg"},{type:"icon",id:"cloud-lightning-rain",name:"cloud lightning rain",icon:"cloud-lightning-rain.svg"},{type:"icon",id:"cloud-lightning",name:"cloud lightning",icon:"cloud-lightning.svg"},{type:"icon",id:"cloud-minus-fill",name:"cloud minus fill",icon:"cloud-minus-fill.svg"},{type:"icon",id:"cloud-minus",name:"cloud minus",icon:"cloud-minus.svg"},{type:"icon",id:"cloud-moon-fill",name:"cloud moon fill",icon:"cloud-moon-fill.svg"},{type:"icon",id:"cloud-moon",name:"cloud moon",icon:"cloud-moon.svg"},{type:"icon",id:"cloud-plus-fill",name:"cloud plus fill",icon:"cloud-plus-fill.svg"},{type:"icon",id:"cloud-plus",name:"cloud plus",icon:"cloud-plus.svg"},{type:"icon",id:"cloud-rain-fill",name:"cloud rain fill",icon:"cloud-rain-fill.svg"},{type:"icon",id:"cloud-rain-heavy-fill",name:"cloud rain heavy fill",icon:"cloud-rain-heavy-fill.svg"},{type:"icon",id:"cloud-rain-heavy",name:"cloud rain heavy",icon:"cloud-rain-heavy.svg"},{type:"icon",id:"cloud-rain",name:"cloud rain",icon:"cloud-rain.svg"},{type:"icon",id:"cloud-slash-fill",name:"cloud slash fill",icon:"cloud-slash-fill.svg"},{type:"icon",id:"cloud-slash",name:"cloud slash",icon:"cloud-slash.svg"},{type:"icon",id:"cloud-sleet-fill",name:"cloud sleet fill",icon:"cloud-sleet-fill.svg"},{type:"icon",id:"cloud-sleet",name:"cloud sleet",icon:"cloud-sleet.svg"},{type:"icon",id:"cloud-snow-fill",name:"cloud snow fill",icon:"cloud-snow-fill.svg"},{type:"icon",id:"cloud-snow",name:"cloud snow",icon:"cloud-snow.svg"},{type:"icon",id:"cloud-sun-fill",name:"cloud sun fill",icon:"cloud-sun-fill.svg"},{type:"icon",id:"cloud-sun",name:"cloud sun",icon:"cloud-sun.svg"},{type:"icon",id:"cloud-upload-fill",name:"cloud upload fill",icon:"cloud-upload-fill.svg"},{type:"icon",id:"cloud-upload",name:"cloud upload",icon:"cloud-upload.svg"},{type:"icon",id:"cloud",name:"cloud",icon:"cloud.svg"},{type:"icon",id:"clouds-fill",name:"clouds fill",icon:"clouds-fill.svg"},{type:"icon",id:"clouds",name:"clouds",icon:"clouds.svg"},{type:"icon",id:"cloudy-fill",name:"cloudy fill",icon:"cloudy-fill.svg"},{type:"icon",id:"cloudy",name:"cloudy",icon:"cloudy.svg"},{type:"icon",id:"code-slash",name:"code slash",icon:"code-slash.svg"},{type:"icon",id:"code-square",name:"code square",icon:"code-square.svg"},{type:"icon",id:"code",name:"code",icon:"code.svg"},{type:"icon",id:"coin",name:"coin",icon:"coin.svg"},{type:"icon",id:"collection-fill",name:"collection fill",icon:"collection-fill.svg"},{type:"icon",id:"collection-play-fill",name:"collection play fill",icon:"collection-play-fill.svg"},{type:"icon",id:"collection-play",name:"collection play",icon:"collection-play.svg"},{type:"icon",id:"collection",name:"collection",icon:"collection.svg"},{type:"icon",id:"columns-gap",name:"columns gap",icon:"columns-gap.svg"},{type:"icon",id:"columns",name:"columns",icon:"columns.svg"},{type:"icon",id:"command",name:"command",icon:"command.svg"},{type:"icon",id:"compass-fill",name:"compass fill",icon:"compass-fill.svg"},{type:"icon",id:"compass",name:"compass",icon:"compass.svg"},{type:"icon",id:"cone-striped",name:"cone striped",icon:"cone-striped.svg"},{type:"icon",id:"cone",name:"cone",icon:"cone.svg"},{type:"icon",id:"controller",name:"controller",icon:"controller.svg"},{type:"icon",id:"cpu-fill",name:"cpu fill",icon:"cpu-fill.svg"},{type:"icon",id:"cpu",name:"cpu",icon:"cpu.svg"},{type:"icon",id:"credit-card-2-back-fill",name:"credit card 2 back fill",icon:"credit-card-2-back-fill.svg"},{type:"icon",id:"credit-card-2-back",name:"credit card 2 back",icon:"credit-card-2-back.svg"},{type:"icon",id:"credit-card-2-front-fill",name:"credit card 2 front fill",icon:"credit-card-2-front-fill.svg"},{type:"icon",id:"credit-card-2-front",name:"credit card 2 front",icon:"credit-card-2-front.svg"},{type:"icon",id:"credit-card-fill",name:"credit card fill",icon:"credit-card-fill.svg"},{type:"icon",id:"credit-card",name:"credit card",icon:"credit-card.svg"},{type:"icon",id:"crop",name:"crop",icon:"crop.svg"},{type:"icon",id:"cup-fill",name:"cup fill",icon:"cup-fill.svg"},{type:"icon",id:"cup-straw",name:"cup straw",icon:"cup-straw.svg"},{type:"icon",id:"cup",name:"cup",icon:"cup.svg"},{type:"icon",id:"currency-bitcoin",name:"currency bitcoin",icon:"currency-bitcoin.svg"},{type:"icon",id:"currency-dollar",name:"currency dollar",icon:"currency-dollar.svg"},{type:"icon",id:"currency-euro",name:"currency euro",icon:"currency-euro.svg"},{type:"icon",id:"currency-exchange",name:"currency exchange",icon:"currency-exchange.svg"},{type:"icon",id:"currency-pound",name:"currency pound",icon:"currency-pound.svg"},{type:"icon",id:"currency-yen",name:"currency yen",icon:"currency-yen.svg"},{type:"icon",id:"cursor-fill",name:"cursor fill",icon:"cursor-fill.svg"},{type:"icon",id:"cursor-text",name:"cursor text",icon:"cursor-text.svg"},{type:"icon",id:"cursor",name:"cursor",icon:"cursor.svg"},{type:"icon",id:"dash-circle-dotted",name:"dash circle dotted",icon:"dash-circle-dotted.svg"},{type:"icon",id:"dash-circle-fill",name:"dash circle fill",icon:"dash-circle-fill.svg"},{type:"icon",id:"dash-circle",name:"dash circle",icon:"dash-circle.svg"},{type:"icon",id:"dash-lg",name:"dash lg",icon:"dash-lg.svg"},{type:"icon",id:"dash-square-dotted",name:"dash square dotted",icon:"dash-square-dotted.svg"},{type:"icon",id:"dash-square-fill",name:"dash square fill",icon:"dash-square-fill.svg"},{type:"icon",id:"dash-square",name:"dash square",icon:"dash-square.svg"},{type:"icon",id:"dash",name:"dash",icon:"dash.svg"},{type:"icon",id:"device-hdd-fill",name:"device hdd fill",icon:"device-hdd-fill.svg"},{type:"icon",id:"device-hdd",name:"device hdd",icon:"device-hdd.svg"},{type:"icon",id:"device-ssd-fill",name:"device ssd fill",icon:"device-ssd-fill.svg"},{type:"icon",id:"device-ssd",name:"device ssd",icon:"device-ssd.svg"},{type:"icon",id:"diagram-2-fill",name:"diagram 2 fill",icon:"diagram-2-fill.svg"},{type:"icon",id:"diagram-2",name:"diagram 2",icon:"diagram-2.svg"},{type:"icon",id:"diagram-3-fill",name:"diagram 3 fill",icon:"diagram-3-fill.svg"},{type:"icon",id:"diagram-3",name:"diagram 3",icon:"diagram-3.svg"},{type:"icon",id:"diamond-fill",name:"diamond fill",icon:"diamond-fill.svg"},{type:"icon",id:"diamond-half",name:"diamond half",icon:"diamond-half.svg"},{type:"icon",id:"diamond",name:"diamond",icon:"diamond.svg"},{type:"icon",id:"dice-1-fill",name:"dice 1 fill",icon:"dice-1-fill.svg"},{type:"icon",id:"dice-1",name:"dice 1",icon:"dice-1.svg"},{type:"icon",id:"dice-2-fill",name:"dice 2 fill",icon:"dice-2-fill.svg"},{type:"icon",id:"dice-2",name:"dice 2",icon:"dice-2.svg"},{type:"icon",id:"dice-3-fill",name:"dice 3 fill",icon:"dice-3-fill.svg"},{type:"icon",id:"dice-3",name:"dice 3",icon:"dice-3.svg"},{type:"icon",id:"dice-4-fill",name:"dice 4 fill",icon:"dice-4-fill.svg"},{type:"icon",id:"dice-4",name:"dice 4",icon:"dice-4.svg"},{type:"icon",id:"dice-5-fill",name:"dice 5 fill",icon:"dice-5-fill.svg"},{type:"icon",id:"dice-5",name:"dice 5",icon:"dice-5.svg"},{type:"icon",id:"dice-6-fill",name:"dice 6 fill",icon:"dice-6-fill.svg"},{type:"icon",id:"dice-6",name:"dice 6",icon:"dice-6.svg"},{type:"icon",id:"disc-fill",name:"disc fill",icon:"disc-fill.svg"},{type:"icon",id:"disc",name:"disc",icon:"disc.svg"},{type:"icon",id:"discord",name:"discord",icon:"discord.svg"},{type:"icon",id:"display-fill",name:"display fill",icon:"display-fill.svg"},{type:"icon",id:"display",name:"display",icon:"display.svg"},{type:"icon",id:"displayport-fill",name:"displayport fill",icon:"displayport-fill.svg"},{type:"icon",id:"displayport",name:"displayport",icon:"displayport.svg"},{type:"icon",id:"distribute-horizontal",name:"distribute horizontal",icon:"distribute-horizontal.svg"},{type:"icon",id:"distribute-vertical",name:"distribute vertical",icon:"distribute-vertical.svg"},{type:"icon",id:"door-closed-fill",name:"door closed fill",icon:"door-closed-fill.svg"},{type:"icon",id:"door-closed",name:"door closed",icon:"door-closed.svg"},{type:"icon",id:"door-open-fill",name:"door open fill",icon:"door-open-fill.svg"},{type:"icon",id:"door-open",name:"door open",icon:"door-open.svg"},{type:"icon",id:"dot",name:"dot",icon:"dot.svg"},{type:"icon",id:"download",name:"download",icon:"download.svg"},{type:"icon",id:"dpad-fill",name:"dpad fill",icon:"dpad-fill.svg"},{type:"icon",id:"dpad",name:"dpad",icon:"dpad.svg"},{type:"icon",id:"dribbble",name:"dribbble",icon:"dribbble.svg"},{type:"icon",id:"droplet-fill",name:"droplet fill",icon:"droplet-fill.svg"},{type:"icon",id:"droplet-half",name:"droplet half",icon:"droplet-half.svg"},{type:"icon",id:"droplet",name:"droplet",icon:"droplet.svg"},{type:"icon",id:"ear-fill",name:"ear fill",icon:"ear-fill.svg"},{type:"icon",id:"ear",name:"ear",icon:"ear.svg"},{type:"icon",id:"earbuds",name:"earbuds",icon:"earbuds.svg"},{type:"icon",id:"easel-fill",name:"easel fill",icon:"easel-fill.svg"},{type:"icon",id:"easel",name:"easel",icon:"easel.svg"},{type:"icon",id:"easel2-fill",name:"easel2 fill",icon:"easel2-fill.svg"},{type:"icon",id:"easel2",name:"easel2",icon:"easel2.svg"},{type:"icon",id:"easel3-fill",name:"easel3 fill",icon:"easel3-fill.svg"},{type:"icon",id:"easel3",name:"easel3",icon:"easel3.svg"},{type:"icon",id:"egg-fill",name:"egg fill",icon:"egg-fill.svg"},{type:"icon",id:"egg-fried",name:"egg fried",icon:"egg-fried.svg"},{type:"icon",id:"egg",name:"egg",icon:"egg.svg"},{type:"icon",id:"eject-fill",name:"eject fill",icon:"eject-fill.svg"},{type:"icon",id:"eject",name:"eject",icon:"eject.svg"},{type:"icon",id:"emoji-angry-fill",name:"emoji angry fill",icon:"emoji-angry-fill.svg"},{type:"icon",id:"emoji-angry",name:"emoji angry",icon:"emoji-angry.svg"},{type:"icon",id:"emoji-dizzy-fill",name:"emoji dizzy fill",icon:"emoji-dizzy-fill.svg"},{type:"icon",id:"emoji-dizzy",name:"emoji dizzy",icon:"emoji-dizzy.svg"},{type:"icon",id:"emoji-expressionless-fill",name:"emoji expressionless fill",icon:"emoji-expressionless-fill.svg"},{type:"icon",id:"emoji-expressionless",name:"emoji expressionless",icon:"emoji-expressionless.svg"},{type:"icon",id:"emoji-frown-fill",name:"emoji frown fill",icon:"emoji-frown-fill.svg"},{type:"icon",id:"emoji-frown",name:"emoji frown",icon:"emoji-frown.svg"},{type:"icon",id:"emoji-heart-eyes-fill",name:"emoji heart eyes fill",icon:"emoji-heart-eyes-fill.svg"},{type:"icon",id:"emoji-heart-eyes",name:"emoji heart eyes",icon:"emoji-heart-eyes.svg"},{type:"icon",id:"emoji-kiss-fill",name:"emoji kiss fill",icon:"emoji-kiss-fill.svg"},{type:"icon",id:"emoji-kiss",name:"emoji kiss",icon:"emoji-kiss.svg"},{type:"icon",id:"emoji-laughing-fill",name:"emoji laughing fill",icon:"emoji-laughing-fill.svg"},{type:"icon",id:"emoji-laughing",name:"emoji laughing",icon:"emoji-laughing.svg"},{type:"icon",id:"emoji-neutral-fill",name:"emoji neutral fill",icon:"emoji-neutral-fill.svg"},{type:"icon",id:"emoji-neutral",name:"emoji neutral",icon:"emoji-neutral.svg"},{type:"icon",id:"emoji-smile-fill",name:"emoji smile fill",icon:"emoji-smile-fill.svg"},{type:"icon",id:"emoji-smile-upside-down-fill",name:"emoji smile upside down fill",icon:"emoji-smile-upside-down-fill.svg"},{type:"icon",id:"emoji-smile-upside-down",name:"emoji smile upside down",icon:"emoji-smile-upside-down.svg"},{type:"icon",id:"emoji-smile",name:"emoji smile",icon:"emoji-smile.svg"},{type:"icon",id:"emoji-sunglasses-fill",name:"emoji sunglasses fill",icon:"emoji-sunglasses-fill.svg"},{type:"icon",id:"emoji-sunglasses",name:"emoji sunglasses",icon:"emoji-sunglasses.svg"},{type:"icon",id:"emoji-wink-fill",name:"emoji wink fill",icon:"emoji-wink-fill.svg"},{type:"icon",id:"emoji-wink",name:"emoji wink",icon:"emoji-wink.svg"},{type:"icon",id:"envelope-check-fill",name:"envelope check fill",icon:"envelope-check-fill.svg"},{type:"icon",id:"envelope-check",name:"envelope check",icon:"envelope-check.svg"},{type:"icon",id:"envelope-dash-fill",name:"envelope dash fill",icon:"envelope-dash-fill.svg"},{type:"icon",id:"envelope-dash",name:"envelope dash",icon:"envelope-dash.svg"},{type:"icon",id:"envelope-exclamation-fill",name:"envelope exclamation fill",icon:"envelope-exclamation-fill.svg"},{type:"icon",id:"envelope-exclamation",name:"envelope exclamation",icon:"envelope-exclamation.svg"},{type:"icon",id:"envelope-fill",name:"envelope fill",icon:"envelope-fill.svg"},{type:"icon",id:"envelope-heart-fill",name:"envelope heart fill",icon:"envelope-heart-fill.svg"},{type:"icon",id:"envelope-heart",name:"envelope heart",icon:"envelope-heart.svg"},{type:"icon",id:"envelope-open-fill",name:"envelope open fill",icon:"envelope-open-fill.svg"},{type:"icon",id:"envelope-open-heart-fill",name:"envelope open heart fill",icon:"envelope-open-heart-fill.svg"},{type:"icon",id:"envelope-open-heart",name:"envelope open heart",icon:"envelope-open-heart.svg"},{type:"icon",id:"envelope-open",name:"envelope open",icon:"envelope-open.svg"},{type:"icon",id:"envelope-paper-fill",name:"envelope paper fill",icon:"envelope-paper-fill.svg"},{type:"icon",id:"envelope-paper-heart-fill",name:"envelope paper heart fill",icon:"envelope-paper-heart-fill.svg"},{type:"icon",id:"envelope-paper-heart",name:"envelope paper heart",icon:"envelope-paper-heart.svg"},{type:"icon",id:"envelope-paper",name:"envelope paper",icon:"envelope-paper.svg"},{type:"icon",id:"envelope-plus-fill",name:"envelope plus fill",icon:"envelope-plus-fill.svg"},{type:"icon",id:"envelope-plus",name:"envelope plus",icon:"envelope-plus.svg"},{type:"icon",id:"envelope-slash-fill",name:"envelope slash fill",icon:"envelope-slash-fill.svg"},{type:"icon",id:"envelope-slash",name:"envelope slash",icon:"envelope-slash.svg"},{type:"icon",id:"envelope-x-fill",name:"envelope x fill",icon:"envelope-x-fill.svg"},{type:"icon",id:"envelope-x",name:"envelope x",icon:"envelope-x.svg"},{type:"icon",id:"envelope",name:"envelope",icon:"envelope.svg"},{type:"icon",id:"eraser-fill",name:"eraser fill",icon:"eraser-fill.svg"},{type:"icon",id:"eraser",name:"eraser",icon:"eraser.svg"},{type:"icon",id:"ethernet",name:"ethernet",icon:"ethernet.svg"},{type:"icon",id:"exclamation-circle-fill",name:"exclamation circle fill",icon:"exclamation-circle-fill.svg"},{type:"icon",id:"exclamation-circle",name:"exclamation circle",icon:"exclamation-circle.svg"},{type:"icon",id:"exclamation-diamond-fill",name:"exclamation diamond fill",icon:"exclamation-diamond-fill.svg"},{type:"icon",id:"exclamation-diamond",name:"exclamation diamond",icon:"exclamation-diamond.svg"},{type:"icon",id:"exclamation-lg",name:"exclamation lg",icon:"exclamation-lg.svg"},{type:"icon",id:"exclamation-octagon-fill",name:"exclamation octagon fill",icon:"exclamation-octagon-fill.svg"},{type:"icon",id:"exclamation-octagon",name:"exclamation octagon",icon:"exclamation-octagon.svg"},{type:"icon",id:"exclamation-square-fill",name:"exclamation square fill",icon:"exclamation-square-fill.svg"},{type:"icon",id:"exclamation-square",name:"exclamation square",icon:"exclamation-square.svg"},{type:"icon",id:"exclamation-triangle-fill",name:"exclamation triangle fill",icon:"exclamation-triangle-fill.svg"},{type:"icon",id:"exclamation-triangle",name:"exclamation triangle",icon:"exclamation-triangle.svg"},{type:"icon",id:"exclamation",name:"exclamation",icon:"exclamation.svg"},{type:"icon",id:"exclude",name:"exclude",icon:"exclude.svg"},{type:"icon",id:"explicit-fill",name:"explicit fill",icon:"explicit-fill.svg"},{type:"icon",id:"explicit",name:"explicit",icon:"explicit.svg"},{type:"icon",id:"eye-fill",name:"eye fill",icon:"eye-fill.svg"},{type:"icon",id:"eye-slash-fill",name:"eye slash fill",icon:"eye-slash-fill.svg"},{type:"icon",id:"eye-slash",name:"eye slash",icon:"eye-slash.svg"},{type:"icon",id:"eye",name:"eye",icon:"eye.svg"},{type:"icon",id:"eyedropper",name:"eyedropper",icon:"eyedropper.svg"},{type:"icon",id:"eyeglasses",name:"eyeglasses",icon:"eyeglasses.svg"},{type:"icon",id:"facebook",name:"facebook",icon:"facebook.svg"},{type:"icon",id:"fan",name:"fan",icon:"fan.svg"},{type:"icon",id:"file-arrow-down-fill",name:"file arrow down fill",icon:"file-arrow-down-fill.svg"},{type:"icon",id:"file-arrow-down",name:"file arrow down",icon:"file-arrow-down.svg"},{type:"icon",id:"file-arrow-up-fill",name:"file arrow up fill",icon:"file-arrow-up-fill.svg"},{type:"icon",id:"file-arrow-up",name:"file arrow up",icon:"file-arrow-up.svg"},{type:"icon",id:"file-bar-graph-fill",name:"file bar graph fill",icon:"file-bar-graph-fill.svg"},{type:"icon",id:"file-bar-graph",name:"file bar graph",icon:"file-bar-graph.svg"},{type:"icon",id:"file-binary-fill",name:"file binary fill",icon:"file-binary-fill.svg"},{type:"icon",id:"file-binary",name:"file binary",icon:"file-binary.svg"},{type:"icon",id:"file-break-fill",name:"file break fill",icon:"file-break-fill.svg"},{type:"icon",id:"file-break",name:"file break",icon:"file-break.svg"},{type:"icon",id:"file-check-fill",name:"file check fill",icon:"file-check-fill.svg"},{type:"icon",id:"file-check",name:"file check",icon:"file-check.svg"},{type:"icon",id:"file-code-fill",name:"file code fill",icon:"file-code-fill.svg"},{type:"icon",id:"file-code",name:"file code",icon:"file-code.svg"},{type:"icon",id:"file-diff-fill",name:"file diff fill",icon:"file-diff-fill.svg"},{type:"icon",id:"file-diff",name:"file diff",icon:"file-diff.svg"},{type:"icon",id:"file-earmark-arrow-down-fill",name:"file earmark arrow down fill",icon:"file-earmark-arrow-down-fill.svg"},{type:"icon",id:"file-earmark-arrow-down",name:"file earmark arrow down",icon:"file-earmark-arrow-down.svg"},{type:"icon",id:"file-earmark-arrow-up-fill",name:"file earmark arrow up fill",icon:"file-earmark-arrow-up-fill.svg"},{type:"icon",id:"file-earmark-arrow-up",name:"file earmark arrow up",icon:"file-earmark-arrow-up.svg"},{type:"icon",id:"file-earmark-bar-graph-fill",name:"file earmark bar graph fill",icon:"file-earmark-bar-graph-fill.svg"},{type:"icon",id:"file-earmark-bar-graph",name:"file earmark bar graph",icon:"file-earmark-bar-graph.svg"},{type:"icon",id:"file-earmark-binary-fill",name:"file earmark binary fill",icon:"file-earmark-binary-fill.svg"},{type:"icon",id:"file-earmark-binary",name:"file earmark binary",icon:"file-earmark-binary.svg"},{type:"icon",id:"file-earmark-break-fill",name:"file earmark break fill",icon:"file-earmark-break-fill.svg"},{type:"icon",id:"file-earmark-break",name:"file earmark break",icon:"file-earmark-break.svg"},{type:"icon",id:"file-earmark-check-fill",name:"file earmark check fill",icon:"file-earmark-check-fill.svg"},{type:"icon",id:"file-earmark-check",name:"file earmark check",icon:"file-earmark-check.svg"},{type:"icon",id:"file-earmark-code-fill",name:"file earmark code fill",icon:"file-earmark-code-fill.svg"},{type:"icon",id:"file-earmark-code",name:"file earmark code",icon:"file-earmark-code.svg"},{type:"icon",id:"file-earmark-diff-fill",name:"file earmark diff fill",icon:"file-earmark-diff-fill.svg"},{type:"icon",id:"file-earmark-diff",name:"file earmark diff",icon:"file-earmark-diff.svg"},{type:"icon",id:"file-earmark-easel-fill",name:"file earmark easel fill",icon:"file-earmark-easel-fill.svg"},{type:"icon",id:"file-earmark-easel",name:"file earmark easel",icon:"file-earmark-easel.svg"},{type:"icon",id:"file-earmark-excel-fill",name:"file earmark excel fill",icon:"file-earmark-excel-fill.svg"},{type:"icon",id:"file-earmark-excel",name:"file earmark excel",icon:"file-earmark-excel.svg"},{type:"icon",id:"file-earmark-fill",name:"file earmark fill",icon:"file-earmark-fill.svg"},{type:"icon",id:"file-earmark-font-fill",name:"file earmark font fill",icon:"file-earmark-font-fill.svg"},{type:"icon",id:"file-earmark-font",name:"file earmark font",icon:"file-earmark-font.svg"},{type:"icon",id:"file-earmark-image-fill",name:"file earmark image fill",icon:"file-earmark-image-fill.svg"},{type:"icon",id:"file-earmark-image",name:"file earmark image",icon:"file-earmark-image.svg"},{type:"icon",id:"file-earmark-lock-fill",name:"file earmark lock fill",icon:"file-earmark-lock-fill.svg"},{type:"icon",id:"file-earmark-lock",name:"file earmark lock",icon:"file-earmark-lock.svg"},{type:"icon",id:"file-earmark-lock2-fill",name:"file earmark lock2 fill",icon:"file-earmark-lock2-fill.svg"},{type:"icon",id:"file-earmark-lock2",name:"file earmark lock2",icon:"file-earmark-lock2.svg"},{type:"icon",id:"file-earmark-medical-fill",name:"file earmark medical fill",icon:"file-earmark-medical-fill.svg"},{type:"icon",id:"file-earmark-medical",name:"file earmark medical",icon:"file-earmark-medical.svg"},{type:"icon",id:"file-earmark-minus-fill",name:"file earmark minus fill",icon:"file-earmark-minus-fill.svg"},{type:"icon",id:"file-earmark-minus",name:"file earmark minus",icon:"file-earmark-minus.svg"},{type:"icon",id:"file-earmark-music-fill",name:"file earmark music fill",icon:"file-earmark-music-fill.svg"},{type:"icon",id:"file-earmark-music",name:"file earmark music",icon:"file-earmark-music.svg"},{type:"icon",id:"file-earmark-pdf-fill",name:"file earmark pdf fill",icon:"file-earmark-pdf-fill.svg"},{type:"icon",id:"file-earmark-pdf",name:"file earmark pdf",icon:"file-earmark-pdf.svg"},{type:"icon",id:"file-earmark-person-fill",name:"file earmark person fill",icon:"file-earmark-person-fill.svg"},{type:"icon",id:"file-earmark-person",name:"file earmark person",icon:"file-earmark-person.svg"},{type:"icon",id:"file-earmark-play-fill",name:"file earmark play fill",icon:"file-earmark-play-fill.svg"},{type:"icon",id:"file-earmark-play",name:"file earmark play",icon:"file-earmark-play.svg"},{type:"icon",id:"file-earmark-plus-fill",name:"file earmark plus fill",icon:"file-earmark-plus-fill.svg"},{type:"icon",id:"file-earmark-plus",name:"file earmark plus",icon:"file-earmark-plus.svg"},{type:"icon",id:"file-earmark-post-fill",name:"file earmark post fill",icon:"file-earmark-post-fill.svg"},{type:"icon",id:"file-earmark-post",name:"file earmark post",icon:"file-earmark-post.svg"},{type:"icon",id:"file-earmark-ppt-fill",name:"file earmark ppt fill",icon:"file-earmark-ppt-fill.svg"},{type:"icon",id:"file-earmark-ppt",name:"file earmark ppt",icon:"file-earmark-ppt.svg"},{type:"icon",id:"file-earmark-richtext-fill",name:"file earmark richtext fill",icon:"file-earmark-richtext-fill.svg"},{type:"icon",id:"file-earmark-richtext",name:"file earmark richtext",icon:"file-earmark-richtext.svg"},{type:"icon",id:"file-earmark-ruled-fill",name:"file earmark ruled fill",icon:"file-earmark-ruled-fill.svg"},{type:"icon",id:"file-earmark-ruled",name:"file earmark ruled",icon:"file-earmark-ruled.svg"},{type:"icon",id:"file-earmark-slides-fill",name:"file earmark slides fill",icon:"file-earmark-slides-fill.svg"},{type:"icon",id:"file-earmark-slides",name:"file earmark slides",icon:"file-earmark-slides.svg"},{type:"icon",id:"file-earmark-spreadsheet-fill",name:"file earmark spreadsheet fill",icon:"file-earmark-spreadsheet-fill.svg"},{type:"icon",id:"file-earmark-spreadsheet",name:"file earmark spreadsheet",icon:"file-earmark-spreadsheet.svg"},{type:"icon",id:"file-earmark-text-fill",name:"file earmark text fill",icon:"file-earmark-text-fill.svg"},{type:"icon",id:"file-earmark-text",name:"file earmark text",icon:"file-earmark-text.svg"},{type:"icon",id:"file-earmark-word-fill",name:"file earmark word fill",icon:"file-earmark-word-fill.svg"},{type:"icon",id:"file-earmark-word",name:"file earmark word",icon:"file-earmark-word.svg"},{type:"icon",id:"file-earmark-x-fill",name:"file earmark x fill",icon:"file-earmark-x-fill.svg"},{type:"icon",id:"file-earmark-x",name:"file earmark x",icon:"file-earmark-x.svg"},{type:"icon",id:"file-earmark-zip-fill",name:"file earmark zip fill",icon:"file-earmark-zip-fill.svg"},{type:"icon",id:"file-earmark-zip",name:"file earmark zip",icon:"file-earmark-zip.svg"},{type:"icon",id:"file-earmark",name:"file earmark",icon:"file-earmark.svg"},{type:"icon",id:"file-easel-fill",name:"file easel fill",icon:"file-easel-fill.svg"},{type:"icon",id:"file-easel",name:"file easel",icon:"file-easel.svg"},{type:"icon",id:"file-excel-fill",name:"file excel fill",icon:"file-excel-fill.svg"},{type:"icon",id:"file-excel",name:"file excel",icon:"file-excel.svg"},{type:"icon",id:"file-fill",name:"file fill",icon:"file-fill.svg"},{type:"icon",id:"file-font-fill",name:"file font fill",icon:"file-font-fill.svg"},{type:"icon",id:"file-font",name:"file font",icon:"file-font.svg"},{type:"icon",id:"file-image-fill",name:"file image fill",icon:"file-image-fill.svg"},{type:"icon",id:"file-image",name:"file image",icon:"file-image.svg"},{type:"icon",id:"file-lock-fill",name:"file lock fill",icon:"file-lock-fill.svg"},{type:"icon",id:"file-lock",name:"file lock",icon:"file-lock.svg"},{type:"icon",id:"file-lock2-fill",name:"file lock2 fill",icon:"file-lock2-fill.svg"},{type:"icon",id:"file-lock2",name:"file lock2",icon:"file-lock2.svg"},{type:"icon",id:"file-medical-fill",name:"file medical fill",icon:"file-medical-fill.svg"},{type:"icon",id:"file-medical",name:"file medical",icon:"file-medical.svg"},{type:"icon",id:"file-minus-fill",name:"file minus fill",icon:"file-minus-fill.svg"},{type:"icon",id:"file-minus",name:"file minus",icon:"file-minus.svg"},{type:"icon",id:"file-music-fill",name:"file music fill",icon:"file-music-fill.svg"},{type:"icon",id:"file-music",name:"file music",icon:"file-music.svg"},{type:"icon",id:"file-pdf-fill",name:"file pdf fill",icon:"file-pdf-fill.svg"},{type:"icon",id:"file-pdf",name:"file pdf",icon:"file-pdf.svg"},{type:"icon",id:"file-person-fill",name:"file person fill",icon:"file-person-fill.svg"},{type:"icon",id:"file-person",name:"file person",icon:"file-person.svg"},{type:"icon",id:"file-play-fill",name:"file play fill",icon:"file-play-fill.svg"},{type:"icon",id:"file-play",name:"file play",icon:"file-play.svg"},{type:"icon",id:"file-plus-fill",name:"file plus fill",icon:"file-plus-fill.svg"},{type:"icon",id:"file-plus",name:"file plus",icon:"file-plus.svg"},{type:"icon",id:"file-post-fill",name:"file post fill",icon:"file-post-fill.svg"},{type:"icon",id:"file-post",name:"file post",icon:"file-post.svg"},{type:"icon",id:"file-ppt-fill",name:"file ppt fill",icon:"file-ppt-fill.svg"},{type:"icon",id:"file-ppt",name:"file ppt",icon:"file-ppt.svg"},{type:"icon",id:"file-richtext-fill",name:"file richtext fill",icon:"file-richtext-fill.svg"},{type:"icon",id:"file-richtext",name:"file richtext",icon:"file-richtext.svg"},{type:"icon",id:"file-ruled-fill",name:"file ruled fill",icon:"file-ruled-fill.svg"},{type:"icon",id:"file-ruled",name:"file ruled",icon:"file-ruled.svg"},{type:"icon",id:"file-slides-fill",name:"file slides fill",icon:"file-slides-fill.svg"},{type:"icon",id:"file-slides",name:"file slides",icon:"file-slides.svg"},{type:"icon",id:"file-spreadsheet-fill",name:"file spreadsheet fill",icon:"file-spreadsheet-fill.svg"},{type:"icon",id:"file-spreadsheet",name:"file spreadsheet",icon:"file-spreadsheet.svg"},{type:"icon",id:"file-text-fill",name:"file text fill",icon:"file-text-fill.svg"},{type:"icon",id:"file-text",name:"file text",icon:"file-text.svg"},{type:"icon",id:"file-word-fill",name:"file word fill",icon:"file-word-fill.svg"},{type:"icon",id:"file-word",name:"file word",icon:"file-word.svg"},{type:"icon",id:"file-x-fill",name:"file x fill",icon:"file-x-fill.svg"},{type:"icon",id:"file-x",name:"file x",icon:"file-x.svg"},{type:"icon",id:"file-zip-fill",name:"file zip fill",icon:"file-zip-fill.svg"},{type:"icon",id:"file-zip",name:"file zip",icon:"file-zip.svg"},{type:"icon",id:"file",name:"file",icon:"file.svg"},{type:"icon",id:"files-alt",name:"files alt",icon:"files-alt.svg"},{type:"icon",id:"files",name:"files",icon:"files.svg"},{type:"icon",id:"filetype-aac",name:"filetype aac",icon:"filetype-aac.svg"},{type:"icon",id:"filetype-ai",name:"filetype ai",icon:"filetype-ai.svg"},{type:"icon",id:"filetype-bmp",name:"filetype bmp",icon:"filetype-bmp.svg"},{type:"icon",id:"filetype-cs",name:"filetype cs",icon:"filetype-cs.svg"},{type:"icon",id:"filetype-css",name:"filetype css",icon:"filetype-css.svg"},{type:"icon",id:"filetype-csv",name:"filetype csv",icon:"filetype-csv.svg"},{type:"icon",id:"filetype-doc",name:"filetype doc",icon:"filetype-doc.svg"},{type:"icon",id:"filetype-docx",name:"filetype docx",icon:"filetype-docx.svg"},{type:"icon",id:"filetype-exe",name:"filetype exe",icon:"filetype-exe.svg"},{type:"icon",id:"filetype-gif",name:"filetype gif",icon:"filetype-gif.svg"},{type:"icon",id:"filetype-heic",name:"filetype heic",icon:"filetype-heic.svg"},{type:"icon",id:"filetype-html",name:"filetype html",icon:"filetype-html.svg"},{type:"icon",id:"filetype-java",name:"filetype java",icon:"filetype-java.svg"},{type:"icon",id:"filetype-jpg",name:"filetype jpg",icon:"filetype-jpg.svg"},{type:"icon",id:"filetype-js",name:"filetype js",icon:"filetype-js.svg"},{type:"icon",id:"filetype-json",name:"filetype json",icon:"filetype-json.svg"},{type:"icon",id:"filetype-jsx",name:"filetype jsx",icon:"filetype-jsx.svg"},{type:"icon",id:"filetype-key",name:"filetype key",icon:"filetype-key.svg"},{type:"icon",id:"filetype-m4p",name:"filetype m4p",icon:"filetype-m4p.svg"},{type:"icon",id:"filetype-md",name:"filetype md",icon:"filetype-md.svg"},{type:"icon",id:"filetype-mdx",name:"filetype mdx",icon:"filetype-mdx.svg"},{type:"icon",id:"filetype-mov",name:"filetype mov",icon:"filetype-mov.svg"},{type:"icon",id:"filetype-mp3",name:"filetype mp3",icon:"filetype-mp3.svg"},{type:"icon",id:"filetype-mp4",name:"filetype mp4",icon:"filetype-mp4.svg"},{type:"icon",id:"filetype-otf",name:"filetype otf",icon:"filetype-otf.svg"},{type:"icon",id:"filetype-pdf",name:"filetype pdf",icon:"filetype-pdf.svg"},{type:"icon",id:"filetype-php",name:"filetype php",icon:"filetype-php.svg"},{type:"icon",id:"filetype-png",name:"filetype png",icon:"filetype-png.svg"},{type:"icon",id:"filetype-ppt",name:"filetype ppt",icon:"filetype-ppt.svg"},{type:"icon",id:"filetype-pptx",name:"filetype pptx",icon:"filetype-pptx.svg"},{type:"icon",id:"filetype-psd",name:"filetype psd",icon:"filetype-psd.svg"},{type:"icon",id:"filetype-py",name:"filetype py",icon:"filetype-py.svg"},{type:"icon",id:"filetype-raw",name:"filetype raw",icon:"filetype-raw.svg"},{type:"icon",id:"filetype-rb",name:"filetype rb",icon:"filetype-rb.svg"},{type:"icon",id:"filetype-sass",name:"filetype sass",icon:"filetype-sass.svg"},{type:"icon",id:"filetype-scss",name:"filetype scss",icon:"filetype-scss.svg"},{type:"icon",id:"filetype-sh",name:"filetype sh",icon:"filetype-sh.svg"},{type:"icon",id:"filetype-svg",name:"filetype svg",icon:"filetype-svg.svg"},{type:"icon",id:"filetype-tiff",name:"filetype tiff",icon:"filetype-tiff.svg"},{type:"icon",id:"filetype-tsx",name:"filetype tsx",icon:"filetype-tsx.svg"},{type:"icon",id:"filetype-ttf",name:"filetype ttf",icon:"filetype-ttf.svg"},{type:"icon",id:"filetype-txt",name:"filetype txt",icon:"filetype-txt.svg"},{type:"icon",id:"filetype-wav",name:"filetype wav",icon:"filetype-wav.svg"},{type:"icon",id:"filetype-woff",name:"filetype woff",icon:"filetype-woff.svg"},{type:"icon",id:"filetype-xls",name:"filetype xls",icon:"filetype-xls.svg"},{type:"icon",id:"filetype-xlsx",name:"filetype xlsx",icon:"filetype-xlsx.svg"},{type:"icon",id:"filetype-xml",name:"filetype xml",icon:"filetype-xml.svg"},{type:"icon",id:"filetype-yml",name:"filetype yml",icon:"filetype-yml.svg"},{type:"icon",id:"film",name:"film",icon:"film.svg"},{type:"icon",id:"filter-circle-fill",name:"filter circle fill",icon:"filter-circle-fill.svg"},{type:"icon",id:"filter-circle",name:"filter circle",icon:"filter-circle.svg"},{type:"icon",id:"filter-left",name:"filter left",icon:"filter-left.svg"},{type:"icon",id:"filter-right",name:"filter right",icon:"filter-right.svg"},{type:"icon",id:"filter-square-fill",name:"filter square fill",icon:"filter-square-fill.svg"},{type:"icon",id:"filter-square",name:"filter square",icon:"filter-square.svg"},{type:"icon",id:"filter",name:"filter",icon:"filter.svg"},{type:"icon",id:"fingerprint",name:"fingerprint",icon:"fingerprint.svg"},{type:"icon",id:"flag-fill",name:"flag fill",icon:"flag-fill.svg"},{type:"icon",id:"flag",name:"flag",icon:"flag.svg"},{type:"icon",id:"flower1",name:"flower1",icon:"flower1.svg"},{type:"icon",id:"flower2",name:"flower2",icon:"flower2.svg"},{type:"icon",id:"flower3",name:"flower3",icon:"flower3.svg"},{type:"icon",id:"folder-check",name:"folder check",icon:"folder-check.svg"},{type:"icon",id:"folder-fill",name:"folder fill",icon:"folder-fill.svg"},{type:"icon",id:"folder-minus",name:"folder minus",icon:"folder-minus.svg"},{type:"icon",id:"folder-plus",name:"folder plus",icon:"folder-plus.svg"},{type:"icon",id:"folder-symlink-fill",name:"folder symlink fill",icon:"folder-symlink-fill.svg"},{type:"icon",id:"folder-symlink",name:"folder symlink",icon:"folder-symlink.svg"},{type:"icon",id:"folder-x",name:"folder x",icon:"folder-x.svg"},{type:"icon",id:"folder",name:"folder",icon:"folder.svg"},{type:"icon",id:"folder2-open",name:"folder2 open",icon:"folder2-open.svg"},{type:"icon",id:"folder2",name:"folder2",icon:"folder2.svg"},{type:"icon",id:"fonts",name:"fonts",icon:"fonts.svg"},{type:"icon",id:"forward-fill",name:"forward fill",icon:"forward-fill.svg"},{type:"icon",id:"forward",name:"forward",icon:"forward.svg"},{type:"icon",id:"front",name:"front",icon:"front.svg"},{type:"icon",id:"fullscreen-exit",name:"fullscreen exit",icon:"fullscreen-exit.svg"},{type:"icon",id:"fullscreen",name:"fullscreen",icon:"fullscreen.svg"},{type:"icon",id:"funnel-fill",name:"funnel fill",icon:"funnel-fill.svg"},{type:"icon",id:"funnel",name:"funnel",icon:"funnel.svg"},{type:"icon",id:"gear-fill",name:"gear fill",icon:"gear-fill.svg"},{type:"icon",id:"gear-wide-connected",name:"gear wide connected",icon:"gear-wide-connected.svg"},{type:"icon",id:"gear-wide",name:"gear wide",icon:"gear-wide.svg"},{type:"icon",id:"gear",name:"gear",icon:"gear.svg"},{type:"icon",id:"gem",name:"gem",icon:"gem.svg"},{type:"icon",id:"gender-ambiguous",name:"gender ambiguous",icon:"gender-ambiguous.svg"},{type:"icon",id:"gender-female",name:"gender female",icon:"gender-female.svg"},{type:"icon",id:"gender-male",name:"gender male",icon:"gender-male.svg"},{type:"icon",id:"gender-trans",name:"gender trans",icon:"gender-trans.svg"},{type:"icon",id:"geo-alt-fill",name:"geo alt fill",icon:"geo-alt-fill.svg"},{type:"icon",id:"geo-alt",name:"geo alt",icon:"geo-alt.svg"},{type:"icon",id:"geo-fill",name:"geo fill",icon:"geo-fill.svg"},{type:"icon",id:"geo",name:"geo",icon:"geo.svg"},{type:"icon",id:"gift-fill",name:"gift fill",icon:"gift-fill.svg"},{type:"icon",id:"gift",name:"gift",icon:"gift.svg"},{type:"icon",id:"git",name:"git",icon:"git.svg"},{type:"icon",id:"github",name:"github",icon:"github.svg"},{type:"icon",id:"globe",name:"globe",icon:"globe.svg"},{type:"icon",id:"globe2",name:"globe2",icon:"globe2.svg"},{type:"icon",id:"google",name:"google",icon:"google.svg"},{type:"icon",id:"gpu-card",name:"gpu card",icon:"gpu-card.svg"},{type:"icon",id:"graph-down-arrow",name:"graph down arrow",icon:"graph-down-arrow.svg"},{type:"icon",id:"graph-down",name:"graph down",icon:"graph-down.svg"},{type:"icon",id:"graph-up-arrow",name:"graph up arrow",icon:"graph-up-arrow.svg"},{type:"icon",id:"graph-up",name:"graph up",icon:"graph-up.svg"},{type:"icon",id:"grid-1x2-fill",name:"grid 1x2 fill",icon:"grid-1x2-fill.svg"},{type:"icon",id:"grid-1x2",name:"grid 1x2",icon:"grid-1x2.svg"},{type:"icon",id:"grid-3x2-gap-fill",name:"grid 3x2 gap fill",icon:"grid-3x2-gap-fill.svg"},{type:"icon",id:"grid-3x2-gap",name:"grid 3x2 gap",icon:"grid-3x2-gap.svg"},{type:"icon",id:"grid-3x2",name:"grid 3x2",icon:"grid-3x2.svg"},{type:"icon",id:"grid-3x3-gap-fill",name:"grid 3x3 gap fill",icon:"grid-3x3-gap-fill.svg"},{type:"icon",id:"grid-3x3-gap",name:"grid 3x3 gap",icon:"grid-3x3-gap.svg"},{type:"icon",id:"grid-3x3",name:"grid 3x3",icon:"grid-3x3.svg"},{type:"icon",id:"grid-fill",name:"grid fill",icon:"grid-fill.svg"},{type:"icon",id:"grid",name:"grid",icon:"grid.svg"},{type:"icon",id:"grip-horizontal",name:"grip horizontal",icon:"grip-horizontal.svg"},{type:"icon",id:"grip-vertical",name:"grip vertical",icon:"grip-vertical.svg"},{type:"icon",id:"hammer",name:"hammer",icon:"hammer.svg"},{type:"icon",id:"hand-index-fill",name:"hand index fill",icon:"hand-index-fill.svg"},{type:"icon",id:"hand-index-thumb-fill",name:"hand index thumb fill",icon:"hand-index-thumb-fill.svg"},{type:"icon",id:"hand-index-thumb",name:"hand index thumb",icon:"hand-index-thumb.svg"},{type:"icon",id:"hand-index",name:"hand index",icon:"hand-index.svg"},{type:"icon",id:"hand-thumbs-down-fill",name:"hand thumbs down fill",icon:"hand-thumbs-down-fill.svg"},{type:"icon",id:"hand-thumbs-down",name:"hand thumbs down",icon:"hand-thumbs-down.svg"},{type:"icon",id:"hand-thumbs-up-fill",name:"hand thumbs up fill",icon:"hand-thumbs-up-fill.svg"},{type:"icon",id:"hand-thumbs-up",name:"hand thumbs up",icon:"hand-thumbs-up.svg"},{type:"icon",id:"handbag-fill",name:"handbag fill",icon:"handbag-fill.svg"},{type:"icon",id:"handbag",name:"handbag",icon:"handbag.svg"},{type:"icon",id:"hash",name:"hash",icon:"hash.svg"},{type:"icon",id:"hdd-fill",name:"hdd fill",icon:"hdd-fill.svg"},{type:"icon",id:"hdd-network-fill",name:"hdd network fill",icon:"hdd-network-fill.svg"},{type:"icon",id:"hdd-network",name:"hdd network",icon:"hdd-network.svg"},{type:"icon",id:"hdd-rack-fill",name:"hdd rack fill",icon:"hdd-rack-fill.svg"},{type:"icon",id:"hdd-rack",name:"hdd rack",icon:"hdd-rack.svg"},{type:"icon",id:"hdd-stack-fill",name:"hdd stack fill",icon:"hdd-stack-fill.svg"},{type:"icon",id:"hdd-stack",name:"hdd stack",icon:"hdd-stack.svg"},{type:"icon",id:"hdd",name:"hdd",icon:"hdd.svg"},{type:"icon",id:"hdmi-fill",name:"hdmi fill",icon:"hdmi-fill.svg"},{type:"icon",id:"hdmi",name:"hdmi",icon:"hdmi.svg"},{type:"icon",id:"headphones",name:"headphones",icon:"headphones.svg"},{type:"icon",id:"headset-vr",name:"headset vr",icon:"headset-vr.svg"},{type:"icon",id:"headset",name:"headset",icon:"headset.svg"},{type:"icon",id:"heart-arrow",name:"heart arrow",icon:"heart-arrow.svg"},{type:"icon",id:"heart-fill",name:"heart fill",icon:"heart-fill.svg"},{type:"icon",id:"heart-half",name:"heart half",icon:"heart-half.svg"},{type:"icon",id:"heart-pulse-fill",name:"heart pulse fill",icon:"heart-pulse-fill.svg"},{type:"icon",id:"heart-pulse",name:"heart pulse",icon:"heart-pulse.svg"},{type:"icon",id:"heart",name:"heart",icon:"heart.svg"},{type:"icon",id:"heartbreak-fill",name:"heartbreak fill",icon:"heartbreak-fill.svg"},{type:"icon",id:"heartbreak",name:"heartbreak",icon:"heartbreak.svg"},{type:"icon",id:"hearts",name:"hearts",icon:"hearts.svg"},{type:"icon",id:"heptagon-fill",name:"heptagon fill",icon:"heptagon-fill.svg"},{type:"icon",id:"heptagon-half",name:"heptagon half",icon:"heptagon-half.svg"},{type:"icon",id:"heptagon",name:"heptagon",icon:"heptagon.svg"},{type:"icon",id:"hexagon-fill",name:"hexagon fill",icon:"hexagon-fill.svg"},{type:"icon",id:"hexagon-half",name:"hexagon half",icon:"hexagon-half.svg"},{type:"icon",id:"hexagon",name:"hexagon",icon:"hexagon.svg"},{type:"icon",id:"hospital-fill",name:"hospital fill",icon:"hospital-fill.svg"},{type:"icon",id:"hospital",name:"hospital",icon:"hospital.svg"},{type:"icon",id:"hourglass-bottom",name:"hourglass bottom",icon:"hourglass-bottom.svg"},{type:"icon",id:"hourglass-split",name:"hourglass split",icon:"hourglass-split.svg"},{type:"icon",id:"hourglass-top",name:"hourglass top",icon:"hourglass-top.svg"},{type:"icon",id:"hourglass",name:"hourglass",icon:"hourglass.svg"},{type:"icon",id:"house-door-fill",name:"house door fill",icon:"house-door-fill.svg"},{type:"icon",id:"house-door",name:"house door",icon:"house-door.svg"},{type:"icon",id:"house-fill",name:"house fill",icon:"house-fill.svg"},{type:"icon",id:"house-heart-fill",name:"house heart fill",icon:"house-heart-fill.svg"},{type:"icon",id:"house-heart",name:"house heart",icon:"house-heart.svg"},{type:"icon",id:"house",name:"house",icon:"house.svg"},{type:"icon",id:"hr",name:"hr",icon:"hr.svg"},{type:"icon",id:"hurricane",name:"hurricane",icon:"hurricane.svg"},{type:"icon",id:"hypnotize",name:"hypnotize",icon:"hypnotize.svg"},{type:"icon",id:"image-alt",name:"image alt",icon:"image-alt.svg"},{type:"icon",id:"image-fill",name:"image fill",icon:"image-fill.svg"},{type:"icon",id:"image",name:"image",icon:"image.svg"},{type:"icon",id:"images",name:"images",icon:"images.svg"},{type:"icon",id:"inbox-fill",name:"inbox fill",icon:"inbox-fill.svg"},{type:"icon",id:"inbox",name:"inbox",icon:"inbox.svg"},{type:"icon",id:"inboxes-fill",name:"inboxes fill",icon:"inboxes-fill.svg"},{type:"icon",id:"inboxes",name:"inboxes",icon:"inboxes.svg"},{type:"icon",id:"incognito",name:"incognito",icon:"incognito.svg"},{type:"icon",id:"infinity",name:"infinity",icon:"infinity.svg"},{type:"icon",id:"info-circle-fill",name:"info circle fill",icon:"info-circle-fill.svg"},{type:"icon",id:"info-circle",name:"info circle",icon:"info-circle.svg"},{type:"icon",id:"info-lg",name:"info lg",icon:"info-lg.svg"},{type:"icon",id:"info-square-fill",name:"info square fill",icon:"info-square-fill.svg"},{type:"icon",id:"info-square",name:"info square",icon:"info-square.svg"},{type:"icon",id:"info",name:"info",icon:"info.svg"},{type:"icon",id:"input-cursor-text",name:"input cursor text",icon:"input-cursor-text.svg"},{type:"icon",id:"input-cursor",name:"input cursor",icon:"input-cursor.svg"},{type:"icon",id:"instagram",name:"instagram",icon:"instagram.svg"},{type:"icon",id:"intersect",name:"intersect",icon:"intersect.svg"},{type:"icon",id:"journal-album",name:"journal album",icon:"journal-album.svg"},{type:"icon",id:"journal-arrow-down",name:"journal arrow down",icon:"journal-arrow-down.svg"},{type:"icon",id:"journal-arrow-up",name:"journal arrow up",icon:"journal-arrow-up.svg"},{type:"icon",id:"journal-bookmark-fill",name:"journal bookmark fill",icon:"journal-bookmark-fill.svg"},{type:"icon",id:"journal-bookmark",name:"journal bookmark",icon:"journal-bookmark.svg"},{type:"icon",id:"journal-check",name:"journal check",icon:"journal-check.svg"},{type:"icon",id:"journal-code",name:"journal code",icon:"journal-code.svg"},{type:"icon",id:"journal-medical",name:"journal medical",icon:"journal-medical.svg"},{type:"icon",id:"journal-minus",name:"journal minus",icon:"journal-minus.svg"},{type:"icon",id:"journal-plus",name:"journal plus",icon:"journal-plus.svg"},{type:"icon",id:"journal-richtext",name:"journal richtext",icon:"journal-richtext.svg"},{type:"icon",id:"journal-text",name:"journal text",icon:"journal-text.svg"},{type:"icon",id:"journal-x",name:"journal x",icon:"journal-x.svg"},{type:"icon",id:"journal",name:"journal",icon:"journal.svg"},{type:"icon",id:"journals",name:"journals",icon:"journals.svg"},{type:"icon",id:"joystick",name:"joystick",icon:"joystick.svg"},{type:"icon",id:"justify-left",name:"justify left",icon:"justify-left.svg"},{type:"icon",id:"justify-right",name:"justify right",icon:"justify-right.svg"},{type:"icon",id:"justify",name:"justify",icon:"justify.svg"},{type:"icon",id:"kanban-fill",name:"kanban fill",icon:"kanban-fill.svg"},{type:"icon",id:"kanban",name:"kanban",icon:"kanban.svg"},{type:"icon",id:"key-fill",name:"key fill",icon:"key-fill.svg"},{type:"icon",id:"key",name:"key",icon:"key.svg"},{type:"icon",id:"keyboard-fill",name:"keyboard fill",icon:"keyboard-fill.svg"},{type:"icon",id:"keyboard",name:"keyboard",icon:"keyboard.svg"},{type:"icon",id:"ladder",name:"ladder",icon:"ladder.svg"},{type:"icon",id:"lamp-fill",name:"lamp fill",icon:"lamp-fill.svg"},{type:"icon",id:"lamp",name:"lamp",icon:"lamp.svg"},{type:"icon",id:"laptop-fill",name:"laptop fill",icon:"laptop-fill.svg"},{type:"icon",id:"laptop",name:"laptop",icon:"laptop.svg"},{type:"icon",id:"layer-backward",name:"layer backward",icon:"layer-backward.svg"},{type:"icon",id:"layer-forward",name:"layer forward",icon:"layer-forward.svg"},{type:"icon",id:"layers-fill",name:"layers fill",icon:"layers-fill.svg"},{type:"icon",id:"layers-half",name:"layers half",icon:"layers-half.svg"},{type:"icon",id:"layers",name:"layers",icon:"layers.svg"},{type:"icon",id:"layout-sidebar-inset-reverse",name:"layout sidebar inset reverse",icon:"layout-sidebar-inset-reverse.svg"},{type:"icon",id:"layout-sidebar-inset",name:"layout sidebar inset",icon:"layout-sidebar-inset.svg"},{type:"icon",id:"layout-sidebar-reverse",name:"layout sidebar reverse",icon:"layout-sidebar-reverse.svg"},{type:"icon",id:"layout-sidebar",name:"layout sidebar",icon:"layout-sidebar.svg"},{type:"icon",id:"layout-split",name:"layout split",icon:"layout-split.svg"},{type:"icon",id:"layout-text-sidebar-reverse",name:"layout text sidebar reverse",icon:"layout-text-sidebar-reverse.svg"},{type:"icon",id:"layout-text-sidebar",name:"layout text sidebar",icon:"layout-text-sidebar.svg"},{type:"icon",id:"layout-text-window-reverse",name:"layout text window reverse",icon:"layout-text-window-reverse.svg"},{type:"icon",id:"layout-text-window",name:"layout text window",icon:"layout-text-window.svg"},{type:"icon",id:"layout-three-columns",name:"layout three columns",icon:"layout-three-columns.svg"},{type:"icon",id:"layout-wtf",name:"layout wtf",icon:"layout-wtf.svg"},{type:"icon",id:"life-preserver",name:"life preserver",icon:"life-preserver.svg"},{type:"icon",id:"lightbulb-fill",name:"lightbulb fill",icon:"lightbulb-fill.svg"},{type:"icon",id:"lightbulb-off-fill",name:"lightbulb off fill",icon:"lightbulb-off-fill.svg"},{type:"icon",id:"lightbulb-off",name:"lightbulb off",icon:"lightbulb-off.svg"},{type:"icon",id:"lightbulb",name:"lightbulb",icon:"lightbulb.svg"},{type:"icon",id:"lightning-charge-fill",name:"lightning charge fill",icon:"lightning-charge-fill.svg"},{type:"icon",id:"lightning-charge",name:"lightning charge",icon:"lightning-charge.svg"},{type:"icon",id:"lightning-fill",name:"lightning fill",icon:"lightning-fill.svg"},{type:"icon",id:"lightning",name:"lightning",icon:"lightning.svg"},{type:"icon",id:"line",name:"line",icon:"line.svg"},{type:"icon",id:"link-45deg",name:"link 45deg",icon:"link-45deg.svg"},{type:"icon",id:"link",name:"link",icon:"link.svg"},{type:"icon",id:"linkedin",name:"linkedin",icon:"linkedin.svg"},{type:"icon",id:"list-check",name:"list check",icon:"list-check.svg"},{type:"icon",id:"list-columns-reverse",name:"list columns reverse",icon:"list-columns-reverse.svg"},{type:"icon",id:"list-columns",name:"list columns",icon:"list-columns.svg"},{type:"icon",id:"list-nested",name:"list nested",icon:"list-nested.svg"},{type:"icon",id:"list-ol",name:"list ol",icon:"list-ol.svg"},{type:"icon",id:"list-stars",name:"list stars",icon:"list-stars.svg"},{type:"icon",id:"list-task",name:"list task",icon:"list-task.svg"},{type:"icon",id:"list-ul",name:"list ul",icon:"list-ul.svg"},{type:"icon",id:"list",name:"list",icon:"list.svg"},{type:"icon",id:"lock-fill",name:"lock fill",icon:"lock-fill.svg"},{type:"icon",id:"lock",name:"lock",icon:"lock.svg"},{type:"icon",id:"magic",name:"magic",icon:"magic.svg"},{type:"icon",id:"magnet-fill",name:"magnet fill",icon:"magnet-fill.svg"},{type:"icon",id:"magnet",name:"magnet",icon:"magnet.svg"},{type:"icon",id:"mailbox",name:"mailbox",icon:"mailbox.svg"},{type:"icon",id:"mailbox2",name:"mailbox2",icon:"mailbox2.svg"},{type:"icon",id:"map-fill",name:"map fill",icon:"map-fill.svg"},{type:"icon",id:"map",name:"map",icon:"map.svg"},{type:"icon",id:"markdown-fill",name:"markdown fill",icon:"markdown-fill.svg"},{type:"icon",id:"markdown",name:"markdown",icon:"markdown.svg"},{type:"icon",id:"mask",name:"mask",icon:"mask.svg"},{type:"icon",id:"mastodon",name:"mastodon",icon:"mastodon.svg"},{type:"icon",id:"medium",name:"medium",icon:"medium.svg"},{type:"icon",id:"megaphone-fill",name:"megaphone fill",icon:"megaphone-fill.svg"},{type:"icon",id:"megaphone",name:"megaphone",icon:"megaphone.svg"},{type:"icon",id:"memory",name:"memory",icon:"memory.svg"},{type:"icon",id:"menu-app-fill",name:"menu app fill",icon:"menu-app-fill.svg"},{type:"icon",id:"menu-app",name:"menu app",icon:"menu-app.svg"},{type:"icon",id:"menu-button-fill",name:"menu button fill",icon:"menu-button-fill.svg"},{type:"icon",id:"menu-button-wide-fill",name:"menu button wide fill",icon:"menu-button-wide-fill.svg"},{type:"icon",id:"menu-button-wide",name:"menu button wide",icon:"menu-button-wide.svg"},{type:"icon",id:"menu-button",name:"menu button",icon:"menu-button.svg"},{type:"icon",id:"menu-down",name:"menu down",icon:"menu-down.svg"},{type:"icon",id:"menu-up",name:"menu up",icon:"menu-up.svg"},{type:"icon",id:"messenger",name:"messenger",icon:"messenger.svg"},{type:"icon",id:"meta",name:"meta",icon:"meta.svg"},{type:"icon",id:"mic-fill",name:"mic fill",icon:"mic-fill.svg"},{type:"icon",id:"mic-mute-fill",name:"mic mute fill",icon:"mic-mute-fill.svg"},{type:"icon",id:"mic-mute",name:"mic mute",icon:"mic-mute.svg"},{type:"icon",id:"mic",name:"mic",icon:"mic.svg"},{type:"icon",id:"microsoft",name:"microsoft",icon:"microsoft.svg"},{type:"icon",id:"minecart-loaded",name:"minecart loaded",icon:"minecart-loaded.svg"},{type:"icon",id:"minecart",name:"minecart",icon:"minecart.svg"},{type:"icon",id:"modem-fill",name:"modem fill",icon:"modem-fill.svg"},{type:"icon",id:"modem",name:"modem",icon:"modem.svg"},{type:"icon",id:"moisture",name:"moisture",icon:"moisture.svg"},{type:"icon",id:"moon-fill",name:"moon fill",icon:"moon-fill.svg"},{type:"icon",id:"moon-stars-fill",name:"moon stars fill",icon:"moon-stars-fill.svg"},{type:"icon",id:"moon-stars",name:"moon stars",icon:"moon-stars.svg"},{type:"icon",id:"moon",name:"moon",icon:"moon.svg"},{type:"icon",id:"mortarboard-fill",name:"mortarboard fill",icon:"mortarboard-fill.svg"},{type:"icon",id:"mortarboard",name:"mortarboard",icon:"mortarboard.svg"},{type:"icon",id:"motherboard-fill",name:"motherboard fill",icon:"motherboard-fill.svg"},{type:"icon",id:"motherboard",name:"motherboard",icon:"motherboard.svg"},{type:"icon",id:"mouse-fill",name:"mouse fill",icon:"mouse-fill.svg"},{type:"icon",id:"mouse",name:"mouse",icon:"mouse.svg"},{type:"icon",id:"mouse2-fill",name:"mouse2 fill",icon:"mouse2-fill.svg"},{type:"icon",id:"mouse2",name:"mouse2",icon:"mouse2.svg"},{type:"icon",id:"mouse3-fill",name:"mouse3 fill",icon:"mouse3-fill.svg"},{type:"icon",id:"mouse3",name:"mouse3",icon:"mouse3.svg"},{type:"icon",id:"music-note-beamed",name:"music note beamed",icon:"music-note-beamed.svg"},{type:"icon",id:"music-note-list",name:"music note list",icon:"music-note-list.svg"},{type:"icon",id:"music-note",name:"music note",icon:"music-note.svg"},{type:"icon",id:"music-player-fill",name:"music player fill",icon:"music-player-fill.svg"},{type:"icon",id:"music-player",name:"music player",icon:"music-player.svg"},{type:"icon",id:"newspaper",name:"newspaper",icon:"newspaper.svg"},{type:"icon",id:"nintendo-switch",name:"nintendo switch",icon:"nintendo-switch.svg"},{type:"icon",id:"node-minus-fill",name:"node minus fill",icon:"node-minus-fill.svg"},{type:"icon",id:"node-minus",name:"node minus",icon:"node-minus.svg"},{type:"icon",id:"node-plus-fill",name:"node plus fill",icon:"node-plus-fill.svg"},{type:"icon",id:"node-plus",name:"node plus",icon:"node-plus.svg"},{type:"icon",id:"nut-fill",name:"nut fill",icon:"nut-fill.svg"},{type:"icon",id:"nut",name:"nut",icon:"nut.svg"},{type:"icon",id:"octagon-fill",name:"octagon fill",icon:"octagon-fill.svg"},{type:"icon",id:"octagon-half",name:"octagon half",icon:"octagon-half.svg"},{type:"icon",id:"octagon",name:"octagon",icon:"octagon.svg"},{type:"icon",id:"optical-audio-fill",name:"optical audio fill",icon:"optical-audio-fill.svg"},{type:"icon",id:"optical-audio",name:"optical audio",icon:"optical-audio.svg"},{type:"icon",id:"option",name:"option",icon:"option.svg"},{type:"icon",id:"outlet",name:"outlet",icon:"outlet.svg"},{type:"icon",id:"paint-bucket",name:"paint bucket",icon:"paint-bucket.svg"},{type:"icon",id:"palette-fill",name:"palette fill",icon:"palette-fill.svg"},{type:"icon",id:"palette",name:"palette",icon:"palette.svg"},{type:"icon",id:"palette2",name:"palette2",icon:"palette2.svg"},{type:"icon",id:"paperclip",name:"paperclip",icon:"paperclip.svg"},{type:"icon",id:"paragraph",name:"paragraph",icon:"paragraph.svg"},{type:"icon",id:"patch-check-fill",name:"patch check fill",icon:"patch-check-fill.svg"},{type:"icon",id:"patch-check",name:"patch check",icon:"patch-check.svg"},{type:"icon",id:"patch-exclamation-fill",name:"patch exclamation fill",icon:"patch-exclamation-fill.svg"},{type:"icon",id:"patch-exclamation",name:"patch exclamation",icon:"patch-exclamation.svg"},{type:"icon",id:"patch-minus-fill",name:"patch minus fill",icon:"patch-minus-fill.svg"},{type:"icon",id:"patch-minus",name:"patch minus",icon:"patch-minus.svg"},{type:"icon",id:"patch-plus-fill",name:"patch plus fill",icon:"patch-plus-fill.svg"},{type:"icon",id:"patch-plus",name:"patch plus",icon:"patch-plus.svg"},{type:"icon",id:"patch-question-fill",name:"patch question fill",icon:"patch-question-fill.svg"},{type:"icon",id:"patch-question",name:"patch question",icon:"patch-question.svg"},{type:"icon",id:"pause-btn-fill",name:"pause btn fill",icon:"pause-btn-fill.svg"},{type:"icon",id:"pause-btn",name:"pause btn",icon:"pause-btn.svg"},{type:"icon",id:"pause-circle-fill",name:"pause circle fill",icon:"pause-circle-fill.svg"},{type:"icon",id:"pause-circle",name:"pause circle",icon:"pause-circle.svg"},{type:"icon",id:"pause-fill",name:"pause fill",icon:"pause-fill.svg"},{type:"icon",id:"pause",name:"pause",icon:"pause.svg"},{type:"icon",id:"paypal",name:"paypal",icon:"paypal.svg"},{type:"icon",id:"pc-display-horizontal",name:"pc display horizontal",icon:"pc-display-horizontal.svg"},{type:"icon",id:"pc-display",name:"pc display",icon:"pc-display.svg"},{type:"icon",id:"pc-horizontal",name:"pc horizontal",icon:"pc-horizontal.svg"},{type:"icon",id:"pc",name:"pc",icon:"pc.svg"},{type:"icon",id:"pci-card",name:"pci card",icon:"pci-card.svg"},{type:"icon",id:"peace-fill",name:"peace fill",icon:"peace-fill.svg"},{type:"icon",id:"peace",name:"peace",icon:"peace.svg"},{type:"icon",id:"pen-fill",name:"pen fill",icon:"pen-fill.svg"},{type:"icon",id:"pen",name:"pen",icon:"pen.svg"},{type:"icon",id:"pencil-fill",name:"pencil fill",icon:"pencil-fill.svg"},{type:"icon",id:"pencil-square",name:"pencil square",icon:"pencil-square.svg"},{type:"icon",id:"pencil",name:"pencil",icon:"pencil.svg"},{type:"icon",id:"pentagon-fill",name:"pentagon fill",icon:"pentagon-fill.svg"},{type:"icon",id:"pentagon-half",name:"pentagon half",icon:"pentagon-half.svg"},{type:"icon",id:"pentagon",name:"pentagon",icon:"pentagon.svg"},{type:"icon",id:"people-fill",name:"people fill",icon:"people-fill.svg"},{type:"icon",id:"people",name:"people",icon:"people.svg"},{type:"icon",id:"percent",name:"percent",icon:"percent.svg"},{type:"icon",id:"person-badge-fill",name:"person badge fill",icon:"person-badge-fill.svg"},{type:"icon",id:"person-badge",name:"person badge",icon:"person-badge.svg"},{type:"icon",id:"person-bounding-box",name:"person bounding box",icon:"person-bounding-box.svg"},{type:"icon",id:"person-check-fill",name:"person check fill",icon:"person-check-fill.svg"},{type:"icon",id:"person-check",name:"person check",icon:"person-check.svg"},{type:"icon",id:"person-circle",name:"person circle",icon:"person-circle.svg"},{type:"icon",id:"person-dash-fill",name:"person dash fill",icon:"person-dash-fill.svg"},{type:"icon",id:"person-dash",name:"person dash",icon:"person-dash.svg"},{type:"icon",id:"person-fill",name:"person fill",icon:"person-fill.svg"},{type:"icon",id:"person-heart",name:"person heart",icon:"person-heart.svg"},{type:"icon",id:"person-hearts",name:"person hearts",icon:"person-hearts.svg"},{type:"icon",id:"person-lines-fill",name:"person lines fill",icon:"person-lines-fill.svg"},{type:"icon",id:"person-plus-fill",name:"person plus fill",icon:"person-plus-fill.svg"},{type:"icon",id:"person-plus",name:"person plus",icon:"person-plus.svg"},{type:"icon",id:"person-rolodex",name:"person rolodex",icon:"person-rolodex.svg"},{type:"icon",id:"person-square",name:"person square",icon:"person-square.svg"},{type:"icon",id:"person-video",name:"person video",icon:"person-video.svg"},{type:"icon",id:"person-video2",name:"person video2",icon:"person-video2.svg"},{type:"icon",id:"person-video3",name:"person video3",icon:"person-video3.svg"},{type:"icon",id:"person-workspace",name:"person workspace",icon:"person-workspace.svg"},{type:"icon",id:"person-x-fill",name:"person x fill",icon:"person-x-fill.svg"},{type:"icon",id:"person-x",name:"person x",icon:"person-x.svg"},{type:"icon",id:"person",name:"person",icon:"person.svg"},{type:"icon",id:"phone-fill",name:"phone fill",icon:"phone-fill.svg"},{type:"icon",id:"phone-flip",name:"phone flip",icon:"phone-flip.svg"},{type:"icon",id:"phone-landscape-fill",name:"phone landscape fill",icon:"phone-landscape-fill.svg"},{type:"icon",id:"phone-landscape",name:"phone landscape",icon:"phone-landscape.svg"},{type:"icon",id:"phone-vibrate-fill",name:"phone vibrate fill",icon:"phone-vibrate-fill.svg"},{type:"icon",id:"phone-vibrate",name:"phone vibrate",icon:"phone-vibrate.svg"},{type:"icon",id:"phone",name:"phone",icon:"phone.svg"},{type:"icon",id:"pie-chart-fill",name:"pie chart fill",icon:"pie-chart-fill.svg"},{type:"icon",id:"pie-chart",name:"pie chart",icon:"pie-chart.svg"},{type:"icon",id:"piggy-bank-fill",name:"piggy bank fill",icon:"piggy-bank-fill.svg"},{type:"icon",id:"piggy-bank",name:"piggy bank",icon:"piggy-bank.svg"},{type:"icon",id:"pin-angle-fill",name:"pin angle fill",icon:"pin-angle-fill.svg"},{type:"icon",id:"pin-angle",name:"pin angle",icon:"pin-angle.svg"},{type:"icon",id:"pin-fill",name:"pin fill",icon:"pin-fill.svg"},{type:"icon",id:"pin-map-fill",name:"pin map fill",icon:"pin-map-fill.svg"},{type:"icon",id:"pin-map",name:"pin map",icon:"pin-map.svg"},{type:"icon",id:"pin",name:"pin",icon:"pin.svg"},{type:"icon",id:"pinterest",name:"pinterest",icon:"pinterest.svg"},{type:"icon",id:"pip-fill",name:"pip fill",icon:"pip-fill.svg"},{type:"icon",id:"pip",name:"pip",icon:"pip.svg"},{type:"icon",id:"play-btn-fill",name:"play btn fill",icon:"play-btn-fill.svg"},{type:"icon",id:"play-btn",name:"play btn",icon:"play-btn.svg"},{type:"icon",id:"play-circle-fill",name:"play circle fill",icon:"play-circle-fill.svg"},{type:"icon",id:"play-circle",name:"play circle",icon:"play-circle.svg"},{type:"icon",id:"play-fill",name:"play fill",icon:"play-fill.svg"},{type:"icon",id:"play",name:"play",icon:"play.svg"},{type:"icon",id:"playstation",name:"playstation",icon:"playstation.svg"},{type:"icon",id:"plug-fill",name:"plug fill",icon:"plug-fill.svg"},{type:"icon",id:"plug",name:"plug",icon:"plug.svg"},{type:"icon",id:"plugin",name:"plugin",icon:"plugin.svg"},{type:"icon",id:"plus-circle-dotted",name:"plus circle dotted",icon:"plus-circle-dotted.svg"},{type:"icon",id:"plus-circle-fill",name:"plus circle fill",icon:"plus-circle-fill.svg"},{type:"icon",id:"plus-circle",name:"plus circle",icon:"plus-circle.svg"},{type:"icon",id:"plus-lg",name:"plus lg",icon:"plus-lg.svg"},{type:"icon",id:"plus-slash-minus",name:"plus slash minus",icon:"plus-slash-minus.svg"},{type:"icon",id:"plus-square-dotted",name:"plus square dotted",icon:"plus-square-dotted.svg"},{type:"icon",id:"plus-square-fill",name:"plus square fill",icon:"plus-square-fill.svg"},{type:"icon",id:"plus-square",name:"plus square",icon:"plus-square.svg"},{type:"icon",id:"plus",name:"plus",icon:"plus.svg"},{type:"icon",id:"postage-fill",name:"postage fill",icon:"postage-fill.svg"},{type:"icon",id:"postage-heart-fill",name:"postage heart fill",icon:"postage-heart-fill.svg"},{type:"icon",id:"postage-heart",name:"postage heart",icon:"postage-heart.svg"},{type:"icon",id:"postage",name:"postage",icon:"postage.svg"},{type:"icon",id:"postcard-fill",name:"postcard fill",icon:"postcard-fill.svg"},{type:"icon",id:"postcard-heart-fill",name:"postcard heart fill",icon:"postcard-heart-fill.svg"},{type:"icon",id:"postcard-heart",name:"postcard heart",icon:"postcard-heart.svg"},{type:"icon",id:"postcard",name:"postcard",icon:"postcard.svg"},{type:"icon",id:"power",name:"power",icon:"power.svg"},{type:"icon",id:"printer-fill",name:"printer fill",icon:"printer-fill.svg"},{type:"icon",id:"printer",name:"printer",icon:"printer.svg"},{type:"icon",id:"projector-fill",name:"projector fill",icon:"projector-fill.svg"},{type:"icon",id:"projector",name:"projector",icon:"projector.svg"},{type:"icon",id:"puzzle-fill",name:"puzzle fill",icon:"puzzle-fill.svg"},{type:"icon",id:"puzzle",name:"puzzle",icon:"puzzle.svg"},{type:"icon",id:"qr-code-scan",name:"qr code scan",icon:"qr-code-scan.svg"},{type:"icon",id:"qr-code",name:"qr code",icon:"qr-code.svg"},{type:"icon",id:"question-circle-fill",name:"question circle fill",icon:"question-circle-fill.svg"},{type:"icon",id:"question-circle",name:"question circle",icon:"question-circle.svg"},{type:"icon",id:"question-diamond-fill",name:"question diamond fill",icon:"question-diamond-fill.svg"},{type:"icon",id:"question-diamond",name:"question diamond",icon:"question-diamond.svg"},{type:"icon",id:"question-lg",name:"question lg",icon:"question-lg.svg"},{type:"icon",id:"question-octagon-fill",name:"question octagon fill",icon:"question-octagon-fill.svg"},{type:"icon",id:"question-octagon",name:"question octagon",icon:"question-octagon.svg"},{type:"icon",id:"question-square-fill",name:"question square fill",icon:"question-square-fill.svg"},{type:"icon",id:"question-square",name:"question square",icon:"question-square.svg"},{type:"icon",id:"question",name:"question",icon:"question.svg"},{type:"icon",id:"quora",name:"quora",icon:"quora.svg"},{type:"icon",id:"quote",name:"quote",icon:"quote.svg"},{type:"icon",id:"radioactive",name:"radioactive",icon:"radioactive.svg"},{type:"icon",id:"rainbow",name:"rainbow",icon:"rainbow.svg"},{type:"icon",id:"receipt-cutoff",name:"receipt cutoff",icon:"receipt-cutoff.svg"},{type:"icon",id:"receipt",name:"receipt",icon:"receipt.svg"},{type:"icon",id:"reception-0",name:"reception 0",icon:"reception-0.svg"},{type:"icon",id:"reception-1",name:"reception 1",icon:"reception-1.svg"},{type:"icon",id:"reception-2",name:"reception 2",icon:"reception-2.svg"},{type:"icon",id:"reception-3",name:"reception 3",icon:"reception-3.svg"},{type:"icon",id:"reception-4",name:"reception 4",icon:"reception-4.svg"},{type:"icon",id:"record-btn-fill",name:"record btn fill",icon:"record-btn-fill.svg"},{type:"icon",id:"record-btn",name:"record btn",icon:"record-btn.svg"},{type:"icon",id:"record-circle-fill",name:"record circle fill",icon:"record-circle-fill.svg"},{type:"icon",id:"record-circle",name:"record circle",icon:"record-circle.svg"},{type:"icon",id:"record-fill",name:"record fill",icon:"record-fill.svg"},{type:"icon",id:"record",name:"record",icon:"record.svg"},{type:"icon",id:"record2-fill",name:"record2 fill",icon:"record2-fill.svg"},{type:"icon",id:"record2",name:"record2",icon:"record2.svg"},{type:"icon",id:"recycle",name:"recycle",icon:"recycle.svg"},{type:"icon",id:"reddit",name:"reddit",icon:"reddit.svg"},{type:"icon",id:"reply-all-fill",name:"reply all fill",icon:"reply-all-fill.svg"},{type:"icon",id:"reply-all",name:"reply all",icon:"reply-all.svg"},{type:"icon",id:"reply-fill",name:"reply fill",icon:"reply-fill.svg"},{type:"icon",id:"reply",name:"reply",icon:"reply.svg"},{type:"icon",id:"robot",name:"robot",icon:"robot.svg"},{type:"icon",id:"router-fill",name:"router fill",icon:"router-fill.svg"},{type:"icon",id:"router",name:"router",icon:"router.svg"},{type:"icon",id:"rss-fill",name:"rss fill",icon:"rss-fill.svg"},{type:"icon",id:"rss",name:"rss",icon:"rss.svg"},{type:"icon",id:"rulers",name:"rulers",icon:"rulers.svg"},{type:"icon",id:"safe-fill",name:"safe fill",icon:"safe-fill.svg"},{type:"icon",id:"safe",name:"safe",icon:"safe.svg"},{type:"icon",id:"safe2-fill",name:"safe2 fill",icon:"safe2-fill.svg"},{type:"icon",id:"safe2",name:"safe2",icon:"safe2.svg"},{type:"icon",id:"save-fill",name:"save fill",icon:"save-fill.svg"},{type:"icon",id:"save",name:"save",icon:"save.svg"},{type:"icon",id:"save2-fill",name:"save2 fill",icon:"save2-fill.svg"},{type:"icon",id:"save2",name:"save2",icon:"save2.svg"},{type:"icon",id:"scissors",name:"scissors",icon:"scissors.svg"},{type:"icon",id:"screwdriver",name:"screwdriver",icon:"screwdriver.svg"},{type:"icon",id:"sd-card-fill",name:"sd card fill",icon:"sd-card-fill.svg"},{type:"icon",id:"sd-card",name:"sd card",icon:"sd-card.svg"},{type:"icon",id:"search-heart-fill",name:"search heart fill",icon:"search-heart-fill.svg"},{type:"icon",id:"search-heart",name:"search heart",icon:"search-heart.svg"},{type:"icon",id:"search",name:"search",icon:"search.svg"},{type:"icon",id:"segmented-nav",name:"segmented nav",icon:"segmented-nav.svg"},{type:"icon",id:"send-check-fill",name:"send check fill",icon:"send-check-fill.svg"},{type:"icon",id:"send-check",name:"send check",icon:"send-check.svg"},{type:"icon",id:"send-dash-fill",name:"send dash fill",icon:"send-dash-fill.svg"},{type:"icon",id:"send-dash",name:"send dash",icon:"send-dash.svg"},{type:"icon",id:"send-exclamation-fill",name:"send exclamation fill",icon:"send-exclamation-fill.svg"},{type:"icon",id:"send-exclamation",name:"send exclamation",icon:"send-exclamation.svg"},{type:"icon",id:"send-fill",name:"send fill",icon:"send-fill.svg"},{type:"icon",id:"send-plus-fill",name:"send plus fill",icon:"send-plus-fill.svg"},{type:"icon",id:"send-plus",name:"send plus",icon:"send-plus.svg"},{type:"icon",id:"send-slash-fill",name:"send slash fill",icon:"send-slash-fill.svg"},{type:"icon",id:"send-slash",name:"send slash",icon:"send-slash.svg"},{type:"icon",id:"send-x-fill",name:"send x fill",icon:"send-x-fill.svg"},{type:"icon",id:"send-x",name:"send x",icon:"send-x.svg"},{type:"icon",id:"send",name:"send",icon:"send.svg"},{type:"icon",id:"server",name:"server",icon:"server.svg"},{type:"icon",id:"share-fill",name:"share fill",icon:"share-fill.svg"},{type:"icon",id:"share",name:"share",icon:"share.svg"},{type:"icon",id:"shield-check",name:"shield check",icon:"shield-check.svg"},{type:"icon",id:"shield-exclamation",name:"shield exclamation",icon:"shield-exclamation.svg"},{type:"icon",id:"shield-fill-check",name:"shield fill check",icon:"shield-fill-check.svg"},{type:"icon",id:"shield-fill-exclamation",name:"shield fill exclamation",icon:"shield-fill-exclamation.svg"},{type:"icon",id:"shield-fill-minus",name:"shield fill minus",icon:"shield-fill-minus.svg"},{type:"icon",id:"shield-fill-plus",name:"shield fill plus",icon:"shield-fill-plus.svg"},{type:"icon",id:"shield-fill-x",name:"shield fill x",icon:"shield-fill-x.svg"},{type:"icon",id:"shield-fill",name:"shield fill",icon:"shield-fill.svg"},{type:"icon",id:"shield-lock-fill",name:"shield lock fill",icon:"shield-lock-fill.svg"},{type:"icon",id:"shield-lock",name:"shield lock",icon:"shield-lock.svg"},{type:"icon",id:"shield-minus",name:"shield minus",icon:"shield-minus.svg"},{type:"icon",id:"shield-plus",name:"shield plus",icon:"shield-plus.svg"},{type:"icon",id:"shield-shaded",name:"shield shaded",icon:"shield-shaded.svg"},{type:"icon",id:"shield-slash-fill",name:"shield slash fill",icon:"shield-slash-fill.svg"},{type:"icon",id:"shield-slash",name:"shield slash",icon:"shield-slash.svg"},{type:"icon",id:"shield-x",name:"shield x",icon:"shield-x.svg"},{type:"icon",id:"shield",name:"shield",icon:"shield.svg"},{type:"icon",id:"shift-fill",name:"shift fill",icon:"shift-fill.svg"},{type:"icon",id:"shift",name:"shift",icon:"shift.svg"},{type:"icon",id:"shop-window",name:"shop window",icon:"shop-window.svg"},{type:"icon",id:"shop",name:"shop",icon:"shop.svg"},{type:"icon",id:"shuffle",name:"shuffle",icon:"shuffle.svg"},{type:"icon",id:"signal",name:"signal",icon:"signal.svg"},{type:"icon",id:"signpost-2-fill",name:"signpost 2 fill",icon:"signpost-2-fill.svg"},{type:"icon",id:"signpost-2",name:"signpost 2",icon:"signpost-2.svg"},{type:"icon",id:"signpost-fill",name:"signpost fill",icon:"signpost-fill.svg"},{type:"icon",id:"signpost-split-fill",name:"signpost split fill",icon:"signpost-split-fill.svg"},{type:"icon",id:"signpost-split",name:"signpost split",icon:"signpost-split.svg"},{type:"icon",id:"signpost",name:"signpost",icon:"signpost.svg"},{type:"icon",id:"sim-fill",name:"sim fill",icon:"sim-fill.svg"},{type:"icon",id:"sim",name:"sim",icon:"sim.svg"},{type:"icon",id:"skip-backward-btn-fill",name:"skip backward btn fill",icon:"skip-backward-btn-fill.svg"},{type:"icon",id:"skip-backward-btn",name:"skip backward btn",icon:"skip-backward-btn.svg"},{type:"icon",id:"skip-backward-circle-fill",name:"skip backward circle fill",icon:"skip-backward-circle-fill.svg"},{type:"icon",id:"skip-backward-circle",name:"skip backward circle",icon:"skip-backward-circle.svg"},{type:"icon",id:"skip-backward-fill",name:"skip backward fill",icon:"skip-backward-fill.svg"},{type:"icon",id:"skip-backward",name:"skip backward",icon:"skip-backward.svg"},{type:"icon",id:"skip-end-btn-fill",name:"skip end btn fill",icon:"skip-end-btn-fill.svg"},{type:"icon",id:"skip-end-btn",name:"skip end btn",icon:"skip-end-btn.svg"},{type:"icon",id:"skip-end-circle-fill",name:"skip end circle fill",icon:"skip-end-circle-fill.svg"},{type:"icon",id:"skip-end-circle",name:"skip end circle",icon:"skip-end-circle.svg"},{type:"icon",id:"skip-end-fill",name:"skip end fill",icon:"skip-end-fill.svg"},{type:"icon",id:"skip-end",name:"skip end",icon:"skip-end.svg"},{type:"icon",id:"skip-forward-btn-fill",name:"skip forward btn fill",icon:"skip-forward-btn-fill.svg"},{type:"icon",id:"skip-forward-btn",name:"skip forward btn",icon:"skip-forward-btn.svg"},{type:"icon",id:"skip-forward-circle-fill",name:"skip forward circle fill",icon:"skip-forward-circle-fill.svg"},{type:"icon",id:"skip-forward-circle",name:"skip forward circle",icon:"skip-forward-circle.svg"},{type:"icon",id:"skip-forward-fill",name:"skip forward fill",icon:"skip-forward-fill.svg"},{type:"icon",id:"skip-forward",name:"skip forward",icon:"skip-forward.svg"},{type:"icon",id:"skip-start-btn-fill",name:"skip start btn fill",icon:"skip-start-btn-fill.svg"},{type:"icon",id:"skip-start-btn",name:"skip start btn",icon:"skip-start-btn.svg"},{type:"icon",id:"skip-start-circle-fill",name:"skip start circle fill",icon:"skip-start-circle-fill.svg"},{type:"icon",id:"skip-start-circle",name:"skip start circle",icon:"skip-start-circle.svg"},{type:"icon",id:"skip-start-fill",name:"skip start fill",icon:"skip-start-fill.svg"},{type:"icon",id:"skip-start",name:"skip start",icon:"skip-start.svg"},{type:"icon",id:"skype",name:"skype",icon:"skype.svg"},{type:"icon",id:"slack",name:"slack",icon:"slack.svg"},{type:"icon",id:"slash-circle-fill",name:"slash circle fill",icon:"slash-circle-fill.svg"},{type:"icon",id:"slash-circle",name:"slash circle",icon:"slash-circle.svg"},{type:"icon",id:"slash-lg",name:"slash lg",icon:"slash-lg.svg"},{type:"icon",id:"slash-square-fill",name:"slash square fill",icon:"slash-square-fill.svg"},{type:"icon",id:"slash-square",name:"slash square",icon:"slash-square.svg"},{type:"icon",id:"slash",name:"slash",icon:"slash.svg"},{type:"icon",id:"sliders",name:"sliders",icon:"sliders.svg"},{type:"icon",id:"sliders2-vertical",name:"sliders2 vertical",icon:"sliders2-vertical.svg"},{type:"icon",id:"sliders2",name:"sliders2",icon:"sliders2.svg"},{type:"icon",id:"smartwatch",name:"smartwatch",icon:"smartwatch.svg"},{type:"icon",id:"snapchat",name:"snapchat",icon:"snapchat.svg"},{type:"icon",id:"snow",name:"snow",icon:"snow.svg"},{type:"icon",id:"snow2",name:"snow2",icon:"snow2.svg"},{type:"icon",id:"snow3",name:"snow3",icon:"snow3.svg"},{type:"icon",id:"sort-alpha-down-alt",name:"sort alpha down alt",icon:"sort-alpha-down-alt.svg"},{type:"icon",id:"sort-alpha-down",name:"sort alpha down",icon:"sort-alpha-down.svg"},{type:"icon",id:"sort-alpha-up-alt",name:"sort alpha up alt",icon:"sort-alpha-up-alt.svg"},{type:"icon",id:"sort-alpha-up",name:"sort alpha up",icon:"sort-alpha-up.svg"},{type:"icon",id:"sort-down-alt",name:"sort down alt",icon:"sort-down-alt.svg"},{type:"icon",id:"sort-down",name:"sort down",icon:"sort-down.svg"},{type:"icon",id:"sort-numeric-down-alt",name:"sort numeric down alt",icon:"sort-numeric-down-alt.svg"},{type:"icon",id:"sort-numeric-down",name:"sort numeric down",icon:"sort-numeric-down.svg"},{type:"icon",id:"sort-numeric-up-alt",name:"sort numeric up alt",icon:"sort-numeric-up-alt.svg"},{type:"icon",id:"sort-numeric-up",name:"sort numeric up",icon:"sort-numeric-up.svg"},{type:"icon",id:"sort-up-alt",name:"sort up alt",icon:"sort-up-alt.svg"},{type:"icon",id:"sort-up",name:"sort up",icon:"sort-up.svg"},{type:"icon",id:"soundwave",name:"soundwave",icon:"soundwave.svg"},{type:"icon",id:"speaker-fill",name:"speaker fill",icon:"speaker-fill.svg"},{type:"icon",id:"speaker",name:"speaker",icon:"speaker.svg"},{type:"icon",id:"speedometer",name:"speedometer",icon:"speedometer.svg"},{type:"icon",id:"speedometer2",name:"speedometer2",icon:"speedometer2.svg"},{type:"icon",id:"spellcheck",name:"spellcheck",icon:"spellcheck.svg"},{type:"icon",id:"spotify",name:"spotify",icon:"spotify.svg"},{type:"icon",id:"square-fill",name:"square fill",icon:"square-fill.svg"},{type:"icon",id:"square-half",name:"square half",icon:"square-half.svg"},{type:"icon",id:"square",name:"square",icon:"square.svg"},{type:"icon",id:"stack-overflow",name:"stack overflow",icon:"stack-overflow.svg"},{type:"icon",id:"stack",name:"stack",icon:"stack.svg"},{type:"icon",id:"star-fill",name:"star fill",icon:"star-fill.svg"},{type:"icon",id:"star-half",name:"star half",icon:"star-half.svg"},{type:"icon",id:"star",name:"star",icon:"star.svg"},{type:"icon",id:"stars",name:"stars",icon:"stars.svg"},{type:"icon",id:"steam",name:"steam",icon:"steam.svg"},{type:"icon",id:"stickies-fill",name:"stickies fill",icon:"stickies-fill.svg"},{type:"icon",id:"stickies",name:"stickies",icon:"stickies.svg"},{type:"icon",id:"sticky-fill",name:"sticky fill",icon:"sticky-fill.svg"},{type:"icon",id:"sticky",name:"sticky",icon:"sticky.svg"},{type:"icon",id:"stop-btn-fill",name:"stop btn fill",icon:"stop-btn-fill.svg"},{type:"icon",id:"stop-btn",name:"stop btn",icon:"stop-btn.svg"},{type:"icon",id:"stop-circle-fill",name:"stop circle fill",icon:"stop-circle-fill.svg"},{type:"icon",id:"stop-circle",name:"stop circle",icon:"stop-circle.svg"},{type:"icon",id:"stop-fill",name:"stop fill",icon:"stop-fill.svg"},{type:"icon",id:"stop",name:"stop",icon:"stop.svg"},{type:"icon",id:"stoplights-fill",name:"stoplights fill",icon:"stoplights-fill.svg"},{type:"icon",id:"stoplights",name:"stoplights",icon:"stoplights.svg"},{type:"icon",id:"stopwatch-fill",name:"stopwatch fill",icon:"stopwatch-fill.svg"},{type:"icon",id:"stopwatch",name:"stopwatch",icon:"stopwatch.svg"},{type:"icon",id:"strava",name:"strava",icon:"strava.svg"},{type:"icon",id:"subtract",name:"subtract",icon:"subtract.svg"},{type:"icon",id:"suit-club-fill",name:"suit club fill",icon:"suit-club-fill.svg"},{type:"icon",id:"suit-club",name:"suit club",icon:"suit-club.svg"},{type:"icon",id:"suit-diamond-fill",name:"suit diamond fill",icon:"suit-diamond-fill.svg"},{type:"icon",id:"suit-diamond",name:"suit diamond",icon:"suit-diamond.svg"},{type:"icon",id:"suit-heart-fill",name:"suit heart fill",icon:"suit-heart-fill.svg"},{type:"icon",id:"suit-heart",name:"suit heart",icon:"suit-heart.svg"},{type:"icon",id:"suit-spade-fill",name:"suit spade fill",icon:"suit-spade-fill.svg"},{type:"icon",id:"suit-spade",name:"suit spade",icon:"suit-spade.svg"},{type:"icon",id:"sun-fill",name:"sun fill",icon:"sun-fill.svg"},{type:"icon",id:"sun",name:"sun",icon:"sun.svg"},{type:"icon",id:"sunglasses",name:"sunglasses",icon:"sunglasses.svg"},{type:"icon",id:"sunrise-fill",name:"sunrise fill",icon:"sunrise-fill.svg"},{type:"icon",id:"sunrise",name:"sunrise",icon:"sunrise.svg"},{type:"icon",id:"sunset-fill",name:"sunset fill",icon:"sunset-fill.svg"},{type:"icon",id:"sunset",name:"sunset",icon:"sunset.svg"},{type:"icon",id:"symmetry-horizontal",name:"symmetry horizontal",icon:"symmetry-horizontal.svg"},{type:"icon",id:"symmetry-vertical",name:"symmetry vertical",icon:"symmetry-vertical.svg"},{type:"icon",id:"table",name:"table",icon:"table.svg"},{type:"icon",id:"tablet-fill",name:"tablet fill",icon:"tablet-fill.svg"},{type:"icon",id:"tablet-landscape-fill",name:"tablet landscape fill",icon:"tablet-landscape-fill.svg"},{type:"icon",id:"tablet-landscape",name:"tablet landscape",icon:"tablet-landscape.svg"},{type:"icon",id:"tablet",name:"tablet",icon:"tablet.svg"},{type:"icon",id:"tag-fill",name:"tag fill",icon:"tag-fill.svg"},{type:"icon",id:"tag",name:"tag",icon:"tag.svg"},{type:"icon",id:"tags-fill",name:"tags fill",icon:"tags-fill.svg"},{type:"icon",id:"tags",name:"tags",icon:"tags.svg"},{type:"icon",id:"telegram",name:"telegram",icon:"telegram.svg"},{type:"icon",id:"telephone-fill",name:"telephone fill",icon:"telephone-fill.svg"},{type:"icon",id:"telephone-forward-fill",name:"telephone forward fill",icon:"telephone-forward-fill.svg"},{type:"icon",id:"telephone-forward",name:"telephone forward",icon:"telephone-forward.svg"},{type:"icon",id:"telephone-inbound-fill",name:"telephone inbound fill",icon:"telephone-inbound-fill.svg"},{type:"icon",id:"telephone-inbound",name:"telephone inbound",icon:"telephone-inbound.svg"},{type:"icon",id:"telephone-minus-fill",name:"telephone minus fill",icon:"telephone-minus-fill.svg"},{type:"icon",id:"telephone-minus",name:"telephone minus",icon:"telephone-minus.svg"},{type:"icon",id:"telephone-outbound-fill",name:"telephone outbound fill",icon:"telephone-outbound-fill.svg"},{type:"icon",id:"telephone-outbound",name:"telephone outbound",icon:"telephone-outbound.svg"},{type:"icon",id:"telephone-plus-fill",name:"telephone plus fill",icon:"telephone-plus-fill.svg"},{type:"icon",id:"telephone-plus",name:"telephone plus",icon:"telephone-plus.svg"},{type:"icon",id:"telephone-x-fill",name:"telephone x fill",icon:"telephone-x-fill.svg"},{type:"icon",id:"telephone-x",name:"telephone x",icon:"telephone-x.svg"},{type:"icon",id:"telephone",name:"telephone",icon:"telephone.svg"},{type:"icon",id:"terminal-dash",name:"terminal dash",icon:"terminal-dash.svg"},{type:"icon",id:"terminal-fill",name:"terminal fill",icon:"terminal-fill.svg"},{type:"icon",id:"terminal-plus",name:"terminal plus",icon:"terminal-plus.svg"},{type:"icon",id:"terminal-split",name:"terminal split",icon:"terminal-split.svg"},{type:"icon",id:"terminal-x",name:"terminal x",icon:"terminal-x.svg"},{type:"icon",id:"terminal",name:"terminal",icon:"terminal.svg"},{type:"icon",id:"text-center",name:"text center",icon:"text-center.svg"},{type:"icon",id:"text-indent-left",name:"text indent left",icon:"text-indent-left.svg"},{type:"icon",id:"text-indent-right",name:"text indent right",icon:"text-indent-right.svg"},{type:"icon",id:"text-left",name:"text left",icon:"text-left.svg"},{type:"icon",id:"text-paragraph",name:"text paragraph",icon:"text-paragraph.svg"},{type:"icon",id:"text-right",name:"text right",icon:"text-right.svg"},{type:"icon",id:"textarea-resize",name:"textarea resize",icon:"textarea-resize.svg"},{type:"icon",id:"textarea-t",name:"textarea t",icon:"textarea-t.svg"},{type:"icon",id:"textarea",name:"textarea",icon:"textarea.svg"},{type:"icon",id:"thermometer-half",name:"thermometer half",icon:"thermometer-half.svg"},{type:"icon",id:"thermometer-high",name:"thermometer high",icon:"thermometer-high.svg"},{type:"icon",id:"thermometer-low",name:"thermometer low",icon:"thermometer-low.svg"},{type:"icon",id:"thermometer-snow",name:"thermometer snow",icon:"thermometer-snow.svg"},{type:"icon",id:"thermometer-sun",name:"thermometer sun",icon:"thermometer-sun.svg"},{type:"icon",id:"thermometer",name:"thermometer",icon:"thermometer.svg"},{type:"icon",id:"three-dots-vertical",name:"three dots vertical",icon:"three-dots-vertical.svg"},{type:"icon",id:"three-dots",name:"three dots",icon:"three-dots.svg"},{type:"icon",id:"thunderbolt-fill",name:"thunderbolt fill",icon:"thunderbolt-fill.svg"},{type:"icon",id:"thunderbolt",name:"thunderbolt",icon:"thunderbolt.svg"},{type:"icon",id:"ticket-detailed-fill",name:"ticket detailed fill",icon:"ticket-detailed-fill.svg"},{type:"icon",id:"ticket-detailed",name:"ticket detailed",icon:"ticket-detailed.svg"},{type:"icon",id:"ticket-fill",name:"ticket fill",icon:"ticket-fill.svg"},{type:"icon",id:"ticket-perforated-fill",name:"ticket perforated fill",icon:"ticket-perforated-fill.svg"},{type:"icon",id:"ticket-perforated",name:"ticket perforated",icon:"ticket-perforated.svg"},{type:"icon",id:"ticket",name:"ticket",icon:"ticket.svg"},{type:"icon",id:"tiktok",name:"tiktok",icon:"tiktok.svg"},{type:"icon",id:"toggle-off",name:"toggle off",icon:"toggle-off.svg"},{type:"icon",id:"toggle-on",name:"toggle on",icon:"toggle-on.svg"},{type:"icon",id:"toggle2-off",name:"toggle2 off",icon:"toggle2-off.svg"},{type:"icon",id:"toggle2-on",name:"toggle2 on",icon:"toggle2-on.svg"},{type:"icon",id:"toggles",name:"toggles",icon:"toggles.svg"},{type:"icon",id:"toggles2",name:"toggles2",icon:"toggles2.svg"},{type:"icon",id:"tools",name:"tools",icon:"tools.svg"},{type:"icon",id:"tornado",name:"tornado",icon:"tornado.svg"},{type:"icon",id:"translate",name:"translate",icon:"translate.svg"},{type:"icon",id:"trash-fill",name:"trash fill",icon:"trash-fill.svg"},{type:"icon",id:"trash",name:"trash",icon:"trash.svg"},{type:"icon",id:"trash2-fill",name:"trash2 fill",icon:"trash2-fill.svg"},{type:"icon",id:"trash2",name:"trash2",icon:"trash2.svg"},{type:"icon",id:"trash3-fill",name:"trash3 fill",icon:"trash3-fill.svg"},{type:"icon",id:"trash3",name:"trash3",icon:"trash3.svg"},{type:"icon",id:"tree-fill",name:"tree fill",icon:"tree-fill.svg"},{type:"icon",id:"tree",name:"tree",icon:"tree.svg"},{type:"icon",id:"triangle-fill",name:"triangle fill",icon:"triangle-fill.svg"},{type:"icon",id:"triangle-half",name:"triangle half",icon:"triangle-half.svg"},{type:"icon",id:"triangle",name:"triangle",icon:"triangle.svg"},{type:"icon",id:"trophy-fill",name:"trophy fill",icon:"trophy-fill.svg"},{type:"icon",id:"trophy",name:"trophy",icon:"trophy.svg"},{type:"icon",id:"tropical-storm",name:"tropical storm",icon:"tropical-storm.svg"},{type:"icon",id:"truck-flatbed",name:"truck flatbed",icon:"truck-flatbed.svg"},{type:"icon",id:"truck",name:"truck",icon:"truck.svg"},{type:"icon",id:"tsunami",name:"tsunami",icon:"tsunami.svg"},{type:"icon",id:"tv-fill",name:"tv fill",icon:"tv-fill.svg"},{type:"icon",id:"tv",name:"tv",icon:"tv.svg"},{type:"icon",id:"twitch",name:"twitch",icon:"twitch.svg"},{type:"icon",id:"twitter",name:"twitter",icon:"twitter.svg"},{type:"icon",id:"type-bold",name:"type bold",icon:"type-bold.svg"},{type:"icon",id:"type-h1",name:"type h1",icon:"type-h1.svg"},{type:"icon",id:"type-h2",name:"type h2",icon:"type-h2.svg"},{type:"icon",id:"type-h3",name:"type h3",icon:"type-h3.svg"},{type:"icon",id:"type-italic",name:"type italic",icon:"type-italic.svg"},{type:"icon",id:"type-strikethrough",name:"type strikethrough",icon:"type-strikethrough.svg"},{type:"icon",id:"type-underline",name:"type underline",icon:"type-underline.svg"},{type:"icon",id:"type",name:"type",icon:"type.svg"},{type:"icon",id:"ui-checks-grid",name:"ui checks grid",icon:"ui-checks-grid.svg"},{type:"icon",id:"ui-checks",name:"ui checks",icon:"ui-checks.svg"},{type:"icon",id:"ui-radios-grid",name:"ui radios grid",icon:"ui-radios-grid.svg"},{type:"icon",id:"ui-radios",name:"ui radios",icon:"ui-radios.svg"},{type:"icon",id:"umbrella-fill",name:"umbrella fill",icon:"umbrella-fill.svg"},{type:"icon",id:"umbrella",name:"umbrella",icon:"umbrella.svg"},{type:"icon",id:"union",name:"union",icon:"union.svg"},{type:"icon",id:"unlock-fill",name:"unlock fill",icon:"unlock-fill.svg"},{type:"icon",id:"unlock",name:"unlock",icon:"unlock.svg"},{type:"icon",id:"upc-scan",name:"upc scan",icon:"upc-scan.svg"},{type:"icon",id:"upc",name:"upc",icon:"upc.svg"},{type:"icon",id:"upload",name:"upload",icon:"upload.svg"},{type:"icon",id:"usb-c-fill",name:"usb c fill",icon:"usb-c-fill.svg"},{type:"icon",id:"usb-c",name:"usb c",icon:"usb-c.svg"},{type:"icon",id:"usb-drive-fill",name:"usb drive fill",icon:"usb-drive-fill.svg"},{type:"icon",id:"usb-drive",name:"usb drive",icon:"usb-drive.svg"},{type:"icon",id:"usb-fill",name:"usb fill",icon:"usb-fill.svg"},{type:"icon",id:"usb-micro-fill",name:"usb micro fill",icon:"usb-micro-fill.svg"},{type:"icon",id:"usb-micro",name:"usb micro",icon:"usb-micro.svg"},{type:"icon",id:"usb-mini-fill",name:"usb mini fill",icon:"usb-mini-fill.svg"},{type:"icon",id:"usb-mini",name:"usb mini",icon:"usb-mini.svg"},{type:"icon",id:"usb-plug-fill",name:"usb plug fill",icon:"usb-plug-fill.svg"},{type:"icon",id:"usb-plug",name:"usb plug",icon:"usb-plug.svg"},{type:"icon",id:"usb-symbol",name:"usb symbol",icon:"usb-symbol.svg"},{type:"icon",id:"usb",name:"usb",icon:"usb.svg"},{type:"icon",id:"valentine",name:"valentine",icon:"valentine.svg"},{type:"icon",id:"valentine2",name:"valentine2",icon:"valentine2.svg"},{type:"icon",id:"vector-pen",name:"vector pen",icon:"vector-pen.svg"},{type:"icon",id:"view-list",name:"view list",icon:"view-list.svg"},{type:"icon",id:"view-stacked",name:"view stacked",icon:"view-stacked.svg"},{type:"icon",id:"vimeo",name:"vimeo",icon:"vimeo.svg"},{type:"icon",id:"vinyl-fill",name:"vinyl fill",icon:"vinyl-fill.svg"},{type:"icon",id:"vinyl",name:"vinyl",icon:"vinyl.svg"},{type:"icon",id:"voicemail",name:"voicemail",icon:"voicemail.svg"},{type:"icon",id:"volume-down-fill",name:"volume down fill",icon:"volume-down-fill.svg"},{type:"icon",id:"volume-down",name:"volume down",icon:"volume-down.svg"},{type:"icon",id:"volume-mute-fill",name:"volume mute fill",icon:"volume-mute-fill.svg"},{type:"icon",id:"volume-mute",name:"volume mute",icon:"volume-mute.svg"},{type:"icon",id:"volume-off-fill",name:"volume off fill",icon:"volume-off-fill.svg"},{type:"icon",id:"volume-off",name:"volume off",icon:"volume-off.svg"},{type:"icon",id:"volume-up-fill",name:"volume up fill",icon:"volume-up-fill.svg"},{type:"icon",id:"volume-up",name:"volume up",icon:"volume-up.svg"},{type:"icon",id:"vr",name:"vr",icon:"vr.svg"},{type:"icon",id:"wallet-fill",name:"wallet fill",icon:"wallet-fill.svg"},{type:"icon",id:"wallet",name:"wallet",icon:"wallet.svg"},{type:"icon",id:"wallet2",name:"wallet2",icon:"wallet2.svg"},{type:"icon",id:"watch",name:"watch",icon:"watch.svg"},{type:"icon",id:"water",name:"water",icon:"water.svg"},{type:"icon",id:"webcam-fill",name:"webcam fill",icon:"webcam-fill.svg"},{type:"icon",id:"webcam",name:"webcam",icon:"webcam.svg"},{type:"icon",id:"whatsapp",name:"whatsapp",icon:"whatsapp.svg"},{type:"icon",id:"wifi-1",name:"wifi 1",icon:"wifi-1.svg"},{type:"icon",id:"wifi-2",name:"wifi 2",icon:"wifi-2.svg"},{type:"icon",id:"wifi-off",name:"wifi off",icon:"wifi-off.svg"},{type:"icon",id:"wifi",name:"wifi",icon:"wifi.svg"},{type:"icon",id:"wind",name:"wind",icon:"wind.svg"},{type:"icon",id:"window-dash",name:"window dash",icon:"window-dash.svg"},{type:"icon",id:"window-desktop",name:"window desktop",icon:"window-desktop.svg"},{type:"icon",id:"window-dock",name:"window dock",icon:"window-dock.svg"},{type:"icon",id:"window-fullscreen",name:"window fullscreen",icon:"window-fullscreen.svg"},{type:"icon",id:"window-plus",name:"window plus",icon:"window-plus.svg"},{type:"icon",id:"window-sidebar",name:"window sidebar",icon:"window-sidebar.svg"},{type:"icon",id:"window-split",name:"window split",icon:"window-split.svg"},{type:"icon",id:"window-stack",name:"window stack",icon:"window-stack.svg"},{type:"icon",id:"window-x",name:"window x",icon:"window-x.svg"},{type:"icon",id:"window",name:"window",icon:"window.svg"},{type:"icon",id:"windows",name:"windows",icon:"windows.svg"},{type:"icon",id:"wordpress",name:"wordpress",icon:"wordpress.svg"},{type:"icon",id:"wrench-adjustable-circle-fill",name:"wrench adjustable circle fill",icon:"wrench-adjustable-circle-fill.svg"},{type:"icon",id:"wrench-adjustable-circle",name:"wrench adjustable circle",icon:"wrench-adjustable-circle.svg"},{type:"icon",id:"wrench-adjustable",name:"wrench adjustable",icon:"wrench-adjustable.svg"},{type:"icon",id:"wrench",name:"wrench",icon:"wrench.svg"},{type:"icon",id:"x-circle-fill",name:"x circle fill",icon:"x-circle-fill.svg"},{type:"icon",id:"x-circle",name:"x circle",icon:"x-circle.svg"},{type:"icon",id:"x-diamond-fill",name:"x diamond fill",icon:"x-diamond-fill.svg"},{type:"icon",id:"x-diamond",name:"x diamond",icon:"x-diamond.svg"},{type:"icon",id:"x-lg",name:"x lg",icon:"x-lg.svg"},{type:"icon",id:"x-octagon-fill",name:"x octagon fill",icon:"x-octagon-fill.svg"},{type:"icon",id:"x-octagon",name:"x octagon",icon:"x-octagon.svg"},{type:"icon",id:"x-square-fill",name:"x square fill",icon:"x-square-fill.svg"},{type:"icon",id:"x-square",name:"x square",icon:"x-square.svg"},{type:"icon",id:"x",name:"x",icon:"x.svg"},{type:"icon",id:"xbox",name:"xbox",icon:"xbox.svg"},{type:"icon",id:"yin-yang",name:"yin yang",icon:"yin-yang.svg"},{type:"icon",id:"youtube",name:"youtube",icon:"youtube.svg"},{type:"icon",id:"zoom-in",name:"zoom in",icon:"zoom-in.svg"},{type:"icon",id:"zoom-out",name:"zoom out",icon:"zoom-out.svg"}],iDe=()=>{const[t,e]=A.useState(""),{getTranslation:n}=gs(),r=A.useMemo(()=>t===""?fB.slice(0,10):fB.filter(s=>s.name.indexOf(t)!==-1),[t]),i=s=>{e(s.currentTarget.value)};return R.jsxs(On,{className:[Vn["mx-h-30vh"]].join(" "),children:[R.jsx(cu,{children:R.jsxs(cu.Group,{className:"mb-3",controlId:"iconKeyword",children:[R.jsx(cu.Label,{children:n("widget","icon","search","title")}),R.jsx(cu.Control,{onChange:i,type:"text",placeholder:n("widget","icon","search","placeholder")}),R.jsx(cu.Text,{className:"text-muted",children:n("widget","icon","search","desc")})]})}),R.jsx(cs,{xs:2,children:r.map(s=>R.jsx(sDe,{data:{id:s.id,name:s.name,icon:s.icon,"data-item-type":s.type},maxPx:80},`icon-thumbnail-${s.id}`))})]})},sDe=({data:{id:t,...e},maxPx:n})=>R.jsx(Vi,{as:On,className:[Rn.absoluteCenter,Rn.wrapTrue].join(" "),children:R.jsx(vy,{dragType:"copyMove",dragSrc:{trigger:uo.INSERT.ICON,...e},children:R.jsx(Vi.Image,{alt:e.icon,src:`/assets/icon/bootstrap/${e.icon}`})})}),oDe=[{type:"line",id:"straight-plain",name:"straight-plain",icon:"dash"},{type:"line",id:"one-curve-plain",name:"one-curve-plain",icon:"bezier"},{type:"line",id:"two-curve-plain",name:"two-curve-plain",icon:"bezier2"}],aDe=()=>R.jsx(On,{children:R.jsx(cs,{children:oDe.map(t=>R.jsx(lDe,{data:{id:t.id,icon:t.icon,name:t.name,"data-item-type":"line"}},`line-thumbnail-${t.id}`))})}),lDe=({data:t})=>(br(),R.jsx(Vi,{as:On,className:[Rn.absoluteCenter,Rn.wrapTrue].join(" "),children:R.jsx(vy,{dragType:"copyMove",dragSrc:{trigger:uo.INSERT.LINE,...t},children:R.jsx("i",{className:`bi-${t.icon}`,style:{fontSize:20,width:25}})})})),hB=[{type:"image",id:"sample-image-1",name:"sample-image-1",src:"sitting-1.svg"},{type:"image",id:"sample-image-2",name:"sample-image-2",src:"sitting-2.svg"},{type:"image",id:"sample-image-3",name:"sample-image-3",src:"sitting-3.svg"},{type:"image",id:"sample-image-4",name:"sample-image-4",src:"sitting-4.svg"},{type:"image",id:"sample-image-5",name:"sample-image-5",src:"sitting-5.svg"},{type:"image",id:"sample-image-6",name:"sample-image-6",src:"sitting-6.svg"},{type:"image",id:"sample-image-7",name:"sample-image-7",src:"sitting-7.svg"},{type:"image",id:"sample-image-8",name:"sample-image-8",src:"sitting-8.svg"},{type:"image",id:"sample-image-9",name:"sample-image-9",src:"standing-1.svg"},{type:"image",id:"sample-image-10",name:"sample-image-10",src:"standing-10.svg"},{type:"image",id:"sample-image-11",name:"sample-image-11",src:"standing-11.svg"},{type:"image",id:"sample-image-12",name:"sample-image-12",src:"standing-12.svg"},{type:"image",id:"sample-image-13",name:"sample-image-13",src:"standing-13.svg"},{type:"image",id:"sample-image-14",name:"sample-image-14",src:"standing-14.svg"},{type:"image",id:"sample-image-15",name:"sample-image-15",src:"standing-15.svg"},{type:"image",id:"sample-image-16",name:"sample-image-16",src:"standing-16.svg"},{type:"image",id:"sample-image-17",name:"sample-image-17",src:"standing-17.svg"},{type:"image",id:"sample-image-18",name:"sample-image-18",src:"standing-18.svg"},{type:"image",id:"sample-image-19",name:"sample-image-19",src:"standing-19.svg"},{type:"image",id:"sample-image-20",name:"sample-image-20",src:"standing-2.svg"},{type:"image",id:"sample-image-21",name:"sample-image-21",src:"standing-20.svg"},{type:"image",id:"sample-image-22",name:"sample-image-22",src:"standing-21.svg"},{type:"image",id:"sample-image-23",name:"sample-image-23",src:"standing-22.svg"},{type:"image",id:"sample-image-24",name:"sample-image-24",src:"standing-23.svg"},{type:"image",id:"sample-image-25",name:"sample-image-25",src:"standing-24.svg"},{type:"image",id:"sample-image-26",name:"sample-image-26",src:"standing-3.svg"},{type:"image",id:"sample-image-27",name:"sample-image-27",src:"standing-4.svg"},{type:"image",id:"sample-image-28",name:"sample-image-28",src:"standing-5.svg"},{type:"image",id:"sample-image-29",name:"sample-image-29",src:"standing-6.svg"},{type:"image",id:"sample-image-30",name:"sample-image-30",src:"standing-7.svg"},{type:"image",id:"sample-image-31",name:"sample-image-31",src:"standing-8.svg"},{type:"image",id:"sample-image-32",name:"sample-image-32",src:"standing-9.svg"}],cDe=({onClick:t})=>{const{setImageAsset:e,getAllImageAsset:n}=sve(),{getTranslation:r}=gs();return A.useState(()=>n().length?[...n()]:(e(hB),[...hB])),R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:["d-flex flex-row align-items-center justify-content-center browse-clipart"].join(" "),style:{cursor:"pointer"},onClick:t,children:[R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",fill:"currentColor",className:"bi bi-palette mx-1",viewBox:"0 0 14 14",children:[R.jsx("path",{d:"M8 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3m4 3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M5.5 7a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m.5 6a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3"}),R.jsx("path",{d:"M16 8c0 3.15-1.866 2.585-3.567 2.07C11.42 9.763 10.465 9.473 10 10c-.603.683-.475 1.819-.351 2.92C9.826 14.495 9.996 16 8 16a8 8 0 1 1 8-8m-8 7c.611 0 .654-.171.655-.176.078-.146.124-.464.07-1.119-.014-.168-.037-.37-.061-.591-.052-.464-.112-1.005-.118-1.462-.01-.707.083-1.61.704-2.314.369-.417.845-.578 1.272-.618.404-.038.812.026 1.16.104.343.077.702.186 1.025.284l.028.008c.346.105.658.199.953.266.653.148.904.083.991.024C14.717 9.38 15 9.161 15 8a7 7 0 1 0-7 7"})]}),R.jsx("span",{className:[tr["toolbar-section-stack-h6"],"m-1"].join(" "),children:r("widget","browseClipart","name")}),R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",fill:"currentColor",className:"bi bi-arrow-right mx-1",viewBox:"0 0 16 16",children:R.jsx("path",{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"})})]}),R.jsx("hr",{className:"m-0"})]})},uDe=({className:t})=>{M.useState("left");const[e,n]=M.useState({font:"Helvetica",size:19,alignment:"left",border:"1px solid rgba(255, 255, 255, 0.06)"}),[r,i]=M.useState("Helvetica");return R.jsxs("div",{className:t,style:{padding:"0 18px 1rem 18px",margin:"1rem 0 0 0",display:"block"},children:[R.jsxs("div",{children:[R.jsxs(O1,{as:"div",style:{margin:"0 0 1px 0",backgroundColor:"rgba(255,255,255,0)",cursor:"pointer"},children:[R.jsx(O1.Toggle,{as:"div",children:r}),R.jsx(O1.Menu,{as:"div",children:R.jsx(O1.Item,{as:"div",active:!0,children:"Helvetica"})})]}),R.jsx("div",{})]}),R.jsxs(cs,{as:"div",style:{fontFamily:"Roboto, sans-serif",fontWeight:"300"},children:[R.jsx(On,{as:"div",className:"col-6",children:R.jsxs("div",{className:"font-selector",children:[R.jsx("div",{children:"13"}),R.jsx("div",{className:"btn",children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",children:R.jsx("path",{d:"M1 1L4 4L7 1",stroke:"white","stroke-width":"0.5","stroke-linecap":"round","stroke-linejoin":"round"})})})]})}),R.jsxs(On,{className:"col-6 font-size-btn-group",children:[R.jsx("div",{className:"btn",onClick:()=>n({...e,alignment:"left"}),children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"9",viewBox:"0 0 14 9",fill:"none",children:R.jsx("path",{d:"M0.5 0.5H13.5M6.5 4.5L13.5 4.5M4.5 8.5L13.5 8.5",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"})})}),R.jsx("div",{className:"btn",onClick:()=>n({...e,alignment:"center"}),children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"9",viewBox:"0 0 14 9",fill:"none",children:R.jsx("path",{d:"M0.5 0.5H13.5M3.5 4.5L10.5 4.5M2.5 8.5L11.5 8.5",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"})})}),R.jsx("div",{className:"btn",onClick:()=>n({...e,alignment:"right"}),children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"9",viewBox:"0 0 15 9",fill:"none",children:R.jsx("path",{d:"M1 0.5H14M1 4.5L8 4.5M1 8.5L10 8.5",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"})})})]})]})]})},dDe=()=>{const[t,e]=M.useState(!1);return R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"text-accordion",onClick:()=>e(!t),children:[R.jsx("h2",{children:"Text"}),R.jsx("span",{className:"i-plus",children:t?"-":"+"})]}),t&&R.jsx(uDe,{className:"mt-1"})]})},fDe=()=>R.jsxs("div",{children:[R.jsx(dDe,{}),R.jsx("hr",{className:"m-0"})]}),hDe=()=>R.jsxs("div",{className:"d-flex flex-row justify-content-center align-items-center team-names py-1",style:{cursor:"pointer"},children:[R.jsx("i",{className:"bi bi-people me-2"}),R.jsx("span",{style:{fontSize:"0.8rem",paddingLeft:"0.2rem"},children:"Add Team Names"}),R.jsx("i",{className:"bi bi-arrow-right ms-2"})]}),pB={colorPalette:t=>R.jsx(DPe,{data:t}),teamNames:t=>R.jsx(hDe,{}),clipart:t=>R.jsx(cDe,{"data-id":"clipart",onClick:()=>t.onSubmenuClick(Pg.Clipart)}),font:t=>R.jsx(fDe,{}),align:t=>R.jsx(WPe,{data:t}),image:t=>R.jsx(Zve,{onCompleted:t.onImageUpload}),frame:t=>R.jsx(cge,{}),shape:t=>R.jsx(nDe,{}),text:t=>R.jsx(jPe,{}),line:t=>R.jsx(aDe,{}),icon:t=>R.jsx(iDe,{}),export:t=>R.jsx(ZPe,{data:t})},pDe=A.forwardRef((t,e)=>{const[n,r]=M.useState(null),[i,s]=M.useState(null),{menu:o}=t,a=()=>(n!==null&&bR.Text,R.jsx(R.Fragment,{}));return R.jsxs(R.Fragment,{children:[R.jsx(Pme,{ref:e,activeMenu:o,onDefaultMenuClick:(l,c)=>{r(c),s(l)}}),n&&a()]})}),mDe=A.forwardRef((t,e)=>R.jsx("div",{ref:e,children:Fme.map(n=>R.jsx("div",{children:pB[n.id]&&pB[n.id]({...n,...t})}))}));class cot extends M.Component{render(){const e=n=>{n.preventDefault(),n.stopPropagation(),this.props.onDeleteTab(this.props.data.id)};return R.jsx(q5.Item,{children:R.jsxs(q5.Link,{eventKey:this.props.data.id,className:[this.props.data.active?ja.greyTheme:ja.whiteTheme,Zo.roundTopSM,Xh.fontHalf1em,Gl.p05em,Gl.pl1rem,Rn["text-center"]].join(" "),"data-file-id":this.props.data.id,"data-active":this.props.data.active,onClick:n=>this.props.onClickTab(n,this.props.data),children:[this.props.data.id,this.props.canClose&&R.jsx(vh,{className:[ja.transparentDarkColorTheme,Zo.none,$$["inline-block"],Vn.width25,Gl.p0,Gl.ml1rem,Rn["text-left"]].join(" "),onClick:e,children:R.jsx("i",{className:"bi-x"})})]})},`tab-${this.props.data.id}`)}}const N$=[{id:"zoom-in",name:"Zoom In",desc:"Zoom In",type:"middle",icon:"zoom-in"},{id:"zoom-out",name:"Zoom Out",desc:"Zoom Out",type:"middle",icon:"zoom-out"}],gDe=({data:t,onClick:e})=>(gs(),t.type==="middle"?R.jsx("div",{className:"p-1 align-items-center m-auto",style:{cursor:"pointer"},children:R.jsx("i",{className:[`bi-${t.icon}`].join(" "),style:{fontSize:"0.8rem"}})},t.id):t.type=="top"?R.jsxs("div",{className:["p-1"].join(" "),style:{cursor:"pointer",width:"2.6rem",fontSize:".7rem"},children:[R.jsx("div",{className:[t.active?ja.greyTheme:ja.whiteTheme,Zo.roundSM,Xh.fontHalf1em,t.active?Zo.colorDark:Zo.none,t.classes].join(" "),onClick:()=>e(t.id),style:{height:"2.2rem",width:"2.2rem"},children:R.jsx(hR,{src:t.icon,rounded:!0,style:{height:"100%",margin:"auto"}})}),R.jsx("span",{children:t.name})]},t.id):R.jsx(R.Fragment,{})),yDe=({items:t,onClick:e,onSelect:n})=>{const r=(a,l)=>a.reduce((c,u)=>((c[u[l]]=c[u[l]]||[]).push(u),c),{}),i=(a,l,c)=>{const[u,d]=M.useState(l),f=(y,x)=>{d(u.map((v,b)=>b==x?{...v,active:!0}:{...v,active:!1})),n(x),e(y)},h=()=>{},m=()=>a==="top"?R.jsxs(R.Fragment,{children:[R.jsx("hr",{}),R.jsxs("div",{className:"d-flex flex-row justify-content-center align-items-center",style:{cursor:"pointer"},onClick:h,children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-person-standing-dress",viewBox:"0 0 16 16",children:R.jsx("path",{d:"M8 3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3m-.5 12.25V12h1v3.25a.75.75 0 0 0 1.5 0V12h1l-1-5v-.215a.285.285 0 0 1 .56-.078l.793 2.777a.711.711 0 1 0 1.364-.405l-1.065-3.461A3 3 0 0 0 8.784 3.5H7.216a3 3 0 0 0-2.868 2.118L3.283 9.079a.711.711 0 1 0 1.365.405l.793-2.777a.285.285 0 0 1 .56.078V7l-1 5h1v3.25a.75.75 0 0 0 1.5 0Z"})}),R.jsx("i",{className:"bi-circle-fill"})]})]}):R.jsx(R.Fragment,{});return l&&R.jsxs("div",{className:[...c,"p-2","flex-column","d-flex",xR["navbar-parts"]].join(" "),children:[l.map((y,x)=>R.jsx(R.Fragment,{children:R.jsx(gDe,{data:y,onClick:v=>f(v,x)})})),m()]})};let s=r(t,"type");const o=a=>{if(a=="top")return[Zo.roundBottomLeftSM,ja["navbar-buttongroup-tools"],"text-center"];if(a=="middle")return[Zo.roundTopLeftAndBottomLeftSM,ja["navbar-buttongroup-tools"]]};return R.jsx("div",{className:[Rn.fromBottomCenter,Vn.height100,"d-flex","flex-column","align-items-end"].join(" "),children:["top","middle"].map(a=>{const l=o(a);return R.jsx("div",{className:"h-100",children:i(a,s[a],l)})})})},vDe=({callback:t,targetDOMElement:e})=>(A.useEffect(()=>{if(!e){console.log("pup");return}e.addEventListener("dragover",n=>{Wme("copy")(n)}),e.addEventListener("drop",n=>{Gme(t)(n)})},[e]),R.jsx(R.Fragment,{})),ig="stagePosition",Pb="stageScale",Oy=()=>{const t=A.useRef(),e=A.useRef({x:0,y:0});return{setStageRef:r=>{t.current=r},stageRef:t,dragBackgroundOrigin:e}},xDe=({data:t,e,onSelect:n})=>{var v,b;const{id:r,attrs:i}=t,{updateItem:s}=br(),o=Oy(),{checkIsInFrame:a,moveToLayer:l,getItemsInThisFrame:c}=Ry(o.stageRef,o.dragBackgroundOrigin),u=A.useRef(),d={x:i.x,y:i.y},f=A.useCallback(w=>{w.target.fill("blue"),w.target.getLayer().batchDraw()},[]),h=A.useCallback(w=>{w.target.fill("#000000"),w.target.getLayer().batchDraw()},[]),m=w=>{const k=i;w.beginPath(),w.fillText(i["data-frame-type"],k.x,k.y-15),w.moveTo(k.x,k.y),w.lineTo(k.x+k.width,k.y),w.lineTo(k.x+k.width,k.y+k.height),w.lineTo(k.x,k.y+k.height),w.closePath()},y=A.useCallback(w=>{var _;const k=w.target.getParent();k.findOne("Label").position(w.target.position()),k.children.forEach(I=>{a(I)===!1&&l(I)});const E=c(w.target);E==null||E.forEach(I=>a(I)),k.clipFunc(w.target.getLayer().Context),(_=w.target.getStage())==null||_.batchDraw()},[]),x=A.useCallback(w=>{var k;s(w.target.id(),()=>({...w.target.attrs})),w.target.getParent().clipFunc(w.target.getLayer().Context),(k=w.target.getLayer())==null||k.batchDraw()},[t]);return A.useEffect(()=>{u.current&&(o.setStageRef(u.current.getStage()),u.current.brightness(t.attrs.brightness),u.current.findAncestor("Group").clipFunc(u.current.getLayer().getContext()),u.current.cache())},[t]),R.jsxs(h7,{name:"label-group",onClick:n,clipFunc:m,children:[R.jsxs(eue,{x:((v=u.current)==null?void 0:v.x())??d.x,y:((b=u.current)==null?void 0:b.y())??d.y,onClick:n,children:[R.jsx(tue,{name:"label-tag",pointerDirection:"left"}),R.jsx(m7,{text:i["data-frame-type"],name:"label-text",fontSize:10,height:50,lineHeight:1.2,padding:0,fill:"#000000",onMouseOver:f,onMouseLeave:h})]}),R.jsx(l2,{ref:u,name:"label-target","data-item-type":"frame","data-frame-type":i["data-frame-type"],id:t.id,x:i.x,y:i.y,width:i.width,height:i.height,scaleX:i.scaleX,scaleY:i.scaleY,fill:i.fill??"#ffffff",opacity:i.opacity??1,filters:[ui.Filters.Brighten],draggable:!0,onDragMove:y,onDragEnd:x})]})},Wd=(t,e,n,r)=>{t.setPointersPositions(e);const i=t.getAbsolutePosition(),s=t.getPointerPosition();return s?!n||!r?{x:Wn(s.x-i.x),y:Wn(s.y-i.y)}:{x:Wn((s.x-i.x)/t.scaleX()-n/2),y:Wn((s.y-i.y)/t.scaleY()-r/2)}:{x:0,y:0}},Ry=(t,e)=>{const{createItem:n,updateItem:r}=br(),i=(x,v)=>{const b=Wd(t.current,x,v.width,v.height),w={id:Is(),attrs:{name:"label-target","data-item-type":"frame","data-frame-type":v["data-frame-type"],width:v.width,height:v.height,fill:"#ffffff",x:b.x,y:b.y,zIndex:0,brightness:0,updatedAt:Date.now()},className:"sample-frame",children:[]};n(w)},s=(x,v)=>{const b=new Image;let w=v.src;w=v.src,b.onload=()=>{let k,E;b.width>b.height?(k=Wn(512),E=Wn(k*(b.height/b.width))):(E=Wn(512),k=Wn(E*(b.width/b.height)));const _=Wd(t.current,x,k,E),I={id:Is(),attrs:{name:"label-target","data-item-type":"image",x:_.x,y:_.y,width:k,height:E,src:v.src,zIndex:0,brightness:0,_filters:["Brighten"],updatedAt:Date.now()},className:"sample-image",children:[]};n(I)},b.src=w},o=(x,v)=>{const b=Wd(t.current,x,v.width,v.height),w={id:Is(),attrs:{name:"label-target","data-item-type":"text",width:v.text.split("").reduce((k,E)=>E.charCodeAt(0)>=32&&E.charCodeAt(0)<=126?k+v.fontSize*(3/5):k+v.fontSize,0),height:v.height,fill:"#00000",x:b.x,y:b.y,fontSize:v.fontSize,fontFamily:v.fontFamily,text:v.text,textAlign:"left",verticalAlign:"top",zIndex:0,brightness:0,updatedAt:Date.now()},className:"sample-text",children:[]};n(w)},a=(x,v)=>{const b=Math.sqrt(v.radius),w=Wd(t.current,x,b,b),k={id:Is(),attrs:{name:"label-target","data-item-type":"shape",fill:"#00000",x:w.x,y:w.y,width:b,height:b,sides:v.sides,radius:v.radius,zIndex:0,brightness:0,updatedAt:Date.now()},className:"sample-shape",children:[]};n(k)},l=(x,v)=>{const b=Wd(t.current,x,100,100),w={id:Is(),attrs:{name:"label-target","data-item-type":"icon",width:100,height:100,fill:"#00000",x:b.x,y:b.y,icon:v.icon,brightness:0,zIndex:0,updatedAt:Date.now()},className:"sample-icon",children:[]};n(w)},c=(x,v)=>{const b=Wd(t.current,x,100,100),w=v.name.indexOf("curve")!==-1?v.name.indexOf("one")!==-1?[110,-10]:[80,-10,10,110]:[],k={id:Is(),attrs:{name:"label-target","data-item-type":"line",stroke:"#00000",x:b.x,y:b.y,width:100,height:100,points:[0,0,...w,100,100],arrow:v.name.indexOf("arrow")!==-1,curve:v.name.indexOf("curve")!==-1,zIndex:0,brightness:0,updatedAt:Date.now()},className:"sample-line",children:[]};n(k)},u=(x,v)=>{if(!t.current)return;const{trigger:b,...w}=x;switch(w.id=Is(),b){case uo.INSERT.FRAME:return i(v,w);case uo.INSERT.IMAGE:return s(v,w);case uo.INSERT.TEXT:return o(v,w);case uo.INSERT.SHAPE:return a(v,w);case uo.INSERT.ICON:return l(v,w);case uo.INSERT.LINE:return c(v,w)}},d=x=>{const v=x.getStage();return v?v.getChildren()[0].getChildren(w=>w.attrs.name==="label-target"&&w.attrs["data-item-type"]!=="frame").filter(w=>mB(x,w)):void 0},f=x=>{var k;const v=x.getStage();if(!v)return;const w=v.getChildren()[0].getChildren(E=>E.attrs.name==="label-group").find(E=>{const _=E.findOne("Rect");return _?mB(_,x):!1});return w?(w.add(x),(k=w.getLayer())==null||k.batchDraw(),!0):!1},h=x=>{var b,w;const v=x.getLayer();x.getParent().children=((b=x.getParent().children)==null?void 0:b.filter(k=>k.id()!==x.id()))??x.getParent().children,v&&v.add(x),(w=x.getLayer())==null||w.batchDraw()},m=A.useCallback(x=>{f(x.target)||x.target.getLayer()!==x.target.getParent()&&h(x.target)},[]);return{onDropOnStage:u,checkIsInFrame:f,getItemsInThisFrame:d,onDragMoveFrame:m,onDragEndFrame:x=>{var v;x.evt.preventDefault(),x.evt.stopPropagation(),r(x.target.id(),()=>({...x.target.attrs})),(v=x.target.getLayer())==null||v.batchDraw()},moveToLayer:h}},mB=(t,e)=>{const n=e.position().x,r=e.position().y,i=e.size().width,s=e.size().height,o={x:n,y:r},a={width:i*e.scaleX(),height:s*e.scaleY()};return o.x>=t.x()&&o.x<=t.x()+t.width()&&o.y>=t.y()&&o.y<=t.y()+t.height()||o.x+a.width>=t.x()&&o.x+a.width<=t.x()+t.width()&&o.y+a.height>=t.y()&&o.y+a.height<=t.y()+t.height()||o.x>=t.x()&&o.x<=t.x()+t.width()&&o.y+a.height>=t.y()&&o.y+a.height<=t.y()+t.height()||o.x+a.width>=t.x()&&o.x+a.width<=t.x()+t.width()&&o.y>=t.y()&&o.y<=t.y()+t.height()||o.x+a.width/2>=t.x()&&o.x+a.width/2<=t.x()+t.width()&&o.y+a.height/2>=t.y()&&o.y+a.height/2<=t.y()+t.height()},bDe=({children:t,onSelect:e,stage:{stageRef:n,dragBackgroundOrigin:r}})=>{var y;const{onDropOnStage:i}=Ry(n),[s,o]=A.useState(),{setValue:a}=N2(),l=A.useCallback(()=>{if(!n.current||!n.current.container().parentElement)return;const{width:x,height:v}=n.current.container().parentElement.getBoundingClientRect();n.current.width(x),n.current.height(v),n.current.batchDraw()},[n]);A.useCallback(x=>{x.evt.preventDefault();const v=n.current;if(!v)return;const b=x.evt.deltaY>0?1:-1,w=1.1,k=v.scaleX(),E=v.getPointerPosition();if(!E)return;const _={x:(E.x-v.x())/k,y:(E.y-v.y())/k},I=b>0?k*w:k/w;v.scale({x:I,y:I}),a(Pb,{x:I,y:I});const N={x:E.x-_.x*I,y:E.y-_.y*I};v.position(N),a(ig,N)},[]);const c=A.useCallback(()=>{const x=n.current;x&&(x.scale({x:1,y:1}),x.position({x:0,y:0}),a(ig,{x:0,y:0}),a(Pb,{x:1,y:1}))},[]),u=A.useCallback(()=>{var v;const x=n.current;!x||!x.container().parentElement||!r.current||(x.on("mousemove",b=>{if(b.evt.which!==1)return;const w=x.getPointerPosition();if(!w)return;if(r.current.x===0&&r.current.y===0){r.current=w;return}const k={x:Wn(x.x()+(w.x-r.current.x)),y:Wn(x.y()+(w.y-r.current.y))};x.position(k),a(ig,k),r.current=w}),x.on("mouseup",b=>{var w;r.current={x:0,y:0},(w=n.current)!=null&&w.draggable()||(x.removeEventListener("mousemove"),x.removeEventListener("mouseup"))}),(v=n.current)==null||v.draggable(!0))},[]),d=A.useCallback(x=>{x.target.getType()==="Stage"&&e(x)},[e]),f=A.useCallback(x=>{var E;d(x);const v=x.target.getStage();if(!v)return;const b=v.findOne(".select-box"),w=gB(v,x.evt),k=v.getPointerPosition();if(b.position(w),v.getAllIntersections(k).length||(E=n.current)!=null&&E.draggable()){b.visible(!1);return}b.visible(!0)},[d]),h=x=>{var v;if(x.evt.which===1){const b=x.target.getStage();if(!b)return;const w=b.findOne(".select-box");if(!w.visible())return;const k=gB(b,x.evt),E=w.position(),_=w.size(),I=wDe(E,k,_);w.position({x:I.x,y:I.y}),w.size({width:I.width,height:I.height}),(v=w.getStage())==null||v.batchDraw()}},m=A.useCallback(x=>{var k;const v=x.target.getStage();if(!v)return;const b=v.findOne(".select-box"),w=yB(v,b)?yB(v,b).map(E=>E.attrs["data-item-type"]==="frame"?E.getParent().getChildren()??[]:E).flat().filter(E=>E.className!=="Label"):[];b.visible(!1),b.position({x:0,y:0}),b.size({width:0,height:0}),(k=b.getLayer())==null||k.batchDraw(),w!=null&&w.length&&e(void 0,w)},[e]);return Ii("space",x=>{u()},{keydown:!0,enabled:!((y=n.current)!=null&&y.draggable())},[n.current,u]),Ii("space",x=>{var v,b;(v=n.current)==null||v.draggable(!1),(b=n.current)==null||b.fire("mouseup")},{keyup:!0},[n.current,u]),Ii("ctrl+0",x=>{c()},{},[n.current,c]),A.useEffect(()=>(window.addEventListener("load",l),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)),[l]),A.useEffect(()=>{n.current&&o(n.current.container())},[]),R.jsx(qa.Consumer,{children:({store:x})=>R.jsxs(sue,{ref:n,width:window.innerWidth*.8,height:window.innerHeight*.8,draggable:!1,onMouseDown:f,onMouseMove:h,onMouseUp:m,className:[tr.absolute,tr.top0,tr.left0].join(" "),children:[R.jsxs(Zce,{className:"bg-black",children:[t,R.jsx(l2,{name:"select-box",x:0,y:0,width:0,height:0,fill:"skyblue",opacity:.4,visible:!1})]}),s?R.jsx(vDe,{callback:i,targetDOMElement:s}):null]})})},gB=(t,e)=>{t.setPointersPositions(e);const n=t.getAbsolutePosition(),r=t.getPointerPosition();return r?{x:Wn((r.x-n.x)/t.scaleX()),y:Wn((r.y-n.y)/t.scaleY())}:{x:0,y:0}},yB=(t,e)=>{var i;const n=e.getClientRect({relativeTo:t.getLayer()});return(i=e.getLayer())==null?void 0:i.getChildren(s=>{if(s.name()==="select-box")return!1;const o=s.getClientRect({relativeTo:t.getLayer()});return n.x<=o.x&&n.y<=o.y&&n.x+n.width>=o.x+o.width&&n.y+n.height>=o.y+o.height}).map(s=>s.name()==="label-group"?s.findOne(".label-target")??null:s).filter(Boolean)},wDe=(t,e,n)=>{const r={x:t.x,y:t.y,width:n.width,height:n.height};return r.x=t.x,r.y=t.y,r.width=e.x-t.x,r.height=e.y-t.y,r},SDe="STAGE_LIST",Ta=xy(),$H=Yh({name:SDe,initialState:Ta.setAll(Ta.getInitialState(),[]),reducers:{initialize(t,e){Ta.setAll(t,e.payload)},addItem(t,e){if(Array.isArray(e.payload)){Ta.addMany(t,e.payload);return}Ta.addOne(t,e.payload)},updateItem(t,e){Ta.updateOne(t,{id:e.payload.id,changes:e.payload})},removeItem(t,e){if(Array.isArray(e.payload)){Ta.removeMany(t,e.payload);return}Ta.removeOne(t,e.payload.id)}}}),kDe=$H.reducer,CDe=Ta.getSelectors(t=>t.stageDataList),B1=$H.actions,NH=()=>{const t=yO(),e=eb(CDe.selectAll),n=eb(IH.selectAll),{alterItems:r,clearItems:i}=br(),s=u=>{t(B1.initialize(u));const d=u[0]??null;d&&c(d.id,d.id,d.data)},o=u=>{t(B1.addItem(u))},a=u=>{t(B1.updateItem(u))},l=u=>{t(B1.removeItem(u))},c=(u,d,f)=>{var m;u&&u!==d&&a({id:u,data:n}),i();const h=(m=e.find(y=>y.id===d))==null?void 0:m.data;(f||h)&&r(f??h)};return{stageDataList:e,initializeFileDataList:s,createFileData:o,updateFileData:a,removeFileData:l,changeStageData:c}};function EDe(t,e,n,r){if(t>255||e>255||n>255||r>255)throw"Invalid color component";return(256+t).toString(16).substr(1)+((1<<24)+(e<<16)|n<<8|r).toString(16).substr(1)}const TDe=(t,e)=>{const{emit:n}=yy(),r=document.createElement("canvas"),i=r.getContext("2d");r.width=e.width,r.height=e.height,i.drawImage(e,0,0);const s=i.getImageData(0,0,1,1).data;n(t,{color:EDe(s[0],s[1],s[2],s[3])})},_De={Brighten:ui.Filters.Brighten,Grayscale:ui.Filters.Grayscale},IDe=({data:t,e,onSelect:n})=>{const{attrs:r}=t,i=A.useRef(),[s,o]=A.useState(new Image),a=Oy(),{onDragMoveFrame:l,onDragEndFrame:c,checkIsInFrame:u}=Ry(a.stageRef,a.dragBackgroundOrigin),d=A.useMemo(()=>t.attrs._filters?t.attrs._filters.map(f=>_De[f]):[ui.Filters.Brighten],[t.attrs]);return A.useEffect(()=>{const f=new Image;f.onload=()=>{o(f),r.default&&TDe(Bu.PRODUCT_PREVIEW_LOADED_EVENT,f)},f.crossOrigin="Anonymous";let h;if(r.src.startsWith("find:"),h=r.src,h.startsWith("data:")){ui.Image.fromURL(h,m=>{let y,x;m.width()>m.height()?(y=Wn(512),x=Wn(y*(m.height()/m.width()))):(x=Wn(512),y=Wn(x*(m.width()/m.height()))),m.width(y),m.height(x);const v=m.toDataURL({x:0,y:0,width:y,height:x,pixelRatio:5});f.src=v});return}f.src=h},[r.src]),A.useEffect(()=>{i.current&&(a.setStageRef(i.current.getStage()),i.current.brightness(t.attrs.brightness),u(i.current),i.current.cache())},[s,t]),A.useEffect(()=>{i.current.cache()},[]),R.jsx(p7,{ref:i,image:s,onClick:r.draggable??n,name:"label-target","data-item-type":"image","data-frame-type":"image",id:t.id,x:r.x,y:r.y,width:r.width,height:r.height,scaleX:r.scaleX,scaleY:r.scaleY,fill:r.fill??"transparent",opacity:r.opacity??1,rotation:r.rotation??0,filters:d??[ui.Filters.Brighten],draggable:r.draggable,onDragMove:l,onDragEnd:c})},OH=t=>{const[e,n]=A.useState([]);return{selectedItems:e,setSelectedItems:n,onSelectItem:(s,o)=>{if(t==null){console.error("transformer is not given");return}if(!t.transformerRef.current)return;if(o){t.transformerRef.current.nodes(o),t.setTransformerConfig(t.transformerRef.current),n(o);return}if(!s)return;if(s.target.getType()==="Stage"){t.transformerRef.current.nodes([]),t.setTransformerConfig(t.transformerRef.current),n([]);return}let a=[];const l=s.target.name()==="label-text"?s.target.getParent().getParent().findOne(".label-target"):s.target;s.evt.shiftKey?e.find(c=>c.id()===l.id())?a=e.filter(c=>c.id()!==l.id()):a=[...e,l]:a=[l],t.transformerRef.current.nodes(a),t.setTransformerConfig(t.transformerRef.current),n(a)},clearSelection:()=>{t.transformerRef.current&&(t.transformerRef.current.nodes([]),t.setTransformerConfig(t.transformerRef.current)),n([])}}},z1="tabId",$De=(t,e)=>{const[n,r]=A.useState([]),{createFileData:i,removeFileData:s,changeStageData:o}=NH(),{clearSelection:a}=OH(t),{setValue:l}=N2();return{tabList:n,onClickTab:y=>{var b;const x=y.currentTarget.dataset.fileId,v=(b=n.find(w=>w.active))==null?void 0:b.id;a(),o(v,x),r(w=>w.map(k=>({id:k.id,active:x===k.id,name:k.name,preview:k.preview?k.preview:void 0,parts:k.parts}))),l(z1,{id:x}),e()},onCreateTab:(y,x,v)=>{var k;const b=(v==null?void 0:v.id)??`file-${n.length===0?1:parseInt(n[n.length-1].id.slice(5))+1}`,w=(k=n.find(E=>E.active))==null?void 0:k.id;a(),i(v??{id:b,data:[]}),o(w??b,b),r(E=>[...Object.values(E).map(_=>({..._,active:!1,name:_.name,parts:_.parts})),{id:b,active:!0,preview:y??void 0}]),v||(l(z1,{id:b}),e())},onInitTabs:y=>{r(y)},onDeleteTab:y=>{if(n.length<=1)return;const x=n.find(w=>w.active),v=n.findIndex(w=>w.id===y),b=n[v].id===x.id?n[v===0?v+1:v-1].id:x.id;a(),s(y),o(b,b),r(w=>[...w.filter(k=>k.id!==y).map(k=>({id:k.id,active:k.id===b,name:k.name,preview:k.preview??void 0,parts:k.parts}))]),l(z1,{id:b}),e()},onNavSelect:y=>{const x=n.find(v=>v.active);return x.parts=x.parts.map((v,b)=>({...v,active:b==y})),x.parts.find(v=>v.active)},moveTab:(y,x)=>{var b;const v=(b=n.find(w=>w.active))==null?void 0:b.id;a(),o(v,y,(x==null?void 0:x.data)??void 0),r(w=>w.map(k=>({id:k.id,active:y===k.id,name:k.name,preview:k.preview??void 0,parts:k.parts}))),l(z1,{id:y}),e()}}},NDe={rotateEnabled:!1,enabledAnchors:[]},ODe={rotateEnabled:!1,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"]},RDe={rotateEnabled:!0,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"]},vB={frame:NDe,image:ODe,line:RDe,default:{rotateEnabled:!0,enabledAnchors:["top-left","top-center","top-right","middle-left","middle-right","bottom-left","bottom-center","bottom-right"]}},ADe=()=>{const t=A.useRef(),{updateItem:e}=br();return{transformerRef:t,onTransformEnd:i=>{var s;e(i.target.id(),()=>({...i.target.attrs,updatedAt:Date.now()})),(s=i.target.getStage())==null||s.batchDraw()},setTransformerConfig:i=>{let s="default";i.nodes().length===1&&(s=i.getNode().attrs["data-item-type"]);for(const o in vB[s])i.attrs[o]=vB[s][o];i.update()}}},RH=()=>{const{removeItem:t,createItem:e,updateItem:n}=br(),{setValue:r}=N2();return{pasteItems:v=>{v.forEach(b=>{Object.keys(b.attrs).length!==0&&e({id:Is(),attrs:{...b.attrs},className:b.className,children:b.children})})},selectAll:(v,b)=>{const w=v.stageRef.current.getChildren()[0].getChildren(_=>_.attrs.name==="label-group").map(_=>[..._.children??[]]).flat(),k=v.stageRef.current.getChildren()[0].getChildren(_=>_.attrs.name==="label-target"&&_.attrs["data-item-type"]!=="frame"),E=[...w,...k];b(void 0,E)},copyItems:(v,b,w)=>{const k=v.map(E=>w(E)).sort((E,_)=>E.attrs.zIndex===_.attrs.zIndex?E.attrs.zIndex<0?_.attrs.updatedAt-E.attrs.updatedAt:E.attrs.updatedAt-_.attrs.updatedAt:E.attrs.zIndex-_.attrs.zIndex);b(k)},deleteItems:(v,b,w)=>{var k;b([]),(k=w.current)==null||k.nodes([]),t(v.map(E=>E.id()))},duplicateItems:(v,b)=>{var w;v.map(k=>b(k)).sort((k,E)=>k.attrs.zIndex===E.attrs.zIndex?k.attrs.zIndex<0?E.attrs.updatedAt-k.attrs.updatedAt:k.attrs.updatedAt-E.attrs.updatedAt:k.attrs.zIndex-E.attrs.zIndex).forEach(k=>{e({...k,attrs:{...k.attrs,x:k.attrs.x+v[0].scaleX()*50,y:k.attrs.y+v[0].scaleY()*50}})}),v.length>0&&((w=v[0].getStage())==null||w.batchDraw())},layerUp:v=>{v.forEach(b=>{b.moveUp(),n(b.id(),w=>({...b.attrs,zIndex:1,updatedAt:Date.now()}))})},layerDown:v=>{v.forEach(b=>{b.moveDown(),n(b.id(),w=>({...b.attrs,zIndex:-1,updatedAt:Date.now()}))})},flipHorizontally:v=>{v.forEach(b=>{b.scaleX(-1*b.scaleX()),n(b.id(),w=>({...b.attrs,scaleX:b.scaleX(),updatedAt:Date.now()}))})},flipVertically:v=>{v.forEach(b=>{b.scaleY(-1*b.scaleY()),n(b.id(),w=>({...b.attrs,scaleY:b.scaleY(),updatedAt:Date.now()}))})},zoom:(v,b)=>{const w=v.stageRef.current,k=1.1,E=w.scaleX(),_=w.getPointerPosition();if(!_)return;const I={x:(_.x-w.x())/E,y:(_.y-w.y())/E},N=b>0?E*k:E/k;w.scale({x:N,y:N}),r(Pb,{x:N,y:N});const D={x:_.x-I.x*N,y:_.y-I.y*N};w.position(D),r(ig,D)},resetZoom:v=>{v.stageRef.current.scale({x:1,y:1}),v.stageRef.current.position({x:0,y:0}),r(ig,{x:0,y:0}),r(Pb,{x:1,y:1})},undo:()=>{},redo:()=>{}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PDe=1e-7,DDe=1e-4;class I3{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class O2{refCount(e){return Yi("refCount")}incRef(e){return Yi("incRef")}timerAvailable(){return!0}time(e){return Yi("time")}read(e){return Yi("read")}readSync(e){return Yi("readSync")}readToGPU(e,n){return Yi("readToGPU")}numDataIds(){return Yi("numDataIds")}disposeData(e,n){return Yi("disposeData")}write(e,n,r){return Yi("write")}move(e,n,r,i,s){return Yi("move")}memory(){return Yi("memory")}floatPrecision(){return Yi("floatPrecision")}epsilon(){return this.floatPrecision()===32?PDe:DDe}dispose(){return Yi("dispose")}}function Yi(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AH(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,Aa(t,e,n)}function FDe(t,e){if(t.length!==e.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${t.length}Second array length was ${e.length}`);let n=t.length,r=0;for(;n>0;)r=Math.random()*n|0,n--,Aa(t,n,r),Aa(e,n,r)}function gc(t,e,n){return Math.max(t,Math.min(e,n))}function R2(t){return t%2===0?t:t+1}function Aa(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function PH(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function LDe(t,e){const n=Math.random();return e*n+(1-n)*t}function MDe(t,e){let n=0;for(let r=0;r<t.length;r++){const i=Number(t[r])-Number(e[r]);n+=i*i}return n}function B(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function wr(t,e,n=""){B(Mt(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function vd(t){B(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function Ja(t,e=[],n=!1){if(e==null&&(e=[]),Array.isArray(t)||Rr(t)&&!n)for(let r=0;r<t.length;++r)Ja(t[r],e,n);else e.push(t);return e}function le(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function BDe(t){return t.length===0}function Mt(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Wu(t){return t%1===0}function zDe(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;{const e=Math.exp(2*t);return(e-1)/(e+1)}}function Db(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function jDe(t){const e=new Uint32Array(t);for(let n=0;n<t;++n)e[n]=n;return AH(e),e}function Tu(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function O$(t,e=i=>0,n,r=setTimeout){return new Promise((i,s)=>{let o=0;const a=()=>{if(t()){i();return}o++;const l=e(o);if(n!=null&&o>=n){s();return}r(a,l)};a()})}function $3(t,e){let n=1,r=-1;for(let s=0;s<t.length;++s)if(t[s]>=0)n*=t[s];else if(t[s]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${s}`);r=s}else if(t[s]<0)throw Error(`Shapes can not be < 0. Found ${t[s]} at dim ${s}`);if(r===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const i=t.slice();return i[r]=e/n,i}function wt(t,e){const n=e.length;return t=t==null?e.map((r,i)=>i):[].concat(t),B(t.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),B(t.every(r=>Wu(r)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(r=>r<0?n+r:r)}function dl(t,e){const n=[],r=[],i=e!=null&&Array.isArray(e)&&e.length===0,s=e==null||i?null:wt(e,t).sort();let o=0;for(let a=0;a<t.length;++a){if(s!=null){if(s[o]===a&&t[a]!==1)throw new Error(`Can't squeeze axis ${a} since its dim '${t[a]}' is not 1`);(s[o]==null||s[o]>a)&&t[a]===1&&(n.push(t[a]),r.push(a)),s[o]<=a&&o++}t[a]!==1&&(n.push(t[a]),r.push(a))}return{newShape:n,keptDims:r}}function Kn(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else throw new Error(`Unknown data type ${t}`);return n}function Gn(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function DH(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}function FH(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function N3(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function Rr(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}function Fb(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function LH(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function Ho(t){return typeof t=="string"||t instanceof String}function MH(t){return typeof t=="boolean"}function BH(t){return typeof t=="number"}function cp(t){return Array.isArray(t)?cp(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":BH(t)?"float32":Ho(t)?"string":MH(t)?"bool":"float32"}function yc(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Lb(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function qe(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function zH(t,e,n,r=!1){const i=new Array;if(e.length===1){const s=e[0]*(r?2:1);for(let o=0;o<s;o++)i[o]=n[t+o]}else{const s=e[0],o=e.slice(1),a=o.reduce((l,c)=>l*c)*(r?2:1);for(let l=0;l<s;l++)i[l]=zH(t+l*a,o,n,r)}return i}function os(t,e,n=!1){if(t.length===0)return e[0];const r=t.reduce((i,s)=>i*s)*(n?2:1);if(r===0)return[];if(r!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return zH(0,t,e,n)}function A2(t,e){const n=vr(t,e);for(let r=0;r<n.length;r++)n[r]=1;return n}function vr(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function O3(t,e){const n=t.reduce((r,i)=>r*i,1);if(e==null||e==="float32")return os(t,new Float32Array(n));if(e==="int32")return os(t,new Int32Array(n));if(e==="bool")return os(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function R3(t){t.forEach(e=>{B(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function bo(t,e,n){if(e===0)return 0;if(e===1)return t[0];let r=t[t.length-1];for(let i=0;i<t.length-1;++i)r+=n[i]*t[i];return r}function xd(t,e,n){if(e===0)return[];if(e===1)return[t];const r=new Array(e);for(let i=0;i<r.length-1;++i)r[i]=Math.floor(t/n[i]),t-=r[i]*n[i];return r[r.length-1]=t,r}function Gu(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xB="tfjsflags";class jH{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=VDe,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(ie().getBool("IS_TEST")||ie().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){const i=this.urlFlags[e];ie().getBool("IS_TEST")||ie().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${i}.`),this.set(e,i)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(Gu(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);xB in e&&e[xB].split(",").forEach(r=>{const[i,s]=r.split(":");this.urlFlags[i]=WDe(i,s)})}}function VDe(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(UDe(e,r[0],r[1]),r.join("="))),e}function UDe(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function WDe(t,e){if(e=e.toLowerCase(),e==="true"||e==="false")return e==="true";if(`${+e}`===e)return+e;throw new Error(`Could not parse value flag value ${e} for flag ${t}.`)}function ie(){return A3}let A3=null;function GDe(t){A3=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let UT;function VH(){if(UT==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");UT=t}return UT}function HDe(){const t=VH();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function P3(t,e){const n=HDe();if(n.has(t))return n.get(t);{const r=e();return n.set(t,r),n.get(t)}}const P2="Abs",Ay="Acos",Py="Acosh",up="Add",D2="AddN",F2="All",L2="Any",M2="ArgMax",B2="ArgMin",Dy="Asin",Fy="Asinh",Ly="Atan",My="Atanh",By="Atan2",z2="AvgPool",D3="AvgPoolGrad",j2="AvgPool3D",F3="AvgPool3DGrad",V2="BatchMatMul",U2="BatchToSpaceND",W2="Bincount",qDe="BroadcastTo",G2="BroadcastArgs",zy="Cast",jy="Ceil",Vy="ClipByValue",H2="Complex",q2="ComplexAbs",K2="Concat",X2="Conv2D",Q2="Conv2DBackpropFilter",Y2="Conv2DBackpropInput",J2="Conv3D",L3="Conv3DBackpropFilterV2",Z2="Conv3DBackpropInputV2",Uy="Cos",Wy="Cosh",eS="Cumprod",tS="Cumsum",nS="CropAndResize",rS="DenseBincount",iS="DepthToSpace",sS="DepthwiseConv2dNative",oS="DepthwiseConv2dNativeBackpropFilter",aS="DepthwiseConv2dNativeBackpropInput",lS="Diag",cS="Dilation2D",R$="Dilation2DBackpropInput",A$="Dilation2DBackpropFilter",Gy="RealDiv",uS="Einsum",Hy="Elu",M3="EluGrad",qy="Erf",Ky="Equal",Xy="Exp",dS="ExpandDims",Qy="Expm1",fS="FFT",hS="Fill",pS="FlipLeftRight",Yy="Floor",Jy="FloorDiv",mS="FusedBatchNorm",gS="GatherV2",yS="GatherNd",Zy="Greater",ev="GreaterEqual",tv="Identity",vS="IFFT",xS="Imag",nv="IsFinite",rv="IsInf",iv="IsNan",bS="LeakyRelu",sv="Less",ov="LessEqual",wS="LinSpace",av="Log",lv="Log1p",cv="LogicalAnd",uv="LogicalNot",dv="LogicalOr",KDe="LogicalXor",XDe="LogSoftmax",QDe="LowerBound",SS="LRN",B3="LRNGrad",kS="Max",fv="Maximum",CS="MaxPool",z3="MaxPoolGrad",ES="MaxPool3D",j3="MaxPool3DGrad",TS="MaxPoolWithArgmax",_S="Mean",IS="Min",hv="Minimum",$S="MirrorPad",pv="Mod",NS="Multinomial",mv="Multiply",OS="Neg",gv="NotEqual",RS="NonMaxSuppressionV3",AS="NonMaxSuppressionV4",PS="NonMaxSuppressionV5",DS="OnesLike",FS="OneHot",LS="Pack",MS="PadV2",YDe="Pool",yv="Pow",BS="Prelu",zS="Prod",jS="RaggedGather",VS="RaggedTensorToTensor",US="Range",WS="Real",vv="Reciprocal",xv="Relu",GS="Reshape",HS="ResizeNearestNeighbor",V3="ResizeNearestNeighborGrad",qS="ResizeBilinear",U3="ResizeBilinearGrad",bv="Relu6",KS="Reverse",wv="Round",Sv="Rsqrt",XS="ScatterNd",QS="SearchSorted",YS="Select",kv="Selu",JS="Slice",Cv="Sin",Ev="Sinh",Tv="Sign",_v="Sigmoid",Iv="Softplus",$v="Sqrt",ZS="Sum",ek="SpaceToBatchND",tk="SplitV",nk="Softmax",rk="SparseFillEmptyRows",ik="SparseReshape",sk="SparseSegmentMean",ok="SparseSegmentSum",ak="SparseToDense",Nv="SquaredDifference",W3="Square",lk="StridedSlice",ck="StringNGrams",uk="StringSplit",dk="StringToHashBucketFast",Ov="Sub",Rv="Tan",Av="Tanh",Pv="Tile",fk="TopK",hk="Transform",Yf="Transpose",pk="Unique",mk="Unpack",gk="UnsortedSegmentSum",JDe="UpperBound",yk="ZerosLike",Dv="Step",Mb="FromPixels",vk="RotateWithOffset",jg="_FusedMatMul",Vg="FusedConv2D",Ug="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function es(...t){ie().getBool("IS_TEST")||ie().getBool("PROD")||console.warn(...t)}function ZDe(...t){ie().getBool("IS_TEST")||ie().getBool("PROD")||console.log(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eh=P3("kernelRegistry",()=>new Map),Wg=P3("gradRegistry",()=>new Map);function Bb(t,e){const n=G3(t,e);return Eh.get(n)}function P$(t){return Wg.get(t)}function zb(t){const e=Eh.entries(),n=[];for(;;){const{done:r,value:i}=e.next();if(r)break;const[s,o]=i,[a]=s.split("_");a===t&&n.push(o)}return n}function xk(t){const{kernelName:e,backendName:n}=t,r=G3(e,n);Eh.has(r)&&es(`The kernel '${e}' for backend '${n}' is already registered`),Eh.set(r,t)}function eFe(t){const{kernelName:e}=t;Wg.has(e)&&ie().getBool("DEBUG")&&es(`Overriding the gradient for '${e}'`),Wg.set(e,t)}function tFe(t,e){const n=G3(t,e);if(!Eh.has(n))throw new Error(`The kernel '${t}' for backend '${e}' is not registered`);Eh.delete(n)}function nFe(t){if(!Wg.has(t))throw new Error(`The gradient '${t}' for backend is not registered`);Wg.delete(t)}function rFe(t,e){zb(t).forEach(r=>{const i=Object.assign({},r,{backendName:e});xk(i)})}function G3(t,e){return`${e}_${t}`}var UH=Jt,Ps=null;try{Ps=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Jt(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}Jt.prototype.__isLong__;Object.defineProperty(Jt.prototype,"__isLong__",{value:!0});function Ki(t){return(t&&t.__isLong__)===!0}Jt.isLong=Ki;var bB={},wB={};function bd(t,e){var n,r,i;return e?(t>>>=0,(i=0<=t&&t<256)&&(r=wB[t],r)?r:(n=Zt(t,(t|0)<0?-1:0,!0),i&&(wB[t]=n),n)):(t|=0,(i=-128<=t&&t<128)&&(r=bB[t],r)?r:(n=Zt(t,t<0?-1:0,!1),i&&(bB[t]=n),n))}Jt.fromInt=bd;function Ds(t,e){if(isNaN(t))return e?vu:Fs;if(e){if(t<0)return vu;if(t>=WH)return qH}else{if(t<=-kB)return Fi;if(t+1>=kB)return HH}return t<0?Ds(-t,e).neg():Zt(t%Th|0,t/Th|0,e)}Jt.fromNumber=Ds;function Zt(t,e,n){return new Jt(t,e,n)}Jt.fromBits=Zt;var jb=Math.pow;function H3(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return Fs;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return H3(t.substring(1),e,n).neg();for(var i=Ds(jb(n,8)),s=Fs,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),l=parseInt(t.substring(o,o+a),n);if(a<8){var c=Ds(jb(n,a));s=s.mul(c).add(Ds(l))}else s=s.mul(i),s=s.add(Ds(l))}return s.unsigned=e,s}Jt.fromString=H3;function Io(t,e){return typeof t=="number"?Ds(t,e):typeof t=="string"?H3(t,e):Zt(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Jt.fromValue=Io;var SB=65536,iFe=1<<24,Th=SB*SB,WH=Th*Th,kB=WH/2,CB=bd(iFe),Fs=bd(0);Jt.ZERO=Fs;var vu=bd(0,!0);Jt.UZERO=vu;var Df=bd(1);Jt.ONE=Df;var GH=bd(1,!0);Jt.UONE=GH;var D$=bd(-1);Jt.NEG_ONE=D$;var HH=Zt(-1,2147483647,!1);Jt.MAX_VALUE=HH;var qH=Zt(-1,-1,!0);Jt.MAX_UNSIGNED_VALUE=qH;var Fi=Zt(0,-2147483648,!1);Jt.MIN_VALUE=Fi;var Ee=Jt.prototype;Ee.toInt=function(){return this.unsigned?this.low>>>0:this.low};Ee.toNumber=function(){return this.unsigned?(this.high>>>0)*Th+(this.low>>>0):this.high*Th+(this.low>>>0)};Ee.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Fi)){var n=Ds(e),r=this.div(n),i=r.mul(n).sub(this);return r.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var s=Ds(jb(e,6),this.unsigned),o=this,a="";;){var l=o.div(s),c=o.sub(l.mul(s)).toInt()>>>0,u=c.toString(e);if(o=l,o.isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}};Ee.getHighBits=function(){return this.high};Ee.getHighBitsUnsigned=function(){return this.high>>>0};Ee.getLowBits=function(){return this.low};Ee.getLowBitsUnsigned=function(){return this.low>>>0};Ee.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Fi)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1};Ee.isZero=function(){return this.high===0&&this.low===0};Ee.eqz=Ee.isZero;Ee.isNegative=function(){return!this.unsigned&&this.high<0};Ee.isPositive=function(){return this.unsigned||this.high>=0};Ee.isOdd=function(){return(this.low&1)===1};Ee.isEven=function(){return(this.low&1)===0};Ee.equals=function(e){return Ki(e)||(e=Io(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};Ee.eq=Ee.equals;Ee.notEquals=function(e){return!this.eq(e)};Ee.neq=Ee.notEquals;Ee.ne=Ee.notEquals;Ee.lessThan=function(e){return this.comp(e)<0};Ee.lt=Ee.lessThan;Ee.lessThanOrEqual=function(e){return this.comp(e)<=0};Ee.lte=Ee.lessThanOrEqual;Ee.le=Ee.lessThanOrEqual;Ee.greaterThan=function(e){return this.comp(e)>0};Ee.gt=Ee.greaterThan;Ee.greaterThanOrEqual=function(e){return this.comp(e)>=0};Ee.gte=Ee.greaterThanOrEqual;Ee.ge=Ee.greaterThanOrEqual;Ee.compare=function(e){if(Ki(e)||(e=Io(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};Ee.comp=Ee.compare;Ee.negate=function(){return!this.unsigned&&this.eq(Fi)?Fi:this.not().add(Df)};Ee.neg=Ee.negate;Ee.add=function(e){Ki(e)||(e=Io(e));var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,s=this.low&65535,o=e.high>>>16,a=e.high&65535,l=e.low>>>16,c=e.low&65535,u=0,d=0,f=0,h=0;return h+=s+c,f+=h>>>16,h&=65535,f+=i+l,d+=f>>>16,f&=65535,d+=r+a,u+=d>>>16,d&=65535,u+=n+o,u&=65535,Zt(f<<16|h,u<<16|d,this.unsigned)};Ee.subtract=function(e){return Ki(e)||(e=Io(e)),this.add(e.neg())};Ee.sub=Ee.subtract;Ee.multiply=function(e){if(this.isZero())return Fs;if(Ki(e)||(e=Io(e)),Ps){var n=Ps.mul(this.low,this.high,e.low,e.high);return Zt(n,Ps.get_high(),this.unsigned)}if(e.isZero())return Fs;if(this.eq(Fi))return e.isOdd()?Fi:Fs;if(e.eq(Fi))return this.isOdd()?Fi:Fs;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(CB)&&e.lt(CB))return Ds(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,s=this.low>>>16,o=this.low&65535,a=e.high>>>16,l=e.high&65535,c=e.low>>>16,u=e.low&65535,d=0,f=0,h=0,m=0;return m+=o*u,h+=m>>>16,m&=65535,h+=s*u,f+=h>>>16,h&=65535,h+=o*c,f+=h>>>16,h&=65535,f+=i*u,d+=f>>>16,f&=65535,f+=s*c,d+=f>>>16,f&=65535,f+=o*l,d+=f>>>16,f&=65535,d+=r*u+i*c+s*l+o*a,d&=65535,Zt(h<<16|m,d<<16|f,this.unsigned)};Ee.mul=Ee.multiply;Ee.divide=function(e){if(Ki(e)||(e=Io(e)),e.isZero())throw Error("division by zero");if(Ps){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?Ps.div_u:Ps.div_s)(this.low,this.high,e.low,e.high);return Zt(n,Ps.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?vu:Fs;var r,i,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return vu;if(e.gt(this.shru(1)))return GH;s=vu}else{if(this.eq(Fi)){if(e.eq(Df)||e.eq(D$))return Fi;if(e.eq(Fi))return Df;var o=this.shr(1);return r=o.div(e).shl(1),r.eq(Fs)?e.isNegative()?Df:D$:(i=this.sub(e.mul(r)),s=r.add(i.div(e)),s)}else if(e.eq(Fi))return this.unsigned?vu:Fs;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=Fs}for(i=this;i.gte(e);){r=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),l=a<=48?1:jb(2,a-48),c=Ds(r),u=c.mul(e);u.isNegative()||u.gt(i);)r-=l,c=Ds(r,this.unsigned),u=c.mul(e);c.isZero()&&(c=Df),s=s.add(c),i=i.sub(u)}return s};Ee.div=Ee.divide;Ee.modulo=function(e){if(Ki(e)||(e=Io(e)),Ps){var n=(this.unsigned?Ps.rem_u:Ps.rem_s)(this.low,this.high,e.low,e.high);return Zt(n,Ps.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};Ee.mod=Ee.modulo;Ee.rem=Ee.modulo;Ee.not=function(){return Zt(~this.low,~this.high,this.unsigned)};Ee.and=function(e){return Ki(e)||(e=Io(e)),Zt(this.low&e.low,this.high&e.high,this.unsigned)};Ee.or=function(e){return Ki(e)||(e=Io(e)),Zt(this.low|e.low,this.high|e.high,this.unsigned)};Ee.xor=function(e){return Ki(e)||(e=Io(e)),Zt(this.low^e.low,this.high^e.high,this.unsigned)};Ee.shiftLeft=function(e){return Ki(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Zt(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Zt(0,this.low<<e-32,this.unsigned)};Ee.shl=Ee.shiftLeft;Ee.shiftRight=function(e){return Ki(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Zt(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Zt(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};Ee.shr=Ee.shiftRight;Ee.shiftRightUnsigned=function(e){if(Ki(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var r=this.low;return Zt(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?Zt(n,0,this.unsigned):Zt(n>>>e-32,0,this.unsigned)};Ee.shru=Ee.shiftRightUnsigned;Ee.shr_u=Ee.shiftRightUnsigned;Ee.toSigned=function(){return this.unsigned?Zt(this.low,this.high,!1):this};Ee.toUnsigned=function(){return this.unsigned?this:Zt(this.low,this.high,!0)};Ee.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};Ee.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};Ee.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};Jt.fromBytes=function(e,n,r){return r?Jt.fromBytesLE(e,n):Jt.fromBytesBE(e,n)};Jt.fromBytesLE=function(e,n){return new Jt(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};Jt.fromBytesBE=function(e,n){return new Jt(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const KH=nl(UH),sFe=D8({__proto__:null,default:KH},[UH]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const du=KH||sFe;function Fv(t){return du.fromString(t,!0,16)}const XH=Fv("c3a5c85c97cb3127"),ou=Fv("b492b66fbe98f273"),Jr=Fv("9ae16a3b2f90404f");function F$(t){return t.xor(t.shru(47))}function QH(t,e,n){const r=t.slice(e,e+n);return du.fromBytes(Array.from(r),!0,!0)}function jt(t,e){return QH(t,e,8)}function EB(t,e){return QH(t,e,4)}function rr(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function sc(t,e,n=Fv("9ddfea08eb382d69")){let r=t.xor(e).mul(n);r=r.xor(r.shru(47));let i=e.xor(r).mul(n);return i=i.xor(i.shru(47)),i=i.mul(n),i}function oFe(t,e,n,r,i,s){i=i.add(t),s=rr(s.add(i).add(r),21);const o=i;return i=i.add(e),i=i.add(n),s=s.add(rr(i,44)),[i.add(r),s.add(o)]}function j1(t,e,n,r){return oFe(jt(t,e),jt(t,e+8),jt(t,e+16),jt(t,e+24),n,r)}function aFe(t,e=t.length){if(e>=8){const n=Jr.add(e*2),r=jt(t,0).add(Jr),i=jt(t,e-8),s=rr(i,37).mul(n).add(r),o=rr(r,25).add(i).mul(n);return sc(s,o,n)}if(e>=4){const n=Jr.add(e*2),r=EB(t,0);return sc(r.shl(3).add(e),EB(t,e-4),n)}if(e>0){const n=t[0],r=t[e>>1],i=t[e-1],s=n+(r<<8),o=e+(i<<2);return F$(Jr.mul(s).xor(XH.mul(o))).mul(Jr)}return Jr}function lFe(t,e=t.length){const n=Jr.add(e*2),r=jt(t,0).mul(ou),i=jt(t,8),s=jt(t,e-8).mul(n),o=jt(t,e-16).mul(Jr);return sc(rr(r.add(i),43).add(rr(s,30)).add(o),r.add(rr(i.add(Jr),18)).add(s),n)}function cFe(t,e=t.length){const n=Jr.add(e*2),r=jt(t,0).mul(Jr),i=jt(t,8),s=jt(t,e-8).mul(n),o=jt(t,e-16).mul(Jr),a=rr(r.add(i),43).add(rr(s,30)).add(o),l=sc(a,r.add(rr(i.add(Jr),18)).add(s),n),c=jt(t,16).mul(n),u=jt(t,24),d=a.add(jt(t,e-32)).mul(n),f=l.add(jt(t,e-24)).mul(n);return sc(rr(c.add(u),43).add(rr(d,30)).add(f),c.add(rr(u.add(r),18)).add(d),n)}function YH(t,e=t.length){const n=du.fromNumber(81,!0);if(e<=32)return e<=16?aFe(t,e):lFe(t,e);if(e<=64)return cFe(t,e);let r=n,i=n.mul(ou).add(113),s=F$(i.mul(Jr).add(113)).mul(Jr),o=[du.UZERO,du.UZERO],a=[du.UZERO,du.UZERO];r=r.mul(Jr).add(jt(t,0));let l=0;const c=(e-1>>6)*64,u=c+(e-1&63)-63;do r=rr(r.add(i).add(o[0]).add(jt(t,l+8)),37).mul(ou),i=rr(i.add(o[1]).add(jt(t,l+48)),42).mul(ou),r=r.xor(a[1]),i=i.add(o[0]).add(jt(t,l+40)),s=rr(s.add(a[0]),33).mul(ou),o=j1(t,l,o[1].mul(ou),r.add(a[0])),a=j1(t,l+32,s.add(a[1]),i.add(jt(t,l+16))),[s,r]=[r,s],l+=64;while(l!==c);const d=ou.add(s.and(255).shl(1));return l=u,a[0]=a[0].add(e-1&63),o[0]=o[0].add(a[0]),a[0]=a[0].add(o[0]),r=rr(r.add(i).add(o[0]).add(jt(t,l+8)),37).mul(d),i=rr(i.add(o[1]).add(jt(t,l+48)),42).mul(d),r=r.xor(a[1].mul(9)),i=i.add(o[0].mul(9).add(jt(t,l+40))),s=rr(s.add(a[0]),33).mul(d),o=j1(t,l,o[1].mul(d),r.add(a[0])),a=j1(t,l+32,s.add(a[1]),i.add(jt(t,l+16))),[s,r]=[r,s],sc(sc(o[0],a[0],d).add(F$(i).mul(XH)).add(s),sc(o[1],a[1],d).add(r),d)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fl(t,e){return e==="string"?na(t):Oc([t],e)}function uFe(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function Oc(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=Ja(t)),ie().getBool("DEBUG")&&DH(t,e),uFe(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let r=0;r<n.length;++r)Math.round(t[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${e}`)}function Oi(){return ie().platform.now()}function dFe(t,e){return ie().platform.fetch(t,e)}function na(t,e="utf-8"){return e=e||"utf-8",ie().platform.encode(t,e)}function Za(t,e="utf-8"){return e=e||"utf-8",ie().platform.decode(t,e)}const fFe=Object.freeze(Object.defineProperty({__proto__:null,arraysEqual:Mt,assert:B,assertNonNegativeIntegerDimensions:R3,assertNonNull:vd,assertShapesMatch:wr,bytesFromStringArray:LH,bytesPerElement:Fb,checkConversionForErrors:DH,clamp:gc,computeStrides:qe,createScalarValue:fl,createShuffledIndices:jDe,decodeString:Za,distSquared:MDe,encodeString:na,fetch:dFe,fingerPrint64:YH,flatten:Ja,getArrayFromDType:Gn,getTypedArrayFromDType:Kn,hasEncodingLoss:N3,hexToLong:Fv,indexToLoc:xd,inferDtype:cp,inferFromImplicitShape:$3,isBoolean:MH,isFunction:yc,isInt:Wu,isNumber:BH,isPromise:Gu,isScalarShape:BDe,isString:Ho,isTypedArray:Rr,isValidDtype:FH,locToIndex:bo,makeOnesTypedArray:A2,makeZerosNestedTypedArray:O3,makeZerosTypedArray:vr,nearestDivisor:Lb,nearestLargerEven:R2,now:Oi,parseAxisParam:wt,randUniform:LDe,repeatedTry:O$,rightPad:Tu,shuffle:AH,shuffleCombo:FDe,sizeFromShape:le,sizeToSquarishShape:Db,squeezeShape:dl,sum:PH,swap:Aa,tanh:zDe,toNestedArray:os,toTypedArray:Oc},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hFe{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new mFe)}profileKernel(e,n,r){let i;const s=()=>{i=r()};let o;const a=Oi();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(s);else{s();for(const c of i)c.dataSync();o=Promise.resolve({kernelMs:Oi()-a})}if(ie().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let c=0;c<i.length;c++){const u=i[c];u.data().then(d=>{pFe(d,u.dtype,e)})}return{kernelName:e,outputs:i,inputs:n,timeMs:o.then(c=>c.kernelMs),extraInfo:o.then(c=>c.getExtraProfileInfo!=null?c.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:r,timeMs:i,inputs:s,extraInfo:o}=e;r.forEach(a=>{Promise.all([a.data(),i,o]).then(l=>{this.logger.logKernelProfile(n,a,l[0],l[1],s,l[2])})})}}function pFe(t,e,n){if(e!=="float32")return!1;for(let r=0;r<t.length;r++){const i=t[r];if(isNaN(i)||!isFinite(i))return console.warn(`Found ${i} in the result of '${n}'`),!0}return!1}let mFe=class{logKernelProfile(e,n,r,i,s,o){const a=typeof i=="number"?Tu(`${i}ms`,9):i.error,l=Tu(e,25),c=n.rank,u=n.size,d=Tu(n.shape.toString(),14);let f="";for(const h in s){const m=s[h];if(m!=null){const y=m.shape||n.shape,x=y.length;f+=`${h}: ${x}D ${x>0?y:""} `}}console.log(`%c${l}	%c${a}	%c${c}D ${d}	%c${u}	%c${f}	%c${o}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gFe(t,e,n){const r={},i={};for(let l=0;l<e.length;l++)r[e[l].id]=!0;for(let l=0;l<t.length;l++){const c=t[l],u=c.inputs;for(const d in u){const f=u[d];let h=!1;for(let m=0;m<e.length;m++)if(r[f.id]){c.outputs.forEach(y=>r[y.id]=!0),h=!0,i[c.id]=!0;break}if(h)break}}const s={};s[n.id]=!0;const o={};for(let l=t.length-1;l>=0;l--){const c=t[l],u=c.inputs;for(let d=0;d<c.outputs.length;d++)if(s[c.outputs[d].id]){for(const f in u)s[u[f].id]=!0,o[c.id]=!0;break}}const a=[];for(let l=0;l<t.length;l++){const c=t[l];if(i[c.id]&&o[c.id]){const u={};for(const f in c.inputs){const h=c.inputs[f];r[h.id]&&(u[f]=h)}const d=Object.assign({},c);d.inputs=u,d.outputs=c.outputs,a.push(d)}}return a}function yFe(t,e,n,r){for(let i=e.length-1;i>=0;i--){const s=e[i],o=[];if(s.outputs.forEach(l=>{const c=t[l.id];c!=null?o.push(c):o.push(null)}),s.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${s.kernelName}.`);const a=s.gradient(o);for(const l in s.inputs){if(!(l in a))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(a)}.`);const c=n(()=>a[l]());if(c.dtype!=="float32")throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${c.dtype}'`);const u=s.inputs[l];if(!Mt(c.shape,u.shape))throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input '${l}' has shape '${c.shape}', which does not match the shape of the input '${u.shape}'`);if(t[u.id]==null)t[u.id]=c;else{const d=t[u.id];t[u.id]=r(d,c),d.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TB=20,dm=3,WT=7;function vFe(t,e,n,r){const i=qe(e),s=xFe(t,e,n,i),o=e.length,a=Ex(t,e,n,i,s),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${o}`),l.push(`  shape: [${e}]`),l.push("  values:")),l.push(a.map(c=>"    "+c).join(`
`)),l.join(`
`)}function xFe(t,e,n,r){const i=le(e),s=r[r.length-1],o=new Array(s).fill(0),a=e.length,l=n==="complex64"?Nm(t):t;if(a>1)for(let c=0;c<i/s;c++){const u=c*s;for(let d=0;d<s;d++)o[d]=Math.max(o[d],$m(l[u+d],0,n).length)}return o}function $m(t,e,n){let r;return Array.isArray(t)?r=`${parseFloat(t[0].toFixed(WT))} + ${parseFloat(t[1].toFixed(WT))}j`:Ho(t)?r=`'${t}'`:n==="bool"?r=JH(t):r=parseFloat(t.toFixed(WT)).toString(),Tu(r,e)}function JH(t){return t===0?"false":"true"}function Ex(t,e,n,r,i,s=!0){const o=n==="complex64"?2:1,a=e[0],l=e.length;if(l===0){if(n==="complex64"){const y=Nm(t);return[$m(y[0],0,n)]}return n==="bool"?[JH(t[0])]:[t[0].toString()]}if(l===1){if(a>TB){const x=dm*o;let v=Array.from(t.slice(0,x)),b=Array.from(t.slice((a-dm)*o,a*o));return n==="complex64"&&(v=Nm(v),b=Nm(b)),["["+v.map((w,k)=>$m(w,i[k],n)).join(", ")+", ..., "+b.map((w,k)=>$m(w,i[a-dm+k],n)).join(", ")+"]"]}return["["+(n==="complex64"?Nm(t):Array.from(t)).map((x,v)=>$m(x,i[v],n)).join(", ")+"]"]}const c=e.slice(1),u=r.slice(1),d=r[0]*o,f=[];if(a>TB){for(let y=0;y<dm;y++){const x=y*d,v=x+d;f.push(...Ex(t.slice(x,v),c,n,u,i,!1))}f.push("...");for(let y=a-dm;y<a;y++){const x=y*d,v=x+d;f.push(...Ex(t.slice(x,v),c,n,u,i,y===a-1))}}else for(let y=0;y<a;y++){const x=y*d,v=x+d;f.push(...Ex(t.slice(x,v),c,n,u,i,y===a-1))}const h=l===2?",":"";f[0]="["+f[0]+h;for(let y=1;y<f.length-1;y++)f[y]=" "+f[y]+h;let m=`,
`;for(let y=2;y<l;y++)m+=`
`;return f[f.length-1]=" "+f[f.length-1]+"]"+(s?"":m),f}function Nm(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qn{constructor(e,n,r){if(this.dtype=n,this.shape=e.slice(),this.size=le(e),r!=null){const i=r.length;B(i===this.size,()=>`Length of values '${i}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Gn(n,this.size),this.strides=qe(e)}set(e,...n){n.length===0&&(n=[0]),B(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const i of e){if(i<0||i>=this.shape[n]){const s=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(s)}n++}let r=e[e.length-1];for(let i=0;i<e.length-1;++i)r+=this.strides[i]*e[i];return this.values[r]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return fo().makeTensor(this.values,this.shape,this.dtype)}}let fo=null,mf=null;function bFe(t){fo=t}function wFe(t){mf=t}class gn{constructor(e,n,r,i){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=le(e),this.strides=qe(e),this.dataId=r,this.id=i,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return mf.buffer(this.shape,this.dtype,e)}bufferSync(){return mf.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return os(this.shape,e,this.dtype==="complex64")}arraySync(){return os(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=fo().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(r=>Za(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),fo().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=fo().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>Za(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await fo().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(fo().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return mf.print(this,e)}clone(){return this.throwIfDisposed(),mf.clone(this)}toString(e=!1){const n=this.dataSync();return vFe(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),mf.cast(this,e)}variable(e=!0,n,r){return this.throwIfDisposed(),fo().makeVariable(this,e,n,r)}}Object.defineProperty(gn,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function SFe(){return P3("Tensor",()=>gn)}SFe();class Gg extends gn{constructor(e,n,r,i){super(e.shape,e.dtype,e.dataId,i),this.trainable=n,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Mt(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);fo().disposeTensor(this),this.dataId=e.dataId,fo().incRef(this,null)}dispose(){fo().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(Gg,Symbol.hasInstance,{value:t=>t instanceof gn&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var L$;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(L$||(L$={}));var M$;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(M$||(M$={}));var B$;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(B$||(B$={}));var z$;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(z$||(z$={}));var j$;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(j$||(j$={}));const kFe={float32:z$,int32:M$,bool:B$,complex64:j$};function mi(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return kFe[t][e]}function bk(t){return mi(t,"int32")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yn(t,e){if(t.dtype===e.dtype)return[t,e];const n=mi(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function ZH(t,e){B(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function CFe(t,e){return e.some(n=>n.id===t.id)}function q3(t){const e=[];return eq(t,e,new Set),e}function eq(t,e,n){if(t==null)return;if(t instanceof gn){e.push(t);return}if(!EFe(t))return;const r=t;for(const i in r){const s=r[i];n.has(s)||(n.add(s),eq(s,e,n))}}function EFe(t){return Array.isArray(t)||typeof t=="object"}const TFe=Object.freeze(Object.defineProperty({__proto__:null,assertTypesMatch:ZH,getTensorsInContainer:q3,isTensorInList:CFe,makeTypesMatch:yn},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GT(t){return t.kernelName!=null}class _B{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class _h{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new _B}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,r=1){return e in this.registryFactory?(es(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:r},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(e);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new hFe(this.backendInstance),!0}setupRegisteredKernels(){zb(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){zb(e).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof O2)&&typeof r.then=="function"){const i=++this.pendingBackendInitId,s=r.then(o=>i<this.pendingBackendInitId?!1:(this.registry[e]=o,this.pendingBackendInit=null,!0)).catch(o=>(i<this.pendingBackendInitId||(this.pendingBackendInit=null,es(`Initialization of backend ${e} failed`),es(o.stack||o.message)),!1));return this.pendingBackendInit=s,{success:s,asyncInit:!0}}else return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(r){return es(`Initialization of backend ${e} failed`),es(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n],{success:i,asyncInit:s}=this.initializeBackend(r);if(s||i)return{name:r,asyncInit:s}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const r=this.state.tensorInfo.get(n),i=r.backend,s=this.readSync(n),o=i.refCount(n);i.disposeData(n,!0),r.backend=e,e.move(n,s,r.shape,r.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let r=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}let i;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(i),()=>(i=n(),i instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),i))}scopedRun(e,n,r){e();try{const i=r();return n(),i}catch(i){throw n(),i}}nextTensorId(){return _h.nextTensorId++}nextVariableId(){return _h.nextVariableId++}clone(e){const n=X.runKernel(tv,{x:e}),r={x:e},i=o=>({x:()=>{const a="float32",l={x:o},c={dtype:a};return X.runKernel(zy,l,c)}}),s=[];return this.addTapeNode(this.state.activeScope.name,r,[n],i,s,{}),n}runKernel(e,n,r){if(this.backendName==null&&this.backend,!(Bb(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,r){const i=this.backend.numDataIds();let s=0;r.forEach(l=>{s+=l.dtype==="complex64"?3:1});const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=i-n-s-o;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${e}'`)}runKernelFunc(e){let n,r=[];const i=this.isTapeOn(),s=this.state.numBytes,o=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let a;this.backendName==null&&this.backend;let l;const c=GT(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(GT(e)){const{kernelName:m,inputs:y,attrs:x}=e;this.backendName==null&&this.backend;const v=Bb(m,this.backendName);B(v!=null,()=>`Cannot find registered kernel '${m}' for backend '${this.backendName}'`),a=()=>{const b=this.backend.numDataIds();l=v.kernelFunc({inputs:y,attrs:x,backend:this.backend});const w=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(m,b,w);const k=w.map(E=>E.rank!=null?E:this.makeTensorFromTensorInfo(E));if(i){const E=this.getTensorsForGradient(m,y,k);r=this.saveTensorsForBackwardMode(E)}return k}}else{const{forwardFunc:m}=e,y=x=>{i&&(r=x.map(v=>this.keep(this.clone(v))))};a=()=>{const x=this.backend.numDataIds();l=this.tidy(()=>m(this.backend,y));const v=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(c,x,v),v}}const{inputs:u,attrs:d}=e,f=GT(e)?null:e.backwardsFunc;let h;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=a():(h=this.profiler.profileKernel(c,u,()=>a()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),n=h.outputs)}),i&&this.addTapeNode(c,u,n,f,r,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map(m=>u[m]!=null?u[m].shape:null),outputShapes:n.map(m=>m.shape),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,n,r){const i=P$(e);if(i!=null){const s=i.inputsToSave||[],o=i.outputsToSave||[];let a;i.saveAllInputs?(B(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),a=Object.keys(n).map(c=>n[c])):a=s.map(c=>n[c]);const l=r.filter((c,u)=>o[u]);return a.concat(l)}return[]}makeTensor(e,n,r,i){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",i=i||this.backend;let s=e;r==="string"&&Ho(e[0])&&(s=e.map(l=>na(l)));const o=i.write(s,n,r),a=new gn(n,r,o,this.nextTensorId());if(this.trackTensor(a,i),r==="string"){const l=this.state.tensorInfo.get(o),c=LH(s);this.state.numBytes+=c-l.bytes,l.bytes=c}return a}makeTensorFromDataId(e,n,r,i){r=r||"float32";const s={dataId:e,shape:n,dtype:r};return this.makeTensorFromTensorInfo(s,i)}makeTensorFromTensorInfo(e,n){const{dataId:r,shape:i,dtype:s}=e,o=new gn(i,s,r,this.nextTensorId());return this.trackTensor(o,n),o}makeVariable(e,n=!0,r,i){r=r||this.nextVariableId().toString(),i!=null&&i!==e.dtype&&(e=e.cast(i));const s=new Gg(e,n,r,this.nextTensorId());if(this.state.registeredVariables[s.name]!=null)throw new Error(`Variable with name ${s.name} was already registered`);return this.state.registeredVariables[s.name]=s,this.incRef(s,this.backend),s}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let r=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(r=e.size*Fb(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof Gg||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const r=e.size*Fb(e.dtype);this.state.numBytes-=r}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(i=>i.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const i of this.state.activeProfile.kernels)i.kernelTimeMs=await i.kernelTimeMs,i.extraInfo=await i.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,r,i,s,o){const a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:s},l=P$(e);l!=null&&(i=l.gradFunc),i!=null&&(a.gradient=c=>(c=c.map((u,d)=>{if(u==null){const f=r[d],h=vr(f.size,f.dtype);return this.makeTensor(h,f.shape,f.dtype)}return u}),i(c.length>1?c:c[0],s,o))),this.state.activeTape.push(a)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=q3(e),r=new Set(n.map(s=>s.id));for(let s=0;s<this.state.activeScope.track.length;s++){const o=this.state.activeScope.track[s];!o.kept&&!r.has(o.id)&&o.dispose()}const i=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(s=>{!s.kept&&s.scopeId===i.id&&this.track(s)})}gradients(e,n,r,i=!1){if(B(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const s=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));B(s instanceof gn,()=>"The result y returned by f() must be a tensor.");const o=gFe(this.state.activeTape,n,s);if(!i&&o.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const a={};a[s.id]=r??_Fe(s.shape),yFe(a,o,c=>this.tidy(c),IFe);const l=n.map(c=>a[c.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(c=>{for(const u of c.saved)u.dispose()}),this.state.activeTape=null),{value:s,grads:l}})}customGrad(e){return B(yc(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{B(n.every(a=>a instanceof gn),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const i={};n.forEach((a,l)=>{i[l]=a});const s=(a,l)=>(r=e(...n,l),B(r.value instanceof gn,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),B(yc(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),o=(a,l)=>{const c=r.gradFunc(a,l),u=Array.isArray(c)?c:[c];B(u.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),B(u.every(f=>f instanceof gn),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const d={};return u.forEach((f,h)=>{d[h]=()=>f}),d};return this.runKernelFunc({forwardFunc:s,backwardsFunc:o,inputs:i})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=Oi(),r=await this.backend.time(e);return r.wallMs=Oi()-n,r}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new _B;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}_h.nextTensorId=0;_h.nextVariableId=0;function _Fe(t){const e=A2(le(t),"float32");return X.makeTensor(e,t,"float32")}function tq(){const t=VH();if(t._tfengine==null){const e=new jH(t);t._tfengine=new _h(e)}return GDe(t._tfengine.ENV),bFe(()=>t._tfengine),t._tfengine}const X=tq();function IFe(t,e){const n={a:t,b:e};return X.runKernel(up,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Fe(){return typeof navigator<"u"&&navigator!=null}let V$;function NFe(t){V$=t}function K3(t){if(V$!==void 0)return V$;if(t||$Fe()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function X3(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}const OFe=Object.freeze(Object.defineProperty({__proto__:null,isBrowser:X3,isMobile:K3,mockIsMobile:NFe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wi=ie();Wi.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Wi.registerFlag("IS_BROWSER",()=>X3());Wi.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Wi.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Wi.registerFlag("PROD",()=>!1);Wi.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Wi.getBool("DEBUG"));Wi.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Wi.registerFlag("IS_TEST",()=>!1);Wi.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>!0);Wi.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Wi.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);Wi.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Wi.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function la(t,e){let n=t;if(Rr(t))return e==="string"?[]:[t.length];if(!Array.isArray(t))return[];const r=[];for(;Array.isArray(n)||Rr(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&ie().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&nq(t,r,[]),r}function nq(t,e,n){if(n=n||[],!Array.isArray(t)&&!Rr(t)){B(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}B(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),B(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const r=e.slice(1);for(let i=0;i<t.length;++i)nq(t[i],r,n.concat(i))}function IB(t,e,n,r){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}}function L(t,e,n,r="numeric"){if(t instanceof gn)return IB(r,t.dtype,e,n),t;let i=cp(t);if(i!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(i=r),IB(r,i,e,n),t==null||!Rr(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const l=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${l}'`)}const s=la(t,i);!Rr(t)&&!Array.isArray(t)&&(t=[t]);const a=i!=="string"?Oc(t,i):Ja(t,[],!0);return X.makeTensor(a,s,i)}function Hg(t,e,n,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((s,o)=>L(s,`${e}[${o}]`,n,r))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q3="__op";function K(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+Q3;const i=(...s)=>{X.startScope(n);try{const o=r(...s);return Gu(o)&&console.error("Cannot return a Promise inside of tidy."),X.endScope(o),o}catch(o){throw X.endScope(null),o}};return Object.defineProperty(i,"name",{value:n,configurable:!0}),i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RFe(t,e){const n=L(t,"real","complex"),r=L(e,"imag","complex");wr(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const i={real:n,imag:r};return X.runKernel(H2,i)}const el=K({complex_:RFe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rc(t,e,n,r){if(r==null&&(r=cp(t)),r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Rr(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){R3(e);const i=le(e),s=le(n);B(i===s,()=>`Based on the provided shape, [${e}], the tensor should have ${i} values but has ${s}`);for(let o=0;o<n.length;++o){const a=n[o],l=o===n.length-1?a!==le(e.slice(o)):!0;B(n[o]===e[o]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!Rr(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=r!=="string"?Oc(t,r):Ja(t,[],!0),X.makeTensor(t,e,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wo(t,e,n){const r=la(t,n);return Rc(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U$={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vb=4;async function AFe(t,e){const n=[],r=[],i=Array.isArray(t)?t.map(o=>o.name):Object.keys(t);for(let o=0;o<i.length;++o){const a=i[o],l=Array.isArray(t)?t[o].tensor:t[a];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${a}': ${l.dtype}`);const c={name:a,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const u=new Promise(async d=>{const f=await l.bytes(),h=f.reduce((x,v)=>x+v.length,0)+Vb*f.length,m=new Uint8Array(h);let y=0;for(let x=0;x<f.length;x++){const v=f[x],b=new Uint8Array(new Uint32Array([v.length]).buffer);m.set(b,y),y+=Vb,m.set(v,y),y+=v.length}d(m)});r.push(u)}else r.push(l.data());e!=null&&(c.group=e),n.push(c)}const s=await Promise.all(r);return{data:PFe(s),specs:n}}function rq(t,e){const n={};let r,i=0;for(const s of e){const o=s.name,a=s.dtype,l=s.shape,c=le(l);let u;if("quantization"in s){const d=s.quantization;if(d.dtype==="uint8"||d.dtype==="uint16"){if(!("min"in d&&"scale"in d))throw new Error(`Weight ${s.name} with quantization ${d.dtype} doesn't have corresponding metadata min and scale.`)}else if(d.dtype==="float16"){if(a!=="float32")throw new Error(`Weight ${s.name} is quantized with ${d.dtype} which only supports weights of type float32 not ${a}.`)}else throw new Error(`Weight ${s.name} has unknown quantization dtype ${d.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const f=U$[d.dtype],h=t.slice(i,i+c*f),m=d.dtype==="uint8"?new Uint8Array(h):new Uint16Array(h);if(a==="float32")if(d.dtype==="uint8"||d.dtype==="uint16"){u=new Float32Array(m.length);for(let y=0;y<m.length;y++){const x=m[y];u[y]=x*d.scale+d.min}}else if(d.dtype==="float16")r===void 0&&(r=zFe()),u=r(m);else throw new Error(`Unsupported quantization type ${d.dtype} for weight type float32.`);else if(a==="int32"){if(d.dtype!=="uint8"&&d.dtype!=="uint16")throw new Error(`Unsupported quantization type ${d.dtype} for weight type int32.`);u=new Int32Array(m.length);for(let y=0;y<m.length;y++){const x=m[y];u[y]=Math.round(x*d.scale+d.min)}}else throw new Error(`Unsupported dtype in weight '${o}': ${a}`);i+=c*f}else if(a==="string"){const d=le(s.shape);u=[];for(let f=0;f<d;f++){const h=new Uint32Array(t.slice(i,i+Vb))[0];i+=Vb;const m=new Uint8Array(t.slice(i,i+h));u.push(m),i+=h}}else{const d=U$[a],f=t.slice(i,i+c*d);if(a==="float32")u=new Float32Array(f);else if(a==="int32")u=new Int32Array(f);else if(a==="bool")u=new Uint8Array(f);else if(a==="complex64"){u=new Float32Array(f);const h=new Float32Array(u.length/2),m=new Float32Array(u.length/2);for(let v=0;v<h.length;v++)h[v]=u[v*2],m[v]=u[v*2+1];const y=wo(h,l,"float32"),x=wo(m,l,"float32");n[o]=el(y,x),y.dispose(),x.dispose()}else throw new Error(`Unsupported dtype in weight '${o}': ${a}`);i+=c*d}a!=="complex64"&&(n[o]=wo(u,l,a))}return n}function PFe(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(s=>{if(e+=s.byteLength,n.push(s.byteLength===s.buffer.byteLength?s:new s.constructor(s)),!(s instanceof Float32Array||s instanceof Int32Array||s instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${s.constructor.name}`)});const r=new Uint8Array(e);let i=0;return n.forEach(s=>{r.set(new Uint8Array(s.buffer),i),i+=s.byteLength}),r.buffer}const Y3=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function $B(t){return Y3?Buffer.byteLength(t):new Blob([t]).size}function DFe(t){if(Y3)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);return btoa(n)}function FFe(t){if(Y3){const r=Buffer.from(t,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;++r)n.set([e.charCodeAt(r)],r);return n.buffer}function J3(t){if(t.length===1)return t[0];let e=0;t.forEach(i=>{e+=i.byteLength});const n=new Uint8Array(e);let r=0;return t.forEach(i=>{n.set(new Uint8Array(i),r),r+=i.byteLength}),n.buffer}function NB(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function iq(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function sq(t,e,n){const r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=n}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),r}async function Z3(t,e){let n,r;return t.weightsManifest!=null&&([n,r]=await e(t.weightsManifest)),sq(t,n,r)}function Lv(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:$B(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:$B(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:t.weightData.byteLength}}function oq(t){const e=[];for(const n of t)e.push(...n.weights);return e}function LFe(){const t=n=>{let r=n<<13,i=0;for(;!(r&8388608);)i-=8388608,r<<=1;return r&=-8388609,i+=947912704,r|i},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function MFe(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function BFe(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function zFe(){const t=LFe(),e=MFe(),n=BFe();return r=>{const i=new ArrayBuffer(4*r.length),s=new Uint32Array(i);for(let o=0;o<r.length;o++){const a=r[o],l=t[n[a>>10]+(a&1023)]+e[a>>10];s[o]=l}return new Float32Array(i)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hn{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return hn.instance==null&&(hn.instance=new hn),hn.instance}static registerSaveRouter(e){hn.getInstance().saveRouters.push(e)}static registerLoadRouter(e){hn.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return hn.getHandlers(e,"save")}static getLoadHandlers(e,n){return hn.getHandlers(e,"load",n)}static getHandlers(e,n,r){const i=[];return(n==="load"?hn.getInstance().loadRouters:hn.getInstance().saveRouters).forEach(o=>{const a=o(e,r);a!==null&&i.push(a)}),i}}const jFe=t=>hn.registerSaveRouter(t),VFe=t=>hn.registerLoadRouter(t),UFe=t=>hn.getSaveHandlers(t),WFe=(t,e)=>hn.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W$="tensorflowjs",G$=1,xu="models_store",Hl="model_info_store";function aq(){if(!ie().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function H$(t){const e=t.result;e.createObjectStore(xu,{keyPath:"modelPath"}),e.createObjectStore(Hl,{keyPath:"modelPath"})}class Hu{constructor(e){if(this.indexedDB=aq(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((r,i)=>{const s=this.indexedDB.open(W$,G$);s.onupgradeneeded=()=>H$(s),s.onsuccess=()=>{const o=s.result;if(n==null){const a=o.transaction(xu,"readonly"),c=a.objectStore(xu).get(this.modelPath);c.onsuccess=()=>{if(c.result==null)return o.close(),i(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(c.result.modelArtifacts)},c.onerror=u=>(o.close(),i(c.error)),a.oncomplete=()=>o.close()}else{const a=Lv(n),l=o.transaction(Hl,"readwrite");let c=l.objectStore(Hl);const u=c.put({modelPath:this.modelPath,modelArtifactsInfo:a});let d;u.onsuccess=()=>{d=o.transaction(xu,"readwrite");const h=d.objectStore(xu).put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:a});h.onsuccess=()=>r({modelArtifactsInfo:a}),h.onerror=m=>{c=l.objectStore(Hl);const y=c.delete(this.modelPath);y.onsuccess=()=>(o.close(),i(h.error)),y.onerror=x=>(o.close(),i(h.error))}},u.onerror=f=>(o.close(),i(u.error)),l.oncomplete=()=>{d==null?o.close():d.oncomplete=()=>o.close()}}},s.onerror=o=>i(s.error)})}}Hu.URL_SCHEME="indexeddb://";const lq=t=>ie().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Hu.URL_SCHEME)?GFe(t.slice(Hu.URL_SCHEME.length)):null;hn.registerSaveRouter(lq);hn.registerLoadRouter(lq);function GFe(t){return new Hu(t)}function HFe(t){return t.startsWith(Hu.URL_SCHEME)?t.slice(Hu.URL_SCHEME.length):t}class qFe{constructor(){this.indexedDB=aq()}async listModels(){return new Promise((e,n)=>{const r=this.indexedDB.open(W$,G$);r.onupgradeneeded=()=>H$(r),r.onsuccess=()=>{const i=r.result,s=i.transaction(Hl,"readonly"),a=s.objectStore(Hl).getAll();a.onsuccess=()=>{const l={};for(const c of a.result)l[c.modelPath]=c.modelArtifactsInfo;e(l)},a.onerror=l=>(i.close(),n(a.error)),s.oncomplete=()=>i.close()},r.onerror=i=>n(r.error)})}async removeModel(e){return e=HFe(e),new Promise((n,r)=>{const i=this.indexedDB.open(W$,G$);i.onupgradeneeded=()=>H$(i),i.onsuccess=()=>{const s=i.result,o=s.transaction(Hl,"readwrite"),a=o.objectStore(Hl),l=a.get(e);let c;l.onsuccess=()=>{if(l.result==null)return s.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const u=a.delete(e),d=()=>{c=s.transaction(xu,"readwrite");const h=c.objectStore(xu).delete(e);h.onsuccess=()=>n(l.result.modelArtifactsInfo),h.onerror=m=>r(l.error)};u.onsuccess=d,u.onerror=f=>(d(),s.close(),r(l.error))}},l.onerror=u=>(s.close(),r(l.error)),o.oncomplete=()=>{c==null?s.close():c.oncomplete=()=>s.close()}},i.onerror=s=>r(i.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pa="/",gf="tensorflowjs_models",cq="info",KFe="model_topology",XFe="weight_specs",QFe="weight_data",YFe="model_metadata";function uq(t){return{info:[gf,t,cq].join(Pa),topology:[gf,t,KFe].join(Pa),weightSpecs:[gf,t,XFe].join(Pa),weightData:[gf,t,QFe].join(Pa),modelMetadata:[gf,t,YFe].join(Pa)}}function dq(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function JFe(t){const e=t.split(Pa);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(Pa)}function ZFe(t){return t.startsWith(qu.URL_SCHEME)?t.slice(qu.URL_SCHEME.length):t}class qu{constructor(e){if(!ie().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=uq(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),i=Lv(e);try{this.LS.setItem(this.keys.info,JSON.stringify(i)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,DFe(e.weightData));const s={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(s)),{modelArtifactsInfo:i}}catch{throw dq(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${i.modelTopologyBytes}, weightSpecsBytes=${i.weightSpecsBytes}, weightDataBytes=${i.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const i=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(i==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=i;const s=this.LS.getItem(this.keys.modelMetadata);if(s!=null){const a=JSON.parse(s);n.format=a.format,n.generatedBy=a.generatedBy,n.convertedBy=a.convertedBy,a.signature!=null&&(n.signature=a.signature),a.userDefinedMetadata!=null&&(n.userDefinedMetadata=a.userDefinedMetadata),a.modelInitializer!=null&&(n.modelInitializer=a.modelInitializer),a.trainingConfig!=null&&(n.trainingConfig=a.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(o==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=FFe(o),n}}qu.URL_SCHEME="localstorage://";const fq=t=>ie().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(qu.URL_SCHEME)?e4e(t.slice(qu.URL_SCHEME.length)):null;hn.registerSaveRouter(fq);hn.registerLoadRouter(fq);function e4e(t){return new qu(t)}class t4e{constructor(){B(ie().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),B(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=gf+Pa,r=Pa+cq;for(let i=0;i<this.LS.length;++i){const s=this.LS.key(i);if(s.startsWith(n)&&s.endsWith(r)){const o=JFe(s);e[o]=JSON.parse(this.LS.getItem(s))}}return e}async removeModel(e){e=ZFe(e);const n=uq(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return dq(n),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jf="://";class Xr{constructor(){this.managers={}}static getInstance(){return Xr.instance==null&&(Xr.instance=new Xr),Xr.instance}static registerManager(e,n){B(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(Jf)&&(e=e.slice(0,e.indexOf(Jf))),B(e.length>0,()=>"scheme must not be an empty string.");const r=Xr.getInstance();B(r.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=n}static getManager(e){const n=Xr.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(Xr.getInstance().managers)}}function Tx(t){if(t.indexOf(Jf)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${Xr.getSchemes().join(",")}`);return{scheme:t.split(Jf)[0],path:t.split(Jf)[1]}}async function hq(t,e,n=!1){B(t!==e,()=>`Old path and new path are the same: '${t}'`);const r=hn.getLoadHandlers(t);B(r.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),B(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${t}.`);const i=r[0],s=hn.getSaveHandlers(e);B(s.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),B(s.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${e}.`);const o=s[0],a=Tx(t).scheme,l=Tx(t).path,c=a===Tx(t).scheme,u=await i.load();n&&c&&await Xr.getManager(a).removeModel(l);const d=await o.save(u);return n&&!c&&await Xr.getManager(a).removeModel(l),d.modelArtifactsInfo}async function n4e(){const t=Xr.getSchemes(),e={};for(const n of t){const r=await Xr.getManager(n).listModels();for(const i in r){const s=n+Jf+i;e[s]=r[i]}}return e}async function r4e(t){const e=Tx(t);return Xr.getManager(e.scheme).removeModel(e.path)}async function i4e(t,e){return hq(t,e,!1)}async function s4e(t,e){return hq(t,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class o4e{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(!window||!ie().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const i=this.functionRefs[r.data.index];i(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}}if(ie().get("IS_BROWSER")){ie().setPlatform("browser",new o4e);try{Xr.registerManager(qu.URL_SCHEME,new t4e)}catch{}try{Xr.registerManager(Hu.URL_SCHEME,new qFe)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a4e={importFetch:()=>require("node-fetch")};let HT;class l4e{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return ie().global.fetch!=null?ie().global.fetch(e,n):(HT==null&&(HT=a4e.importFetch()),HT(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}}ie().get("IS_NODE")&&!ie().get("IS_BROWSER")&&ie().setPlatform("node",new l4e);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function it(t,e="float32",n){return e=e||"float32",R3(t),new qn(t,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c4e(t,e){const n=L(t,"x","cast");if(!FH(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},i={dtype:e};return X.runKernel(zy,r,i)}const an=K({cast_:c4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u4e(t){const n={x:L(t,"x","clone","string_or_numeric")};return X.runKernel(tv,n)}const Va=K({clone_:u4e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eA(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */tq();const d4e={buffer:it,cast:an,clone:Va,print:eA};wFe(d4e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f4e="model",h4e=".json",p4e=".weights.bin";function OB(t){return new Promise(e=>setTimeout(e)).then(t)}class Ku{constructor(e){if(!ie().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Ku.URL_SCHEME)&&(e=e.slice(Ku.URL_SCHEME.length)),(e==null||e.length===0)&&(e=f4e),this.modelJsonFileName=e+h4e,this.weightDataFileName=e+p4e}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const r=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],i=iq(e,r),s=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),o=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(o.download=this.modelJsonFileName,o.href=s,await OB(()=>o.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const a=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;a.download=this.weightDataFileName,a.href=n,await OB(()=>a.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:Lv(e)}}}}Ku.URL_SCHEME="downloads://";class m4e{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{const s=JSON.parse(i.target.result),o=s.modelTopology;if(o==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(s.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:o});return}const l=Z3(s,c=>this.loadWeights(c));e(l)},r.onerror=i=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})}loadWeights(e){const n=[],r=[];for(const o of e)n.push(...o.weights),r.push(...o.paths);const i=this.checkManifestAndWeightFiles(e),s=r.map(o=>this.loadWeightsFile(o,i[o]));return Promise.all(s).then(o=>[n,J3(o)])}loadWeightsFile(e,n){return new Promise((r,i)=>{const s=new FileReader;s.onload=o=>{const a=o.target.result;r(a)},s.onerror=o=>i(`Failed to weights data from file of path '${e}'.`),s.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],r=this.weightsFiles.map(s=>NB(s.name)),i={};for(const s of e)s.paths.forEach(o=>{const a=NB(o);if(n.indexOf(a)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${a}'`);if(n.push(a),r.indexOf(a)===-1)throw new Error(`Weight file with basename '${a}' is not provided.`);i[o]=this.weightsFiles[r.indexOf(a)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return i}}const g4e=t=>ie().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Ku.URL_SCHEME)?y4e(t.slice(Ku.URL_SCHEME.length)):null;hn.registerSaveRouter(g4e);function y4e(t="model"){return new Ku(t)}function v4e(t){return new m4e(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RB(t,e,n,r){o(t),n=n??0,r=r??1,a(n,r);let i=0;const s=l=>(l.then(c=>{const u=n+ ++i/t.length*(r-n);return e(u),c}),l);function o(l){B(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function a(l,c){B(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),B(c>=0&&c<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${c}`),B(c>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${c}`)}return Promise.all(t.map(s))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function pq(t,e){e==null&&(e={});const n=e.fetchFunc==null?ie().platform.fetch:e.fetchFunc,r=t.map(d=>n(d,e.requestInit,{isBinary:!0})),a=(e.onProgress==null?await Promise.all(r):await RB(r,e.onProgress,0,.5)).map(d=>d.arrayBuffer());return e.onProgress==null?await Promise.all(a):await RB(a,e.onProgress,.5,1)}async function x4e(t,e="",n,r){return mq(o=>pq(o,{requestInit:r}))(t,e,n)}function mq(t){return async(e,n="",r)=>{const i=e.map(()=>!1),s={},o=r!=null?r.map(()=>!1):[],a=[];if(e.forEach((h,m)=>{let y=0;h.weights.forEach(x=>{const v="quantization"in x?x.quantization.dtype:x.dtype,b=U$[v]*le(x.shape),w=()=>{i[m]=!0,s[m]==null&&(s[m]=[]),s[m].push({manifestEntry:x,groupOffset:y,sizeBytes:b})};r!=null?r.forEach((k,E)=>{k===x.name&&(w(),o[E]=!0)}):w(),a.push(x.name),y+=b})}),!o.every(h=>h)){const h=r.filter((m,y)=>!o[y]);throw new Error(`Could not find weights in manifest with names: ${h.join(", ")}. 
Manifest JSON has weights with names: ${a.join(", ")}.`)}const l=i.reduce((h,m,y)=>(m&&h.push(y),h),[]),c=[];l.forEach(h=>{e[h].paths.forEach(m=>{const y=n+(n.endsWith("/")?"":"/")+m;c.push(y)})});const u=await t(c),d={};let f=0;return l.forEach(h=>{const m=e[h].paths.length;let y=0;for(let k=0;k<m;k++)y+=u[f+k].byteLength;const x=new ArrayBuffer(y),v=new Uint8Array(x);let b=0;for(let k=0;k<m;k++){const E=new Uint8Array(u[f+k]);v.set(E,b),b+=E.byteLength}s[h].forEach(k=>{const E=x.slice(k.groupOffset,k.groupOffset+k.sizeBytes),_=rq(E,[k.manifestEntry]);for(const I in _)d[I]=_[I]}),f+=m}),d}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b4e="application/octet-stream",w4e="application/json";class tA{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(B(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=ie().platform.fetch,B(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&B(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],i=iq(e,r);n.body.append("model.json",new Blob([JSON.stringify(i)],{type:w4e}),"model.json"),e.weightData!=null&&n.body.append("model.weights.bin",new Blob([e.weightData],{type:b4e}),"model.weights.bin");const s=await this.fetch(this.path,n);if(s.ok)return{modelArtifactsInfo:Lv(e),responses:[s]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${s.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let o=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?o+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":o+=" Please make sure the server is serving valid JSON for this request.",new Error(o)}const r=n.modelTopology,i=n.weightsManifest;if(r==null&&i==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return Z3(n,s=>this.loadWeights(s))}async loadWeights(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,i]=S4e(n),s=this.weightPathPrefix||r,o=oq(e),a=[],l=[];for(const u of e)for(const d of u.paths)this.weightUrlConverter!=null?l.push(this.weightUrlConverter(d)):a.push(s+d+i);this.weightUrlConverter&&a.push(...await Promise.all(l));const c=await pq(a,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[o,J3(c)]}}tA.URL_SCHEME_REGEX=/^https?:\/\//;function S4e(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),r=t.substring(0,e),i=n>e?t.substring(n):"";return[r+"/",i]}function q$(t){return t.match(tA.URL_SCHEME_REGEX)!=null}const gq=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(r=>q$(r)):n=q$(t),n)return nA(t,e)}return null};hn.registerSaveRouter(gq);hn.registerLoadRouter(gq);function nA(t,e){return new tA(t,e)}function k4e(t,e){return nA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qT{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class yq{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class C4e{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function E4e(t,e,n,r){const i=arguments;return new C4e(vq(...i))}function vq(t,e,n,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new qT(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new qT({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new qT({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))}function T4e(t){return new yq(t)}function _4e(t){return new yq(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rA=Object.freeze(Object.defineProperty({__proto__:null,browserFiles:v4e,browserHTTPRequest:k4e,concatenateArrayBuffers:J3,copyModel:i4e,decodeWeights:rq,encodeWeights:AFe,fromMemory:E4e,fromMemorySync:vq,getLoadHandlers:WFe,getModelArtifactsForJSON:Z3,getModelArtifactsForJSONSync:sq,getModelArtifactsInfoForJSON:Lv,getSaveHandlers:UFe,getWeightSpecs:oq,http:nA,isHTTPScheme:q$,listModels:n4e,loadWeights:x4e,moveModel:s4e,registerLoadRouter:VFe,registerSaveRouter:jFe,removeModel:r4e,weightsLoaderFactory:mq,withSaveHandler:T4e,withSaveHandlerSync:_4e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I4e(t,e,n=!1,r=!1){let i=L(t,"a","matMul"),s=L(e,"b","matMul");[i,s]=yn(i,s);const o={a:i,b:s},a={transposeA:n,transposeB:r};return X.runKernel(V2,o,a)}const $t=K({matMul_:I4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $4e(t,e,n=1,r=0,i="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const o={indices:L(t,"indices","oneHot","int32")},a={dtype:i,depth:e,onValue:n,offValue:r};return X.runKernel(FS,o,a)}const Ub=K({oneHot_:$4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N4e(){ie().set("PROD",!0)}function O4e(){ie().set("DEBUG",!0)}function R4e(){ie().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function A4e(t){ie().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function P4e(){X.disposeVariables()}function Na(){return X}function D4e(){return X.memory()}function F4e(t){return X.profile(t)}function yt(t,e){return X.tidy(t,e)}function Fr(t){q3(t).forEach(n=>n.dispose())}function qo(t){return X.keep(t)}function L4e(t){return X.time(t)}function M4e(t){return X.setBackend(t)}function B4e(){return X.ready()}function z4e(){return X.backendName}function j4e(t){X.removeBackend(t)}function V4e(t){return X.findBackend(t)}function U4e(t){return X.findBackendFactory(t)}function iA(t,e,n=1){return X.registerBackend(t,e,n)}function W4e(){return X.backend}function G4e(t,e){ie().setPlatform(t,e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H4e(t){const n={input:L(t,"input","imag")};return X.runKernel(xS,n)}const Mv=K({imag_:H4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q4e(t){const n={x:L(t,"x","neg")};return X.runKernel(OS,n)}const ra=K({neg_:q4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K4e(t){const n={input:L(t,"input","real")};return X.runKernel(WS,n)}const Ih=K({real_:K4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X4e(t,e,n){const r=L(t,"x","transpose");if(e==null&&(e=r.shape.map((o,a)=>a).reverse()),B(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${e}.`),e.forEach(o=>{B(o>=0&&o<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${e}`)}),r.rank<=1)return r.clone();const i={x:r},s={perm:e};return r.dtype==="complex64"?yt(()=>{let o=Ih(r),a=Mv(r);return o=X.runKernel(Yf,{x:o},s),a=X.runKernel(Yf,{x:a},s),n&&(a=ra(a)),el(o,a)}):X.runKernel(Yf,i,s)}const qg=K({transpose_:X4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q4e(t,e,n){const r=L(t,"labels","confusionMatrix"),i=L(e,"predictions","confusionMatrix");B(n==null||n>0&&Number.isInteger(n),()=>`If provided, numClasses must be a positive integer, but got ${n}`),B(r.rank===1,()=>`Expected the rank of labels to be 1, but got ${r.rank}`),B(i.rank===1,()=>`Expected the rank of predictions to be 1, but got ${i.rank}`),B(r.shape[0]===i.shape[0],()=>`Mismatch in the number of examples: ${r.shape[0]} vs. ${i.shape[0]}. Labels and predictions should have the same number of elements.`),B(n>0&&Number.isInteger(n),()=>`numClasses is required to be a positive integer, but got ${n}`);const s=Ub(an(r,"int32"),n),o=Ub(an(i,"int32"),n),a=qg(s),l=$t(a,o);return an(l,"int32")}const Y4e=K({confusionMatrix_:Q4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J4e=Object.freeze(Object.defineProperty({__proto__:null,confusionMatrix:Y4e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xu(t,e){const n=t.length,r=[];for(let i=0;i<n;i++){const s=n-1-i,o=t[s]||1;(e[e.length-1-i]||1)>1&&o===1&&r.unshift(s)}return r}function sA(t,e){const n=[];for(let r=0;r<e.length;r++){const i=t[t.length-r-1],s=e.length-r-1,o=e[s];(i==null||i===1&&o>1)&&n.unshift(s)}return n}function pt(t,e){const n=[],r=Math.max(t.length,e.length);for(let i=0;i<r;i++){let s=t[t.length-i-1];s==null&&(s=1);let o=e[e.length-i-1];if(o==null&&(o=1),s===1)n.unshift(o);else if(o===1)n.unshift(s);else if(s!==o){const a=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(a)}else n.unshift(s)}return n}const Z4e=Object.freeze(Object.defineProperty({__proto__:null,assertAndGetBroadcastShape:pt,getBroadcastDims:Xu,getReductionAxes:sA},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oA(t,e,n){if(vd(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=la(t,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Rc(t,e,r,n)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Qc;function xq(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,i=!1,s=!1,o=!1,a=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)i=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)s=!0;else if(t.getContext!=null)o=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)a=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(Bb(Mb,X.backendName)!=null){const m={pixels:t},y={numChannels:e};return X.runKernel(Mb,m,y)}const[c,u]=i?[t.videoWidth,t.videoHeight]:[t.width,t.height];let d;if(o)d=t.getContext("2d").getImageData(0,0,c,u).data;else if(r||n)d=t.data;else if(s||i||a){if(Qc==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Qc=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Qc=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Qc.canvas.width=c,Qc.canvas.height=u,Qc.drawImage(t,0,0,c,u),d=Qc.getImageData(0,0,c,u).data}let f;if(e===4)f=new Int32Array(d);else{const m=c*u;f=new Int32Array(m*e);for(let y=0;y<m;y++)for(let x=0;x<e;++x)f[y*e+x]=d[y*4+x]}return oA(f,[u,c,e],"int32")}function eLe(t){return t!=null&&t.data instanceof Uint8Array}function tLe(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}function nLe(t){return t!=null&&t.width!==0&&t.height!==0}function rLe(t){return tLe()&&!(t instanceof ImageBitmap)&&nLe(t)&&!eLe(t)}async function iLe(t,e=3){let n=null;if(ie().getBool("WRAP_TO_IMAGEBITMAP")&&rLe(t)){let r;try{r=await createImageBitmap(t,{premultiplyAlpha:"none"})}catch{r=null}r!=null&&r.width===t.width&&r.height===t.height?n=r:n=t}else n=t;return xq(n,e)}async function bq(t,e){let n=L(t,"img","toPixels");if(!(t instanceof gn)){const c=n;n=an(c,"int32"),c.dispose()}if(n.rank!==2&&n.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);const[r,i]=n.shape.slice(0,2),s=n.rank===2?1:n.shape[2];if(s>4||s===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${s}`);if(n.dtype!=="float32"&&n.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${n.dtype}. Please use float32 or int32 tensors.`);const o=await n.data(),a=n.dtype==="float32"?255:1,l=new Uint8ClampedArray(i*r*4);for(let c=0;c<r*i;++c){const u=[0,0,0,255];for(let f=0;f<s;f++){const h=o[c*s+f];if(n.dtype==="float32"){if(h<0||h>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${h}.`)}else if(n.dtype==="int32"&&(h<0||h>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${h}.`);s===1?(u[0]=h*a,u[1]=h*a,u[2]=h*a):u[f]=h*a}const d=c*4;l[d+0]=Math.round(u[0]),l[d+1]=Math.round(u[1]),l[d+2]=Math.round(u[2]),l[d+3]=Math.round(u[3])}if(e!=null){e.width=i,e.height=r;const c=e.getContext("2d"),u=new ImageData(l,i,r);c.putImageData(u,0,0)}return n!==t&&n.dispose(),l}const wq=K({fromPixels_:xq}),sLe=Object.freeze(Object.defineProperty({__proto__:null,fromPixels:wq,fromPixelsAsync:iLe,toPixels:bq},Symbol.toStringTag,{value:"Module"}));function wk(t,e){const n=t.shape.length,r=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${n}`);if(le(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const i=e.shape,s=i[i.length-1];let o=1;for(let d=0;d<i.length-1;++d)o*=i[d];const a=t.shape,l=i.slice();l.pop();let c=1;for(let d=s;d<n;++d)c*=a[d],l.push(a[d]);const u=[...qe(t.shape).map(d=>d/c),1].slice(0,s);return[l,o,c,u]}const oLe=Object.freeze(Object.defineProperty({__proto__:null,prepareAndValidate:wk},Symbol.toStringTag,{value:"Module"}));function aA(t,e,n){const r=e.rank>1?e.shape[e.rank-1]:1,i=e.rank>1?e.rank-1:1,s=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${r}, and batchDim: ${i}.`;if(n.rank<i)throw new Error(s+` update.rank < ${i}. `);if(t.length<r+(n.rank-i))throw new Error(s+` Output shape length < ${r+(n.rank-i)}`);if(n.rank!==i+t.length-r)throw new Error(s+` update.rank != ${i+t.length-r}`);for(let o=0;o<i;++o)if(n.shape[o]!==e.shape[o])throw new Error(s+` updates.shape[${o}] (${n.shape[o]}) != indices.shape[${o}] (${e.shape[o]}).`);for(let o=0;o<n.rank-i;++o)if(n.shape[o+i]!==t[o+r])throw new Error(s+` updates.shape[${o+i}] (${n.shape[o+i]}) != shape[${o+i}] (${t[o+i]})`)}function lA(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}aA(n,e,t)}function dp(t,e,n){const r=e.shape.length,i=r>1?e.shape[r-1]:1,s=n.length;let o=1;for(let d=i;d<s;++d)o*=n[d];const a=i<1?1:i,l=le(e.shape)/a,c=[...qe(n.slice(0,i)),1],u=le(n);return{sliceRank:i,numUpdates:l,sliceSize:o,strides:c,outputSize:u}}const aLe=Object.freeze(Object.defineProperty({__proto__:null,calculateShapes:dp,validateInput:lA,validateUpdateShape:aA},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K$=-2,lLe=-1;function cA(t,e,n){const r=t.shape.length;B(r===e.length,()=>`Error in slice${r}D: Length of begin ${e} must match the rank of the array (${r}).`),B(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let i=0;i<r;++i)B(e[i]+n[i]<=t.shape[i],()=>`Error in slice${r}D: begin[${i}] + size[${i}] (${e[i]+n[i]}) would overflow input.shape[${i}] (${t.shape[i]})`)}function cLe(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function uA(t,e,n){const r=[];for(let i=0;i<t.length;i++)r[i]=Math.ceil((e[i]-t[i])/n[i]);return r}function Sq(t,e,n,r){const i=[...t];for(let s=i.length;s<r.length;s++)i.push(1);for(let s=0;s<n;s++)s===0?i[e]=1:(i.splice(e,0,1),i.pop());return i}function kq(t,e,n){return n<=t?n:n-(e-1)}function Cq(t,e){const n=[];for(let r=0;r<t;r++)n.push(e+r);return n}function uLe(t,e,n,r,i,s,o,a,l){const c=t.length;let u=new Array(c),d=new Array(c),f=new Array(c);if(e.length&&n>0){const h=e[0],m=n+1;u=Eq(o,h,m,r,t),d=Tq(a,h,m,i,t),f=Sq(s,h,m,t)}else for(let h=0;h<c;h++)u[h]=Iq(o,r,s,t,h,l),d[h]=$q(a,i,s,t,h,l),f[h]=_q(s,h,l);return{begin:u,end:d,strides:f}}function Eq(t,e,n,r,i){const s=[...i],o=Cq(n,e);for(let a=0;a<s.length;a++)if(o.indexOf(a)>-1)s[a]=0;else{const l=kq(e,n,a);let c=r[l];t&1<<l&&(c=0),s[a]=c}return s}function Tq(t,e,n,r,i){const s=[...i],o=Cq(n,e);for(let a=0;a<s.length;a++)if(o.indexOf(a)>-1)s[a]=Number.MAX_SAFE_INTEGER;else{const l=kq(e,n,a);let c=r[l];t&1<<l&&(c=Number.MAX_SAFE_INTEGER),s[a]=c}for(let a=0;a<s.length;a++){const l=i[a];s[a]<0&&(s[a]+=l),s[a]=gc(0,s[a],i[a])}return s}function _q(t,e,n){let r=t[e];return(n&1<<e||r==null)&&(r=1),r}function Iq(t,e,n,r,i,s){let o=e[i];const a=n[i]||1;(t&1<<i||s&1<<i||o==null)&&(a>0?o=Number.MIN_SAFE_INTEGER:o=Number.MAX_SAFE_INTEGER);const l=r[i];return o<0&&(o+=l),o=gc(0,o,l-1),o}function $q(t,e,n,r,i,s){let o=e[i];const a=n[i]||1;(t&1<<i||s&1<<i||o==null)&&(a>0?o=Number.MAX_SAFE_INTEGER:o=Number.MIN_SAFE_INTEGER);const l=r[i];return o<0&&(o+=l),a>0?o=gc(0,o,l):o=gc(-1,o,l-1),o}function dA(t,e,n){let r=n.length;for(let i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(let i=r+1;i<n.length;i++)if(e[i]>0||n[i]!==t[i])return!1;return!0}function fA(t,e){let n=t.length>0?t[t.length-1]:1;for(let r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function hA(t,e,n){let r;const i=t.shape.length;typeof e=="number"?r=[e,...new Array(i-1).fill(0)]:e.length<i?r=e.concat(new Array(i-e.length).fill(0)):r=e.slice(),r.forEach(o=>{B(o!==-1,()=>"slice() does not support negative begin indexing.")});let s;return n==null?s=new Array(i).fill(-1):typeof n=="number"?s=[n,...new Array(i-1).fill(-1)]:n.length<i?s=n.concat(new Array(i-n.length).fill(-1)):s=n,s=s.map((o,a)=>o>=0?o:(B(o===-1,()=>`Negative size values should be exactly -1 but got ${o} for the slice() size at index ${a}.`),t.shape[a]-r[a])),[r,s]}function pA(t,e,n,r,i,s,o,a,l){let c;if(r==null?(c=new Array(e.length),c.fill(1)):c=r,o!=null&&o&o-1)throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const d={dims:c.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:c.slice(),beginMask:i,endMask:s,ellipsisMask:o,newAxisMask:a,shrinkAxisMask:l};for(let w=0;w<d.dims;w++)u&&1<<w&a&&d.numAddAxisAfterEllipsis++,1<<w&o&&(u=!0);u||(d.ellipsisMask|=1<<d.dims,d.dims++);const f={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};dLe(d,f);let h=!0,m=!0,y=!0;const x=[],v=[];for(let w=0;w<t.length;++w){if(f.strides[w]===0)throw Error(`strides[${w}] must be non-zero`);const k=!!(f.shrinkAxisMask&1<<w),E=t[w];if(E===-1){x.push(k?1:-1);continue}const _=[f.beginMask&1<<w,f.endMask&1<<w],I=[f.strides[w]>0?0:-1,f.strides[w]>0?E:E-1];if(k&&f.strides[w]<=0)throw Error("only stride 1 allowed on non-range indexing.");y=y&&f.strides[w]===1;const N=!!(f.beginMask&1<<w&&f.endMask&1<<w);if(f.beginValid&&f.endValid){if(k){const U=f.begin[w]<0?E+f.begin[w]:f.begin[w];if(f.begin[w]=U,f.end[w]=f.begin[w]+1,U<0||U>=E)throw Error(`slice index ${f.begin[w]} of dimension ${w} out of bounds.`)}else f.begin[w]=AB(f.begin[w],0,f.strides[w],E,_,I),f.end[w]=AB(f.end[w],1,f.strides[w],E,_,I);const F=f.strides[w]===1&&f.begin[w]===0&&f.end[w]===E;h=h&&F,m=m&&(w===0&&f.strides[w]===1||F)}else h=h&&f.strides[w]===1&&N,m=m&&(w===0&&f.strides[w]===1||N);let D,P=!1;if(f.beginValid&&f.endValid?(D=f.end[w]-f.begin[w],P=!0):k?(D=1,P=!0):N&&E>=0&&(f.strides[w]<0?D=-E:D=E,P=!0),P){let F;D===0||D<0!=f.strides[w]<0?F=0:F=Math.trunc(D/f.strides[w])+(D%f.strides[w]!==0?1:0),x.push(F)}else x.push(-1)}for(let w=0;w<f.finalShapeGatherIndices.length;++w){const k=f.finalShapeGatherIndices[w];k>=0?v.push(x[k]):k===K$&&v.push(1)}return{finalShapeSparse:v.filter((w,k)=>f.finalShapeGatherIndices[k]!==K$),finalShape:v,isIdentity:h,sliceDim0:m,isSimpleSlice:y,begin:f.begin,end:f.end,strides:f.strides}}function dLe(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let r=0;r<t.dims;r++)if(1<<r&t.ellipsisMask){const i=Math.min(e.dims-(t.dims-r)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<i;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&t.newAxisMask)e.finalShapeGatherIndices.push(K$),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[r]),t.end!=null&&(e.end[n]=t.end[r]),e.strides[n]=t.strides[r],t.beginMask&1<<r&&(e.beginMask|=1<<n),t.endMask&1<<r&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<r?(e.finalShapeGatherIndices.push(lLe),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(r)),e.inputShapeGatherIndicesSparse[n]=r,n++}}function AB(t,e,n,r,i,s){if(i[e])return n>0?s[e]:s[e+1&1];{const o=t<0?r+t:t;return o<s[0]?s[0]:o>s[1]?s[1]:o}}const Nq=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:cA,computeFlatOffset:fA,computeOutShape:uA,getNormalizedAxes:uLe,isSliceContinous:dA,maskToAxes:cLe,parseSliceParams:hA,sliceInfo:pA,startForAxis:Iq,startIndicesWithElidedDims:Eq,stopForAxis:$q,stopIndicesWithElidedDims:Tq,stridesForAxis:_q,stridesWithElidedDims:Sq},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Oq{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class zl{constructor(){this.classNameMap={}}static getMap(){return zl.instance==null&&(zl.instance=new zl),zl.instance}static register(e){zl.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function Ac(t){B(t.className!=null,()=>"Class being registered does not have the static className property defined."),B(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),B(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),zl.register(t)}const fLe=Object.freeze(Object.defineProperty({__proto__:null,Serializable:Oq,SerializationMap:zl,registerClass:Ac},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hLe=.001,Rq=.1;function pLe(t,e,n){return n==null&&(n=mA()),X$(t,e,(r,i)=>gA(r,i,n))}function mA(){return X.backend.floatPrecision()===32?hLe:Rq}function X$(t,e,n){let r=!0;if((Rr(t)||Rr(e))&&(r=!1),Rr(t)&&Rr(e)&&(r=!0),r){const o=t.constructor.name,a=e.constructor.name;if(o!==a)throw new Error(`Arrays are of different type. Actual: ${o}. Expected: ${a}`)}if(Array.isArray(t)&&Array.isArray(e)){const o=la(t),a=la(e);if(!Mt(o,a))throw new Error(`Arrays have different shapes. Actual: [${o}]. Expected: [${a}]`)}const i=Rr(t)?t:Ja(t),s=Rr(e)?e:Ja(e);if(i.length!==s.length)throw new Error(`Arrays have different lengths actual: ${i.length} vs expected: ${s.length}.
Actual:   ${i}.
Expected: ${s}.`);for(let o=0;o<s.length;++o){const a=i[o],l=s[o];if(!n(a,l))throw new Error(`Arrays differ: actual[${o}] = ${a}, expected[${o}] = ${l}.
Actual:   ${i}.
Expected: ${s}.`)}typeof expect<"u"&&expect().nothing()}function mLe(t,e){t().then(()=>e.fail(),()=>e()),typeof expect<"u"&&expect().nothing()}function gLe(t,e){const n=typeof e=="string"||typeof e=="number"||typeof e=="boolean"?[e]:e;return Ho(t)||Ho(t[0])||Ho(e)||Ho(e[0])?X$(t,n,(r,i)=>r==i):X$(t,e,(r,i)=>gA(r,i,0))}function yLe(t,e,n){if(n==null&&(n=mA()),!gA(t,e,n))throw new Error(`Numbers differ: actual === ${t}, expected === ${e}`);typeof expect<"u"&&expect().nothing()}function gA(t,e,n){return!isFinite(t)&&!isFinite(e)?!0:!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}function vLe(t,e,n){for(let r=0;r<t.length;r++)if(t[r]<e||t[r]>n)throw new Error(`Value out of range:${t[r]} low: ${e}, high: ${n}`)}function xLe(t,e){const n=new Float32Array(t),r=new Float32Array(e);if(n.length!==r.length)throw new Error(`Expected ArrayBuffer to be of length ${r.length}, but it was ${n.length}`);for(let i=0;i<r.length;i++)if(n[i]!==r[i])throw new Error(`Expected ArrayBuffer value at ${i} to be ${r[i]} but got ${n[i]} instead`)}function Aq(t){for(let e=0;e<t.length;e++){const n=t[e];Array.isArray(n)?Aq(n):t[e]=na(n)}return t}function bLe(t){const e=document.createElement("video");return"playsInline"in e&&(e.playsInline=!0),e.muted=!0,e.loop=!0,e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.preload="auto",e.appendChild(t),new Promise(n=>{e.addEventListener("loadeddata",r=>n(e)),e.load()})}async function wLe(t){await t.play(),"requestVideoFrameCallback"in t&&await new Promise(e=>{t.requestVideoFrameCallback(e)})}const SLe=Object.freeze(Object.defineProperty({__proto__:null,TEST_EPSILON_FLOAT16:Rq,createVideoElement:bLe,encodeStrings:Aq,expectArrayBuffersEqual:xLe,expectArraysClose:pLe,expectArraysEqual:gLe,expectNumbersClose:yLe,expectPromiseToFail:mLe,expectValuesInRange:vLe,play:wLe,testEpsilon:mA},Symbol.toStringTag,{value:"Module"}));/** @license See the LICENSE file. */const kLe="3.21.0";/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CLe(t,e){let n=L(t,"a","add"),r=L(e,"b","add");[n,r]=yn(n,r);const i={a:n,b:r};return X.runKernel(up,i)}const Je=K({add_:CLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ELe(t,e){let n=L(t,"a","floorDiv"),r=L(e,"b","floorDiv");[n,r]=yn(n,r);const i={a:n,b:r};return X.runKernel(Jy,i)}const yA=K({floorDiv_:ELe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TLe(t,e){let n=L(t,"a","div"),r=L(e,"b","div");if([n,r]=yn(n,r),n.dtype==="int32"&&r.dtype==="int32")return yA(n,r);const i={a:n,b:r},s={};return X.runKernel(Gy,i,s)}const Ut=K({div_:TLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Le(t,e){let n=L(t,"a","mul"),r=L(e,"b","mul");[n,r]=yn(n,r);const i={a:n,b:r};return X.runKernel(mv,i)}const Te=K({mul_:_Le});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ILe(t){const e=L(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return X.runKernel(q2,n)}else{const n={x:e};return X.runKernel(P2,n)}}const Ni=K({abs_:ILe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Le(t){const n={x:L(t,"x","acos")};return X.runKernel(Ay,n)}const Pq=K({acos_:$Le});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NLe(t){const n={x:L(t,"x","acosh")};return X.runKernel(Py,n)}const Dq=K({acosh_:NLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OLe(t){B(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),B(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((i,s)=>L(i,`tensors${s}`,"addN")),n=e[0];e.forEach(i=>{if(i.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(i=>{if(!Mt(i.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=e;return X.runKernel(D2,r)}const Fq=K({addN_:OLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RLe(t,e=null,n=!1){const i={x:L(t,"x","all","bool")},s={axis:e,keepDims:n};return X.runKernel(F2,i,s)}const Lq=K({all_:RLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ALe(t,e=null,n=!1){const i={x:L(t,"x","any","bool")},s={axis:e,keepDims:n};return X.runKernel(L2,i,s)}const Mq=K({any_:ALe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PLe(t,e=0){const r={x:L(t,"x","argMax")},i={axis:e};return X.runKernel(M2,r,i)}const Bq=K({argMax_:PLe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DLe(t,e=0){const r={x:L(t,"x","argMin")},i={axis:e};return X.runKernel(B2,r,i)}const zq=K({argMin_:DLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FLe(t){const n={x:L(t,"x","asin")};return X.runKernel(Dy,n)}const jq=K({asin_:FLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LLe(t){const n={x:L(t,"x","asinh")};return X.runKernel(Fy,n)}const Vq=K({asinh_:LLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MLe(t){const n={x:L(t,"x","atan")};return X.runKernel(Ly,n)}const Uq=K({atan_:MLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BLe(t,e){let n=L(t,"a","atan2"),r=L(e,"b","atan2");[n,r]=yn(n,r);const i={a:n,b:r};return X.runKernel(By,i)}const Wq=K({atan2_:BLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zLe(t){const n={x:L(t,"x","atanh")};return X.runKernel(My,n)}const Gq=K({atanh_:zLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bv(t,e,n,r,i="NHWC",s){const o=t[3],a=[...e,o],l=pl(i);return or(t,a,n,s,r,null,null,l)}function Ks(t,e,n,r,i,s,o="channelsLast"){const[a,l]=Wb(e);let c;if(o==="channelsLast")c=[a,l,t[3],t[3]];else if(o==="channelsFirst")c=[a,l,t[1],t[1]];else throw new Error(`Unknown dataFormat ${o}`);return or(t,c,n,r,i,s,!1,o)}function hl(t,e,n,r,i,s,o="NDHWC"){const[a,l,c]=Q$(e);let u,d;if(o==="NDHWC")d="channelsLast",u=[a,l,c,t[4],t[4]];else if(o==="NCDHW")d="channelsFirst",u=[a,l,c,t[1],t[1]];else throw new Error(`Unknown dataFormat ${o}`);return Pc(t,u,n,r,i,!1,d,s)}function or(t,e,n,r,i,s,o=!1,a="channelsLast"){let[l,c,u,d]=[-1,-1,-1,-1];if(a==="channelsLast")[l,c,u,d]=t;else if(a==="channelsFirst")[l,d,c,u]=t;else throw new Error(`Unknown dataFormat ${a}`);const[f,h,,m]=e,[y,x]=Wb(n),[v,b]=Wb(r),w=Zf(f,v),k=Zf(h,b),{padInfo:E,outHeight:_,outWidth:I}=ULe(i,c,u,y,x,w,k,s,a),N=o?m*d:m;let D;return a==="channelsFirst"?D=[l,N,_,I]:a==="channelsLast"&&(D=[l,_,I,N]),{batchSize:l,dataFormat:a,inHeight:c,inWidth:u,inChannels:d,outHeight:_,outWidth:I,outChannels:N,padInfo:E,strideHeight:y,strideWidth:x,filterHeight:f,filterWidth:h,effectiveFilterHeight:w,effectiveFilterWidth:k,dilationHeight:v,dilationWidth:b,inShape:t,outShape:D,filterShape:e}}function Pc(t,e,n,r,i,s=!1,o="channelsLast",a){let[l,c,u,d,f]=[-1,-1,-1,-1,-1];if(o==="channelsLast")[l,c,u,d,f]=t;else if(o==="channelsFirst")[l,f,c,u,d]=t;else throw new Error(`Unknown dataFormat ${o}`);const[h,m,y,,x]=e,[v,b,w]=Q$(n),[k,E,_]=Q$(r),I=Zf(h,k),N=Zf(m,E),D=Zf(y,_),{padInfo:P,outDepth:F,outHeight:U,outWidth:j}=WLe(i,c,u,d,v,b,w,I,N,D,a),W=s?x*f:x;let q;return o==="channelsFirst"?q=[l,W,F,U,j]:o==="channelsLast"&&(q=[l,F,U,j,W]),{batchSize:l,dataFormat:o,inDepth:c,inHeight:u,inWidth:d,inChannels:f,outDepth:F,outHeight:U,outWidth:j,outChannels:W,padInfo:P,strideDepth:v,strideHeight:b,strideWidth:w,filterDepth:h,filterHeight:m,filterWidth:y,effectiveFilterDepth:I,effectiveFilterHeight:N,effectiveFilterWidth:D,dilationDepth:k,dilationHeight:E,dilationWidth:_,inShape:t,outShape:q,filterShape:e}}function jLe(t,e,n,r,i){r==null&&(r=vA(t,e,n));const s=t[0],o=t[1],a=_u((s-e+2*r)/n+1,i),l=_u((o-e+2*r)/n+1,i);return[a,l]}function VLe(t,e,n,r,i,s){i==null&&(i=vA(t,e,r));const o=t[0],a=t[1],l=t[2],c=_u((o-e+2*i)/r+1,s),u=_u((a-e+2*i)/r+1,s),d=_u((l-e+2*i)/r+1,s);return[c,u,d,n]}function vA(t,e,n,r=1){const i=Zf(e,r);return Math.floor((t[0]*(n-1)-n+i)/2)}function Wb(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function Q$(t){return typeof t=="number"?[t,t,t]:t}function Zf(t,e){return e<=1?t:t+(t-1)*(e-1)}function ULe(t,e,n,r,i,s,o,a,l){let c,u,d;if(typeof t=="number"){c={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const h=jLe([e,n],s,r,t,a);u=h[0],d=h[1]}else if(t==="same"){u=Math.ceil(e/r),d=Math.ceil(n/i);const f=Math.max(0,(u-1)*r+s-e),h=Math.max(0,(d-1)*i+o-n),m=Math.floor(f/2),y=f-m,x=Math.floor(h/2),v=h-x;c={top:m,bottom:y,left:x,right:v,type:"SAME"}}else if(t==="valid")c={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((e-s+1)/r),d=Math.ceil((n-o+1)/i);else if(typeof t=="object"){const f=l==="channelsLast"?t[1][0]:t[2][0],h=l==="channelsLast"?t[1][1]:t[2][1],m=l==="channelsLast"?t[2][0]:t[3][0],y=l==="channelsLast"?t[2][1]:t[3][1];c={top:f,bottom:h,left:m,right:y,type:f===0&&h===0&&m===0&&y===0?"VALID":"EXPLICIT"},u=_u((e-s+f+h)/r+1,a),d=_u((n-o+m+y)/i+1,a)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:c,outHeight:u,outWidth:d}}function WLe(t,e,n,r,i,s,o,a,l,c,u){let d,f,h,m;if(typeof t=="number"){d={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const x=VLe([e,n,r,1],a,1,i,t,u);f=x[0],h=x[1],m=x[2]}else if(t==="same"){f=Math.ceil(e/i),h=Math.ceil(n/s),m=Math.ceil(r/o);const y=(f-1)*i+a-e,x=(h-1)*s+l-n,v=(m-1)*o+c-r,b=Math.floor(y/2),w=y-b,k=Math.floor(x/2),E=x-k,_=Math.floor(v/2),I=v-_;d={top:k,bottom:E,left:_,right:I,front:b,back:w,type:"SAME"}}else if(t==="valid")d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},f=Math.ceil((e-a+1)/i),h=Math.ceil((n-l+1)/s),m=Math.ceil((r-c+1)/o);else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:d,outDepth:f,outHeight:h,outWidth:m}}function _u(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function Kg(t){const[e,n,r]=Wb(t);return e===1&&n===1&&r===1}function Br(t,e){return Kg(t)||Kg(e)}function pl(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function Xs(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")B(Wu(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(r=>{r.forEach(i=>{B(Wu(i),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${i}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GLe(t,e){const r={x:L(t,"x","reshape","string_or_numeric")},i={shape:e};return X.runKernel(GS,r,i)}const pe=K({reshape_:GLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HLe(t,e,n,r,i){const s=L(t,"x","avgPool","float32"),o=1;B(Br(n,o),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);let a=s,l=!1;s.rank===3&&(l=!0,a=pe(s,[1,s.shape[0],s.shape[1],s.shape[2]])),B(a.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${a.rank}.`),Xs("avgPool",r,i);const c={x:a},u={filterSize:e,strides:n,pad:r,dimRoundingMode:i};let d=X.runKernel(z2,c,u);return d=an(d,s.dtype),l?pe(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const xA=K({avgPool_:HLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qLe(t,e,n,r,i,s="NDHWC"){const o=L(t,"x","avgPool3d","float32");let a=o,l=!1;o.rank===4&&(l=!0,a=pe(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),B(a.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${a.rank}.`),B(s==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`),Xs("avgPool3d",r,i);const c={x:a},u={filterSize:e,strides:n,pad:r,dimRoundingMode:i,dataFormat:s};let d=X.runKernel(j2,c,u);return d=an(d,a.dtype),l?pe(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const Hq=K({avgPool3d_:qLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KLe(t,e=0){B(t.length>=1,()=>"Pass at least one tensor to concat");const n=Hg(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(s=>{if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${s.dtype}. `)}),n.length===1)return Va(n[0]);const r=n,i={axis:e};return X.runKernel(K2,r,i)}const Lr=K({concat_:KLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XLe(t){const n={x:L(t,"x","sigmoid","float32")};return X.runKernel(_v,n)}const Iu=K({sigmoid_:XLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QLe(t,e,n){const r=L(t,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const i={x:r},s={begin:e,size:n};return X.runKernel(JS,i,s)}const Lt=K({slice_:QLe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YLe(t){const n={x:L(t,"x","tanh","float32")};return X.runKernel(Av,n)}const Gb=K({tanh_:YLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JLe(t,e,n,r,i,s){const o=L(t,"forgetBias","basicLSTMCell"),a=L(e,"lstmKernel","basicLSTMCell"),l=L(n,"lstmBias","basicLSTMCell"),c=L(r,"data","basicLSTMCell"),u=L(i,"c","basicLSTMCell"),d=L(s,"h","basicLSTMCell"),f=Lr([c,d],1),h=$t(f,a),m=Je(h,l),y=m.shape[0],x=m.shape[1]/4,v=[y,x],b=Lt(m,[0,0],v),w=Lt(m,[0,x],v),k=Lt(m,[0,x*2],v),E=Lt(m,[0,x*3],v),_=Je(Te(Iu(b),Gb(w)),Te(u,Iu(Je(o,k)))),I=Te(Gb(_),Iu(E));return[_,I]}const qq=K({basicLSTMCell_:JLe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZLe(t,e,n){const r=L(t,"x","batchToSpaceND"),i=e.reduce((a,l)=>a*l);B(r.rank>=1+e.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${e.length}`),B(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),B(r.shape[0]%i===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${i}`);const s={x:r},o={blockShape:e,crops:n};return X.runKernel(U2,s,o)}const bA=K({batchToSpaceND_:ZLe});function e5e(t){let e;return t.rank===0||t.rank===1?e=pe(t,[1,1,1,t.size]):t.rank===2?e=pe(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=pe(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t5e(t,e,n,r,i,s){s==null&&(s=.001);const o=L(t,"x","batchNorm"),a=L(e,"mean","batchNorm"),l=L(n,"variance","batchNorm");let c;i!=null&&(c=L(i,"scale","batchNorm"));let u;r!=null&&(u=L(r,"offset","batchNorm")),B(a.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),B(u==null||a.rank===u.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),B(c==null||a.rank===c.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const f={x:e5e(o),scale:c,offset:u,mean:a,variance:l},h={varianceEpsilon:s},m=X.runKernel(mS,f,h);return pe(m,o.shape)}const zv=K({batchNorm_:t5e});function n5e(t,e,n,r,i,s){const o=L(t,"x","batchNorm"),a=L(e,"mean","batchNorm"),l=L(n,"variance","batchNorm");let c;i!=null&&(c=L(i,"scale","batchNorm"));let u;return r!=null&&(u=L(r,"offset","batchNorm")),B(o.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${o.rank}.`),B(a.rank===2||a.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${a.rank}.`),B(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),c!=null&&B(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${c.rank}.`),u!=null&&B(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${u.rank}.`),zv(o,a,l,u,c,s)}const Kq=K({batchNorm2d_:n5e});function r5e(t,e,n,r,i,s){const o=L(t,"x","batchNorm"),a=L(e,"mean","batchNorm"),l=L(n,"variance","batchNorm");let c;i!=null&&(c=L(i,"scale","batchNorm"));let u;return r!=null&&(u=L(r,"offset","batchNorm")),B(o.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${o.rank}.`),B(a.rank===3||a.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${a.rank}.`),B(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),c!=null&&B(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${c.rank}.`),u!=null&&B(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${u.rank}.`),zv(o,a,l,u,c,s)}const Xq=K({batchNorm3d_:r5e});function i5e(t,e,n,r,i,s){const o=L(t,"x","batchNorm"),a=L(e,"mean","batchNorm"),l=L(n,"variance","batchNorm");let c;i!=null&&(c=L(i,"scale","batchNorm"));let u;return r!=null&&(u=L(r,"offset","batchNorm")),B(o.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${o.rank}.`),B(a.rank===4||a.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${a.rank}.`),B(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),c!=null&&B(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${c.rank}.`),u!=null&&B(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${u.rank}.`),zv(o,a,l,u,c,s)}const Qq=K({batchNorm4d_:i5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s5e(t,e,n){const r=L(t,"x","bincount"),i=L(e,"weights","bincount");B(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),B(n>=0,()=>`size must be non-negative, but got ${n}.`),B(i.size===r.size||i.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${i.shape}.`);const s={x:r,weights:i},o={size:n};return X.runKernel(W2,s,o)}const wA=K({bincount_:s5e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o5e(t,e){const n=L(t,"s0","broadcastArgs","int32"),r=L(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const i={s0:n,s1:r};return X.runKernel(G2,i)}const Yq=K({broadcastArgs_:o5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a5e(t,e){let n=L(t,"broadcastTo","x");const r=n.shape;if(e.some(c=>!(c>0)||c%1!==0))throw new Error(`broadcastTo(): Invalid broadcast shape [${e}].`);if(e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const c=n.shape.slice();for(;c.length<e.length;)c.unshift(1);n=pe(n,c)}const i=n.shape,s=Array.from(e);for(let c=e.length-1;c>=0;c--)if(i[c]===e[c])s[c]=1;else if(n.shape[c]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${e}].`);if(s.map((c,u)=>c>1?u:-1).filter(c=>c>=0).length===0)return Va(n);const a={x:n},l={reps:s};return X.runKernel(Pv,a,l)}const eh=K({broadcastTo_:a5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l5e(t){const n={x:L(t,"x","ceil","float32")};return X.runKernel(jy,n)}const Jq=K({ceil_:l5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fp(t,e,n){const r={shape:t,value:e,dtype:n};return X.runKernel(hS,{},r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c5e(t,e,n){const r=L(t,"x","clipByValue");if(B(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return fp(r.shape,e,r.dtype);const i={x:r},s={clipValueMin:e,clipValueMax:n};return X.runKernel(Vy,i,s)}const Zq=K({clipByValue_:c5e});function u5e(t){return Lr(t,0)}const eK=K({concat1d_:u5e});function d5e(t,e){return Lr(t,e)}const tK=K({concat2d_:d5e});function f5e(t,e){return Lr(t,e)}const nK=K({concat3d_:f5e});function h5e(t,e){return Lr(t,e)}const rK=K({concat4d_:h5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p5e(t,e,n,r,i="NHWC",s=[1,1],o){const a=L(t,"x","conv2d","float32"),l=L(e,"filter","conv2d","float32");let c=a,u=!1;a.rank===3&&(u=!0,c=pe(a,[1,a.shape[0],a.shape[1],a.shape[2]])),B(c.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${c.rank}.`),B(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),Xs("conv2d",r,o);const d=i==="NHWC"?c.shape[3]:c.shape[1];B(d===l.shape[2],()=>`Error in conv2d: depth of input (${d}) must match input depth for filter ${l.shape[2]}.`),B(Br(n,s),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`);const f={x:c,filter:l},h={strides:n,pad:r,dataFormat:i,dilations:s,dimRoundingMode:o},m=X.runKernel(X2,f,h);return u?pe(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const jv=K({conv2d_:p5e});function m5e(t,e,n,r,i="NWC",s=1,o){const a=L(t,"x","conv1d"),l=L(e,"filter","conv1d");let c=a,u=!1;a.rank===2&&(u=!0,c=pe(a,[1,a.shape[0],a.shape[1]])),B(c.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${c.rank}.`),B(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),Xs("conv1d",r,o),B(c.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${c.shape[2]}) must match input depth for filter ${l.shape[1]}.`),B(Br(n,s),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${s}'`),B(i==="NWC",()=>`Error in conv1d: got dataFormat of ${i} but only NWC is currently supported.`);const d=pe(l,[1,l.shape[0],l.shape[1],l.shape[2]]),f=pe(c,[c.shape[0],1,c.shape[1],c.shape[2]]),x=jv(f,d,[1,n],r,"NHWC",[1,s],o);return u?pe(x,[x.shape[2],x.shape[3]]):pe(x,[x.shape[0],x.shape[2],x.shape[3]])}const iK=K({conv1d_:m5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g5e(t,e,n,r,i,s="NHWC",o){B(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let a=t,l=e,c=!1;e.rank===3&&(c=!0,l=pe(e,[1,e.shape[0],e.shape[1],e.shape[2]]),a=[1,t[0],t[1],t[2]]),B(a.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${a.length}.`),B(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),B(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const u=s==="NHWC"?a[3]:a[1],d=s==="NHWC"?l.shape[3]:l.shape[1];B(u===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${u}) must match input depth for filter ${n.shape[2]}.`),B(d===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${d}) must match output depth for filter ${n.shape[3]}.`),Xs("conv2dDerInput",i,o);const f={dy:l,filter:n},h={strides:r,pad:i,dataFormat:s,dimRoundingMode:o,inputShape:a},m=X.runKernel(Y2,f,h);return c?pe(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const sK=K({conv2DBackpropInput_:g5e});function y5e(t,e,n,r,i,s){const o=L(t,"x","conv2dTranspose"),a=L(e,"filter","conv2dTranspose");return sK(n,o,a,r,i,"NHWC",s)}const oK=K({conv2dTranspose_:y5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v5e(t,e,n,r,i="NDHWC",s=[1,1,1]){const o=L(t,"x","conv3d"),a=L(e,"filter","conv3d");let l=o,c=!1;o.rank===4&&(c=!0,l=pe(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),B(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),B(a.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${a.rank}.`),B(l.shape[4]===a.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${a.shape[3]}.`),B(Br(n,s),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`),B(i==="NDHWC",()=>`Error in conv3d: got dataFormat of ${i} but only NDHWC is currently supported.`);const u={x:l,filter:a},d={strides:n,pad:r,dataFormat:i,dilations:s},f=X.runKernel(J2,u,d);return c?pe(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const aK=K({conv3d_:v5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x5e(t,e,n,r,i){B(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let s=t,o=e,a=!1;e.rank===4&&(a=!0,o=pe(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),s=[1,t[0],t[1],t[2],t[3]]);const l=s[4],c=o.shape[4];B(s.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${s.length}.`),B(o.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${o.rank}`),B(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),B(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),B(c===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${c}) must match output depth for filter ${n.shape[4]}.`);const u={dy:o,filter:n},d={pad:i,strides:r,inputShape:s},f=X.runKernel(Z2,u,d);return a?pe(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const b5e=K({conv3DBackpropInput_:x5e});function w5e(t,e,n,r,i){const s=L(t,"x","conv3dTranspose"),o=L(e,"filter","conv3dTranspose");return b5e(n,s,o,r,i)}const lK=K({conv3dTranspose_:w5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S5e(t){const n={x:L(t,"x","cos","float32")};return X.runKernel(Uy,n)}const cK=K({cos_:S5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k5e(t){const n={x:L(t,"x","cosh","float32")};return X.runKernel(Wy,n)}const uK=K({cosh_:k5e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C5e(t,e=0,n=!1,r=!1){const s={x:L(t,"x","cumprod")},o={axis:e,exclusive:n,reverse:r};return X.runKernel(eS,s,o)}const dK=K({cumprod_:C5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E5e(t,e=0,n=!1,r=!1){const s={x:L(t,"x","cumsum")},o={axis:e,exclusive:n,reverse:r};return X.runKernel(tS,s,o)}const fK=K({cumsum_:E5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T5e(t,e,n,r=!1){const i=L(t,"x","denseBincount"),s=L(e,"weights","denseBincount");B(i.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${i.dtype}`),B(i.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${i.rank}.`),B(n>=0,()=>`size must be non-negative, but got ${n}.`),B(s.size===i.size||s.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${i.shape}, weights shape: ${s.shape}.`);const o={x:i,weights:s},a={size:n,binaryOutput:r};return X.runKernel(rS,o,a)}const hK=K({denseBincount_:T5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _5e(t,e,n="NHWC"){const r=L(t,"x","depthToSpace","float32"),i=n==="NHWC"?r.shape[1]:r.shape[2],s=n==="NHWC"?r.shape[2]:r.shape[3],o=n==="NHWC"?r.shape[3]:r.shape[1];B(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),B(i*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${i} and ${e}  for depthToSpace with input shape
    ${r.shape}`),B(s*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${e} for depthToSpace with input shape
        ${r.shape}`),B(o%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${o} for depthToSpace with input shape ${r.shape}`);const a={x:r},l={blockSize:e,dataFormat:n};return X.runKernel(iS,a,l)}const pK=K({depthToSpace_:_5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I5e(t,e,n,r,i="NHWC",s=[1,1],o){const a=L(t,"x","depthwiseConv2d","float32"),l=L(e,"filter","depthwiseConv2d","float32");let c=a,u=!1;a.rank===3&&(u=!0,c=pe(a,[1,a.shape[0],a.shape[1],a.shape[2]])),B(c.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${c.rank}.`),B(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const d=i==="NHWC"?c.shape[3]:c.shape[1];B(d===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${d}) must match the inChannels dimension in filter ${l.shape[2]}.`),Xs("depthwiseConv2d",r,o);const f={x:c,filter:l},h={strides:n,pad:r,dataFormat:i,dilations:s,dimRoundingMode:o},m=X.runKernel(sS,f,h);return u?pe(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const Sk=K({depthwiseConv2d_:I5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $5e(t){const n={x:L(t,"x","diag")};return X.runKernel(lS,n)}const mK=K({diag_:$5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N5e(t,e,n,r,i=[1,1],s="NHWC"){const o=L(t,"x","dilation2d"),a=L(e,"filter","dilation2d");B(o.rank===3||o.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${o.rank}.`),B(a.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${a.rank}.`),B(s==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${s}`);let l=o,c=!1;o.rank===3&&(l=pe(o,[1,o.shape[0],o.shape[1],o.shape[2]]),c=!0);const u={x:l,filter:a},d={strides:n,pad:r,dilations:i},f=X.runKernel(cS,u,d);return c?pe(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const gK=K({dilation2d_:N5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O5e(t,e){let n=L(t,"a","equal","string_or_numeric"),r=L(e,"b","equal","string_or_numeric");[n,r]=yn(n,r),pt(n.shape,r.shape);const i={a:n,b:r};return X.runKernel(Ky,i)}const SA=K({equal_:O5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R5e(t,e,n){const r=L(e,"a","where"),i=L(n,"b","where"),s=L(t,"condition","where","bool"),o=pt(pt(s.shape,r.shape),i.shape),a=eh(s,o),l=eh(r,o),c=eh(i,o),u={condition:a,t:l,e:c};return X.runKernel(YS,u)}const Qu=K({where_:R5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A5e(t){const n={x:L(t,"x","zerosLike")};return X.runKernel(yk,n)}const Ui=K({zerosLike_:A5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P5e(t,e){let n=L(t,"a","div"),r=L(e,"b","div");[n,r]=yn(n,r);const i=Ut(n,r),s=Ui(i),o=SA(r,s);return Qu(o,s,i)}const yK=K({divNoNan_:P5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D5e(t,e){const n=L(t,"t1","dot"),r=L(e,"t2","dot");B((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const i=n.rank===1?n.size:n.shape[1],s=r.rank===1?r.size:r.shape[0];if(B(i===s,()=>`Error in dot: inner dimensions of inputs must match, but got ${i} and ${s}.`),n.rank===1&&r.rank===1){const o=pe(n,[1,-1]),a=pe(r,[-1,1]),l=$t(o,a);return pe(l,[])}else if(n.rank===1&&r.rank===2){const o=pe(n,[1,-1]),a=pe(r,[r.shape[0],r.shape[1]]),l=$t(o,a);return pe(l,[l.size])}else if(n.rank===2&&r.rank===1){const o=pe(r,[-1,1]),a=$t(n,o);return pe(a,[a.size])}else{const o=pe(r,[r.shape[0],r.shape[1]]);return $t(n,o)}}const vK=K({dot_:D5e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F5e(t,...e){const n=e.map((i,s)=>L(i,`tensors${s}`,"einsum")),r={equation:t};return X.runKernel(uS,n,r)}const xK=K({einsum_:F5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L5e(t){const n={x:L(t,"x","elu","float32")};return X.runKernel(Hy,n)}const kA=K({elu_:L5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M5e(t){let e=L(t,"x","erf");B(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=an(e,"float32"));const n={x:e};return X.runKernel(qy,n)}const bK=K({erf_:M5e});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CA(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function wK(t,e,n){const r=t.length+e.length,i=[];let s=0,o=0;for(let a=0;a<r;a++)n.indexOf(a)===-1?i.push(t[s++]):i.push(e[o++]);return i}function Sr(t,e){const n=[],r=t.length;for(let s=0;s<r;s++)e.indexOf(s)===-1&&n.push(t[s]);const i=e.map(s=>t[s]);return[n,i]}function Qn(t,e){const n=e.map(r=>1);return wK(t,n,e)}function kr(t,e,n){B(CA(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function An(t,e){if(CA(t,e))return null;const n=[];for(let r=0;r<e;++r)t.indexOf(r)===-1&&n.push(r);return t.forEach(r=>n.push(r)),n}function Vv(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function Pn(t,e){const n=[];for(let r=e-t;r<e;++r)n.push(r);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B5e(t,e=null,n=!1){const i={x:L(t,"x","max")},s={reductionIndices:e,keepDims:n};return X.runKernel(kS,i,s)}const $u=K({max_:B5e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z5e(t,e=null,n=!1){const i={x:L(t,"x","min")},s={axis:e,keepDims:n};return X.runKernel(IS,i,s)}const Hb=K({min_:z5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j5e(t,e){let n=L(t,"base","pow"),r=L(e,"exp","pow");[n,r]=yn(n,r);const i={a:n,b:r};return X.runKernel(yv,i)}const $h=K({pow_:j5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ft(t,e){if((Rr(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&Rr(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Rc(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V5e(t){const n={x:L(t,"x","sqrt","float32")};return X.runKernel($v,n)}const ca=K({sqrt_:V5e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U5e(t){const e=L(t,"x","square"),n={};return X.runKernel("Square",{x:e},n)}const zs=K({square_:U5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W5e(t,e=null,n=!1){let r=L(t,"x","sum");r.dtype==="bool"&&(r=an(r,"int32"));const i={x:r},s={axis:e,keepDims:n};return X.runKernel(ZS,i,s)}const Vt=K({sum_:W5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G5e(t,e="euclidean",n=null,r=!1){t=L(t,"x","norm");const i=SK(t,e,n);let s=i.shape;if(r){const o=wt(n,t.shape);s=Qn(i.shape,o)}return pe(i,s)}function SK(t,e,n=null){if(t.rank===0)return Ni(t);if(t.rank!==1&&n===null)return SK(pe(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return Vt(Ni(t),n);if(e===1/0)return $u(Ni(t),n);if(e===-1/0)return Hb(Ni(t),n);if(e==="euclidean"||e===2)return ca(Vt($h(Ni(t),ft(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return $u(Vt(Ni(t),n[0]),n[1]-1);if(e===1/0)return $u(Vt(Ni(t),n[1]),n[0]);if(e===-1/0)return Hb(Vt(Ni(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return ca(Vt(zs(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const Uv=K({norm_:G5e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H5e(t,e=null,n=!1){return Uv(t,"euclidean",e,n)}const kK=K({euclideanNorm_:H5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q5e(t){const n={x:L(t,"x","exp")};return X.runKernel(Xy,n)}const vc=K({exp_:q5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K5e(t,e=0){const n=L(t,"x","expandDims","string_or_numeric");B(e<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},i={dim:e};return X.runKernel(dS,r,i)}const Oa=K({expandDims_:K5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X5e(t){const n={x:L(t,"x","expm1")};return X.runKernel(Qy,n)}const CK=K({expm1_:X5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q5e(t,e){const n=L(t,"x","tile","string_or_numeric");B(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const r={x:n},i={reps:e};return X.runKernel(Pv,r,i)}const th=K({tile_:Q5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y5e(t,e,n,r="float32"){e==null&&(e=t);const i=it([t,e],r),s=t<=e?t:e;for(let a=0;a<s;++a)i.set(1,a,a);const o=pe(i.toTensor(),[t,e]);if(n==null)return o;if(n.length===1)return th(Oa(o,0),[n[0],1,1]);if(n.length===2)return th(Oa(Oa(o,0),0),[n[0],n[1],1,1]);if(n.length===3)return th(Oa(Oa(Oa(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const EA=K({eye_:Y5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J5e(t){const n={x:L(t,"x","floor","float32")};return X.runKernel(Yy,n)}const TA=K({floor_:J5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z5e(t,e,n=0,r=0){const i=L(t,"x","gather"),s=L(e,"indices","gather","int32"),o={x:i,indices:s},a={axis:n,batchDims:r};return X.runKernel(gS,o,a)}const _A=K({gather_:Z5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eMe(t,e){let n=L(t,"a","greater","string_or_numeric"),r=L(e,"b","greater","string_or_numeric");[n,r]=yn(n,r),pt(n.shape,r.shape);const i={a:n,b:r};return X.runKernel(Zy,i)}const Wv=K({greater_:eMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tMe(t,e){let n=L(t,"a","greaterEqual","string_or_numeric"),r=L(e,"b","greaterEqual","string_or_numeric");[n,r]=yn(n,r),pt(n.shape,r.shape);const i={a:n,b:r};return X.runKernel(ev,i)}const IA=K({greaterEqual_:tMe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nMe(t){const n={x:L(t,"x","isFinite")};return X.runKernel(nv,n)}const EK=K({isFinite_:nMe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rMe(t){const n={x:L(t,"x","isInf")};return X.runKernel(rv,n)}const TK=K({isInf_:rMe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iMe(t){const n={x:L(t,"x","isNaN")};return X.runKernel(iv,n)}const _K=K({isNaN_:iMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sMe(t,e=.2){const r={x:L(t,"x","leakyRelu")},i={alpha:e};return X.runKernel(bS,r,i)}const $A=K({leakyRelu_:sMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oMe(t,e){let n=L(t,"a","less","string_or_numeric"),r=L(e,"b","less","string_or_numeric");[n,r]=yn(n,r),pt(n.shape,r.shape);const i={a:n,b:r};return X.runKernel(sv,i)}const IK=K({less_:oMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aMe(t,e){let n=L(t,"a","lessEqual","string_or_numeric"),r=L(e,"b","lessEqual","string_or_numeric");[n,r]=yn(n,r),pt(n.shape,r.shape);const i={a:n,b:r};return X.runKernel(ov,i)}const kk=K({lessEqual_:aMe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $K(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:t,stop:e,num:n};return X.runKernel(wS,{},r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lMe(t,e=5,n=1,r=1,i=.5){const s=L(t,"x","localResponseNormalization");B(s.rank===4||s.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${s.rank}.`),B(Wu(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let o=s,a=!1;s.rank===3&&(a=!0,o=pe(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const l={x:o},c={depthRadius:e,bias:n,alpha:r,beta:i},u=X.runKernel(SS,l,c);return a?pe(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const NK=K({localResponseNormalization_:lMe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cMe(t){const n={x:L(t,"x","log","float32")};return X.runKernel(av,n)}const Nh=K({log_:cMe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uMe(t){const n={x:L(t,"x","log1p")};return X.runKernel(lv,n)}const NA=K({log1p_:uMe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dMe(t){return B(yc(t),()=>"The f passed in grad(f) must be a function"),(e,n)=>{const r=L(e,"x","tf.grad","string_or_numeric"),i=n!=null?L(n,"dy","tf.grad"):null;return X.tidy(()=>{const{value:s,grads:o}=X.gradients(()=>t(r),[r],i);return i!=null&&wr(s.shape,i.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),Ck(o),o[0]})}}function fMe(t){return B(yc(t),()=>"The f passed in grads(f) must be a function"),(e,n)=>{B(Array.isArray(e),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");const r=Hg(e,"args","tf.grads","string_or_numeric"),i=n!=null?L(n,"dy","tf.grads"):null;return X.tidy(()=>{const{value:s,grads:o}=X.gradients(()=>t(...r),r,i);return i!=null&&wr(s.shape,i.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),Ck(o),o})}}function hMe(t){return B(yc(t),()=>"The f passed in valueAndGrad(f) must be a function"),(e,n)=>{B(e instanceof gn,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),B(n==null||n instanceof gn,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");const{grads:r,value:i}=X.gradients(()=>t(e),[e],n);return Ck(r),{grad:r[0],value:i}}}function pMe(t){return B(yc(t),()=>"The f passed in valueAndGrads(f) must be a function"),(e,n)=>{B(Array.isArray(e)&&e.every(i=>i instanceof gn),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),B(n==null||n instanceof gn,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");const r=X.gradients(()=>t(...e),e,n);return n!=null&&wr(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),Ck(r.grads),r}}function OK(t,e){B(yc(t),()=>"The f passed in variableGrads(f) must be a function"),B(e==null||Array.isArray(e)&&e.every(c=>c instanceof Gg),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const c in X.registeredVariables)e.push(X.registeredVariables[c])}const r=n?e.filter(c=>!c.trainable):null,i=e.length;e=e.filter(c=>c.trainable),B(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${i} variables is trainable.`);const s=!0,{value:o,grads:a}=X.gradients(t,e,null,s);B(a.some(c=>c!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),B(o.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${o.rank} tensor`);const l={};return e.forEach((c,u)=>{a[u]!=null&&(l[c.name]=a[u])}),r!=null&&r.forEach(c=>l[c.name]=null),{value:o,grads:l}}function ua(t){return X.customGrad(t)}function Ck(t){if(t.filter(n=>n==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mMe(t){const n={x:L(t,"x","softplus")};return X.runKernel(Iv,n)}const OA=K({softplus_:mMe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gMe(t){const e=L(t,"x","logSigmoid");return ua(r=>({value:ra(OA(ra(r))),gradFunc:o=>Te(o,Iu(ra(r)))}))(e)}const RK=K({logSigmoid_:gMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yMe(t,e){let n=L(t,"a","sub"),r=L(e,"b","sub");[n,r]=yn(n,r);const i={a:n,b:r};return X.runKernel(Ov,i)}const dt=K({sub_:yMe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vMe(t,e=-1){const n=L(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return ua((i,s)=>{const a=$u(i,e,!0),l=dt(i,a),c=dt(an(l,"float32"),Nh(Vt(vc(l),e,!0)));return s([c]),{value:c,gradFunc:(d,f)=>{const[h]=f,m=!0,y=vc(h);return dt(d,Te(Vt(d,e,m),y))}}})(n)}const AK=K({logSoftmax_:vMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xMe(t,e=null,n=!1){const r=L(t,"x","logSumExp"),i=wt(e,r.shape),s=$u(r,i,!0),o=dt(r,s),a=vc(o),l=Vt(a,i),c=Nh(l),u=Je(pe(s,c.shape),c);if(n){const d=Qn(u.shape,i);return pe(u,d)}return u}const RA=K({logSumExp_:xMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bMe(t,e){const n=L(t,"a","logicalAnd","bool"),r=L(e,"b","logicalAnd","bool");pt(n.shape,r.shape);const i={a:n,b:r};return X.runKernel(cv,i)}const Xg=K({logicalAnd_:bMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wMe(t){const n={x:L(t,"x","logicalNot","bool")};return X.runKernel(uv,n)}const AA=K({logicalNot_:wMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SMe(t,e){const n=L(t,"a","logicalOr","bool"),r=L(e,"b","logicalOr","bool");pt(n.shape,r.shape);const i={a:n,b:r};return X.runKernel(dv,i)}const PA=K({logicalOr_:SMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kMe(t,e){const n=L(t,"a","logicalXor","bool"),r=L(e,"b","logicalXor","bool");return pt(n.shape,r.shape),Xg(PA(t,e),AA(Xg(t,e)))}const PK=K({logicalXor_:kMe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V1=2147483648;function CMe(t,e,n="left"){const r=L(t,"sortedSequence","searchSorted"),i=L(e,"values","searchSorted"),s=r.shape[r.shape.length-1],o=i.shape[i.shape.length-1],a=pe(r,[-1,s]),l=pe(i,[-1,o]);if(a.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(a.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(le(l.shape)>=V1)throw new Error(`values tensor size must less than ${V1}`);if(a.shape[1]>=V1)throw new Error(`trailing dim_size must less than ${V1} for int32 output type, was ${a.shape[1]}`);const c={sortedSequence:a,values:l},u={side:n};return X.runKernel(QS,c,u)}const Ek=K({searchSorted_:CMe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DK(t,e){return Ek(t,e,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EMe(t,e,n,r,i){const s=L(t,"x","maxPool"),o=1;let a=s,l=!1;s.rank===3&&(l=!0,a=pe(s,[1,s.shape[0],s.shape[1],s.shape[2]])),B(a.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${a.rank}.`),B(Br(n,o),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),Xs("maxPool",r,i);const c={x:a},u={filterSize:e,strides:n,pad:r,dimRoundingMode:i},d=X.runKernel(CS,c,u);return l?pe(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const DA=K({maxPool_:EMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TMe(t,e=[1,1,1],n,r,i,s="NDHWC"){const o=L(t,"x","maxPool3d");let a=o,l=!1;o.rank===4&&(l=!0,a=pe(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),B(a.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${a.rank}.`),B(s==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`),Xs("maxPool3d",r,i);const c={x:a},u={filterSize:e,strides:n,pad:r,dimRoundingMode:i,dataFormat:s},d=X.runKernel(ES,c,u);return l?pe(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const FK=K({maxPool3d_:TMe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Me(t,e,n,r,i=!1){const o={x:L(t,"x","maxPoolWithArgmax")},a={filterSize:e,strides:n,pad:r,includeBatchInIndex:i},l=X.runKernel(TS,o,a);return{result:l[0],indexes:l[1]}}const LK=K({maxPoolWithArgmax_:_Me});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IMe(t,e){let n=L(t,"a","maximum"),r=L(e,"b","maximum");[n,r]=yn(n,r),n.dtype==="bool"&&(n=an(n,"int32"),r=an(r,"int32")),pt(n.shape,r.shape);const i={a:n,b:r};return X.runKernel(fv,i)}const FA=K({maximum_:IMe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Me(t,e=null,n=!1){const i={x:L(t,"x","mean")},s={axis:e,keepDims:n};return X.runKernel(_S,i,s)}const Qg=K({mean_:$Me});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xc(t,e="float32"){if(e==="complex64"){const r=xc(t,"float32"),i=xc(t,"float32");return el(r,i)}const n=vr(le(t),e);return X.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ql(t,e="float32"){if(e==="complex64"){const r=ql(t,"float32"),i=xc(t,"float32");return el(r,i)}const n=A2(le(t),e);return X.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MK(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let r=L(t,"x","meshgrid",t instanceof gn?t.dtype:"float32");if(e===void 0)return[r];let i=L(e,"y","meshgrid",e instanceof gn?e.dtype:"float32");const s=le(r.shape),o=le(i.shape);return n==="xy"?(r=pe(r,[1,-1]),i=pe(i,[-1,1]),[$t(ql([o,1],r.dtype),r),$t(i,ql([1,s],i.dtype))]):(r=pe(r,[-1,1]),i=pe(i,[1,-1]),[$t(r,ql([1,o],r.dtype)),$t(ql([s,1],i.dtype),i)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NMe(t,e){let n=L(t,"a","minimum"),r=L(e,"b","minimum");[n,r]=yn(n,r),n.dtype==="bool"&&(n=an(n,"int32"),r=an(r,"int32")),pt(n.shape,r.shape);const i={a:n,b:r};return X.runKernel(hv,i)}const LA=K({minimum_:NMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OMe(t,e,n){B(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=L(t,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");B(e.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${e.length}.`);const i=n==="reflect"?1:0;for(let a=0;a<r.rank;a++)B(e[a].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),B(e[a][0]>=0&&e[a][0]<=r.shape[a]-i&&e[a][1]>=0&&e[a][1]<=r.shape[a]-i,()=>`Padding in dimension ${a} cannot be greater than or equal to ${r.shape[a]-i} or less than 0 for input of shape ${r.shape}`);const s={paddings:e,mode:n},o={x:r};return X.runKernel($S,o,s)}const BK=K({mirrorPad_:OMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RMe(t,e){let n=L(t,"a","mod"),r=L(e,"b","mod");[n,r]=yn(n,r);const i={a:n,b:r};return X.runKernel(pv,i)}const zK=K({mod_:RMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AMe(t,e=null,n=!1){t=L(t,"x","moments");const r=wt(e,t.shape),i=Qg(t,r,n);let s=i.shape;n||(s=Qn(i.shape,r));const o=zs(dt(an(t,"float32"),pe(i,s))),a=Qg(o,r,n);return{mean:i,variance:a}}const jK=K({moments_:AMe});function PMe(t,e,n,r){const i=L(e,"data","multiRNNCell"),s=Hg(n,"c","multiRNNCell"),o=Hg(r,"h","multiRNNCell");let a=i;const l=[];for(let d=0;d<t.length;d++){const f=t[d](a,s[d],o[d]);l.push(f[0]),l.push(f[1]),a=f[1]}const c=[],u=[];for(let d=0;d<l.length;d+=2)c.push(l[d]),u.push(l[d+1]);return[c,u]}const VK=K({multiRNNCell_:PMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DMe(t,e,n,r=!1){const i=L(t,"logits","multinomial"),s=i.size,o=i.rank;if(s<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${s}.`);if(o>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${o}`);n=n||Math.random();const l={logits:o===1?pe(i,[1,-1]):i},c={numSamples:e,seed:n,normalized:r},u=X.runKernel(NS,l,c);return o===1?pe(u,[u.size]):u}const UK=K({multinomial_:DMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FMe(t,e){let n=L(t,"a","notEqual","string_or_numeric"),r=L(e,"b","notEqual","string_or_numeric");[n,r]=yn(n,r),pt(n.shape,r.shape);const i={a:n,b:r};return X.runKernel(gv,i)}const MA=K({notEqual_:FMe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LMe(t){const n={x:L(t,"x","onesLike")};return X.runKernel(DS,n)}const WK=K({onesLike_:LMe});function MMe(t,e){const n=L(t,"v1","outerProduct"),r=L(e,"v2","outerProduct");B(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);const i=pe(n,[-1,1]),s=pe(r,[1,-1]);return $t(i,s)}const GK=K({outerProduct_:MMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BMe(t,e,n=0){const r=L(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const i={paddings:e,constantValue:n},s={x:r};return X.runKernel(MS,s,i)}const hp=K({pad_:BMe});function zMe(t,e,n=0){return B(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),hp(t,[e],n)}const HK=K({pad1d_:zMe});function jMe(t,e,n=0){return B(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),hp(t,e,n)}const qK=K({pad2d_:jMe});function VMe(t,e,n=0){return B(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),hp(t,e,n)}const KK=K({pad3d_:VMe});function UMe(t,e,n=0){return B(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),hp(t,e,n)}const XK=K({pad4d_:UMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WMe(t,e,n){const r=L(t,"x","spaceToBatchND");B(r.rank>=1+e.length,()=>`input rank ${r.rank} should be > than [blockShape] ${e.length}`),B(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),B(r.shape.reduce((o,a,l)=>l>0&&l<=e.length?o&&(a+n[l-1][0]+n[l-1][1])%e[l-1]===0:o,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const i={x:r},s={blockShape:e,paddings:n};return X.runKernel(ek,i,s)}const BA=K({spaceToBatchND_:WMe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GMe(t,e,n,r,i,s,o){i==null&&(i=[1,1]),s==null&&(s=1),r===0&&(r="valid");const a=L(t,"x","maxPool");let l=a,c=!1;a.rank===3&&(c=!0,l=pe(a,[1,a.shape[0],a.shape[1],a.shape[2]])),B(Br(s,i),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${s} and dilations '${i}'`);const u=Ks(l.shape,e,s,i,r),d=[u.dilationHeight,u.dilationWidth];let f;r==="same"?f=qMe([u.filterHeight,u.filterWidth],d):f=[[0,0],[0,0]];const h=d[0]===1&&d[1]===1,[m,y]=HMe([u.inHeight,u.inWidth],d,f),x=h?r:"valid",v=h?l:BA(l,d,m),w=(n==="avg"?()=>xA(v,e,s,x,o):()=>DA(v,e,s,x,o))(),k=h?w:bA(w,d,y);return c?pe(k,[k.shape[1],k.shape[2],k.shape[3]]):k}function HMe(t,e,n){const r=n.map(u=>u[0]),i=n.map(u=>u[1]),s=t.concat(r,i),o=e.map((u,d)=>(u-s[d]%u)%u),a=i.map((u,d)=>u+o[d]),l=e.map((u,d)=>[r[d],a[d]]),c=e.map((u,d)=>[0,o[d]]);return[l,c]}function qMe(t,e){const r=t.map((o,a)=>o+(o-1)*(e[a]-1)).map(o=>o-1),i=r.map(o=>Math.floor(o/2)),s=r.map((o,a)=>o-i[a]);return r.map((o,a)=>[i[a],s[a]])}const QK=K({pool_:GMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KMe(t,e){const n=L(t,"x","prelu"),r=L(e,"alpha","prelu"),i={x:n,alpha:r};return X.runKernel(BS,i)}const zA=K({prelu_:KMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XMe(t,e=null,n=!1){let r=L(t,"x","prod");r.dtype==="bool"&&(r=an(r,"int32"));const i={x:r},s={axis:e,keepDims:n};return X.runKernel(zS,i,s)}const YK=K({prod_:XMe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QMe(t,e,n,r){const i=t.map((u,d)=>L(u,`tensors${d}`,"raggedGather","int32")),s=L(e,"paramsDenseValues","raggedGather"),o=L(n,"indices","raggedGather","int32"),a={paramsNestedSplits:i,paramsDenseValues:s,indices:o},l={outputRaggedRank:r},c=X.runKernel(jS,a,l);return{outputNestedSplits:c.slice(0,c.length-1),outputDenseValues:c[c.length-1]}}const JK=K({raggedGather_:QMe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YMe(t,e,n,r,i){const s=L(t,"shape","raggedTensorToTensor","int32"),o=L(e,"values","raggedTensorToTensor"),a=L(n,"defaultValue","raggedTensorToTensor",o.dtype),l=r.map((d,f)=>L(d,`tensors${f}`,"raggedTensorToTensor","int32")),c={shape:s,values:o,defaultValue:a,rowPartitionTensors:l},u={rowPartitionTypes:i};return X.runKernel(VS,c,u)}const ZK=K({raggedTensorToTensor_:YMe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JMe(t,e,n){const r=le(t);let i=null;if(n==null||n==="float32")i=new Float32Array(r);else if(n==="int32")i=new Int32Array(r);else if(n==="bool")i=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let s=0;s<r;s++)i[s]=e();return X.makeTensor(i,t,n)}const eX=K({rand_:JMe});var jA={exports:{}};jA.exports;(function(t){(function(e,n,r){function i(l){var c=this,u=a();c.next=function(){var d=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=d|0)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(l),c.s0<0&&(c.s0+=1),c.s1-=u(l),c.s1<0&&(c.s1+=1),c.s2-=u(l),c.s2<0&&(c.s2+=1),u=null}function s(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function o(l,c){var u=new i(l),d=c&&c.state,f=u.next;return f.int32=function(){return u.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&s(d,u),f.state=function(){return s(u,{})}),f}function a(){var l=4022871197,c=function(u){u=String(u);for(var d=0;d<u.length;d++){l+=u.charCodeAt(d);var f=.02519603282416938*l;l=f>>>0,f-=l,f*=l,l=f>>>0,f-=l,l+=f*4294967296}return(l>>>0)*23283064365386963e-26};return c}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.alea=o})(go,t,!1)})(jA);var ZMe=jA.exports,VA={exports:{}};VA.exports;(function(t){(function(e,n,r){function i(a){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,l.next()}function s(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function o(a,l){var c=new i(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&s(u,c),d.state=function(){return s(c,{})}),d}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.xor128=o})(go,t,!1)})(VA);var e6e=VA.exports,UA={exports:{}};UA.exports;(function(t){(function(e,n,r){function i(a){var l=this,c="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function s(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function o(a,l){var c=new i(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&s(u,c),d.state=function(){return s(c,{})}),d}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.xorwow=o})(go,t,!1)})(UA);var t6e=UA.exports,WA={exports:{}};WA.exports;(function(t){(function(e,n,r){function i(a){var l=this;l.next=function(){var u=l.x,d=l.i,f,h;return f=u[d],f^=f>>>7,h=f^f<<24,f=u[d+1&7],h^=f^f>>>10,f=u[d+3&7],h^=f^f>>>3,f=u[d+4&7],h^=f^f<<7,f=u[d+7&7],f=f^f<<13,h^=f^f<<9,u[d]=h,l.i=d+1&7,h};function c(u,d){var f,h=[];if(d===(d|0))h[0]=d;else for(d=""+d,f=0;f<d.length;++f)h[f&7]=h[f&7]<<15^d.charCodeAt(f)+h[f+1&7]<<13;for(;h.length<8;)h.push(0);for(f=0;f<8&&h[f]===0;++f);for(f==8?h[7]=-1:h[f],u.x=h,u.i=0,f=256;f>0;--f)u.next()}c(l,a)}function s(a,l){return l.x=a.x.slice(),l.i=a.i,l}function o(a,l){a==null&&(a=+new Date);var c=new i(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(u.x&&s(u,c),d.state=function(){return s(c,{})}),d}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.xorshift7=o})(go,t,!1)})(WA);var n6e=WA.exports,GA={exports:{}};GA.exports;(function(t){(function(e,n,r){function i(a){var l=this;l.next=function(){var u=l.w,d=l.X,f=l.i,h,m;return l.w=u=u+1640531527|0,m=d[f+34&127],h=d[f=f+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,m=d[f]=m^h,l.i=f,m+(u^u>>>16)|0};function c(u,d){var f,h,m,y,x,v=[],b=128;for(d===(d|0)?(h=d,d=null):(d=d+"\0",h=0,b=Math.max(b,d.length)),m=0,y=-32;y<b;++y)d&&(h^=d.charCodeAt((y+32)%d.length)),y===0&&(x=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,y>=0&&(x=x+1640531527|0,f=v[y&127]^=h+x,m=f==0?m+1:0);for(m>=128&&(v[(d&&d.length||0)&127]=-1),m=127,y=4*128;y>0;--y)h=v[m+34&127],f=v[m=m+1&127],h^=h<<13,f^=f<<17,h^=h>>>15,f^=f>>>12,v[m]=h^f;u.w=x,u.X=v,u.i=m}c(l,a)}function s(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function o(a,l){a==null&&(a=+new Date);var c=new i(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(u.X&&s(u,c),d.state=function(){return s(c,{})}),d}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.xor4096=o})(go,t,!1)})(GA);var r6e=GA.exports,HA={exports:{}};HA.exports;(function(t){(function(e,n,r){function i(a){var l=this,c="";l.next=function(){var d=l.b,f=l.c,h=l.d,m=l.a;return d=d<<25^d>>>7^f,f=f-h|0,h=h<<24^h>>>8^m,m=m-d|0,l.b=d=d<<20^d>>>12^f,l.c=f=f-h|0,l.d=h<<16^f>>>16^m,l.a=m-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):c+=a;for(var u=0;u<c.length+20;u++)l.b^=c.charCodeAt(u)|0,l.next()}function s(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function o(a,l){var c=new i(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&s(u,c),d.state=function(){return s(c,{})}),d}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.tychei=o})(go,t,!1)})(HA);var i6e=HA.exports,tX={exports:{}};const s6e={},o6e=Object.freeze(Object.defineProperty({__proto__:null,default:s6e},Symbol.toStringTag,{value:"Module"})),a6e=UZ(o6e);(function(t){(function(e,n,r){var i=256,s=6,o=52,a="random",l=r.pow(i,s),c=r.pow(2,o),u=c*2,d=i-1,f;function h(k,E,_){var I=[];E=E==!0?{entropy:!0}:E||{};var N=v(x(E.entropy?[k,w(n)]:k??b(),3),I),D=new m(I),P=function(){for(var F=D.g(s),U=l,j=0;F<c;)F=(F+j)*i,U*=i,j=D.g(1);for(;F>=u;)F/=2,U/=2,j>>>=1;return(F+j)/U};return P.int32=function(){return D.g(4)|0},P.quick=function(){return D.g(4)/4294967296},P.double=P,v(w(D.S),n),(E.pass||_||function(F,U,j,W){return W&&(W.S&&y(W,D),F.state=function(){return y(D,{})}),j?(r[a]=F,U):F})(P,N,"global"in E?E.global:this==r,E.state)}function m(k){var E,_=k.length,I=this,N=0,D=I.i=I.j=0,P=I.S=[];for(_||(k=[_++]);N<i;)P[N]=N++;for(N=0;N<i;N++)P[N]=P[D=d&D+k[N%_]+(E=P[N])],P[D]=E;(I.g=function(F){for(var U,j=0,W=I.i,q=I.j,Q=I.S;F--;)U=Q[W=d&W+1],j=j*i+Q[d&(Q[W]=Q[q=d&q+U])+(Q[q]=U)];return I.i=W,I.j=q,j})(i)}function y(k,E){return E.i=k.i,E.j=k.j,E.S=k.S.slice(),E}function x(k,E){var _=[],I=typeof k,N;if(E&&I=="object")for(N in k)try{_.push(x(k[N],E-1))}catch{}return _.length?_:I=="string"?k:k+"\0"}function v(k,E){for(var _=k+"",I,N=0;N<_.length;)E[d&N]=d&(I^=E[d&N]*19)+_.charCodeAt(N++);return w(E)}function b(){try{var k;return f&&(k=f.randomBytes)?k=k(i):(k=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(k)),w(k)}catch{var E=e.navigator,_=E&&E.plugins;return[+new Date,e,_,e.screen,w(n)]}}function w(k){return String.fromCharCode.apply(0,k)}if(v(r.random(),n),t.exports){t.exports=h;try{f=a6e}catch{}}else r["seed"+a]=h})(typeof self<"u"?self:go,[],Math)})(tX);var l6e=tX.exports,c6e=ZMe,u6e=e6e,d6e=t6e,f6e=n6e,h6e=r6e,p6e=i6e,wd=l6e;wd.alea=c6e;wd.xor128=u6e;wd.xorwow=d6e;wd.xorshift7=f6e;wd.xor4096=h6e;wd.tychei=p6e;var Tk=wd;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qA{constructor(e,n,r,i,s){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=i,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const o=s||Math.random();this.random=Tk.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const i=this.nextVal;return this.nextVal=NaN,i}let e,n,r=!1;for(;!r;){let i,s,o;do i=2*this.random()-1,s=2*this.random()-1,o=i*i+s*s;while(o>=1||o===0);const a=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*i*a,n=this.mean+this.stdDev*s*a,(!this.truncated||this.isValidTruncated(e))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class m6e{constructor(e,n,r,i){this.alpha=e,this.beta=1/n,this.dtype=r;const s=i||Math.random();this.randu=Tk.alea(s.toString()),this.randn=new qA(0,1,r,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,r,i,s,o;for(;;){do i=this.randn.nextValue(),o=1+this.c*i;while(o<=0);if(o*=o*o,e=i*i,n=1-.331*e*e,r=.5*e+this.d*(1-o+Math.log(o)),s=this.randu(),s<n||Math.log(s)<r)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class g6e{constructor(e=0,n=1,r,i){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=r,i==null&&(i=Math.random()),typeof i=="number"&&(i=i.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=Tk.alea(i)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y6e(t,e,n=1,r="float32",i){if(n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);const s=new m6e(e,n,r,i),o=it(t,r);for(let a=0;a<o.values.length;a++)o.values[a]=s.nextValue();return o.toTensor()}const nX=K({randomGamma_:y6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v6e(t,e=0,n=1,r,i){if(r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const s=new qA(e,n,r,!1,i),o=it(t,r);for(let a=0;a<o.values.length;a++)o.values[a]=s.nextValue();return o.toTensor()}const KA=K({randomNormal_:v6e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x6e(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return KA(t,0,1,e,n)}const rX=K({randomStandardNormal_:x6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b6e(t,e=0,n=1,r="float32",i){const s=it(t,r),o=new g6e(e,n,null,i);for(let a=0;a<s.values.length;a++)s.values[a]=o.nextValue();return s.toTensor()}const XA=K({randomUniform_:b6e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oh(t,e,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const i={start:t,stop:e,step:n,dtype:r};return X.runKernel(US,{},i)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w6e(t){const n={x:L(t,"x","reciprocal")};return X.runKernel(vv,n)}const iX=K({reciprocal_:w6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S6e(t){const n={x:L(t,"x","relu")};return X.runKernel(xv,n)}const Gv=K({relu_:S6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k6e(t){const n={x:L(t,"x","relu6")};return X.runKernel(bv,n)}const QA=K({relu6_:k6e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C6e(t,e){const r={x:L(t,"x","reverse")},i={dims:e};return X.runKernel(KS,r,i)}const bc=K({reverse_:C6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E6e(t){const e=L(t,"x","reverse");return B(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),bc(e,0)}const sX=K({reverse1d_:E6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T6e(t,e){const n=L(t,"x","reverse");return B(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),bc(n,e)}const oX=K({reverse2d_:T6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _6e(t,e){const n=L(t,"x","reverse");return B(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),bc(n,e)}const aX=K({reverse3d_:_6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I6e(t,e){const n=L(t,"x","reverse");return B(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),bc(n,e)}const lX=K({reverse4d_:I6e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $6e(t){const n={x:L(t,"x","round")};return X.runKernel(wv,n)}const YA=K({round_:$6e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N6e(t){const n={x:L(t,"x","rsqrt","float32")};return X.runKernel(Sv,n)}const cX=K({rsqrt_:N6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O6e(t){const n={x:L(t,"x","selu")};return X.runKernel(kv,n)}const uX=K({selu_:O6e});function R6e(t,e,n,r,i,s=[1,1],o="NHWC"){const a=L(t,"x","separableConv2d"),l=L(e,"depthwiseFilter","separableConv2d"),c=L(n,"pointwiseFilter","separableConv2d");let u=a,d=!1;if(a.rank===3&&(d=!0,u=pe(a,[1,a.shape[0],a.shape[1],a.shape[2]])),o==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");B(u.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${u.rank}.`),B(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),B(c.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),B(c.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${c.shape[0]}.`),B(c.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${c.shape[1]}.`);const f=l.shape[2],h=l.shape[3];B(c.shape[2]===f*h,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${f*h}, but got ${c.shape[2]}.`);const m=Sk(u,l,r,i,o,s),x=jv(m,c,1,"valid",o);return d?pe(x,[x.shape[1],x.shape[2],x.shape[3]]):x}const dX=K({separableConv2d_:R6e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function A6e(t,e){const n=L(t,"x","setdiff1d"),r=L(e,"y","setdiff1d");B(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),B(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),B(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);const i=await n.data(),s=await r.data(),o=new Set(s);let a=0;for(let u=0;u<i.length;u++)o.has(i[u])||a++;const l=new qn([a],n.dtype),c=new qn([a],"int32");for(let u=0,d=0;u<i.length;u++)o.has(i[u])||(l.values[d]=i[u],c.values[d]=u,d++);return[l.toTensor(),c.toTensor()]}const fX=A6e;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P6e(t){const n={x:L(t,"x","sign")};return X.runKernel(Tv,n)}const hX=K({sign_:P6e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D6e(t){const n={x:L(t,"x","sin","float32")};return X.runKernel(Cv,n)}const pX=K({sin_:D6e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F6e(t){const n={x:L(t,"x","sinh")};return X.runKernel(Ev,n)}const mX=K({sinh_:F6e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L6e(t,e,n){const r=L(t,"x","slice1d");return B(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),Lt(r,[e],[n])}const gX=K({slice1d_:L6e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M6e(t,e,n){const r=L(t,"x","slice2d");return B(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),Lt(r,e,n)}const yX=K({slice2d_:M6e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B6e(t,e,n){const r=L(t,"x","slice3d");return B(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),Lt(r,e,n)}const vX=K({slice3d_:B6e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z6e(t,e,n){const r=L(t,"x","slice4d");return B(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),Lt(r,e,n)}const xX=K({slice4d_:z6e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j6e(t,e=-1){const n=L(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const r={logits:n},i={dim:e};return X.runKernel(nk,r,i)}const bX=K({softmax_:j6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V6e(t){B(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return X.runKernel(fS,e)}const _k=K({fft_:V6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U6e(t){B(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return X.runKernel(vS,e)}const Yg=K({ifft_:U6e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W6e(t){const e=t.shape[t.shape.length-1],n=t.size/e;let r;if(e<=2){const i=pe(t,[n,e]);r=Yg(i)}else{const i=[n,2*(e-1)],s=pe(Ih(t),[n,e]),o=pe(Mv(t),[n,e]),a=bc(Lt(s,[0,1],[n,e-2]),1),l=Te(bc(Lt(o,[0,1],[n,e-2]),1),ft(-1)),c=Lr([s,a],1),u=Lr([o,l],1),d=pe(el(c,u),[i[0],i[1]]);r=Yg(d)}if(r=Ih(r),t.rank===3&&t.shape[0]!==0){const i=r,s=t.shape[0];r=pe(r,[s,r.shape[0]/s,r.shape[1]]),i.dispose()}return r}const JA=K({irfft_:W6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G6e(t,e,n=0){const i={x:L(t,"x","split")},s={numOrSizeSplits:e,axis:n};return X.runKernel(tk,i,s)}const Rh=K({split_:G6e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H6e(t,e){B(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const r=t.size/n;let i;if(e!=null&&e<n){const m=t.shape.map(x=>0),y=t.shape.map(x=>x);y[t.shape.length-1]=e,i=Lt(t,m,y),n=e}else if(e!=null&&e>n){const m=t.shape.map(y=>y);m[t.shape.length-1]=e-n,i=Lr([t,xc(m)],t.shape.length-1),n=e}else i=t;const s=Ui(i),o=pe(el(i,s),[r,n]),a=_k(o),l=Math.floor(n/2)+1,c=Ih(a),u=Mv(a),d=Rh(c,[l,n-l],c.shape.length-1),f=Rh(u,[l,n-l],u.shape.length-1),h=i.shape.slice();return h[i.shape.length-1]=l,pe(el(d[0],f[0]),h)}const Ik=K({rfft_:H6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q6e(t,e){let n=L(t,"a","squaredDifference"),r=L(e,"b","squaredDifference");[n,r]=yn(n,r),pt(n.shape,r.shape);const i={a:n,b:r},s={};return X.runKernel(Nv,i,s)}const ZA=K({squaredDifference_:q6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K6e(t,e){const n=L(t,"x","squeeze","string_or_numeric");return pe(n,dl(n.shape,e).newShape)}const Hv=K({squeeze_:K6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X6e(t,e=0){const n=Hg(t,"tensors","stack","string_or_numeric");B(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&B(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,i={axis:e};return X.runKernel(LS,r,i)}const da=K({stack_:X6e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q6e(t,e=0){const r={x:L(t,"x","step")},i={alpha:e};return X.runKernel(Dv,r,i)}const eP=K({step_:Q6e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y6e(t,e,n,r,i=0,s=0,o=0,a=0,l=0){const u={x:L(t,"x","stridedSlice","string_or_numeric")},d={begin:e,end:n,strides:r,beginMask:i,endMask:s,ellipsisMask:o,newAxisMask:a,shrinkAxisMask:l};return X.runKernel(lk,u,d)}const wX=K({stridedSlice_:Y6e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J6e(t){const n={x:L(t,"x","tan","float32")};return X.runKernel(Rv,n)}const SX=K({tan_:J6e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ls(t,e){vd(t);const n=la(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Rc(t,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nh(t,e,n){if(vd(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=la(t,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Rc(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kX(t,e,n){if(vd(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=la(t,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Rc(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CX(t,e,n){if(vd(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const r=la(t,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Rc(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EX(t,e,n){if(vd(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const r=la(t,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||r,Rc(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z6e(t,e=1,n=!0){const r=L(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const i=r.shape[r.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>i)throw new Error(`'k' passed to topk() must be <= the last dimension (${i}) but got ${e}`);const s={x:r},o={k:e,sorted:n},[a,l]=X.runKernel(fk,s,o);return{values:a,indices:l}}const TX=K({topk_:Z6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eBe(t,e=0,n=1,r,i){if(r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const s=new qA(e,n,r,!0,i),o=it(t,r);for(let a=0;a<o.values.length;a++)o.values[a]=s.nextValue();return o.toTensor()}const _X=K({truncatedNormal_:eBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tBe(t,e=0){const n=L(t,"x","unique","string_or_numeric");B(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},i={axis:e},[s,o]=X.runKernel(pk,r,i);return{values:s,indices:o}}const IX=K({unique_:tBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nBe(t,e,n){const r=L(t,"x","unsortedSegmentSum"),i=L(e,"segmentIds","unsortedSegmentSum","int32");B(Wu(n),()=>"numSegments must be of dtype int");const s={x:r,segmentIds:i},o={numSegments:n};return X.runKernel(gk,s,o)}const $X=K({unsortedSegmentSum_:nBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rBe(t,e=0){const n=L(t,"x","unstack","string_or_numeric");B(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},i={axis:e};return X.runKernel(mk,r,i)}const Dc=K({unstack_:rBe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NX(t,e){return Ek(t,e,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OX(t,e=!0,n,r){return X.makeVariable(t,e,n,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $k(t,e){const n=[];for(let s=0;s<e.length;s++)e[s]&&n.push(s);const r=it(t,"int32"),i=it([n.length,t.length],"int32");for(let s=0;s<n.length;s++){const o=r.indexToLoc(n[s]),a=s*t.length;i.values.set(o,a)}return i.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function iBe(t){const e=L(t,"condition","whereAsync","bool"),n=await e.data(),r=$k(e.shape,n);return t!==e&&e.dispose(),r}const tP=iBe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function sBe(t,e,n){const r=L(t,"tensor","boolMask"),i=L(e,"mask","boolMask","bool"),s=n??0,o=i.rank,a=r.shape;B(o>0,()=>"mask cannot be scalar"),wr(a.slice(s,s+o),i.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let y=s;y<s+o;y++)l*=a[y];const c=a.slice(0,s).concat([l],a.slice(s+o)),u=pe(r,c),d=pe(i,[-1]),f=await tP(d),h=Hv(f,[1]),m=_A(u,h,s);return t!==r&&r.dispose(),e!==i&&i.dispose(),h.dispose(),u.dispose(),d.dispose(),f.dispose(),m}const RX=sBe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oBe(t,e,n,r,i=!0){const s=L(t,"v","movingAverage"),o=L(e,"x","movingAverage"),a=L(n,"decay","movingAverage");ZH(s,o),B(Mt(s.shape,o.shape),()=>"Shape mismatch in v and x");const l=ft(1),c=dt(l,a);let u=Te(dt(o,s),c);if(i){B(r!=null,()=>"When using zeroDebias: true, step is required.");const d=L(r,"step","movingAverage");u=Ut(u,dt(l,$h(a,d)))}return Je(s,u)}const AX=K({movingAverage_:oBe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aBe(t,e,n){const r=L(t,"indices","scatterND","int32"),i=L(e,"updates","scatterND");lA(i,r,n);const s={indices:r,updates:i},o={shape:n};return X.runKernel(XS,s,o)}const PX=K({scatterND_:aBe});function lBe(t,e,n,r){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const i=t.rank>0?t.shape[0]:1,s=t.rank>1?t.shape[1]:1;if(n.length!==s)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${s}.`);const o=e.size;if(!(e.rank===0||e.rank===1&&o===i))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${i}]`);if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cBe(t,e,n,r=0){const i=L(t,"sparseIndices","sparseToDense","int32"),s=L(e,"sparseValues","sparseToDense","string_or_numeric"),o=L(r,"defaultValue","sparseToDense",s.dtype);lBe(i,s,n,o);const a={sparseIndices:i,sparseValues:s,defaultValue:o},l={outputShape:n};return X.runKernel(ak,a,l)}const DX=K({sparseToDense_:cBe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uBe(t,e){const n=L(e,"indices","gatherND","int32"),i={params:L(t,"x","gatherND","string_or_numeric"),indices:n};return X.runKernel(yS,i)}const FX=K({gatherND_:uBe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dBe(t,e){if(e==null)return t.shape.slice();if(Mt(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let r=0;r<t.shape.length;r++)e[r]==null&&t.shape[r]!=null?n.push(t.shape[r]):n.push(e[r]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fBe(t,e,n,r){const i=L(t,"x","dropout");if(B(i.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${i.dtype} tensor instead.`),B(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof gn?i.clone():i;const s=dBe(i,n),o=1-e,a=Ut(TA(Je(XA(s,0,1,"float32",r),o)),o);return Te(i,a)}const LX=K({dropout_:fBe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nP(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function Nk(t,e,n){const r=1-t%2,i=new Float32Array(t);for(let s=0;s<t;++s){const o=2*Math.PI*s/(t+r-1);i[s]=e-n*Math.cos(o)}return Ls(i,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function hBe(t,e,n=1){const r=L(t,"predictions","inTopK"),i=L(e,"targets","inTopK");B(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),B(r.rank-1===i.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${i.rank}`),wr(r.shape.slice(0,r.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const s=r.shape[r.shape.length-1];B(n>0&&n<=s,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${s}), but got ${n}`);const o=await r.data(),a=await i.data(),[l,c]=[o.length/s,s],u=Kn("bool",l);for(let d=0;d<l;d++){const f=d*c,h=o.subarray(f,f+c),m=[];for(let y=0;y<h.length;y++)m.push({value:h[y],index:y});m.sort((y,x)=>x.value-y.value),u[d]=0;for(let y=0;y<n;y++)if(m[y].index===a[d]){u[d]=1;break}}return t!==r&&r.dispose(),e!==i&&i.dispose(),wo(u,i.shape,"bool")}const MX=hBe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pBe(t,e,n,r,i,s="NHWC",o){let a=t;t.rank===3&&(a=pe(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=pe(e,[1,e.shape[0],e.shape[1],e.shape[2]])),B(a.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${a.shape}.`),B(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),B(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const c=s==="NHWC"?a.shape[3]:a.shape[1],u=s==="NHWC"?l.shape[3]:l.shape[1];B(c===n[2],()=>`Error in conv2dDerFilter: depth of input ${c}) must match input depth in filter (${n[2]}.`),B(u===n[3],()=>`Error in conv2dDerFilter: depth of dy (${u}) must match output depth for filter (${n[3]}).`),Xs("conv2dDerFilter",i,o);const d={x:a,dy:l},f={strides:r,pad:i,dataFormat:s,dimRoundingMode:o,filterShape:n};return X.runKernel(Q2,d,f)}const mBe=K({conv2DBackpropFilter_:pBe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ok(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return Te(t,eP(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function Rk(t,e){let n=e;const r=sA(t.shape,e.shape);return r.length>0&&(n=Vt(n,r)),pe(n,t.shape)}function Ak(t,e,n,r){if(e==="linear")return t;if(e==="relu")return Gv(t);if(e==="elu")return kA(t);if(e==="relu6")return QA(t);if(e==="prelu")return zA(t,n);if(e==="leakyrelu")return $A(t,r);if(e==="sigmoid")return Iu(t);throw new Error(`Unknown fused activation ${e}.`)}const Pk=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gBe({x:t,filter:e,strides:n,pad:r,dataFormat:i="NHWC",dilations:s=[1,1],dimRoundingMode:o,bias:a,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(l=l||"linear",Pk(X.state.gradientDepth,l)===!1){B(i==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${i} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let _=jv(t,e,n,r,i,s,o);return a!=null&&(_=Je(_,a)),Ak(_,l,c,u)}const d=L(t,"x","conv2d","float32"),f=L(e,"filter","conv2d","float32");let h=d,m=!1;d.rank===3&&(m=!0,h=pe(d,[1,d.shape[0],d.shape[1],d.shape[2]])),B(h.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${h.rank}.`),B(f.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${f.rank}.`),Xs("fused conv2d",r,o);const y=i==="NHWC"?h.shape[3]:h.shape[1];B(f.shape[2]===y,()=>`Error in conv2d: depth of input (${y}) must match input depth for filter ${f.shape[2]}.`),B(Br(n,s),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`);const x=or(h.shape,f.shape,n,s,r,o);let v;a!=null&&(v=L(a,"bias","fused conv2d"),[v]=yn(v,d),i==="NHWC"?pt(x.outShape,v.shape):(B(v.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${v.shape.length}.`),B(v.shape.length===0||v.shape[0]===x.outChannels||v.shape[0]===1,()=>`Error in fused conv2d: bias shape (${v.shape}) is not compatible with the number of output channels (${x.outChannels})`)));let b;if(c!=null){const _=c.shape;if(B(_.length<=1||_.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${_.length}.`),_.length===1)B(_[0]===1||_[0]===x.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${_}) is not compatible with the number of output channels (${x.outChannels}).`);else if(_.length===3)try{pt(_,x.outShape)}catch{const N=`Error in fused conv2d: PReLU activation weights (${_}) is not compatible with the output shape of the conv2d (${x.outShape}).`;throw Error(N)}b=L(c,"prelu weights","fused conv2d")}const w=(_,I)=>{B(i==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${i} but only NHWC is currently supported.`);const[N,D,P,F]=I,U=Ok(_,P,l);B(Kg(s),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`);const j=sK(D.shape,U,N,n,r),W=mBe(D,U,N.shape,n,r),q=[j,W];if(F!=null){const Q=Rk(F,U);q.push(Q)}return q},k={x:h,filter:f,bias:v,preluActivationWeights:b},E={strides:n,pad:r,dataFormat:i,dilations:s,dimRoundingMode:o,activation:l,leakyreluAlpha:u};return a==null?ua((I,N,D)=>{let P=X.runKernel(Vg,k,E);return D([N,I,P]),m&&(P=pe(P,[P.shape[1],P.shape[2],P.shape[3]])),{value:P,gradFunc:w}})(h,f):ua((I,N,D,P)=>{let F=X.runKernel(Vg,k,E);return P([N,I,F,D]),m&&(F=pe(F,[F.shape[1],F.shape[2],F.shape[3]])),{value:F,gradFunc:w}})(h,f,v)}const yBe=K({fusedConv2d_:gBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vBe(t,e,n,r,i,s=[1,1],o){let a=t;t.rank===3&&(a=pe(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=pe(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={x:a,dy:l},u={strides:r,pad:i,dimRoundingMode:o,dilations:s,filterShape:n};return X.runKernel(oS,c,u)}const xBe=K({depthwiseConv2dNativeBackpropFilter_:vBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bBe(t,e,n,r,i,s=[1,1],o){let a=e,l=!1;e.rank===3&&(l=!0,a=pe(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={dy:a,filter:n},u={strides:r,pad:i,dimRoundingMode:o,dilations:s,inputShape:t},d=X.runKernel(aS,c,u);return l?pe(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const wBe=K({depthwiseConv2dNativeBackpropInput_:bBe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SBe({x:t,filter:e,strides:n,pad:r,dataFormat:i="NHWC",dilations:s=[1,1],dimRoundingMode:o,bias:a,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(Pk(X.state.gradientDepth,l)===!1){let E=Sk(t,e,n,r,i,s,o);return a!=null&&(E=Je(E,a)),Ak(E,l,c,u)}const d=L(t,"x","depthwiseConv2d","float32"),f=L(e,"filter","depthwiseConv2d","float32");let h=d,m=!1;d.rank===3&&(m=!0,h=pe(d,[1,d.shape[0],d.shape[1],d.shape[2]])),B(h.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${h.rank}.`),B(f.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${f.rank}.`),B(h.shape[3]===f.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${h.shape[3]}) must match the inChannels dimension in filter ${f.shape[2]}.`),s==null&&(s=[1,1]),B(Br(n,s),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`),Xs("fused depthwiseConv2d",r,o);const y=or(h.shape,f.shape,n,s,r,o,!0);let x;a!=null&&(x=L(a,"bias","fused conv2d"),[x]=yn(x,d),pt(y.outShape,x.shape));let v;c!=null&&(v=L(c,"prelu weights","fused depthwiseConv2d"));const b=(E,_)=>{B(Kg(s),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`);const[I,N,D,P]=_,F=Ok(E,D,l),U=wBe(N.shape,F,I,n,r,s,o),j=xBe(N,F,I.shape,n,r,s,o);if(P!=null){const W=Rk(x,F);return[U,j,W]}return[U,j]},w={x:h,filter:f,bias:x,preluActivationWeights:v},k={strides:n,pad:r,dataFormat:i,dilations:s,dimRoundingMode:o,activation:l,leakyreluAlpha:u};return a==null?ua((_,I,N)=>{let D=X.runKernel(Ug,w,k);return N([I,_,D]),m&&(D=pe(D,[D.shape[1],D.shape[2],D.shape[3]])),{value:D,gradFunc:b}})(h,f):ua((_,I,N,D)=>{let P=X.runKernel(Ug,w,k);return D([I,_,P,N]),m&&(P=pe(P,[P.shape[1],P.shape[2],P.shape[3]])),{value:P,gradFunc:b}})(h,f,x)}const kBe=K({fusedDepthwiseConv2d_:SBe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CBe({a:t,b:e,transposeA:n=!1,transposeB:r=!1,bias:i,activation:s="linear",preluActivationWeights:o,leakyreluAlpha:a=.2}){if(Pk(X.state.gradientDepth,s)===!1){let F=$t(t,e,n,r);return i!=null&&(F=Je(F,i)),Ak(F,s,o,a)}let l=L(t,"a","fused matMul"),c=L(e,"b","fused matMul");[l,c]=yn(l,c);const u=n?l.shape[l.rank-2]:l.shape[l.rank-1],d=r?c.shape[c.rank-1]:c.shape[c.rank-2],f=n?l.shape[l.rank-1]:l.shape[l.rank-2],h=r?c.shape[c.rank-2]:c.shape[c.rank-1],m=l.shape.slice(0,-2),y=c.shape.slice(0,-2),x=le(m),v=le(y);B(u===d,()=>`Error in fused matMul: inner shapes (${u}) and (${d}) of Tensors with shapes ${l.shape} and ${c.shape} and transposeA=${n} and transposeB=${r} must match.`);const w=pt(l.shape.slice(0,-2),c.shape.slice(0,-2)).concat([f,h]),k=n?pe(l,[x,u,f]):pe(l,[x,f,u]),E=r?pe(c,[v,h,d]):pe(c,[v,d,h]);let _;i!=null&&(_=L(i,"bias","fused matMul"),[_]=yn(_,l),pt(w,_.shape));let I;o!=null&&(I=L(o,"prelu weights","fused matMul"));const N=(F,U)=>{const[j,W,q,Q]=U,ee=Ok(pe(F,q.shape),q,s);let V,H;if(!n&&!r?(V=$t(ee,W,!1,!0),H=$t(j,ee,!0,!1)):!n&&r?(V=$t(ee,W,!1,!1),H=$t(ee,j,!0,!1)):n&&!r?(V=$t(W,ee,!1,!0),H=$t(j,ee,!1,!1)):(V=$t(W,ee,!0,!0),H=$t(ee,j,!0,!0)),i!=null){const Y=Rk(Q,ee);return[V,H,Y]}else return[V,H]},D={a:k,b:E,bias:_,preluActivationWeights:I},P={transposeA:n,transposeB:r,activation:s,leakyreluAlpha:a};return i==null?ua((U,j,W)=>{const q=X.runKernel(jg,D,P);return W([U,j,q]),{value:pe(q,w),gradFunc:N}})(k,E):ua((U,j,W,q)=>{const Q=X.runKernel(jg,D,P);return q([U,j,Q,W]),{value:pe(Q,w),gradFunc:N}})(k,E,_)}const EBe=K({fusedMatMul_:CBe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BX=Object.freeze(Object.defineProperty({__proto__:null,conv2d:yBe,depthwiseConv2d:kBe,matMul:EBe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TBe(t){return Nk(t,.54,.46)}const _Be=K({hammingWindow_:TBe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IBe(t){return Nk(t,.5,.5)}const zX=K({hannWindow_:IBe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Be(t,e,n,r=!1,i=0){let s=0;const o=[];for(;s+e<=t.size;)o.push(Lt(t,s,e)),s+=n;if(r)for(;s<t.size;){const a=s+e-t.size,l=Lr([Lt(t,s,e-a),fp([a],i)]);o.push(l),s+=n}return o.length===0?nh([],[0,e]):pe(Lr(o),[o.length,e])}const jX=K({frame_:$Be});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NBe(t,e,n,r,i=zX){r==null&&(r=nP(e));const s=jX(t,e,n),o=Te(s,i(e));return Ik(o,r)}const OBe=K({stft_:NBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RBe(t,e,n,r,i="bilinear",s=0){const o=L(t,"image","cropAndResize"),a=L(e,"boxes","cropAndResize","float32"),l=L(n,"boxInd","cropAndResize","int32"),c=a.shape[0];B(o.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${o.rank}.`),B(a.rank===2&&a.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${c},4] but had shape ${a.shape}.`),B(l.rank===1&&l.shape[0]===c,()=>`Error in cropAndResize: boxInd must be have size [${c}] but had shape ${a.shape}.`),B(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),B(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),B(i==="bilinear"||i==="nearest",()=>`method must be bilinear or nearest, but was ${i}`);const u={image:o,boxes:a,boxInd:l},d={method:i,extrapolationValue:s,cropSize:r};return X.runKernel(nS,u,d)}const ABe=K({cropAndResize_:RBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PBe(t){const e=L(t,"image","flipLeftRight","float32");B(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return X.runKernel(pS,n,{})}const DBe=K({flipLeftRight_:PBe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FBe(t){const e=L(t,"image","grayscaleToRGB"),n=e.rank-1,r=e.shape[n];B(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),B(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const i=new Array(e.rank);return i.fill(1,0,n),i[n]=3,th(e,i)}const LBe=K({grayscaleToRGB_:FBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MBe(t,e,n=0,r=.5){const i=L(t,"image","rotateWithOffset","float32");B(i.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${i.rank}.`);const s={image:i},o={radians:e,fillValue:n,center:r};return X.runKernel(vk,s,o)}const BBe=K({rotateWithOffset_:MBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pp(t,e,n,r,i,s){r==null&&(r=.5),i==null&&(i=Number.NEGATIVE_INFINITY),s==null&&(s=0);const o=t.shape[0];return n=Math.min(n,o),B(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),B(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),B(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),B(e.rank===1,()=>"scores must be a 1D tensor"),B(e.shape[0]===o,()=>`scores has incompatible shape with boxes. Expected ${o}, but was ${e.shape[0]}`),B(0<=s&&s<=1,()=>`softNmsSigma must be in [0, 1], but was '${s}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:s}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zBe(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY){const s=L(t,"boxes","nonMaxSuppression","float32"),o=L(e,"scores","nonMaxSuppression","float32"),a=pp(s,o,n,r,i);n=a.maxOutputSize,r=a.iouThreshold,i=a.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:i};return X.runKernel(RS,{boxes:s,scores:o},l)}const jBe=K({nonMaxSuppression_:zBe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VBe(t,e,n){const r=UBe(t,e,n),i=r<0?-(r+1):r;t.splice(i,0,e)}function UBe(t,e,n){return GBe(t,e,n||WBe)}function WBe(t,e){return t>e?1:t<e?-1:0}function GBe(t,e,n){let r=0,i=t.length,s=0,o=!1;for(;r<i;){s=r+(i-r>>>1);const a=n(e,t[s]);a>0?r=s+1:(i=s,o=!a)}return o?r:-r-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dk(t,e,n,r,i){return rP(t,e,n,r,i,0)}function Fk(t,e,n,r,i,s){return rP(t,e,n,r,i,0,!1,s,!0)}function Lk(t,e,n,r,i,s){return rP(t,e,n,r,i,s,!0)}function rP(t,e,n,r,i,s,o=!1,a=!1,l=!1){const c=[];for(let x=0;x<e.length;x++)e[x]>i&&c.push({score:e[x],boxIndex:x,suppressBeginIndex:0});c.sort(PB);const u=s>0?-.5/s:0,d=[],f=[];for(;d.length<n&&c.length>0;){const x=c.pop(),{score:v,boxIndex:b,suppressBeginIndex:w}=x;if(v<i)break;let k=!1;for(let E=d.length-1;E>=w;--E){const _=HBe(t,b,d[E]);if(_>=r){k=!0;break}if(x.score=x.score*qBe(r,u,_),x.score<=i)break}x.suppressBeginIndex=d.length,k||(x.score===v?(d.push(b),f.push(x.score)):x.score>i&&VBe(c,x,PB))}const h=d.length,m=n-h;a&&m>0&&(d.push(...new Array(m).fill(0)),f.push(...new Array(m).fill(0)));const y={selectedIndices:d};return o&&(y.selectedScores=f),l&&(y.validOutputs=h),y}function HBe(t,e,n){const r=t.subarray(e*4,e*4+4),i=t.subarray(n*4,n*4+4),s=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),a=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),c=Math.min(i[0],i[2]),u=Math.min(i[1],i[3]),d=Math.max(i[0],i[2]),f=Math.max(i[1],i[3]),h=(a-s)*(l-o),m=(d-c)*(f-u);if(h<=0||m<=0)return 0;const y=Math.max(s,c),x=Math.max(o,u),v=Math.min(a,d),b=Math.min(l,f),w=Math.max(v-y,0)*Math.max(b-x,0);return w/(h+m-w)}function qBe(t,e,n){const r=Math.exp(e*n*n);return n<=t?r:0}function PB(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function KBe(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY){const s=L(t,"boxes","nonMaxSuppressionAsync"),o=L(e,"scores","nonMaxSuppressionAsync"),a=pp(s,o,n,r,i);n=a.maxOutputSize,r=a.iouThreshold,i=a.scoreThreshold;const l=await Promise.all([s.data(),o.data()]),c=l[0],u=l[1],{selectedIndices:d}=Dk(c,u,n,r,i);return s!==t&&s.dispose(),o!==e&&o.dispose(),Ls(d,"int32")}const XBe=KBe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QBe(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY,s=0){const o=L(t,"boxes","nonMaxSuppression"),a=L(e,"scores","nonMaxSuppression"),l=pp(o,a,n,r,i,s);n=l.maxOutputSize,r=l.iouThreshold,i=l.scoreThreshold,s=l.softNmsSigma;const c={boxes:o,scores:a},u={maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:s},d=X.runKernel(PS,c,u);return{selectedIndices:d[0],selectedScores:d[1]}}const YBe=K({nonMaxSuppressionWithScore_:QBe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function JBe(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY,s=0){const o=L(t,"boxes","nonMaxSuppressionAsync"),a=L(e,"scores","nonMaxSuppressionAsync"),l=pp(o,a,n,r,i,s);n=l.maxOutputSize,r=l.iouThreshold,i=l.scoreThreshold,s=l.softNmsSigma;const c=await Promise.all([o.data(),a.data()]),u=c[0],d=c[1],{selectedIndices:f,selectedScores:h}=Lk(u,d,n,r,i,s);return o!==t&&o.dispose(),a!==e&&a.dispose(),{selectedIndices:Ls(f,"int32"),selectedScores:Ls(h)}}const ZBe=JBe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e8e(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY,s=!1){const o=L(t,"boxes","nonMaxSuppression"),a=L(e,"scores","nonMaxSuppression"),l=pp(o,a,n,r,i,null),c=l.maxOutputSize,u=l.iouThreshold,d=l.scoreThreshold,f={boxes:o,scores:a},h={maxOutputSize:c,iouThreshold:u,scoreThreshold:d,padToMaxOutputSize:s},m=X.runKernel(AS,f,h);return{selectedIndices:m[0],validOutputs:m[1]}}const t8e=K({nonMaxSuppressionPadded_:e8e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function n8e(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY,s=!1){const o=L(t,"boxes","nonMaxSuppressionAsync"),a=L(e,"scores","nonMaxSuppressionAsync"),l=pp(o,a,n,r,i,null),c=l.maxOutputSize,u=l.iouThreshold,d=l.scoreThreshold,[f,h]=await Promise.all([o.data(),a.data()]),{selectedIndices:m,validOutputs:y}=Fk(f,h,c,u,d,s);return o!==t&&o.dispose(),a!==e&&a.dispose(),{selectedIndices:Ls(m,"int32"),validOutputs:ft(y,"int32")}}const r8e=n8e;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i8e(t,e,n=!1,r=!1){const i=L(t,"images","resizeBilinear");B(i.rank===3||i.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${i.rank}.`),B(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),B(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let s=i,o=!1;i.rank===3&&(o=!0,s=pe(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const a={images:s},l={alignCorners:n,halfPixelCenters:r,size:e},c=X.runKernel(qS,a,l);return o?pe(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const s8e=K({resizeBilinear_:i8e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o8e(t,e,n=!1,r=!1){const i=L(t,"images","resizeNearestNeighbor");B(i.rank===3||i.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${i.rank}.`),B(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),B(i.dtype==="float32"||i.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),B(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let s=i,o=!1;i.rank===3&&(o=!0,s=pe(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const a={images:s},l={alignCorners:n,halfPixelCenters:r,size:e},c=X.runKernel(HS,a,l);return o?pe(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const a8e=K({resizeNearestNeighbor_:o8e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l8e(t,e="binary",n=!1,r=.5){const i=L(t,"image","threshold"),s=.2989,o=.587,a=.114,l=i.shape[0]*i.shape[1];let c=Te(Ls([r]),255),u,d,f,h;if(B(i.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${i.rank}.`),B(i.shape[2]===3||i.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${i.shape[2]}.`),B(i.dtype==="int32"||i.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${i.dtype}.`),B(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),i.shape[2]===3){[u,d,f]=Rh(i,[1,1,1],-1);const x=Te(u,s),v=Te(d,o),b=Te(f,a);h=Je(Je(x,v),b)}else h=t;if(e==="otsu"){const x=wA(an(YA(h),"int32"),wo([]),256);c=c8e(x,l)}const m=n?kk(h,c):Wv(h,c);return an(Te(m,255),"int32")}function c8e(t,e){let n=Ls([-1]),r=Ls([0]),i=Ls([0]),s,o,a,l,c,u;for(let d=0;d<t.size-1;d++){s=Lt(t,0,d+1),o=Lt(t,d+1),c=Ut(Vt(s),e),u=Ut(Vt(o),e);const f=Vt(Te(s,Oh(0,s.size)));a=Ut(f,Vt(s));const h=fp(o.shape,s.size),m=Je(Oh(0,o.size),h),y=Te(o,m);l=Ut(Vt(y),Vt(o));const x=dt(a,l),v=dt(a,l),b=Te(c,u);i=Te(Te(b,x),v);const w=Wv(i,r);r=Qu(w,i,r),n=Qu(w,Ls([d]),n)}return n}const u8e=K({threshold_:l8e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d8e(t,e,n="nearest",r="constant",i=0,s){const o=L(t,"image","transform","float32"),a=L(e,"transforms","transform","float32");B(o.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${o.rank}.`),B(a.rank===2&&(a.shape[0]===o.shape[0]||a.shape[0]===1)&&a.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),B(s==null||s.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${s}.`);const l={image:o,transforms:a},c={interpolation:n,fillMode:r,fillValue:i,outputShape:s};return X.runKernel(hk,l,c)}const f8e=K({transform_:d8e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h8e(t,e,n){B(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),B(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`);const r=L(t,"a","bandPart");B(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const i=r.shape,[s,o]=r.shape.slice(-2);if(!(e<=s))throw new Error(`bandPart(): numLower (${e}) must not be greater than the number of rows (${s}).`);if(!(n<=o))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${o}).`);e<0&&(e=s),n<0&&(n=o);const a=pe(Oh(0,s,1,"int32"),[-1,1]),l=Oh(0,o,1,"int32"),c=dt(a,l),u=Xg(kk(c,ft(+e,"int32")),IA(c,ft(-n,"int32"))),d=xc([s,o],r.dtype);return pe(da(Dc(pe(r,[-1,s,o])).map(f=>Qu(u,f,d))),i)}const p8e=K({bandPart_:h8e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m8e(t){let e;if(Array.isArray(t)){e=!1,B(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const i=t[0].shape[0];for(let s=1;s<t.length;++s)B(t[s].shape[0]===i,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[s].shape[0]} vs. ${i})`)}else e=!0,t=Rh(t,t.shape[0],0).map(i=>Hv(i,[0]));B(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],r=t;for(let i=0;i<t.length;++i)n.push(X.tidy(()=>{let s=r[i];if(i>0)for(let o=0;o<i;++o){const a=Te(Vt(Te(n[o],s)),n[o]);s=dt(s,a)}return Ut(s,Uv(s,"euclidean"))}));return e?da(n,0):n}const g8e=K({gramSchmidt_:m8e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y8e(t,e=!1){if(B(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return DB(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((l,c)=>l*c),r=Dc(pe(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),i=[],s=[];r.forEach(l=>{const[c,u]=DB(l,e);i.push(c),s.push(u)});const o=pe(da(i,0),t.shape),a=pe(da(s,0),t.shape);return[o,a]}}function DB(t,e=!1){return X.tidy(()=>{B(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],r=t.shape[1];let i=EA(n),s=Va(t);const o=nh([[1]],[1,1]);let a=Va(o);const l=n>=r?r:n;for(let c=0;c<l;++c){const u=s,d=a,f=i;[a,s,i]=X.tidy(()=>{const h=Lt(s,[c,c],[n-c,1]),m=Uv(h),y=Lt(s,[c,c],[1,1]),x=Qu(Wv(y,0),nh([[-1]]),nh([[1]])),v=dt(y,Te(x,m)),b=Ut(h,v);b.shape[0]===1?a=Va(o):a=Lr([o,Lt(b,[1,0],[b.shape[0]-1,b.shape[1]])],0);const w=ra(Ut($t(x,v),m)),k=Lt(s,[c,0],[n-c,r]),E=Te(w,a),_=qg(a);if(c===0)s=dt(k,$t(E,$t(_,k)));else{const D=dt(k,$t(E,$t(_,k)));s=Lr([Lt(s,[0,0],[c,r]),D],0)}const I=qg(E),N=Lt(i,[0,c],[n,i.shape[1]-c]);if(c===0)i=dt(N,$t($t(N,a),I));else{const D=dt(N,$t($t(N,a),I));i=Lr([Lt(i,[0,0],[n,c]),D],1)}return[a,s,i]}),Fr([u,d,f])}return!e&&n>r&&(i=Lt(i,[0,0],[n,r]),s=Lt(s,[0,0],[r,r])),[i,s]})}const v8e=K({qr_:y8e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Zr;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Zr||(Zr={}));function x8e(t,e,n=Zr.SUM_BY_NONZERO_WEIGHTS){const r=L(t,"losses","computeWeightedLoss");let i=null;e!=null&&(i=L(e,"weights","computeWeightedLoss"));const s=i==null?r:Te(r,i);if(n===Zr.NONE)return s;if(n===Zr.SUM)return Vt(s);if(n===Zr.MEAN){if(i==null)return Qg(s);{const o=r.size/i.size,a=Ut(Vt(s),Vt(i));return o>1?Ut(a,ft(o)):a}}if(n===Zr.SUM_BY_NONZERO_WEIGHTS){if(i==null)return Ut(Vt(s),ft(r.size));{const o=Te(i,ql(r.shape)),a=an(Vt(MA(o,ft(0))),"float32");return Ut(Vt(s),a)}}throw Error(`Unknown reduction: ${n}`)}const ml=K({computeWeightedLoss_:x8e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b8e(t,e,n,r=Zr.SUM_BY_NONZERO_WEIGHTS){const i=L(t,"labels","absoluteDifference"),s=L(e,"predictions","absoluteDifference");let o=null;n!=null&&(o=L(n,"weights","absoluteDifference")),wr(i.shape,s.shape,"Error in absoluteDifference: ");const a=Ni(dt(i,s));return ml(a,o,r)}const w8e=K({absoluteDifference_:b8e});function S8e(t,e,n,r,i=Zr.SUM_BY_NONZERO_WEIGHTS){const s=L(t,"labels","cosineDistance"),o=L(e,"predictions","cosineDistance");let a=null;r!=null&&(a=L(r,"weights","cosineDistance")),wr(s.shape,o.shape,"Error in cosineDistance: ");const l=ft(1),c=dt(l,Vt(Te(s,o),n,!0));return ml(c,a,i)}const k8e=K({cosineDistance_:S8e});function C8e(t,e,n,r=Zr.SUM_BY_NONZERO_WEIGHTS){let i=L(t,"labels","hingeLoss");const s=L(e,"predictions","hingeLoss");let o=null;n!=null&&(o=L(n,"weights","hingeLoss")),wr(i.shape,s.shape,"Error in hingeLoss: ");const a=ft(1);i=dt(Te(ft(2),i),a);const l=Gv(dt(a,Te(i,s)));return ml(l,o,r)}const E8e=K({hingeLoss_:C8e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T8e(t,e,n,r=1,i=Zr.SUM_BY_NONZERO_WEIGHTS){const s=L(t,"labels","huberLoss"),o=L(e,"predictions","huberLoss");let a=null;n!=null&&(a=L(n,"weights","huberLoss")),wr(s.shape,o.shape,"Error in huberLoss: ");const l=ft(r),c=Ni(dt(o,s)),u=LA(c,l),d=dt(c,u),f=Je(Te(ft(.5),zs(u)),Te(l,d));return ml(f,a,i)}const _8e=K({huberLoss_:T8e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I8e(t,e,n,r=1e-7,i=Zr.SUM_BY_NONZERO_WEIGHTS){const s=L(t,"labels","logLoss"),o=L(e,"predictions","logLoss");let a=null;n!=null&&(a=L(n,"weights","logLoss")),wr(s.shape,o.shape,"Error in logLoss: ");const l=ft(1),c=ft(r),u=ra(Te(s,Nh(Je(o,c)))),d=Te(dt(l,s),Nh(Je(dt(l,o),c))),f=dt(u,d);return ml(f,a,i)}const $8e=K({logLoss_:I8e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N8e(t,e,n,r=Zr.SUM_BY_NONZERO_WEIGHTS){const i=L(t,"labels","meanSquaredError"),s=L(e,"predictions","meanSquaredError");let o=null;n!=null&&(o=L(n,"weights","meanSquaredError")),wr(i.shape,s.shape,"Error in meanSquaredError: ");const a=ZA(i,s);return ml(a,o,r)}const O8e=K({meanSquaredError_:N8e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R8e(t,e){const n=L(t,"labels","sigmoidCrossEntropyWithLogits"),r=L(e,"logits","sigmoidCrossEntropyWithLogits");wr(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const i=Gv(r),s=Te(r,n),o=NA(vc(ra(Ni(r))));return Je(dt(i,s),o)}function A8e(t,e,n,r=0,i=Zr.SUM_BY_NONZERO_WEIGHTS){let s=L(t,"multiClassLabels","sigmoidCrossEntropy");const o=L(e,"logits","sigmoidCrossEntropy");let a=null;if(n!=null&&(a=L(n,"weights","sigmoidCrossEntropy")),wr(s.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){const c=ft(r),u=ft(1),d=ft(.5);s=Je(Te(s,dt(u,c)),Te(d,c))}const l=R8e(s,o);return ml(l,a,i)}const P8e=K({sigmoidCrossEntropy_:A8e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D8e(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return ua((i,s,o)=>{const l=RA(s,[n],!0),c=dt(an(s,"float32"),l);o([i,c]);const u=ra(Te(c,i));return{value:Vt(u,[n]),gradFunc:(h,m)=>{const[y,x]=m,v=Qn(h.shape,[n]);return[Te(pe(h,v),dt(an(y,"float32"),vc(x))),Te(pe(h,v),dt(vc(x),an(y,"float32")))]}}})(t,e)}function F8e(t,e,n,r=0,i=Zr.SUM_BY_NONZERO_WEIGHTS){let s=L(t,"onehotLabels","softmaxCrossEntropy");const o=L(e,"logits","softmaxCrossEntropy");let a=null;if(n!=null&&(a=L(n,"weights","softmaxCrossEntropy")),wr(s.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){const c=ft(r),u=ft(1),d=ft(s.shape[1]);s=Je(Te(s,dt(u,c)),Ut(c,d))}const l=D8e(s,o);return ml(l,a,i)}const L8e=K({softmaxCrossEntropy_:F8e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M8e(t,e,n,r){const i=L(t,"indices","sparseFillEmptyRows","int32"),s=L(e,"values","sparseFillEmptyRows"),o=L(n,"denseShape","sparseFillEmptyRows","int32"),a=L(r,"defaultValue","sparseFillEmptyRows",s.dtype);if(i.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${i.shape}`);if(s.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${s.shape}`);if(o.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${o.shape}`);if(a.rank!==0)throw new Error(`Default value should be a scalar but received shape ${a.shape}`);const l={indices:i,values:s,denseShape:o,defaultValue:a},c=X.runKernel(rk,l);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}const B8e=K({sparseFillEmptyRows_:M8e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z8e(t,e,n){const r=L(t,"inputIndices","sparseReshape","int32"),i=L(e,"inputShape","sparseReshape","int32"),s=L(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(i.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${i.shape}`);if(s.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${s.shape}`);const o={inputIndices:r,inputShape:i,newShape:s},a=X.runKernel(ik,o);return{outputIndices:a[0],outputShape:a[1]}}const j8e=K({sparseReshape_:z8e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V8e(t,e,n){const r=L(t,"data","sparseSegmentMean"),i=L(e,"indices","sparseSegmentMean","int32"),s=L(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(i.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${i.shape}`);if(s.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${s.shape}`);const o={data:r,indices:i,segmentIds:s};return X.runKernel(sk,o)}const U8e=K({sparseSegmentMean_:V8e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W8e(t,e,n){const r=L(t,"data","sparseSegmentSum"),i=L(e,"indices","sparseSegmentSum","int32"),s=L(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(i.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${i.shape}`);if(s.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${s.shape}`);const o={data:r,indices:i,segmentIds:s};return X.runKernel(ok,o)}const G8e=K({sparseSegmentSum_:W8e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H8e(t,e,n,r,i,s,o,a){const l=L(t,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error(`Data must be a vector, saw: ${l.shape}`);const c=L(e,"dataSplits","stringNGrams");if(c.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const u={separator:n,nGramWidths:r,leftPad:i,rightPad:s,padWidth:o,preserveShortSequences:a},d={data:l,dataSplits:c},f=X.runKernel(ck,d,u);return{nGrams:f[0],nGramsSplits:f[1]}}const q8e=K({stringNGrams_:H8e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K8e(t,e,n=!0){const r=L(t,"input","stringSplit","string"),i=L(e,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(i.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${i.shape}`);const s={skipEmpty:n},o={input:r,delimiter:i},a=X.runKernel(uk,o,s);return{indices:a[0],values:a[1],shape:a[2]}}const X8e=K({stringSplit_:K8e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q8e(t,e){const n=L(t,"input","stringToHashBucketFast","string"),r={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const i={input:n};return X.runKernel(dk,i,r)}const Y8e=K({stringToHashBucketFast_:Q8e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VX={fft:_k,ifft:Yg,rfft:Ik,irfft:JA},UX={hammingWindow:_Be,hannWindow:zX,frame:jX,stft:OBe},iP={flipLeftRight:DBe,grayscaleToRGB:LBe,resizeNearestNeighbor:a8e,resizeBilinear:s8e,rotateWithOffset:BBe,cropAndResize:ABe,nonMaxSuppression:jBe,nonMaxSuppressionAsync:XBe,nonMaxSuppressionWithScore:YBe,nonMaxSuppressionWithScoreAsync:ZBe,nonMaxSuppressionPadded:t8e,nonMaxSuppressionPaddedAsync:r8e,threshold:u8e,transform:f8e},WX={bandPart:p8e,gramSchmidt:g8e,qr:v8e},GX={absoluteDifference:w8e,computeWeightedLoss:ml,cosineDistance:k8e,hingeLoss:E8e,huberLoss:_8e,logLoss:$8e,meanSquaredError:O8e,sigmoidCrossEntropy:P8e,softmaxCrossEntropy:L8e},HX={sparseFillEmptyRows:B8e,sparseReshape:j8e,sparseSegmentMean:U8e,sparseSegmentSum:G8e},qX={stringNGrams:q8e,stringSplit:X8e,stringToHashBucketFast:Y8e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Fc extends Oq{minimize(e,n=!1,r){const{value:i,grads:s}=this.computeGradients(e,r);if(r!=null){const o=r.map(a=>({name:a.name,tensor:s[a.name]}));this.applyGradients(o)}else this.applyGradients(s);return Fr(s),n?i:(i.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return OK(e,n)}dispose(){this.iterations_!=null&&Fr(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:ft(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Fc,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Mk extends Fc{constructor(e,n,r=null){super(),this.learningRate=e,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=X.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,i)=>{const s=X.registeredVariables[r],o=!1;this.accumulatedGrads[i]==null&&(this.accumulatedGrads[i]={originalName:`${r}/accum_grad`,variable:yt(()=>Ui(s).variable(o))}),this.accumulatedUpdates[i]==null&&(this.accumulatedUpdates[i]={originalName:`${r}/accum_var`,variable:yt(()=>Ui(s).variable(o))});const a=Array.isArray(e)?e[i].tensor:e[r];if(a==null)return;const l=this.accumulatedGrads[i].variable,c=this.accumulatedUpdates[i].variable;yt(()=>{const u=Je(Te(l,this.rho),Te(zs(a),1-this.rho)),d=Te(Ut(ca(Je(c,this.epsilon)),ca(Je(l,this.epsilon))),a),f=Je(Te(c,this.rho),Te(zs(d),1-this.rho));l.assign(u),c.assign(f);const h=Je(Te(d,-this.learningRate),s);s.assign(h)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Fr(this.accumulatedGrads.map(e=>e.variable)),Fr(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,r=!1;this.accumulatedGrads=e.slice(0,n).map(i=>({originalName:i.name,variable:i.tensor.variable(r)})),this.accumulatedUpdates=e.slice(n,n*2).map(i=>({originalName:i.name,variable:i.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}Mk.className="Adadelta";Ac(Mk);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Bk extends Fc{constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,i)=>{const s=X.registeredVariables[r];this.accumulatedGrads[i]==null&&(this.accumulatedGrads[i]={originalName:`${r}/accumulator`,variable:yt(()=>fp(s.shape,this.initialAccumulatorValue).variable(!1))});const o=Array.isArray(e)?e[i].tensor:e[r];if(o==null)return;const a=this.accumulatedGrads[i].variable;yt(()=>{const l=Je(a,zs(o));a.assign(l);const c=Je(Te(Ut(o,ca(Je(l,X.backend.epsilon()))),-this.learningRate),s);s.assign(c)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Fr(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}Bk.className="Adagrad";Ac(Bk);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zk extends Fc{constructor(e,n,r,i=null){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=i,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],yt(()=>{this.accBeta1=ft(n).variable(),this.accBeta2=ft(r).variable()}),i==null&&(this.epsilon=X.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);yt(()=>{const r=dt(1,this.accBeta1),i=dt(1,this.accBeta2);n.forEach((s,o)=>{const a=X.registeredVariables[s],l=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${s}/m`,variable:yt(()=>Ui(a).variable(l))}),this.accumulatedSecondMoment[o]==null&&(this.accumulatedSecondMoment[o]={originalName:`${s}/v`,variable:yt(()=>Ui(a).variable(l))});const c=Array.isArray(e)?e[o].tensor:e[s];if(c==null)return;const u=this.accumulatedFirstMoment[o].variable,d=this.accumulatedSecondMoment[o].variable,f=Je(Te(u,this.beta1),Te(c,1-this.beta1)),h=Je(Te(d,this.beta2),Te(zs(c),1-this.beta2)),m=Ut(f,r),y=Ut(h,i);u.assign(f),d.assign(h);const x=Je(Te(Ut(m,Je(ca(y),this.epsilon)),-this.learningRate),a);a.assign(x)}),this.accBeta1.assign(Te(this.accBeta1,this.beta1)),this.accBeta2.assign(Te(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Fr(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&Fr(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),yt(()=>{this.accBeta1.assign($h(this.beta1,this.iterations_+1)),this.accBeta2.assign($h(this.beta2,this.iterations_+1))});const n=e.length/2,r=!1;this.accumulatedFirstMoment=e.slice(0,n).map(i=>({originalName:i.name,variable:i.tensor.variable(r)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(i=>({originalName:i.name,variable:i.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}zk.className="Adam";Ac(zk);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jk extends Fc{constructor(e,n,r,i=null,s=0){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=i,this.decay=s,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],yt(()=>{this.iteration=ft(0).variable(),this.accBeta1=ft(n).variable()}),i==null&&(this.epsilon=X.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);yt(()=>{const r=dt(1,this.accBeta1),i=Ut(-this.learningRate,Je(Te(this.iteration,this.decay),1));n.forEach((s,o)=>{const a=X.registeredVariables[s],l=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${s}/m`,variable:Ui(a).variable(l)}),this.accumulatedWeightedInfNorm[o]==null&&(this.accumulatedWeightedInfNorm[o]={originalName:`${s}/v`,variable:Ui(a).variable(l)});const c=Array.isArray(e)?e[o].tensor:e[s];if(c==null)return;const u=this.accumulatedFirstMoment[o].variable,d=this.accumulatedWeightedInfNorm[o].variable,f=Je(Te(u,this.beta1),Te(c,1-this.beta1)),h=Te(d,this.beta2),m=Ni(c),y=FA(h,m);u.assign(f),d.assign(y);const x=Je(Te(Ut(i,r),Ut(f,Je(y,this.epsilon))),a);a.assign(x)}),this.iteration.assign(Je(this.iteration,1)),this.accBeta1.assign(Te(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Fr(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&Fr(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}jk.className="Adamax";Ac(jk);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qv extends Fc{constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,i)=>{const s=Array.isArray(e)?e[i].tensor:e[r];if(s==null)return;const o=X.registeredVariables[r];yt(()=>{const a=Je(Te(this.c,s),o);o.assign(a)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=qo(ft(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}qv.className="SGD";Ac(qv);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Vk extends qv{constructor(e,n,r=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=ft(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,i)=>{const s=X.registeredVariables[r];this.accumulations[i]==null&&(this.accumulations[i]={originalName:`${r}/momentum`,variable:yt(()=>Ui(s).variable(!1))});const o=this.accumulations[i].variable,a=Array.isArray(e)?e[i].tensor:e[r];a!=null&&yt(()=>{let l;const c=Je(Te(this.m,o),a);this.useNesterov?l=Je(Te(this.c,Je(a,Te(c,this.m))),s):l=Je(Te(this.c,c),s),o.assign(c),s.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Fr(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}Vk.className="Momentum";Ac(Vk);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Uk extends Fc{constructor(e,n=.9,r=0,i=null,s=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=r,this.epsilon=i,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=s,i==null&&(this.epsilon=X.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,i)=>{const s=X.registeredVariables[r],o=!1;this.accumulatedMeanSquares[i]==null&&(this.accumulatedMeanSquares[i]={originalName:`${r}/rms`,variable:yt(()=>Ui(s).variable(o))}),this.accumulatedMoments[i]==null&&(this.accumulatedMoments[i]={originalName:`${r}/momentum`,variable:yt(()=>Ui(s).variable(o))}),this.accumulatedMeanGrads[i]==null&&this.centered&&(this.accumulatedMeanGrads[i]={originalName:`${r}/mg`,variable:yt(()=>Ui(s).variable(o))});const a=Array.isArray(e)?e[i].tensor:e[r];if(a==null)return;const l=this.accumulatedMeanSquares[i].variable,c=this.accumulatedMoments[i].variable;yt(()=>{const u=Je(Te(l,this.decay),Te(zs(a),1-this.decay));if(this.centered){const d=this.accumulatedMeanGrads[i].variable,f=Je(Te(d,this.decay),Te(a,1-this.decay)),h=Ut(Te(a,this.learningRate),ca(dt(u,Je(zs(f),this.epsilon)))),m=Je(Te(c,this.momentum),h);l.assign(u),d.assign(f),c.assign(m);const y=dt(s,m);s.assign(y)}else{const d=Je(Te(l,this.decay),Te(zs(a),1-this.decay)),f=Je(Te(c,this.momentum),Ut(Te(a,this.learningRate),ca(Je(d,this.epsilon))));l.assign(d),c.assign(f);const h=dt(s,f);s.assign(h)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Fr(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Fr(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&Fr(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,n).map(i=>({originalName:i.name,variable:i.tensor.variable(r)})),this.accumulatedMoments=e.slice(n,n*2).map(i=>({originalName:i.name,variable:i.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(i=>({originalName:i.name,variable:i.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}Uk.className="RMSProp";Ac(Uk);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ol{static sgd(e){return new qv(e)}static momentum(e,n,r=!1){return new Vk(e,n,r)}static rmsprop(e,n=.9,r=0,i=null,s=!1){return new Uk(e,n,r,i,s)}static adam(e=.001,n=.9,r=.999,i=null){return new zk(e,n,r,i)}static adadelta(e=.001,n=.95,r=null){return new Mk(e,n,r)}static adamax(e=.002,n=.9,r=.999,i=null,s=0){return new jk(e,n,r,i,s)}static adagrad(e,n=.1){return new Bk(e,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J8e={sgd:Ol.sgd,momentum:Ol.momentum,adadelta:Ol.adadelta,adagrad:Ol.adagrad,rmsprop:Ol.rmsprop,adamax:Ol.adamax,adam:Ol.adam};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z8e=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t();function KX(){return new Promise(t=>Z8e(()=>t()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sP(t,e){const n=t[0].length;t.forEach((i,s)=>{B(i.length===n,()=>`Error in concat${n}D: rank of tensors[${s}] must be the same as the rank of the rest (${n})`)}),B(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=t[0];t.forEach((i,s)=>{for(let o=0;o<n;o++)B(o===e||i[o]===r[o],()=>`Error in concat${n}D: Shape of tensors[${s}] (${i}) does not match the shape of the rest (${r}) along the non-concatenated axis ${s}.`)})}function ia(t,e){const n=t[0].slice();for(let r=1;r<t.length;r++)n[e]+=t[r][e];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var ho;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(ho||(ho={}));function XX(t,e,n){let r=new Array;if(n==null&&e==null)return r;if(e==null)for(;r.length<t+n.length;)r.push(-1);else r=e.slice();if(n==null)return r;if(t+n.length!==r.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${r.length}`);for(let i=1;i<n.length;++i){const s=n[i],o=r[r.length-n.length+i],a=r[o];if(s>=0)if(a>=0){if(a!==s)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${i+t}] = ${s} but shape[${i+t}] = ${a}`)}else r[o]=s}return r}function QX(t){const e={FIRST_DIM_SIZE:ho.FIRST_DIM_SIZE,VALUE_ROWIDS:ho.VALUE_ROWIDS,ROW_LENGTHS:ho.ROW_LENGTHS,ROW_SPLITS:ho.ROW_SPLITS,ROW_LIMITS:ho.ROW_LIMITS,ROW_STARTS:ho.ROW_STARTS},n=[];for(const r of t)if(r in e)n.push(e[r]);else break;return n}function YX(t){return t.length===0?0:t[0]===ho.FIRST_DIM_SIZE?t.length-1:t.length}function JX(t,e){if(t==null||e==null)return;const n=t.length,r=e.length;if(n>=r)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let i=0;i<Math.min(n,r-1);++i){const s=t[i],o=e[i+1];if(s>=0&&o>=0&&s!==1&&s!==o)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${i-t.length}] = ${s} but ragged tensor input.flatValues.shape[${i-t.length}] = ${o}`)}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oP=30;function Wk(t){return t<=oP?t:Lb(t,Math.floor(Math.sqrt(t)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aP(t,e,n){const r=n*(typeof t=="number"?t:t[0]),i=e*(typeof t=="number"?t:t[1]);return[r,i]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kv(t,e,n,r=!0){let i=[];if(r)i=i.concat(e.slice(0)),i.push(t[0]/n),i=i.concat(t.slice(1));else{i=i.concat(t[0]);const s=e.length;for(let o=0;o<s;++o)i=i.concat([t[o+1]/e[o],e[o]]);i=i.concat(t.slice(s+1))}return i}function Xv(t,e,n=!0){const r=[];if(n){r.push(e);for(let i=e+1;i<t;++i)i<=2*e?(r.push(i),r.push(i-(e+1))):r.push(i)}else{const i=[],s=[];for(let o=1;o<t;++o)o>=e*2+1||o%2===1?s.push(o):i.push(o);r.push(...i),r.push(0),r.push(...s)}return r}function Qv(t,e,n,r=!0){const i=[];r?i.push(t[0]/n):i.push(t[0]*n);for(let s=1;s<t.length;++s)s<=e.length?r?i.push(e[s-1]*t[s]):i.push(t[s]/e[s-1]):i.push(t[s]);return i}function lP(t,e){const n=[0];for(let r=0;r<e;++r)n.push(t[r][0]);return n}function cP(t,e,n){const r=t.slice(0,1);for(let i=0;i<n;++i)r.push(t[i+1]-e[i][0]-e[i][1]);return r}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uP=1.7580993408473768,dP=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fP=.3275911,hP=.254829592,pP=-.284496736,mP=1.421413741,gP=-1.453152027,yP=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tl(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function ZX(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}function eQ(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let i=0;i<t.length;i+=4)n[Math.floor(i/4)]=t[i],r[Math.floor(i/4)]=t[i+1];return{real:n,imag:r}}function tQ(t){const e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let i=2;i<t.length;i+=4)n[Math.floor(i/4)]=t[i],r[Math.floor(i/4)]=t[i+1];return{real:n,imag:r}}function vP(t,e){const n=t[e*2],r=t[e*2+1];return{real:n,imag:r}}function nQ(t,e,n,r){t[r*2]=e,t[r*2+1]=n}function rQ(t,e){const n=new Float32Array(t/2),r=new Float32Array(t/2);for(let i=0;i<Math.ceil(t/2);i++){const s=(e?2:-2)*Math.PI*(i/t);n[i]=Math.cos(s),r[i]=Math.sin(s)}return{real:n,imag:r}}function iQ(t,e,n){const r=(n?2:-2)*Math.PI*(t/e),i=Math.cos(r),s=Math.sin(r);return{real:i,imag:s}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KT="->",eze=/->/g,FB=",",LB="...";function xP(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(eze,"").length)/KT.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${KT}").`);const[r,i]=t.split(KT);B(r.indexOf(LB)===-1,()=>`The ellipsis notation ("${LB}") is not supported yet.`);const s=r.split(FB),o=s.length;if(e!==o)throw new Error(`Expected ${o} input tensors, received ${e}`);if(o>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const a=[];for(let f=0;f<i.length;++f){const h=i[f];if(!s.some(m=>m.indexOf(h)!==-1))throw new Error(`Output subscripts contain the label ${h} not present in the input subscripts.`);a.indexOf(h)===-1&&a.push(h)}for(let f=0;f<r.length;++f){const h=r[f];a.indexOf(h)===-1&&h!==FB&&a.push(h)}const l=new Array(s.length);for(let f=0;f<o;++f){if(new Set(s[f].split("")).size!==s[f].length)throw new Error(`Found duplicate axes in input component ${s[f]}. Support for duplicate axes in input is not implemented yet.`);l[f]=[];for(let h=0;h<s[f].length;++h)l[f].push(a.indexOf(s[f][h]))}const c=a.length,u=i.length,d=[];for(let f=u;f<c;++f)d.push(f);return{allDims:a,summedDims:d,idDims:l}}function bP(t,e){let n=new Array(t);n.fill(-1);for(let i=0;i<e.length;++i)n[e[i]]=i;const r=[];for(let i=0;i<t;++i)n[i]===-1&&r.push(i);return n=n.filter(i=>i!==-1),{permutationIndices:n,expandDims:r}}function wP(t,e,n){const r=new Array(t);for(let i=0;i<n.length;++i){const s=n[i].shape;for(let o=0;o<e[i].length;++o)r[e[i][o]]===void 0?r[e[i][o]]=s[o]:B(r[e[i][o]]===s[o],()=>`Expected dimension ${r[e[i][o]]} at axis ${o} of input shaped ${JSON.stringify(s)}, but got dimension ${s[o]}`)}}function SP(t,e){const n=t,r=[];let i=0;t.length===0&&n.push(-1),i=t.length+1;for(let o=0;o<i;++o)r.push([]);const s=[];for(let o=0;o<n.length;++o){const a=n[o],l=tze(e,a);for(const c of l)s.indexOf(c)===-1&&(r[o].push(c),s.push(c))}return{path:n,steps:r}}function kP(t){return t.every((e,n)=>e===n)}function tze(t,e){const n=[];for(let r=0;r<t.length;++r)(t[r].length===0||t[r].indexOf(e)!==-1||e===-1)&&n.push(r);return n}function CP(t,e,n=0){let r=[];if(typeof e=="number")B(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),r=new Array(e).fill(t.shape[n]/e);else{const i=e.reduce((o,a)=>(a===-1&&(o+=1),o),0);B(i<=1,()=>"There should be only one negative value in split array.");const s=e.indexOf(-1);if(s!==-1){const o=e.reduce((a,l)=>l>0?a+l:a);e[s]=t.shape[n]-o}B(t.shape[n]===e.reduce((o,a)=>o+a),()=>"The sum of sizes must match the size of the axis dimension."),r=e}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sQ(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function oQ(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function aQ(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lQ(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function cQ(t,e){return`size ${t} must be non-negative, not ${e}`}function uQ(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function dQ(t,e){const n=le(t),r=le(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${t} outputShape= ${e}`}function fQ(t,e){const n=le(t),r=le(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${t} outputShape=${e}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y$(){return"segment ids must be >= 0"}function hQ(){return"segment ids are not increasing"}function pQ(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function mQ(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gQ(t,e){let n=!1,r;for(t<=oP?(r=t,n=!0):r=Lb(t,Math.floor(Math.sqrt(t)));!n;)r>e||r===t?n=!0:r=Lb(t,r+1);return r}function yQ(t,e,n){const r=[],i=t.length;for(let s=0;s<i;s++)s!==e?r.push(t[s]):r.push(n);return r}function EP(t,e,n,r){const i=e.shape.length,s=t.shape.length;if(r!==0&&(r<-i||r>i))throw new Error(`Expect batchDims in the range of [-${i}, ${i}], but got ${r}`);if(r<0&&(r+=i),r>s)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${s}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let d=0;d<r;++d)if(t.shape[d]!==e.shape[d])throw new Error(`x.shape[${d}]: ${t.shape[d]} should be equal to indices.shape[${d}]: ${e.shape[d]}.`);const o=t.shape[n],a=[];let l=1,c=1,u=1;for(let d=0;d<r;++d)a.push(t.shape[d]),l*=t.shape[d];for(let d=r;d<n;d++)a.push(t.shape[d]),c*=t.shape[d];for(let d=r;d<i;d++)a.push(e.shape[d]);for(let d=n+1;d<s;d++)a.push(t.shape[d]),u*=t.shape[d];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:o,outputShape:a}}const nze=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:EP,computeOutShape:yQ,segOpComputeOptimalWindowSize:gQ},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yu(t){try{return t.map(e=>Za(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function vQ(t){return t.map(e=>na(e))}const xQ=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:hP,ERF_A2:pP,ERF_A3:mP,ERF_A4:gP,ERF_A5:yP,ERF_P:fP,PARALLELIZE_THRESHOLD:oP,get RowPartitionType(){return ho},SELU_SCALE:dP,SELU_SCALEALPHA:uP,applyActivation:Ak,assertAndGetBroadcastShape:pt,assertAxesAreInnerMostDims:kr,assertParamsConsistent:sP,assignToTypedArray:nQ,axesAreInnerMostDims:CA,calculateShapes:dp,checkEinsumDimSizes:wP,checkPadOnDimRoundingMode:Xs,combineLocations:wK,combineRaggedTensorToTensorShapes:XX,complexWithEvenIndex:eQ,complexWithOddIndex:tQ,computeConv2DInfo:or,computeConv3DInfo:Pc,computeDefaultPad:vA,computeDilation2DInfo:Bv,computeOptimalWindowSize:Wk,computeOutAndReduceShapes:Sr,computeOutShape:ia,computePool2DInfo:Ks,computePool3DInfo:hl,convertConv2DDataFormat:pl,decodeEinsumEquation:xP,eitherStridesOrDilationsAreOne:Br,expandShapeToKeepDim:Qn,exponent:iQ,exponents:rQ,fromStringArrayToUint8:vQ,fromUint8ToStringArray:Yu,getAxesPermutation:An,getBroadcastDims:Xu,getComplexWithIndex:vP,getEinsumComputePath:SP,getEinsumPermutation:bP,getFusedBiasGradient:Rk,getFusedDyActivation:Ok,getImageCenter:aP,getInnerMostAxes:Pn,getPermuted:Xv,getRaggedRank:YX,getReductionAxes:sA,getReshaped:Kv,getReshapedPermuted:Qv,getRowPartitionTypesHelper:QX,getSliceBeginCoords:lP,getSliceSize:cP,getSparseFillEmptyRowsIndicesDenseShapeMismatch:sQ,getSparseFillEmptyRowsNegativeIndexErrorMessage:oQ,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:aQ,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:uQ,getSparseReshapeInputOutputMismatchErrorMessage:fQ,getSparseReshapeInputOutputMultipleErrorMessage:dQ,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:lQ,getSparseReshapeNegativeOutputDimErrorMessage:cQ,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:mQ,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:Y$,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:hQ,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:pQ,getUndoAxesPermutation:Vv,isIdentityPermutation:kP,log:ZDe,mergeRealAndImagArrays:tl,prepareAndValidate:wk,prepareSplitSize:CP,segment_util:nze,shouldFuse:Pk,slice_util:Nq,splitRealAndImagArrays:ZX,tupleValuesAreOne:Kg,upcastType:mi,validateDefaultValueShape:JX,validateInput:lA,validateUpdateShape:aA,warn:es},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rze=Object.freeze(Object.defineProperty({__proto__:null,nonMaxSuppressionV3Impl:Dk,nonMaxSuppressionV4Impl:Fk,nonMaxSuppressionV5Impl:Lk,whereImpl:$k},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ize=Object.freeze(Object.defineProperty({__proto__:null,Abs:P2,Acos:Ay,Acosh:Py,AdadeltaOptimizer:Mk,AdagradOptimizer:Bk,AdamOptimizer:zk,AdamaxOptimizer:jk,Add:up,AddN:D2,All:F2,Any:L2,ArgMax:M2,ArgMin:B2,Asin:Dy,Asinh:Fy,Atan:Ly,Atan2:By,Atanh:My,AvgPool:z2,AvgPool3D:j2,AvgPool3DGrad:F3,AvgPoolGrad:D3,BatchMatMul:V2,BatchToSpaceND:U2,Bincount:W2,BroadcastArgs:G2,BroadcastTo:qDe,Cast:zy,Ceil:jy,ClipByValue:Vy,Complex:H2,ComplexAbs:q2,Concat:K2,Conv2D:X2,Conv2DBackpropFilter:Q2,Conv2DBackpropInput:Y2,Conv3D:J2,Conv3DBackpropFilterV2:L3,Conv3DBackpropInputV2:Z2,Cos:Uy,Cosh:Wy,CropAndResize:nS,Cumprod:eS,Cumsum:tS,DataStorage:I3,DenseBincount:rS,DepthToSpace:iS,DepthwiseConv2dNative:sS,DepthwiseConv2dNativeBackpropFilter:oS,DepthwiseConv2dNativeBackpropInput:aS,Diag:lS,Dilation2D:cS,Dilation2DBackpropFilter:A$,Dilation2DBackpropInput:R$,get ENV(){return A3},Einsum:uS,Elu:Hy,EluGrad:M3,Environment:jH,Equal:Ky,Erf:qy,Exp:Xy,ExpandDims:dS,Expm1:Qy,FFT:fS,Fill:hS,FlipLeftRight:pS,Floor:Yy,FloorDiv:Jy,FromPixels:Mb,FusedBatchNorm:mS,FusedConv2D:Vg,FusedDepthwiseConv2D:Ug,GatherNd:yS,GatherV2:gS,Greater:Zy,GreaterEqual:ev,IFFT:vS,Identity:tv,Imag:xS,IsFinite:nv,IsInf:rv,IsNan:iv,KernelBackend:O2,LRN:SS,LRNGrad:B3,LeakyRelu:bS,Less:sv,LessEqual:ov,LinSpace:wS,Log:av,Log1p:lv,LogSoftmax:XDe,LogicalAnd:cv,LogicalNot:uv,LogicalOr:dv,LogicalXor:KDe,LowerBound:QDe,Max:kS,MaxPool:CS,MaxPool3D:ES,MaxPool3DGrad:j3,MaxPoolGrad:z3,MaxPoolWithArgmax:TS,Maximum:fv,Mean:_S,Min:IS,Minimum:hv,MirrorPad:$S,Mod:pv,MomentumOptimizer:Vk,Multinomial:NS,Multiply:mv,Neg:OS,NonMaxSuppressionV3:RS,NonMaxSuppressionV4:AS,NonMaxSuppressionV5:PS,NotEqual:gv,OP_SCOPE_SUFFIX:Q3,OneHot:FS,OnesLike:DS,Optimizer:Fc,OptimizerConstructors:Ol,Pack:LS,PadV2:MS,Pool:YDe,Pow:yv,Prelu:BS,Prod:zS,RMSPropOptimizer:Uk,RaggedGather:jS,RaggedTensorToTensor:VS,Range:US,get Rank(){return L$},Real:WS,RealDiv:Gy,Reciprocal:vv,get Reduction(){return Zr},Relu:xv,Relu6:bv,Reshape:GS,ResizeBilinear:qS,ResizeBilinearGrad:U3,ResizeNearestNeighbor:HS,ResizeNearestNeighborGrad:V3,Reverse:KS,RotateWithOffset:vk,Round:wv,Rsqrt:Sv,SGDOptimizer:qv,ScatterNd:XS,SearchSorted:QS,Select:YS,Selu:kv,Sigmoid:_v,Sign:Tv,Sin:Cv,Sinh:Ev,Slice:JS,Softmax:nk,Softplus:Iv,SpaceToBatchND:ek,SparseFillEmptyRows:rk,SparseReshape:ik,SparseSegmentMean:sk,SparseSegmentSum:ok,SparseToDense:ak,SplitV:tk,Sqrt:$v,Square:W3,SquaredDifference:Nv,Step:Dv,StridedSlice:lk,StringNGrams:ck,StringSplit:uk,StringToHashBucketFast:dk,Sub:Ov,Sum:ZS,Tan:Rv,Tanh:Av,Tensor:gn,TensorBuffer:qn,Tile:Pv,TopK:fk,Transform:hk,Transpose:Yf,Unique:pk,Unpack:mk,UnsortedSegmentSum:gk,UpperBound:JDe,Variable:Gg,ZerosLike:yk,_FusedMatMul:jg,abs:Ni,acos:Pq,acosh:Dq,add:Je,addN:Fq,all:Lq,any:Mq,argMax:Bq,argMin:zq,asin:jq,asinh:Vq,atan:Uq,atan2:Wq,atanh:Gq,avgPool:xA,avgPool3d:Hq,backend:W4e,backend_util:xQ,basicLSTMCell:qq,batchNorm:zv,batchNorm2d:Kq,batchNorm3d:Xq,batchNorm4d:Qq,batchToSpaceND:bA,bincount:wA,booleanMaskAsync:RX,broadcastArgs:Yq,broadcastTo:eh,broadcast_util:Z4e,browser:sLe,buffer:it,cast:an,ceil:Jq,clipByValue:Zq,clone:Va,complex:el,concat:Lr,concat1d:eK,concat2d:tK,concat3d:nK,concat4d:rK,conv1d:iK,conv2d:jv,conv2dTranspose:oK,conv3d:aK,conv3dTranspose:lK,copyRegisteredKernels:rFe,cos:cK,cosh:uK,cosineWindow:Nk,cumprod:dK,cumsum:fK,customGrad:ua,denseBincount:hK,deprecationWarn:A4e,depthToSpace:pK,depthwiseConv2d:Sk,device_util:OFe,diag:mK,dilation2d:gK,disableDeprecationWarnings:R4e,dispose:Fr,disposeVariables:P4e,div:Ut,divNoNan:yK,dot:vK,dropout:LX,einsum:xK,elu:kA,enableDebugMode:O4e,enableProdMode:N4e,enclosingPowerOfTwo:nP,engine:Na,env:ie,equal:SA,erf:bK,euclideanNorm:kK,exp:vc,expandDims:Oa,expm1:CK,eye:EA,fft:_k,fill:fp,findBackend:V4e,findBackendFactory:U4e,floor:TA,floorDiv:yA,fused:BX,gather:_A,gatherND:FX,gather_util:oLe,getBackend:z4e,getGradient:P$,getKernel:Bb,getKernelsForBackend:zb,grad:dMe,grads:fMe,greater:Wv,greaterEqual:IA,ifft:Yg,imag:Mv,image:iP,inTopKAsync:MX,io:rA,irfft:JA,isFinite:EK,isInf:TK,isNaN:_K,keep:qo,kernel_impls:rze,leakyRelu:$A,less:IK,lessEqual:kk,linalg:WX,linspace:$K,localResponseNormalization:NK,log:Nh,log1p:NA,logSigmoid:RK,logSoftmax:AK,logSumExp:RA,logicalAnd:Xg,logicalNot:AA,logicalOr:PA,logicalXor:PK,losses:GX,lowerBound:DK,matMul:$t,math:J4e,max:$u,maxPool:DA,maxPool3d:FK,maxPoolWithArgmax:LK,maximum:FA,mean:Qg,memory:D4e,meshgrid:MK,min:Hb,minimum:LA,mirrorPad:BK,mod:zK,moments:jK,movingAverage:AX,mul:Te,multiRNNCell:VK,multinomial:UK,neg:ra,nextFrame:KX,norm:Uv,notEqual:MA,oneHot:Ub,ones:ql,onesLike:WK,op:K,outerProduct:GK,pad:hp,pad1d:HK,pad2d:qK,pad3d:KK,pad4d:XK,pool:QK,pow:$h,prelu:zA,print:eA,prod:YK,profile:F4e,raggedGather:JK,raggedTensorToTensor:ZK,rand:eX,randomGamma:nX,randomNormal:KA,randomStandardNormal:rX,randomUniform:XA,range:Oh,ready:B4e,real:Ih,reciprocal:iX,registerBackend:iA,registerGradient:eFe,registerKernel:xk,relu:Gv,relu6:QA,removeBackend:j4e,reshape:pe,reverse:bc,reverse1d:sX,reverse2d:oX,reverse3d:aX,reverse4d:lX,rfft:Ik,round:YA,rsqrt:cX,scalar:ft,scatterND:PX,scatter_util:aLe,searchSorted:Ek,selu:uX,separableConv2d:dX,serialization:fLe,setBackend:M4e,setPlatform:G4e,setdiff1dAsync:fX,sigmoid:Iu,sign:hX,signal:UX,sin:pX,sinh:mX,slice:Lt,slice1d:gX,slice2d:yX,slice3d:vX,slice4d:xX,slice_util:Nq,softmax:bX,softplus:OA,spaceToBatchND:BA,sparse:HX,sparseToDense:DX,spectral:VX,split:Rh,sqrt:ca,square:zs,squaredDifference:ZA,squeeze:Hv,stack:da,step:eP,stridedSlice:wX,string:qX,sub:dt,sum:Vt,sumOutType:bk,tan:SX,tanh:Gb,tensor:wo,tensor1d:Ls,tensor2d:nh,tensor3d:oA,tensor4d:kX,tensor5d:CX,tensor6d:EX,tensor_util:TFe,test_util:SLe,tidy:yt,tile:th,time:L4e,topk:TX,train:J8e,transpose:qg,truncatedNormal:_X,unique:IX,unregisterGradient:nFe,unregisterKernel:tFe,unsortedSegmentSum:$X,unstack:Dc,upcastType:mi,upperBound:NX,util:fFe,valueAndGrad:hMe,valueAndGrads:pMe,variable:OX,variableGrads:OK,version_core:kLe,where:Qu,whereAsync:tP,zeros:xc,zerosLike:Ui},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sze=ie();sze.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var Ts;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(Ts||(Ts={}));var MB;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(MB||(MB={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oze={};function bQ(t){return oze[t]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $(t,e,n,r,i){const s=e.inputParams[t];if(s&&s.inputIndexStart!==void 0){const a=s.inputIndexStart,l=s.inputIndexEnd===0?void 0:s.inputIndexEnd===void 0?a+1:s.inputIndexEnd;if(s.type==="tensor")return ei(e.inputNames[s.inputIndexStart],n,r,i);if(s.type==="tensors")return e.inputNames.slice(a,l).map(f=>ei(f,n,r,i));const c=ei(e.inputNames.slice(a)[0],n,r,i),u=c.dataSync();return s.type==="number"?u[0]:os(c.shape,u)}const o=e.attrParams[t];return o&&o.value}function ei(t,e,n,r){const[i,s]=$i(t);if(r!=null){const a=r.getHashTableHandleByName(i);if(a!=null)return a}const o=n.currentContextIds.find(a=>!!e[qb(i,a)]);return o!==void 0?e[qb(i,o)][s]:void 0}function aze(t,e,n){return e[qb(t,n.currentContextId)]}function Wo(t,e){const[n,r,i]=$i(t);return[qb(n,e&&e.currentContextId),r,i]}function qb(t,e){return e?`${t}-${e}`:t}function $i(t){const e=t.split(":");if(e.length===1)return[t,0,void 0];const n=e[0],r=e.length===3?e[1]:void 0,i=Number(e[e.length-1]);return[n,i,r]}function _x(t,e,n){let r=$("pad",t,e,n);if(r==="explicit"){r=$("explicitPaddings",t,e,n);const i=[[0,0],[0,0],[0,0],[0,0]];for(let s=0;s<4;s++)i[s][0]=r[s*2],i[s][1]=r[s*2+1];return i}return r}function Ra(t){return t.kept?t:Va(t)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lze=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],cze=Object.freeze(Object.defineProperty({__proto__:null,json:lze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uze=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],dze=Object.freeze(Object.defineProperty({__proto__:null,json:uze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fze=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],hze=Object.freeze(Object.defineProperty({__proto__:null,json:fze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pze=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],mze=Object.freeze(Object.defineProperty({__proto__:null,json:pze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gze=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],yze=Object.freeze(Object.defineProperty({__proto__:null,json:gze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vze=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],xze=Object.freeze(Object.defineProperty({__proto__:null,json:vze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bze=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],wze=Object.freeze(Object.defineProperty({__proto__:null,json:bze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sze=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],kze=Object.freeze(Object.defineProperty({__proto__:null,json:Sze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cze=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],Eze=Object.freeze(Object.defineProperty({__proto__:null,json:Cze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tze=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],_ze=Object.freeze(Object.defineProperty({__proto__:null,json:Tze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ize=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],$ze=Object.freeze(Object.defineProperty({__proto__:null,json:Ize},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nze=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],Oze=Object.freeze(Object.defineProperty({__proto__:null,json:Nze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rze=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],Aze=Object.freeze(Object.defineProperty({__proto__:null,json:Rze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pze=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],Dze=Object.freeze(Object.defineProperty({__proto__:null,json:Pze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fze=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],Lze=Object.freeze(Object.defineProperty({__proto__:null,json:Fze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mze=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],Bze=Object.freeze(Object.defineProperty({__proto__:null,json:Mze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zze=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],jze=Object.freeze(Object.defineProperty({__proto__:null,json:zze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vze=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],Uze=Object.freeze(Object.defineProperty({__proto__:null,json:Vze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wze=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],Gze=Object.freeze(Object.defineProperty({__proto__:null,json:Wze},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class BB{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[cze,dze,hze,mze,yze,xze,wze,kze,Eze,_ze,$ze,Oze,Aze,Dze,Lze,Bze,jze,Uze,Gze],n=[].concat(...e.map(r=>r.json));this.opMappers=n.reduce((r,i)=>(r[i.tfOpName]=i,r),{})}transformGraph(e,n={}){const r=e.node,i=[],s=[],o=[],a=r.reduce((y,x)=>(y[x.name]=this.mapNode(x),x.op.startsWith("Placeholder")?i.push(y[x.name]):x.op==="Const"?s.push(y[x.name]):(x.input==null||x.input.length===0)&&o.push(y[x.name]),y),{});let l=[];const c=[];let u={},d={};n!=null&&(u=this.mapSignatureEntries(n.inputs),d=this.mapSignatureEntries(n.outputs));const f=Object.keys(a);f.forEach(y=>{const x=a[y];x.inputNames.forEach((v,b)=>{const[w,,k]=Wo(v),E=a[w];if(E.outputs!=null){const _=E.outputs.indexOf(k);if(_!==-1){const I=`${w}:${_}`;x.inputNames[b]=I}}x.inputs.push(E),E.children.push(x)})}),Object.keys(d).length===0?f.forEach(y=>{const x=a[y];x.children.length===0&&c.push(x)}):Object.keys(d).forEach(y=>{const[x]=Wo(y),v=a[x];v!=null&&(v.signatureKey=d[y],c.push(v))}),Object.keys(u).length>0?Object.keys(u).forEach(y=>{const[x]=Wo(y),v=a[x];v&&(v.signatureKey=u[y],l.push(v))}):l=i;let h={};e.library!=null&&e.library.function!=null&&(h=e.library.function.reduce((y,x)=>(y[x.signature.name]=this.mapFunction(x),y),{}));const m={nodes:a,inputs:l,outputs:c,weights:s,placeholders:i,signature:n,functions:h};return o.length>0&&(m.initNodes=o),m}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,r)=>(n[e[r].name]=r,n),{})}mapNode(e){const n=bQ(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const r={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(i=>i.startsWith("^")?i.slice(1):i),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(r.inputParams=n.inputs.reduce((i,s)=>(i[s.name]={type:s.type,inputIndexStart:s.start,inputIndexEnd:s.end},i),{})),n.attrs!=null&&(r.attrParams=n.attrs.reduce((i,s)=>{const o=s.type;let a;switch(s.type){case"string":a=J$(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=J$(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"string[]":a=sN(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=sN(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"number":a=eN(e.attr,s.tfName,s.defaultValue||0),a===void 0&&s.tfDeprecatedName&&(a=eN(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"number[]":a=iN(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=iN(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"bool":a=Z$(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=Z$(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"bool[]":a=aN(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=aN(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"shape":a=rN(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=rN(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"shape[]":a=oN(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=oN(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"dtype":a=tN(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=tN(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"dtype[]":a=nN(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=nN(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"func":a=zB(e.attr,s.tfName,s.defaultValue),a===void 0&&s.tfDeprecatedName&&(a=zB(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${s.type} for op: ${e.op}`)}return i[s.name]={value:a,type:o},i},{})),r}mapFunction(e){const n=e.nodeDef,r=[],i=[];let s={};n!=null&&(s=n.reduce((d,f)=>(d[f.name]=this.mapNode(f),f.op==="Const"&&i.push(d[f.name]),d),{}));const o=[],a=[];e.signature.inputArg.forEach(d=>{const[f]=Wo(d.name),h={name:f,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:TP(d.type),type:"dtype"}},children:[]};h.signatureKey=d.name,o.push(h),s[f]=h}),Object.keys(s).forEach(d=>{const f=s[d];f.inputNames.forEach((h,m)=>{const[y,,x]=Wo(h),v=s[y];if(v.outputs!=null){const b=v.outputs.indexOf(x);if(b!==-1){const w=`${y}:${b}`;f.inputNames[m]=w}}f.inputs.push(v),v.children.push(f)})});const c=e.ret;e.signature.outputArg.forEach(d=>{const[f,h]=Wo(c[d.name]),m=s[f];m!=null&&(m.defaultOutput=h,a.push(m))});const u=this.mapArgsToSignature(e);return{nodes:s,inputs:o,outputs:a,weights:i,placeholders:r,signature:u}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r),n),{}),outputs:e.signature.outputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r,e.ret),n),{})}}mapArgToTensorInfo(e,n){let r=e.name;return n!=null&&(r=n[r]),{name:r,dtype:e.type}}}function Hze(t){const e=ie().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function wQ(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):Hze(t);return e?n:n.toLowerCase()}function J$(t,e,n,r=!1){const i=t[e];return i!=null?wQ(i.s,r):n}function Z$(t,e,n){const r=t[e];return r?r.b:n}function eN(t,e,n){const r=t[e]||{},i=r.i!=null?r.i:r.f!=null?r.f:n;return typeof i=="number"?i:parseInt(i,10)}function TP(t){switch(typeof t=="string"&&(t=Ts[t]),t){case Ts.DT_FLOAT:case Ts.DT_HALF:return"float32";case Ts.DT_INT32:case Ts.DT_INT64:case Ts.DT_INT8:case Ts.DT_UINT8:return"int32";case Ts.DT_BOOL:return"bool";case Ts.DT_DOUBLE:return"float32";case Ts.DT_STRING:return"string";default:return null}}function zB(t,e,n){const r=t[e];return r&&r.func?r.func.name:n}function tN(t,e,n){const r=t[e];return r&&r.type?TP(r.type):n}function nN(t,e,n){const r=t[e];return r&&r.list&&r.list.type?r.list.type.map(i=>TP(i)):n}function SQ(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function rN(t,e,n){const r=t[e];return r&&r.shape?SQ(r.shape):n}function iN(t,e,n){const r=t[e];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(i=>typeof i=="number"?i:parseInt(i,10)):n}function sN(t,e,n,r=!1){const i=t[e];return i&&i.list&&i.list.s?i.list.s.map(s=>wQ(s,r)):n}function oN(t,e,n){const r=t[e];return r&&r.list&&r.list.shape?r.list.shape.map(i=>SQ(i)):n}function aN(t,e,n){const r=t[e];return r&&r.list&&r.list.b?r.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qze{constructor(e,n,r){this.node=e,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(i=>this.getInput(i)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((i,s)=>(i[s]=this.getAttr(s),i),{}))}getInput(e){return ei(e,this.tensorMap,this.context)}getAttr(e,n){const r=this.node.rawAttrs[e];if(r.tensor!=null)return ei(e,this.tensorMap,this.context);if(r.i!=null||r.f!=null)return eN(this.node.rawAttrs,e,n);if(r.s!=null)return J$(this.node.rawAttrs,e,n);if(r.b!=null)return Z$(this.node.rawAttrs,e,n);if(r.shape!=null)return rN(this.node.rawAttrs,e,n);if(r.type!=null)return tN(this.node.rawAttrs,e,n);if(r.list!=null){if(r.list.i!=null||r.list.f!=null)return iN(this.node.rawAttrs,e,n);if(r.list.s!=null)return sN(this.node.rawAttrs,e,n);if(r.list.shape!=null)return oN(this.node.rawAttrs,e,n);if(r.list.b!=null)return aN(this.node.rawAttrs,e,n);if(r.list.type!=null)return nN(this.node.rawAttrs,e,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zr=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:Q3,abs:Ni,acos:Pq,acosh:Dq,add:Je,addN:Fq,all:Lq,any:Mq,argMax:Bq,argMin:zq,asin:jq,asinh:Vq,atan:Uq,atan2:Wq,atanh:Gq,avgPool:xA,avgPool3d:Hq,basicLSTMCell:qq,batchNorm:zv,batchNorm2d:Kq,batchNorm3d:Xq,batchNorm4d:Qq,batchToSpaceND:bA,bincount:wA,booleanMaskAsync:RX,broadcastArgs:Yq,broadcastTo:eh,buffer:it,cast:an,ceil:Jq,clipByValue:Zq,clone:Va,complex:el,concat:Lr,concat1d:eK,concat2d:tK,concat3d:nK,concat4d:rK,conv1d:iK,conv2d:jv,conv2dTranspose:oK,conv3d:aK,conv3dTranspose:lK,cos:cK,cosh:uK,cosineWindow:Nk,cumprod:dK,cumsum:fK,denseBincount:hK,depthToSpace:pK,depthwiseConv2d:Sk,diag:mK,dilation2d:gK,div:Ut,divNoNan:yK,dot:vK,dropout:LX,einsum:xK,elu:kA,enclosingPowerOfTwo:nP,equal:SA,erf:bK,euclideanNorm:kK,exp:vc,expandDims:Oa,expm1:CK,eye:EA,fft:_k,fill:fp,floor:TA,floorDiv:yA,fused:BX,gather:_A,gatherND:FX,greater:Wv,greaterEqual:IA,ifft:Yg,imag:Mv,image:iP,inTopKAsync:MX,irfft:JA,isFinite:EK,isInf:TK,isNaN:_K,leakyRelu:$A,less:IK,lessEqual:kk,linalg:WX,linspace:$K,localResponseNormalization:NK,log:Nh,log1p:NA,logSigmoid:RK,logSoftmax:AK,logSumExp:RA,logicalAnd:Xg,logicalNot:AA,logicalOr:PA,logicalXor:PK,losses:GX,lowerBound:DK,matMul:$t,max:$u,maxPool:DA,maxPool3d:FK,maxPoolWithArgmax:LK,maximum:FA,mean:Qg,meshgrid:MK,min:Hb,minimum:LA,mirrorPad:BK,mod:zK,moments:jK,movingAverage:AX,mul:Te,multiRNNCell:VK,multinomial:UK,neg:ra,norm:Uv,notEqual:MA,oneHot:Ub,ones:ql,onesLike:WK,op:K,outerProduct:GK,pad:hp,pad1d:HK,pad2d:qK,pad3d:KK,pad4d:XK,pool:QK,pow:$h,prelu:zA,print:eA,prod:YK,raggedGather:JK,raggedTensorToTensor:ZK,rand:eX,randomGamma:nX,randomNormal:KA,randomStandardNormal:rX,randomUniform:XA,range:Oh,real:Ih,reciprocal:iX,relu:Gv,relu6:QA,reshape:pe,reverse:bc,reverse1d:sX,reverse2d:oX,reverse3d:aX,reverse4d:lX,rfft:Ik,round:YA,rsqrt:cX,scalar:ft,scatterND:PX,searchSorted:Ek,selu:uX,separableConv2d:dX,setdiff1dAsync:fX,sigmoid:Iu,sign:hX,signal:UX,sin:pX,sinh:mX,slice:Lt,slice1d:gX,slice2d:yX,slice3d:vX,slice4d:xX,softmax:bX,softplus:OA,spaceToBatchND:BA,sparse:HX,sparseToDense:DX,spectral:VX,split:Rh,sqrt:ca,square:zs,squaredDifference:ZA,squeeze:Hv,stack:da,step:eP,stridedSlice:wX,string:qX,sub:dt,sum:Vt,tan:SX,tanh:Gb,tensor:wo,tensor1d:Ls,tensor2d:nh,tensor3d:oA,tensor4d:kX,tensor5d:CX,tensor6d:EX,tile:th,topk:TX,transpose:qg,truncatedNormal:_X,unique:IX,unsortedSegmentSum:$X,unstack:Dc,upperBound:NX,variable:OX,where:Qu,whereAsync:tP,zeros:xc,zerosLike:Ui},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kze=(t,e,n,r=zr)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[r.add($("a",t,e,n),$("b",t,e,n))];case"AddN":return[r.addN($("tensors",t,e,n))];case"FloorMod":case"Mod":return[r.mod($("a",t,e,n),$("b",t,e,n))];case"Mul":return[r.mul($("a",t,e,n),$("b",t,e,n))];case"RealDiv":case"Div":return[r.div($("a",t,e,n),$("b",t,e,n))];case"DivNoNan":return[r.divNoNan($("a",t,e,n),$("b",t,e,n))];case"FloorDiv":return[r.floorDiv($("a",t,e,n),$("b",t,e,n))];case"Sub":return[r.sub($("a",t,e,n),$("b",t,e,n))];case"Minimum":return[r.minimum($("a",t,e,n),$("b",t,e,n))];case"Maximum":return[r.maximum($("a",t,e,n),$("b",t,e,n))];case"Pow":return[r.pow($("a",t,e,n),$("b",t,e,n))];case"SquaredDifference":return[r.squaredDifference($("a",t,e,n),$("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xze=(t,e,n,r=zr)=>{switch(t.op){case"Abs":case"ComplexAbs":return[r.abs($("x",t,e,n))];case"Acos":return[r.acos($("x",t,e,n))];case"Acosh":return[r.acosh($("x",t,e,n))];case"Asin":return[r.asin($("x",t,e,n))];case"Asinh":return[r.asinh($("x",t,e,n))];case"Atan":return[r.atan($("x",t,e,n))];case"Atan2":return[r.atan2($("x",t,e,n),$("y",t,e,n))];case"Atanh":return[r.atanh($("x",t,e,n))];case"Ceil":return[r.ceil($("x",t,e,n))];case"Complex":return[r.complex($("real",t,e,n),$("imag",t,e,n))];case"Cos":return[r.cos($("x",t,e,n))];case"Cosh":return[r.cosh($("x",t,e,n))];case"Elu":return[r.elu($("x",t,e,n))];case"Erf":return[r.erf($("x",t,e,n))];case"Exp":return[r.exp($("x",t,e,n))];case"Expm1":return[r.expm1($("x",t,e,n))];case"Floor":return[r.floor($("x",t,e,n))];case"Log":return[r.log($("x",t,e,n))];case"Log1p":return[r.log1p($("x",t,e,n))];case"Imag":return[r.imag($("x",t,e,n))];case"Neg":return[r.neg($("x",t,e,n))];case"Reciprocal":return[r.reciprocal($("x",t,e,n))];case"Real":return[r.real($("x",t,e,n))];case"Relu":return[r.relu($("x",t,e,n))];case"Round":return[r.round($("x",t,e,n))];case"Selu":return[r.selu($("x",t,e,n))];case"Sigmoid":return[r.sigmoid($("x",t,e,n))];case"Sin":return[r.sin($("x",t,e,n))];case"Sign":return[r.sign($("x",t,e,n))];case"Sinh":return[r.sinh($("x",t,e,n))];case"Softplus":return[r.softplus($("x",t,e,n))];case"Sqrt":return[r.sqrt($("x",t,e,n))];case"Square":return[r.square($("x",t,e,n))];case"Tanh":return[r.tanh($("x",t,e,n))];case"Tan":return[r.tan($("x",t,e,n))];case"ClipByValue":return[r.clipByValue($("x",t,e,n),$("clipValueMin",t,e,n),$("clipValueMax",t,e,n))];case"Relu6":return[r.relu6($("x",t,e,n))];case"Rsqrt":return[r.rsqrt(ei(t.inputNames[0],e,n))];case"Prod":return[r.prod($("x",t,e,n),$("axes",t,e,n))];case"LeakyRelu":return[r.leakyRelu($("x",t,e,n),$("alpha",t,e,n))];case"Prelu":return[r.prelu($("x",t,e,n),$("alpha",t,e,n))];case"IsNan":return[r.isNaN(ei(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _s(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){B(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let r=0;r<t.length;r++){const i=t[r],s=e[r];B(i<0||s<0||i===s,()=>n+` Shapes ${t} and ${e} must match`)}}}function jB(t){return!(typeof t=="number"||t.some(e=>e<0))}function fm(t,e,n){let r=lN(t,n);const i=!jB(r);if(i&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(i&&e.forEach(s=>{r=lN(s.shape,r)}),!jB(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function lN(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const n=[];for(let r=0;r<t.length;++r){const i=t[r],s=e[r];if(i>=0&&s>=0&&i!==s)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[r]=i>=0?i:s}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Qze{constructor(e,n,r,i,s,o,a){this.name=e,this.dtype=n,this.maxSize=r,this.elementShape=i,this.identicalElementShapes=s,this.dynamicSize=o,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.idTensor=ft(0),qo(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const r=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),_s(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),r.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(r.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);r.tensor=n,qo(n),r.written=!0,this.tensors[e]=r}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((r,i)=>this.write(r,n[i]))}gather(e,n){if(n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let i=0;i<this.size();i++)e.push(i)}if(e.length===0)return wo([],[0].concat(this.elementShape));const r=this.readMany(e);return _s(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),da(r,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return wo([],[0].concat(this.elementShape));const n=[];for(let i=0;i<this.size();i++)n.push(i);const r=this.readMany(n);return _s(this.elementShape,r[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${r[0].shape})`),Lr(r,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const r=Math.max(...e);if(!this.dynamicSize&&r>=this.maxSize)throw new Error(`Max index must be < array size (${r}  vs. ${this.maxSize})`);this.writeMany(e,Dc(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let r=0;const i=e.map(l=>(r+=l,r));if(r!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const s=r===0?0:n.size/r,o=[];yt(()=>{n=pe(n,[1,r,s]);for(let l=0;l<e.length;++l){const u=[0,l===0?0:i[l-1],0],d=[1,e[l],s];o[l]=pe(Lt(n,u,d),this.elementShape)}return o});const a=[];for(let l=0;l<e.length;l++)a[l]=l;this.writeMany(a,o)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ju{constructor(e,n,r,i=-1){this.tensors=e,this.elementShape=n,this.elementDtype=r,e!=null&&e.forEach(s=>{if(r!==s.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${s.dtype}`);_s(n,s.shape,"TensorList shape mismatch: "),qo(s)}),this.idTensor=ft(0),this.maxNumElements=i,qo(this.idTensor)}get id(){return this.idTensor.id}copy(){return new Ju([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,r=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(r!==-1&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);_s(e,this.elementShape,"TensorList shape mismatch: ");const i=fm(this.elementShape,this.tensors,e);return yt(()=>{const s=this.tensors.map(o=>pe(o,i));return da(s,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const r=fm(this.elementShape,this.tensors,e),i=this.tensors.pop();return i.kept=!1,_s(i.shape,e,"TensorList shape mismatch: "),pe(i,r)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(_s(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");qo(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new Ju([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let r=0;r<Math.min(this.tensors.length,e);++r)n.tensors[r]=this.tensors[r];return n}getItem(e,n,r){if(r!==this.elementDtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);_s(this.tensors[e].shape,n,"TensorList shape mismatch: ");const i=fm(this.elementShape,this.tensors,n);return pe(this.tensors[e],i)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);_s(this.elementShape,n.shape,"TensorList shape mismatch: "),qo(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,r){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);_s(this.elementShape,r,"TensorList shape mismatch: "),e=e.slice(0,this.size());const i=fm(this.elementShape,this.tensors,r);return e.length===0?wo([],[0].concat(i)):yt(()=>{const s=e.map(o=>pe(this.tensors[o],i));return da(s,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);_s(this.elementShape,n,"TensorList shape mismatch: ");const r=fm(this.elementShape,this.tensors,n);return this.size()===0?wo([],[0].concat(r)):yt(()=>{const i=this.tensors.map(s=>pe(s,r));return Lr(i,0)})}}function Yze(t,e,n){const r=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);const i=t.shape.slice(1);_s(i,e,"TensorList shape mismatch: ");const s=Dc(t);return new Ju(s,e,r)}function Jze(t,e,n,r){return new Ju([],t,e,r)}function Zze(t,e,n,r){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const i=Math.max(...e);if(r!=null&&r!==-1&&i>=r)throw new Error(`Max index must be < array size (${i}  vs. ${r})`);const s=new Ju([],n,t.dtype,r),o=Dc(t,0);return e.forEach((a,l)=>{s.setItem(a,o[l])}),s}function eje(t,e,n){let r=0;const i=e.map(u=>(r+=u,r));if(r!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${t.shape}`);const s=t.shape.slice(1),o=lN(s,n),a=r===0?0:t.size/r,l=yt(()=>{const u=[];t=pe(t,[1,r,a]);for(let d=0;d<e.length;++d){const h=[0,d===0?0:i[d-1],0],m=[1,e[d],a];u[d]=pe(Lt(t,h,m),o)}return t.dispose(),u}),c=new Ju([],n,t.dtype,e.length);for(let u=0;u<l.length;u++)c.setItem(u,l[u]);return c}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tje=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const r=$("thenBranch",t,e,n),i=$("elseBranch",t,e,n),s=$("cond",t,e,n),o=$("args",t,e,n);return(await s.data())[0]?n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap):n.functionMap[i].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=$("body",t,e,n),i=$("cond",t,e,n),s=$("args",t,e,n),o=await n.functionMap[i].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap),a=s.map(u=>u.id);let l=await o[0].data();o.forEach(u=>{!u.kept&&a.indexOf(u.id)===-1&&u.dispose()});let c=s;for(;l[0];){const u=c;c=await n.functionMap[r].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);const d=c.map(h=>h.id);u.forEach(h=>{!h.kept&&a.indexOf(h.id)===-1&&d.indexOf(h.id)===-1&&h.dispose()});const f=await n.functionMap[i].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);l=await f[0].data(),f.forEach(h=>{!h.kept&&a.indexOf(h.id)===-1&&d.indexOf(h.id)===-1&&h.dispose()})}return c}case"LoopCond":{const r=$("pred",t,e,n);return[Ra(r)]}case"Switch":{const r=$("pred",t,e,n);let i=$("data",t,e,n);return i.kept||(i=Ra(i)),(await r.data())[0]?[void 0,i]:[i,void 0]}case"Merge":{const r=t.inputNames.find(i=>ei(i,e,n)!==void 0);if(r){const i=ei(r,e,n);return[Ra(i)]}return}case"Enter":{const r=$("frameName",t,e,n),i=$("tensor",t,e,n);return n.enterFrame(r),[Ra(i)]}case"Exit":{const r=$("tensor",t,e,n);return n.exitFrame(),[Ra(r)]}case"NextIteration":{const r=$("tensor",t,e,n);return n.nextIteration(),[Ra(r)]}case"TensorArrayV3":{const r=$("size",t,e,n),i=$("dtype",t,e,n),s=$("elementShape",t,e,n),o=$("dynamicSize",t,e,n),a=$("clearAfterRead",t,e,n),l=$("identicalElementShapes",t,e,n),c=$("name",t,e,n),u=new Qze(c,i,r,s,l,o,a);return n.addTensorArray(u),[u.idTensor,ft(1)]}case"TensorArrayWriteV3":{const r=$("tensorArrayId",t,e,n),i=$("index",t,e,n),s=$("tensor",t,e,n),o=n.getTensorArray(r.id);return o.write(i,s),[o.idTensor]}case"TensorArrayReadV3":{const r=$("tensorArrayId",t,e,n),i=$("index",t,e,n);return[n.getTensorArray(r.id).read(i)]}case"TensorArrayGatherV3":{const r=$("tensorArrayId",t,e,n),i=$("indices",t,e,n),s=$("dtype",t,e,n);return[n.getTensorArray(r.id).gather(i,s)]}case"TensorArrayScatterV3":{const r=$("tensorArrayId",t,e,n),i=$("indices",t,e,n),s=$("tensor",t,e,n),o=n.getTensorArray(r.id);return o.scatter(i,s),[o.idTensor]}case"TensorArrayConcatV3":{const r=$("tensorArrayId",t,e,n),i=n.getTensorArray(r.id),s=$("dtype",t,e,n);return[i.concat(s)]}case"TensorArraySplitV3":{const r=$("tensorArrayId",t,e,n),i=$("tensor",t,e,n),s=$("lengths",t,e,n),o=n.getTensorArray(r.id);return o.split(s,i),[o.idTensor]}case"TensorArraySizeV3":{const r=$("tensorArrayId",t,e,n),i=n.getTensorArray(r.id);return[ft(i.size(),"int32")]}case"TensorArrayCloseV3":{const r=$("tensorArrayId",t,e,n),i=n.getTensorArray(r.id);return i.clearAndClose(),[i.idTensor]}case"TensorListSetItem":{const r=$("tensorListId",t,e,n),i=$("index",t,e,n),s=$("tensor",t,e,n),o=n.getTensorList(r.id);return o.setItem(i,s),[o.idTensor]}case"TensorListGetItem":{const r=$("tensorListId",t,e,n),i=$("index",t,e,n),s=$("elementShape",t,e,n),o=$("elementDType",t,e,n);return[n.getTensorList(r.id).getItem(i,s,o)]}case"TensorListScatterV2":case"TensorListScatter":{const r=$("indices",t,e,n),i=$("tensor",t,e,n),s=$("elementShape",t,e,n),o=$("numElements",t,e,n),a=Zze(i,r,s,o);return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=$("elementShape",t,e,n),i=$("elementDType",t,e,n);let s;t.op==="TensorListReserve"?s="numElements":s="maxNumElements";const o=$(s,t,e,n),a=t.op==="TensorListReserve"?-1:o,l=Jze(r,i,o,a);return n.addTensorList(l),[l.idTensor]}case"TensorListGather":{const r=$("tensorListId",t,e,n),i=$("indices",t,e,n),s=$("elementShape",t,e,n),o=$("elementDType",t,e,n);return[n.getTensorList(r.id).gather(i,o,s)]}case"TensorListStack":{const r=$("tensorListId",t,e,n),i=$("elementShape",t,e,n),s=$("elementDType",t,e,n),o=$("numElements",t,e,n);return[n.getTensorList(r.id).stack(i,s,o)]}case"TensorListFromTensor":{const r=$("tensor",t,e,n),i=$("elementShape",t,e,n),s=$("elementDType",t,e,n),o=Yze(r,i,s);return n.addTensorList(o),[o.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=$("tensorListId",t,e,n),i=n.getTensorList(r.id),s=$("dtype",t,e,n),o=$("elementShape",t,e,n);return[i.concat(s,o)]}case"TensorListPushBack":{const r=$("tensorListId",t,e,n),i=$("tensor",t,e,n),s=n.getTensorList(r.id);return s.pushBack(i),[s.idTensor]}case"TensorListPopBack":{const r=$("tensorListId",t,e,n),i=$("elementShape",t,e,n),s=$("elementDType",t,e,n);return[n.getTensorList(r.id).popBack(i,s)]}case"TensorListSplit":{const r=$("tensor",t,e,n),i=$("elementShape",t,e,n),s=$("lengths",t,e,n),o=eje(r,s,i);return n.addTensorList(o),[o.idTensor]}case"TensorListLength":{const r=$("tensorListId",t,e,n),i=n.getTensorList(r.id);return[ft(i.size(),"int32")]}case"TensorListResize":{const r=$("tensorListId",t,e,n),i=$("size",t,e,n),o=n.getTensorList(r.id).resize(i);return n.addTensorList(o),[o.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VB(t,e,n){const[r,i]=$("fusedOps",t,e,n),s=r==="biasadd",o=!s,a=i==="prelu",l=r==="fusedbatchnorm",c=$("numArgs",t,e,n);if(s){if(a&&c!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&s&&c!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=$("strides",t,e,n),d=_x(t,e,n),f=$("dataFormat",t,e,n).toUpperCase(),h=$("dilations",t,e,n);let[m,y]=$("args",t,e,n);o&&(y=m,m=void 0);const x=$("leakyreluAlpha",t,e,n);return{stride:u,pad:d,dataFormat:f,dilations:h,biasArg:m,preluArg:y,activationFunc:i,leakyreluAlpha:x}}const nje=(t,e,n,r=zr)=>{switch(t.op){case"Conv1D":{const i=$("stride",t,e,n),s=$("pad",t,e,n),o=$("dataFormat",t,e,n).toUpperCase(),a=$("dilation",t,e,n);return[r.conv1d($("x",t,e,n),$("filter",t,e,n),i,s,o,a)]}case"Conv2D":{const i=$("strides",t,e,n),s=_x(t,e,n),o=$("dataFormat",t,e,n).toUpperCase(),a=$("dilations",t,e,n);return[r.conv2d($("x",t,e,n),$("filter",t,e,n),[i[1],i[2]],s,o,[a[1],a[2]])]}case"_FusedConv2D":{const{stride:i,pad:s,dataFormat:o,dilations:a,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:d}=VB(t,e,n);return[r.fused.conv2d({x:$("x",t,e,n),filter:$("filter",t,e,n),strides:[i[1],i[2]],pad:s,dataFormat:o,dilations:[a[1],a[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:i,pad:s,dataFormat:o,dilations:a,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:d}=VB(t,e,n);return[r.fused.depthwiseConv2d({x:$("x",t,e,n),filter:$("filter",t,e,n),strides:[i[1],i[2]],pad:s,dataFormat:o,dilations:[a[1],a[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const i=$("outputShape",t,e,n),s=$("strides",t,e,n),o=_x(t,e,n);return[r.conv2dTranspose($("x",t,e,n),$("filter",t,e,n),i,[s[1],s[2]],o)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const i=$("strides",t,e,n),s=_x(t,e,n),o=$("dilations",t,e,n),a=$("dataFormat",t,e,n).toUpperCase();return[r.depthwiseConv2d($("input",t,e,n),$("filter",t,e,n),[i[1],i[2]],s,a,[o[1],o[2]])]}case"Conv3D":{const i=$("strides",t,e,n),s=$("pad",t,e,n),o=$("dataFormat",t,e,n).toUpperCase(),a=$("dilations",t,e,n);return[r.conv3d($("x",t,e,n),$("filter",t,e,n),[i[1],i[2],i[3]],s,o,[a[1],a[2],a[3]])]}case"AvgPool":{const i=$("strides",t,e,n),s=$("pad",t,e,n),o=$("kernelSize",t,e,n);return[r.avgPool($("x",t,e,n),[o[1],o[2]],[i[1],i[2]],s)]}case"MaxPool":{const i=$("strides",t,e,n),s=$("pad",t,e,n),o=$("kernelSize",t,e,n);return[r.maxPool($("x",t,e,n),[o[1],o[2]],[i[1],i[2]],s)]}case"MaxPoolWithArgmax":{const i=$("strides",t,e,n),s=$("pad",t,e,n),o=$("kernelSize",t,e,n),a=$("includeBatchInIndex",t,e,n),{result:l,indexes:c}=r.maxPoolWithArgmax($("x",t,e,n),[o[1],o[2]],[i[1],i[2]],s,a);return[l,c]}case"AvgPool3D":{const i=$("strides",t,e,n),s=$("pad",t,e,n),o=$("kernelSize",t,e,n);return[r.avgPool3d($("x",t,e,n),[o[1],o[2],o[3]],[i[1],i[2],i[3]],s)]}case"MaxPool3D":{const i=$("strides",t,e,n),s=$("pad",t,e,n),o=$("kernelSize",t,e,n);return[r.maxPool3d($("x",t,e,n),[o[1],o[2],o[3]],[i[1],i[2],i[3]],s)]}case"Dilation2D":{const i=$("strides",t,e,n),s=$("pad",t,e,n),o=$("dilations",t,e,n),a=i[1],l=i[2],c=o[1],u=o[2];return[r.dilation2d($("x",t,e,n),$("filter",t,e,n),[a,l],s,[c,u],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rje=(t,e,n,r=zr)=>{switch(t.op){case"Fill":{const i=$("shape",t,e,n),s=$("dtype",t,e,n),o=$("value",t,e,n);return[r.fill(i,o,s)]}case"LinSpace":{const i=$("start",t,e,n),s=$("stop",t,e,n),o=$("num",t,e,n);return[r.linspace(i,s,o)]}case"Multinomial":{const i=$("logits",t,e,n),s=$("numSamples",t,e,n),o=$("seed",t,e,n);return[r.multinomial(i,s,o)]}case"OneHot":{const i=$("indices",t,e,n),s=$("depth",t,e,n),o=$("onValue",t,e,n),a=$("offValue",t,e,n),l=$("dtype",t,e,n);return[r.oneHot(i,s,o,a,l)]}case"Ones":return[r.ones($("shape",t,e,n),$("dtype",t,e,n))];case"OnesLike":return[r.onesLike($("x",t,e,n))];case"RandomStandardNormal":return[r.randomStandardNormal($("shape",t,e,n),$("dtype",t,e,n),$("seed",t,e,n))];case"RandomUniform":return[r.randomUniform($("shape",t,e,n),$("minval",t,e,n),$("maxval",t,e,n),$("dtype",t,e,n))];case"Range":{const i=$("start",t,e,n),s=$("stop",t,e,n),o=$("step",t,e,n);return[r.range(i,s,o,$("dtype",t,e,n))]}case"TruncatedNormal":{const i=$("shape",t,e,n),s=$("mean",t,e,n),o=$("stdDev",t,e,n),a=$("seed",t,e,n);return[r.truncatedNormal(i,s,o,$("dtype",t,e,n),a)]}case"Zeros":return[r.zeros($("shape",t,e,n),$("dtype",t,e,n))];case"ZerosLike":return[r.zerosLike($("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XT(t,e,n){const r=$("boxes",t,e,n),i=$("scores",t,e,n),s=$("maxOutputSize",t,e,n),o=$("iouThreshold",t,e,n),a=$("scoreThreshold",t,e,n),l=$("softNmsSigma",t,e,n);return{boxes:r,scores:i,maxOutputSize:s,iouThreshold:o,scoreThreshold:a,softNmsSigma:l}}const ije=async(t,e,n,r,i=zr)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:s,scores:o,maxOutputSize:a,iouThreshold:l,scoreThreshold:c,softNmsSigma:u}=XT(t,e,n),d=await i.image.nonMaxSuppressionWithScoreAsync(s,o,a,l,c,u);return[d.selectedIndices,d.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:s,scores:o,maxOutputSize:a,iouThreshold:l,scoreThreshold:c}=XT(t,e,n),u=$("padToMaxOutputSize",t,e,n),d=await i.image.nonMaxSuppressionPaddedAsync(s,o,a,l,c,u);return[d.selectedIndices,d.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:s,scores:o,maxOutputSize:a,iouThreshold:l,scoreThreshold:c}=XT(t,e,n);return[await i.image.nonMaxSuppressionAsync(s,o,a,l,c)]}case"Where":{const s=i.cast($("condition",t,e,n),"bool"),o=[await i.whereAsync(s)];return s.dispose(),o}case"ListDiff":return i.setdiff1dAsync($("x",t,e,n),$("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sje=(t,e,n,r=zr)=>{switch(t.op){case"LowerBound":{const i=$("sortedSequence",t,e,n),s=$("values",t,e,n);return[r.lowerBound(i,s)]}case"TopKV2":{const i=$("x",t,e,n),s=$("k",t,e,n),o=$("sorted",t,e,n),a=r.topk(i,s,o);return[a.values,a.indices]}case"UpperBound":{const i=$("sortedSequence",t,e,n),s=$("values",t,e,n);return[r.upperBound(i,s)]}case"Unique":{const i=$("x",t,e,n),s=r.unique(i);return[s.values,s.indices]}case"UniqueV2":{const i=$("x",t,e,n),s=$("axis",t,e,n),o=r.unique(i,s);return[o.values,o.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oje=(t,e,n,r=zr)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const i=$("default",t,e,n);return[ei(t.name,e,n)||i];case"Placeholder":return[ei(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const u=$("x",t,e,n);return[Ra(u)]}case"IdentityN":return $("x",t,e,n).map(u=>Ra(u));case"Snapshot":const s=$("x",t,e,n);return[Ra(s)];case"Shape":return[r.tensor1d($("x",t,e,n).shape,"int32")];case"ShapeN":return $("x",t,e,n).map(u=>r.tensor1d(u.shape));case"Size":return[r.scalar($("x",t,e,n).size,"int32")];case"Rank":return[r.scalar($("x",t,e,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const o=$("x",t,e,n),a=$("data",t,e,n),l=$("message",t,e,n),c=$("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(let u=0;u<a.length;u++)console.log(Array.prototype.slice.call(a[u].dataSync()).slice(0,c));return[o];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aje{constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=ft(0),this.tensorMap=new Map,qo(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return ft(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return this.tensorMap.forEach(i=>i.dispose()),this.tensorMap.clear(),yt(()=>{const i=Dc(n),s=r.length,o=i.length;B(s===o,()=>`The number of elements doesn't match, keys has ${s} elements, the values has ${o} elements.`);for(let a=0;a<s;a++){const l=r[a],c=i[a];qo(c),this.tensorMap.set(l,c)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return yt(()=>{const i=[];for(let s=0;s<r.length;s++){const o=r[s],a=this.findWithDefault(o,n);i.push(a)}return da(i)})}findWithDefault(e,n){const r=this.tensorMap.get(e);return r??n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lje=async(t,e,n,r)=>{switch(t.op){case"HashTable":case"HashTableV2":{const i=$("keyDType",t,e,n),s=$("valueDType",t,e,n),o=new aje(i,s);return r.addHashTable(t.name,o),[o.handle]}case"LookupTableImport":case"LookupTableImportV2":{const i=$("tableHandle",t,e,n,r),s=$("keys",t,e,n),o=$("values",t,e,n);return[await r.getHashTableById(i.id).import(s,o)]}case"LookupTableFind":case"LookupTableFindV2":{const i=$("tableHandle",t,e,n,r),s=$("keys",t,e,n),o=$("defaultValue",t,e,n);return[await r.getHashTableById(i.id).find(s,o)]}case"LookupTableSize":case"LookupTableSizeV2":{const i=$("tableHandle",t,e,n,r);return[r.getHashTableById(i.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cje=(t,e,n,r=zr)=>{switch(t.op){case"ResizeBilinear":{const i=$("images",t,e,n),s=$("size",t,e,n),o=$("alignCorners",t,e,n),a=$("halfPixelCenters",t,e,n);return[r.image.resizeBilinear(i,[s[0],s[1]],o,a)]}case"ResizeNearestNeighbor":{const i=$("images",t,e,n),s=$("size",t,e,n),o=$("alignCorners",t,e,n),a=$("halfPixelCenters",t,e,n);return[r.image.resizeNearestNeighbor(i,[s[0],s[1]],o,a)]}case"CropAndResize":{const i=$("image",t,e,n),s=$("boxes",t,e,n),o=$("boxInd",t,e,n),a=$("cropSize",t,e,n),l=$("method",t,e,n),c=$("extrapolationValue",t,e,n);return[r.image.cropAndResize(i,s,o,a,l,c)]}case"ImageProjectiveTransformV3":{const i=$("images",t,e,n),s=$("transforms",t,e,n),o=$("outputShape",t,e,n),a=$("fillValue",t,e,n),l=$("interpolation",t,e,n),c=$("fillMode",t,e,n);return[r.image.transform(i,s,l.toLowerCase(),c.toLowerCase(),a,o)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uje=(t,e,n,r=zr)=>{switch(t.op){case"Equal":return[r.equal($("a",t,e,n),$("b",t,e,n))];case"NotEqual":return[r.notEqual($("a",t,e,n),$("b",t,e,n))];case"Greater":return[r.greater($("a",t,e,n),$("b",t,e,n))];case"GreaterEqual":return[r.greaterEqual($("a",t,e,n),$("b",t,e,n))];case"Less":return[r.less($("a",t,e,n),$("b",t,e,n))];case"LessEqual":return[r.lessEqual($("a",t,e,n),$("b",t,e,n))];case"LogicalAnd":return[r.logicalAnd($("a",t,e,n),$("b",t,e,n))];case"LogicalNot":return[r.logicalNot($("a",t,e,n))];case"LogicalOr":return[r.logicalOr($("a",t,e,n),$("b",t,e,n))];case"Select":case"SelectV2":return[r.where($("condition",t,e,n),$("a",t,e,n),$("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dje=(t,e,n,r=zr)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul($("a",t,e,n),$("b",t,e,n),$("transposeA",t,e,n),$("transposeB",t,e,n))];case"Einsum":return[r.einsum($("equation",t,e,n),...$("tensors",t,e,n))];case"Transpose":return[r.transpose($("x",t,e,n),$("perm",t,e,n))];case"_FusedMatMul":const[i,s]=$("fusedOps",t,e,n),o=i==="biasadd",a=s==="prelu",l=$("numArgs",t,e,n),c=$("leakyreluAlpha",t,e,n);if(o){if(a&&l!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&l!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,d]=$("args",t,e,n);return[r.fused.matMul({a:$("a",t,e,n),b:$("b",t,e,n),transposeA:$("transposeA",t,e,n),transposeB:$("transposeB",t,e,n),bias:u,activation:s,preluActivationWeights:d,leakyreluAlpha:c})];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fje=(t,e,n,r=zr)=>{switch(t.op){case"EuclideanNorm":return[r.euclideanNorm($("x",t,e,n),$("axis",t,e,n),$("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[r.batchNorm($("x",t,e,n),$("mean",t,e,n),$("variance",t,e,n),$("offset",t,e,n),$("scale",t,e,n),$("epsilon",t,e,n))];case"FusedBatchNormV3":return[r.batchNorm($("x",t,e,n),$("mean",t,e,n),$("variance",t,e,n),$("offset",t,e,n),$("scale",t,e,n),$("epsilon",t,e,n))];case"LRN":return[r.localResponseNormalization($("x",t,e,n),$("radius",t,e,n),$("bias",t,e,n),$("alpha",t,e,n),$("beta",t,e,n))];case"Softmax":return[r.softmax($("x",t,e,n))];case"LogSoftmax":return[r.logSoftmax($("x",t,e,n))];case"SparseToDense":return[r.sparseToDense($("sparseIndices",t,e,n),$("outputShape",t,e,n),$("sparseValues",t,e,n),$("defaultValue",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hje=(t,e,n,r=zr)=>{switch(t.op){case"Max":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[r.max($("x",t,e,n),a,l)]}case"Mean":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[r.mean($("x",t,e,n),a,l)]}case"Min":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[r.min($("x",t,e,n),a,l)]}case"Sum":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[r.sum($("x",t,e,n),a,l)]}case"All":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[r.all($("x",t,e,n),a,l)]}case"Any":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[r.any($("x",t,e,n),a,l)]}case"ArgMax":{const a=$("axis",t,e,n);return[r.argMax($("x",t,e,n),a)]}case"ArgMin":{const a=$("axis",t,e,n);return[r.argMin($("x",t,e,n),a)]}case"Prod":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[r.prod($("x",t,e,n),a,l)]}case"Cumprod":{const a=$("axis",t,e,n),l=$("exclusive",t,e,n),c=$("reverse",t,e,n);return[r.cumprod($("x",t,e,n),a,l,c)]}case"Cumsum":{const a=$("axis",t,e,n),l=$("exclusive",t,e,n),c=$("reverse",t,e,n);return[r.cumsum($("x",t,e,n),a,l,c)]}case"Bincount":const i=$("x",t,e,n),s=$("weights",t,e,n),o=$("size",t,e,n);return[r.bincount(i,s,o)];case"DenseBincount":{const a=$("x",t,e,n),l=$("weights",t,e,n),c=$("size",t,e,n),u=$("binaryOutput",t,e,n);return[r.denseBincount(a,l,c,u)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pje=(t,e,n,r=zr)=>{switch(t.op){case"ConcatV2":case"Concat":{const i=$("n",t,e,n),s=$("axis",t,e,n);let o=$("tensors",t,e,n);return o=o.slice(0,i),[r.concat(o,s)]}case"Gather":{const i=$("x",t,e,n),s=$("indices",t,e,n);return[r.gather(i,r.cast(s,"int32"),0)]}case"GatherV2":{const i=$("axis",t,e,n),s=$("batchDims",t,e,n),o=$("x",t,e,n),a=$("indices",t,e,n);return[r.gather(o,r.cast(a,"int32"),i,s)]}case"Reverse":{const i=$("dims",t,e,n),s=[];for(let a=0;a<i.length;a++)i[a]&&s.push(a);const o=$("x",t,e,n);return[r.reverse(o,s)]}case"ReverseV2":{const i=$("axis",t,e,n),s=$("x",t,e,n);return[r.reverse(s,i)]}case"Slice":{const i=$("begin",t,e,n),s=$("size",t,e,n);return[r.slice($("x",t,e,n),i,s)]}case"StridedSlice":{const i=$("begin",t,e,n),s=$("end",t,e,n),o=$("strides",t,e,n),a=$("beginMask",t,e,n),l=$("endMask",t,e,n),c=$("ellipsisMask",t,e,n),u=$("newAxisMask",t,e,n),d=$("shrinkAxisMask",t,e,n),f=$("x",t,e,n);return[r.stridedSlice(f,i,s,o,a,l,c,u,d)]}case"Pack":return yt(()=>{const i=$("axis",t,e,n),s=$("tensors",t,e,n),o=s[0].shape,a=r.squeeze(s[0]).shape,l=s.map(c=>{const u=Mt(c.shape,o);if(!u&&!Mt(r.squeeze(c).shape,a))throw new Error("the input tensors shape does not match");return u?c:r.reshape(c,o)});return[r.stack(l,i)]});case"Unpack":{const i=$("axis",t,e,n),s=$("tensor",t,e,n);return r.unstack(s,i)}case"Tile":{const i=$("reps",t,e,n);return[r.tile($("x",t,e,n),i)]}case"Split":case"SplitV":{const i=$("axis",t,e,n),s=$("numOrSizeSplits",t,e,n),o=$("x",t,e,n);return r.split(o,s,i)}case"ScatterNd":{const i=$("indices",t,e,n),s=$("values",t,e,n),o=$("shape",t,e,n);return[r.scatterND(i,s,o)]}case"GatherNd":{const i=$("x",t,e,n),s=$("indices",t,e,n);return[r.gatherND(i,s)]}case"SparseToDense":{const i=$("sparseIndices",t,e,n),s=$("outputShape",t,e,n),o=$("sparseValues",t,e,n),a=$("defaultValue",t,e,n);return[r.sparseToDense(i,o,s,o.dtype===a.dtype?a:r.cast(a,o.dtype))]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mje=(t,e,n,r=zr)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:i,outputValues:s,emptyRowIndicator:o,reverseIndexMap:a}=r.sparse.sparseFillEmptyRows($("indices",t,e,n),$("values",t,e,n),$("denseShape",t,e,n),$("defaultValue",t,e,n));return[i,s,o,a]}case"SparseReshape":{const{outputIndices:i,outputShape:s}=r.sparse.sparseReshape($("inputIndices",t,e,n),$("inputShape",t,e,n),$("newShape",t,e,n));return[i,s]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean($("data",t,e,n),$("indices",t,e,n),$("segmentIds",t,e,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum($("data",t,e,n),$("indices",t,e,n),$("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gje=(t,e,n,r=zr)=>{switch(t.op){case"FFT":return[r.fft($("x",t,e,n))];case"IFFT":return[r.ifft($("x",t,e,n))];case"RFFT":return[r.rfft($("x",t,e,n))];case"IRFFT":return[r.irfft($("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yje=(t,e,n,r=zr)=>{switch(t.op){case"StringNGrams":{const{nGrams:i,nGramsSplits:s}=r.string.stringNGrams($("data",t,e,n),$("dataSplits",t,e,n),$("separator",t,e,n),$("nGramWidths",t,e,n),$("leftPad",t,e,n),$("rightPad",t,e,n),$("padWidth",t,e,n),$("preserveShortSequences",t,e,n));return[i,s]}case"StringSplit":{const{indices:i,values:s,shape:o}=r.string.stringSplit($("input",t,e,n),$("delimiter",t,e,n),$("skipEmpty",t,e,n));return[i,s,o]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast($("input",t,e,n),$("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vje=(t,e,n,r=zr)=>{switch(t.op){case"Cast":return[r.cast($("x",t,e,n),$("dtype",t,e,n))];case"ExpandDims":{const i=$("axis",t,e,n);return[r.expandDims($("x",t,e,n),i)]}case"Squeeze":{const i=$("axis",t,e,n);return[r.squeeze($("x",t,e,n),i)]}case"Reshape":return[r.reshape($("x",t,e,n),$("shape",t,e,n))];case"MirrorPad":return[r.mirrorPad($("x",t,e,n),$("padding",t,e,n),$("mode",t,e,n))];case"PadV2":case"Pad":return[r.pad($("x",t,e,n),$("padding",t,e,n),$("constantValue",t,e,n))];case"SpaceToBatchND":{const i=$("blockShape",t,e,n),s=$("paddings",t,e,n);return[r.spaceToBatchND($("x",t,e,n),i,s)]}case"BatchToSpaceND":{const i=$("blockShape",t,e,n),s=$("crops",t,e,n);return[r.batchToSpaceND($("x",t,e,n),i,s)]}case"DepthToSpace":{const i=$("blockSize",t,e,n),s=$("dataFormat",t,e,n).toUpperCase();return[r.depthToSpace($("x",t,e,n),i,s)]}case"BroadcastTo":return[r.broadcastTo($("x",t,e,n),$("shape",t,e,n))];case"BroadcastArgs":return[r.broadcastArgs($("s0",t,e,n),$("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UB(t,e,n,r,i=yt){const s=((o,a,l)=>{switch(o.category){case"arithmetic":return i(()=>Kze(o,a,l));case"basic_math":return i(()=>Xze(o,a,l));case"control":return tje(o,a,l);case"convolution":return i(()=>nje(o,a,l));case"creation":return i(()=>rje(o,a,l));case"dynamic":return ije(o,a,l);case"evaluation":return i(()=>sje(o,a,l));case"image":return i(()=>cje(o,a,l));case"graph":return i(()=>oje(o,a,l));case"logical":return i(()=>uje(o,a,l));case"matrices":return i(()=>dje(o,a,l));case"normalization":return i(()=>fje(o,a,l));case"reduction":return i(()=>hje(o,a,l));case"slice_join":return i(()=>pje(o,a,l));case"sparse":return i(()=>mje(o,a,l));case"spectral":return i(()=>gje(o,a,l));case"string":return i(()=>yje(o,a,l));case"transformation":return i(()=>vje(o,a,l));case"hash_table":return lje(o,a,l,r);case"custom":const c=bQ(o.op);if(c&&c.customExecutor)return c.customExecutor(new qze(o,a,l));throw TypeError(`Custom op ${o.op} is not registered.`);default:throw TypeError(`Unknown op '${o.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return Gu(s)?s.then(o=>[].concat(o)):[].concat(s)}class WB{constructor(e={},n={},r={},i={}){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=i,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const r=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(r))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GB(t,e,n,r){const i=new Set,s=[];let o=null,a=null;const l=new Set,c=Object.keys(t).map(f=>$i(f)[0]);let u=[];r!=null&&(u=r.map(f=>$i(f.name)[0]));const d=[...e];for(;d.length>0;){const f=d.pop();if((kQ(f)||kje(f)||Cje(f))&&o==null&&(o=f,a=o.children.map(h=>h.name).filter(h=>i.has(h))),i.add(f.name),n[f.name]==null&&c.indexOf(f.name)===-1&&u.indexOf(f.name)===-1){if(f.inputs.length===0){s.push(f.name);continue}f.inputs.forEach(h=>{l.has(h.name)||(l.add(h.name),d.push(h))})}}return{inputs:t,outputs:e,usedNodes:i,missingInputs:s,dynamicNode:o,syncInputs:a}}function xje(t,e,n){const{usedNodes:r,inputs:i}=n,s=[],o=Object.keys(i).map(u=>$i(u)[0]).map(u=>t.nodes[u]),a=t.initNodes;o.forEach(u=>{r.has(u.name)&&s.push(u)}),t.weights.forEach(u=>{r.has(u.name)&&s.push(u)}),a!=null&&a.forEach(u=>{r.has(u.name)&&s.push(u)});const l=new Set,c=[];for(;s.length>0;){const u=s.pop();l.add(u.name),e[u.name]||c.push(u),u.children.forEach(d=>{!l.has(d.name)&&r.has(d.name)&&d.inputs.every(f=>l.has(f.name))&&s.push(d)})}return c}const bje=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],wje=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],Sje=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function kQ(t){return bje.indexOf(t.op)>=0}function kje(t){return wje.indexOf(t.op)>=0}function Cje(t){return Sje.indexOf(t.op)>=0}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Kb{constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(r=>{this._functionExecutorMap[r]=new Kb(e.functions[r],this)})}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(r=>e[r].map(i=>i.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}getCompilationKey(e,n){const r=e.map(s=>s.name).sort(),i=n.map(s=>s.name).sort();return r.join(this.SEPERATOR)+"--"+i.join(this.SEPERATOR)}compile(e,n){const r=GB(e,n,this.weightMap,this._initNodes),{missingInputs:i,dynamicNode:s,syncInputs:o}=r;if(s!=null)throw new Error(`This execution contains the node '${s.name}', which has the dynamic op '${s.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${o}]`);if(i.length>0){const a=n.map(c=>c.name),l=Object.keys(e);throw new Error(`Cannot compute the outputs [${a}] from the provided inputs [${l}]. Missing the following inputs: [${i}]`)}return xje(this.graph,this.weightMap,r)}execute(e,n){e=this.mapInputs(e);const r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const i=r.map(d=>this.graph.nodes[$i(d)[0]]),s=n.map(d=>$i(d)[0]);let o=s.map(d=>this.graph.nodes[d]);this.resetIntermediateTensors(),o.length===0&&(o=this._outputs);const a=this.getCompilationKey(i,o);let l=this.compiledMap.get(a);l==null&&(l=this.compile(e,o),this.compiledMap.set(a,l));const c={},u={};return yt(()=>{const d=new WB(this.weightMap,c,u,this.functionExecutorMap),f=Object.assign({},this.weightMap);Object.keys(e).forEach(y=>{const[x,v]=$i(y),b=[];b[v]=e[y],f[x]=b});const h=this.getFrozenTensorIds(f),m={};for(let y=0;y<l.length;y++){const x=l[y];if(!f[x.name]){const v=UB(x,f,d,this._resourceManager);if(Gu(v))throw new Error(`The execution of the op '${x.op}' returned a promise. Please use model.executeAsync() instead.`);f[x.name]=v,this.checkTensorForDisposal(x.name,x,f,d,h,s,m)}}return this.parent==null&&d.dispose(h),n.map(y=>ei(y,f,d))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(r=>e[r]).map(r=>r.map(i=>i.id)));return new Set(n)}checkTensorForDisposal(e,n,r,i,s,o,a){n.category==="control"||o.indexOf(e)!==-1||(r[e].forEach(l=>{l!=null&&(a[l.id]=(a[l.id]||0)+n.children.length)}),n.inputs.forEach(l=>{if(l.category!=="control"){const c=aze(l.name,r,i);c!=null&&c.forEach(u=>{if(u&&!u.kept&&!s.has(u.id)){const d=a[u.id];if(d===1){if(!this.keepTensorForDebug)u.dispose();else{const[f,h]=Wo(n.name,i);this.intermediateTensors[f]?this.intermediateTensors[f][h]=u:(this.intermediateTensors[f]=[],this.intermediateTensors[f][h]=u)}delete a[u.id]}else d!=null&&a[u.id]--}})}}))}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach(e=>this.intermediateTensors[e].forEach(n=>n.dispose())),this.disposeTensorsMap())}disposeTensorsMap(){this.tensorsMap&&Object.keys(this.tensorsMap).forEach(e=>{this.tensorsMap[e].forEach(r=>{r&&!r.kept&&!r.isDisposed&&!this.keepIds.has(r.id)&&r.dispose()})})}getIntermediateTensors(){return this.tensorsMap}resetIntermediateTensors(){for(const e in this.intermediateTensors)this.intermediateTensors[e].forEach(n=>n.dispose()),delete this.intermediateTensors[e]}async _executeAsync(e,n,r=!1,i={},s={}){r||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepTensorForDebug=ie().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(u){console.warn(u.message)}this.resetIntermediateTensors();const o=new WB(this.weightMap,i,s,this.functionExecutorMap);this.tensorsMap=await this.executeWithControlFlow(e,o,n,r);const a=n.map(u=>ei(u,this.tensorsMap,o)),l=a.map(u=>u.id),c=Object.keys(e).map(u=>e[u].id);return this.keepIds=new Set([...l,...c,...this.weightIds]),this.keepTensorForDebug||this.disposeTensorsMap(),this.parent==null&&o.dispose(this.keepIds),a}async executeFunctionAsync(e,n,r){const i=e.reduce((s,o,a)=>(s[this.inputs[a].name]=o,s),{});return this._executeAsync(i,this.outputNodes,!0,n,r)}async executeWithControlFlow(e,n,r,i){const s=Object.keys(e),o=s.map(w=>this.graph.nodes[$i(w)[0]]),a=r.map(w=>$i(w)[0]);let l=a.map(w=>this.graph.nodes[w]);l.length===0&&(l=this._outputs);const{usedNodes:c,missingInputs:u,dynamicNode:d,syncInputs:f}=GB(e,l,this.weightMap,this._initNodes),h=[...o,...this.graph.weights,...this._initNodes||[]].map(w=>({node:w,contexts:n.currentContext})),m=Object.assign({},this.weightMap);Object.keys(e).forEach(w=>{const[k,E]=$i(w),_=[];_[E]=e[w],m[k]=_});const y={},x=this.getFrozenTensorIds(m),v={};for(;h.length>0;){const w=this.processStack(o,h,n,m,v,x,a,y,c);await Promise.all(w)}d==null&&!i&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const b=l.filter(w=>!kQ(w)&&!ei(w.name,m,n)).map(w=>w.name);if(b.length>0){let w="";throw d!=null&&(w=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${f}]`),new Error(`Cannot compute the outputs [${b}] from the provided inputs [${s}]. Consider providing the following inputs: [${u}]. ${w}`)}return m}processStack(e,n,r,i,s,o,a,l,c){const u=[];for(;n.length>0;){const d=n.pop();r.currentContext=d.contexts;let f="";if(d.node.op==="Enter"&&$("isConstant",d.node,i,r)&&([f]=Wo(d.node.name,r)),i[d.node.name]==null){const h=UB(d.node,i,r,this._resourceManager);f||([f]=Wo(d.node.name,r));const m=r.currentContext;Gu(h)?u.push(h.then(y=>(i[f]=y,r.currentContext=m,this.checkTensorForDisposal(f,d.node,i,r,o,a,l),this.processChildNodes(d.node,n,r,i,s,c),y))):(i[f]=h,this.checkTensorForDisposal(f,d.node,i,r,o,a,l),this.processChildNodes(d.node,n,r,i,s,c))}else this.processChildNodes(d.node,n,r,i,s,c)}return u}processChildNodes(e,n,r,i,s,o){e.children.forEach(a=>{const[l]=Wo(a.name,r);s[l]||!o.has(a.name)||(a.op==="Merge"?a.inputNames.some(c=>!!ei(c,i,r))&&(s[l]=!0,n.push({contexts:r.currentContext,node:a})):a.inputNames.every(c=>!!ei(c,i,r))&&(s[l]=!0,n.push({contexts:r.currentContext,node:a})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const r=e[n],[i]=$i(n),s=this.graph.nodes[i];if(s.attrParams.shape&&s.attrParams.shape.value){const o=s.attrParams.shape.value,a=o.length===r.shape.length&&r.shape.every((l,c)=>o[c]===-1||o[c]===l);B(a,()=>`The shape of dict['${s.name}'] provided in model.execute(dict) must be [${o}], but was [${r.shape}]`)}s.attrParams.dtype&&s.attrParams.dtype.value&&B(r.dtype===s.attrParams.dtype.value,()=>`The dtype of dict['${s.name}'] provided in model.execute(dict) must be ${s.attrParams.dtype.value}, but was ${r.dtype}`)})}mapInputs(e){const n={};for(const r in e)if(this._signature!=null&&this._signature.inputs!=null&&this._signature.inputs[r]!=null){const i=this._signature.inputs[r];n[i.name]=e[r]}else n[r]=e[r];return n}checkInputs(e){const n=Object.keys(e).filter(r=>{const[i]=$i(r);return this.graph.nodes[i]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>this._signature!=null&&this._signature.outputs!=null&&this._signature.outputs[n]!=null?this._signature.outputs[n].name:n,{})}checkOutputs(e){e.forEach(n=>{const[r]=$i(n);if(!this.graph.nodes[r])throw new Error(`The output '${n}' is not found in the graph`)})}}class Eje{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tje="?tfjs-format=file",_je="model.json";class Ije{constructor(e,n={},r=rA){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=r,n==null&&(this.loadOptions={}),this.resourceManager=new Eje}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Gu(e)?e.then(n=>this.loadSync(n)):this.loadSync(e)}loadSync(e){this.artifacts=e;const n=this.artifacts.modelTopology;let r=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const s=this.artifacts.userDefinedMetadata;s.signature!=null&&(r=s.signature),s.structuredOutputKeys!=null&&(this.structuredOutputKeys=s.structuredOutputKeys)}this.signature=r,this.version=`${n.versions.producer}.${n.versions.minConsumer}`;const i=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Kb(BB.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(i),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const s=BB.Instance.transformGraph(e.modelInitializer);this.initializer=new Kb(s),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}async save(e,n){if(typeof e=="string"){const r=this.io.getSaveHandlers(e);if(r.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${e}'`);e=r[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,n){const r=this.execute(e,this.outputNodes);if(this.structuredOutputKeys){const i=r instanceof gn?[r]:r,s={};return i.forEach((o,a)=>s[this.structuredOutputKeys[a]]=o),s}return r}normalizeInputs(e){if(!(e instanceof gn)&&!Array.isArray(e))return e;if(e=Array.isArray(e)?e:[e],e.length!==this.inputNodes.length)throw new Error(`Input tensor count mismatch,the graph model has ${this.inputNodes.length} placeholders, while there are ${e.length} input tensors.`);return this.inputNodes.reduce((n,r,i)=>(n[r]=e[i],n),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,n){e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=this.executor.execute(e,n);return r.length>1?r:r[0]}async executeAsync(e,n){e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=await this.executor.executeAsync(e,n);return r.length>1?r:r[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,r)=>(n[r]=[e[r]],n),{})}dispose(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}async function $je(t,e={},n=rA){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=Nje(t));const r=new Ije(t,e,n);return await r.load(),r}function Nje(t){return t.endsWith("/")||(t=t+"/"),`${t}${_je}${Tje}`}/**
    * @license
    * Copyright 2023 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    *//**
    * @license
    * Copyright 2023 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Xb(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(c){try{l(r.next(c))}catch(u){s(u)}}function a(c){try{l(r.throw(c))}catch(u){s(u)}}function l(c){c.done?i(c.value):new n(function(u){u(c.value)}).then(o,a)}l((r=r.apply(t,e||[])).next())})}function Qb(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){o=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(u[0]===6&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=e.call(t,o)}catch(d){u=[6,d],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Oje="https://tfhub.dev/tensorflow/tfjs-model/deeplab",Rje=513,QT={ADE20K:[[0,0,0],[120,120,120],[180,120,120],[6,230,230],[80,50,50],[4,200,3],[120,120,80],[140,140,140],[204,5,255],[230,230,230],[4,250,7],[224,5,255],[235,255,7],[150,5,61],[120,120,70],[8,255,51],[255,6,82],[143,255,140],[204,255,4],[255,51,7],[204,70,3],[0,102,200],[61,230,250],[255,6,51],[11,102,255],[255,7,71],[255,9,224],[9,7,230],[220,220,220],[255,9,92],[112,9,255],[8,255,214],[7,255,224],[255,184,6],[10,255,71],[255,41,10],[7,255,255],[224,255,8],[102,8,255],[255,61,6],[255,194,7],[255,122,8],[0,255,20],[255,8,41],[255,5,153],[6,51,255],[235,12,255],[160,150,20],[0,163,255],[140,140,140],[250,10,15],[20,255,0],[31,255,0],[255,31,0],[255,224,0],[153,255,0],[0,0,255],[255,71,0],[0,235,255],[0,173,255],[31,0,255],[11,200,200],[255,82,0],[0,255,245],[0,61,255],[0,255,112],[0,255,133],[255,0,0],[255,163,0],[255,102,0],[194,255,0],[0,143,255],[51,255,0],[0,82,255],[0,255,41],[0,255,173],[10,0,255],[173,255,0],[0,255,153],[255,92,0],[255,0,255],[255,0,245],[255,0,102],[255,173,0],[255,0,20],[255,184,184],[0,31,255],[0,255,61],[0,71,255],[255,0,204],[0,255,194],[0,255,82],[0,10,255],[0,112,255],[51,0,255],[0,194,255],[0,122,255],[0,255,163],[255,153,0],[0,255,10],[255,112,0],[143,255,0],[82,0,255],[163,255,0],[255,235,0],[8,184,170],[133,0,255],[0,255,92],[184,0,255],[255,0,31],[0,184,255],[0,214,255],[255,0,112],[92,255,0],[0,224,255],[112,224,255],[70,184,160],[163,0,255],[153,0,255],[71,255,0],[255,0,163],[255,204,0],[255,0,143],[0,255,235],[133,255,0],[255,0,235],[245,0,255],[255,0,122],[255,245,0],[10,190,212],[214,255,0],[0,204,255],[20,0,255],[255,255,0],[0,153,255],[0,41,255],[0,255,204],[41,0,255],[41,255,0],[173,0,255],[0,245,255],[71,0,255],[122,0,255],[0,255,184],[0,92,255],[184,255,0],[0,133,255],[255,214,0],[25,194,194],[102,255,0],[92,0,255]],CITYSCAPES:[[128,64,128],[244,35,232],[70,70,70],[102,102,156],[190,153,153],[153,153,153],[250,170,30],[220,220,0],[107,142,35],[152,251,152],[70,130,180],[220,20,60],[255,0,0],[0,0,142],[0,0,70],[0,60,100],[0,80,100],[0,0,230],[119,11,32]],PASCAL:[[0,0,0],[128,0,0],[0,128,0],[128,128,0],[0,0,128],[128,0,128],[0,128,128],[128,128,128],[64,0,0],[192,0,0],[64,128,0],[192,128,0],[64,0,128],[192,0,128],[64,128,128],[192,128,128],[0,64,0],[128,64,0],[0,192,0],[128,192,0],[0,64,128],[128,64,128],[0,192,128],[128,192,128],[64,64,0],[192,64,0],[64,192,0],[192,192,0],[64,64,128],[192,64,128],[64,192,128],[192,192,128],[0,0,64],[128,0,64],[0,128,64],[128,128,64],[0,0,192],[128,0,192],[0,128,192],[128,128,192],[64,0,64],[192,0,64],[64,128,64],[192,128,64],[64,0,192],[192,0,192],[64,128,192],[192,128,192],[0,64,64],[128,64,64],[0,192,64],[128,192,64],[0,64,192],[128,64,192],[0,192,192],[128,192,192],[64,64,64],[192,64,64],[64,192,64],[192,192,64],[64,64,192],[192,64,192],[64,192,192],[192,192,192],[32,0,0],[160,0,0],[32,128,0],[160,128,0],[32,0,128],[160,0,128],[32,128,128],[160,128,128],[96,0,0],[224,0,0],[96,128,0],[224,128,0],[96,0,128],[224,0,128],[96,128,128],[224,128,128],[32,64,0],[160,64,0],[32,192,0],[160,192,0],[32,64,128],[160,64,128],[32,192,128],[160,192,128],[96,64,0],[224,64,0],[96,192,0],[224,192,0],[96,64,128],[224,64,128],[96,192,128],[224,192,128],[32,0,64],[160,0,64],[32,128,64],[160,128,64],[32,0,192],[160,0,192],[32,128,192],[160,128,192],[96,0,64],[224,0,64],[96,128,64],[224,128,64],[96,0,192],[224,0,192],[96,128,192],[224,128,192],[32,64,64],[160,64,64],[32,192,64],[160,192,64],[32,64,192],[160,64,192],[32,192,192],[160,192,192],[96,64,64],[224,64,64],[96,192,64],[224,192,64],[96,64,192],[224,64,192],[96,192,192],[224,192,192],[0,32,0],[128,32,0],[0,160,0],[128,160,0],[0,32,128],[128,32,128],[0,160,128],[128,160,128],[64,32,0],[192,32,0],[64,160,0],[192,160,0],[64,32,128],[192,32,128],[64,160,128],[192,160,128],[0,96,0],[128,96,0],[0,224,0],[128,224,0],[0,96,128],[128,96,128],[0,224,128],[128,224,128],[64,96,0],[192,96,0],[64,224,0],[192,224,0],[64,96,128],[192,96,128],[64,224,128],[192,224,128],[0,32,64],[128,32,64],[0,160,64],[128,160,64],[0,32,192],[128,32,192],[0,160,192],[128,160,192],[64,32,64],[192,32,64],[64,160,64],[192,160,64],[64,32,192],[192,32,192],[64,160,192],[192,160,192],[0,96,64],[128,96,64],[0,224,64],[128,224,64],[0,96,192],[128,96,192],[0,224,192],[128,224,192],[64,96,64],[192,96,64],[64,224,64],[192,224,64],[64,96,192],[192,96,192],[64,224,192],[192,224,192],[32,32,0],[160,32,0],[32,160,0],[160,160,0],[32,32,128],[160,32,128],[32,160,128],[160,160,128],[96,32,0],[224,32,0],[96,160,0],[224,160,0],[96,32,128],[224,32,128],[96,160,128],[224,160,128],[32,96,0],[160,96,0],[32,224,0],[160,224,0],[32,96,128],[160,96,128],[32,224,128],[160,224,128],[96,96,0],[224,96,0],[96,224,0],[224,224,0],[96,96,128],[224,96,128],[96,224,128],[224,224,128],[32,32,64],[160,32,64],[32,160,64],[160,160,64],[32,32,192],[160,32,192],[32,160,192],[160,160,192],[96,32,64],[224,32,64],[96,160,64],[224,160,64],[96,32,192],[224,32,192],[96,160,192],[224,160,192],[32,96,64],[160,96,64],[32,224,64],[160,224,64],[32,96,192],[160,96,192],[32,224,192],[160,224,192],[96,96,64],[224,96,64],[96,224,64],[224,224,64],[96,96,192],[224,96,192],[96,224,192],[224,224,192]]},YT={PASCAL:["background","aeroplane","bicycle","bird","boat","bottle","bus","car","cat","chair","cow","dining table","dog","horse","motorbike","person","potted plant","sheep","sofa","train","TV"],CITYSCAPES:["road","sidewalk","building","wall","fence","pole","traffic light","traffic sign","vegetation","terrain","sky","person","rider","car","truck","bus","train","motorcycle","bicycle"],ADE20K:["background","wall","building","sky","floor","tree","ceiling","road","bed","windowpane","grass","cabinet","sidewalk","person","earth","door","table","mountain","plant","curtain","chair","car","water","painting","sofa","shelf","house","sea","mirror","rug","field","armchair","seat","fence","desk","rock","wardrobe","lamp","bathtub","railing","cushion","base","box","column","signboard","chest","counter","sand","sink","skyscraper","fireplace","refrigerator","grandstand","path","stairs","runway","case","pool","pillow","screen","stairway","river","bridge","bookcase","blind","coffee","toilet","flower","book","hill","bench","countertop","stove","palm","kitchen","computer","swivel","boat","bar","arcade","hovel","bus","towel","light","truck","tower","chandelier","awning","streetlight","booth","television","airplane","dirt","apparel","pole","land","bannister","escalator","ottoman","bottle","buffet","poster","stage","van","ship","fountain","conveyer","canopy","washer","plaything","swimming","stool","barrel","basket","waterfall","tent","bag","minibike","cradle","oven","ball","food","step","tank","trade","microwave","pot","animal","bicycle","lake","dishwasher","screen","blanket","sculpture","hood","sconce","vase","traffic","tray","ashcan","fan","pier","screen","plate","monitor","bulletin","shower","radiator","glass","clock","flag"]};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Aje(t,e){return""+Oje+"/"+(e===4?t+"/1/default/1/model.json":t+"/1/quantized/"+e+"/1/model.json")+"?tfjs-format=file"}function Pje(t){if(t==="pascal")return QT.PASCAL;if(t==="ade20k")return QT.ADE20K;if(t==="cityscapes")return QT.CITYSCAPES;throw new Error("SemanticSegmentation cannot be constructed with an invalid base model "+t+". Try one of 'pascal', 'cityscapes' and 'ade20k'.")}function Dje(t){if(t==="pascal")return YT.PASCAL;if(t==="ade20k")return YT.ADE20K;if(t==="cityscapes")return YT.CITYSCAPES;throw new Error("SemanticSegmentation cannot be constructed with an invalid base model "+t+". Try one of 'pascal', 'cityscapes' and 'ade20k'.")}function Fje(t,e,n,r){return Xb(this,void 0,void 0,function(){var i,s,o,a,l,c,u,d,f,h,m,y,x,v;return Qb(this,function(b){switch(b.label){case 0:if(t.length<e.length)throw new Error("The colormap must be expansive enough to encode each label. Aborting, since the given colormap has length "+t.length+", but there are "+e.length+" labels.");return i=n.shape,s=i[0],o=i[1],a=it([s,o,3],"int32"),[4,n.array()];case 1:for(l=b.sent(),c=new Set,u=0;u<s;++u)for(d=0;d<o;++d)v=l[u][d],c.add(v),a.set(t[v][0],u,d,0),a.set(t[v][1],u,d,1),a.set(t[v][2],u,d,2);return f=a.toTensor(),[4,bq(f,r)];case 2:for(h=b.sent(),Fr(f),m={},y=0,x=Array.from(c);y<x.length;y++)v=x[y],m[e[v]]=t[v];return[2,{legend:m,segmentationMap:h}]}})})}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lje(t){return t===void 0&&(t={base:"pascal",quantizationBytes:2}),Xb(this,void 0,void 0,function(){var e;return Qb(this,function(n){switch(n.label){case 0:if(ize==null)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");if(t.base){if(["pascal","cityscapes","ade20k"].indexOf(t.base)===-1)throw new Error("SemanticSegmentation cannot be constructed with an invalid base model "+t.base+". Try one of 'pascal', 'cityscapes' and 'ade20k'.");if([1,2,4].indexOf(t.quantizationBytes)===-1)throw new Error("Only quantization to 1, 2 or 4 bytes is supported.")}else if(!t.modelUrl)throw new Error("SemanticSegmentation can be constructed either by passing the weights URL or one of the supported base model names from 'pascal', 'cityscapes' and 'ade20k',together with the degree of quantization (either 1, 2 or 4).Aborting, since neither has been provided.");return[4,$je(t.modelUrl||Aje(t.base,t.quantizationBytes))];case 1:return e=n.sent(),[2,new Mje(e,t.base)]}})})}var Mje=function(){function t(e,n){this.model=e,this.base=n}return t.prototype.predict=function(e){var n=this;return yt(function(){var r=an(function(i){return yt(function(){var s=i instanceof gn?i:wq(i),o=s.shape,a=o[0],l=o[1],c=Rje/Math.max(l,a),u=Math.round(a*c),d=Math.round(l*c);return Oa(iP.resizeBilinear(s,[u,d]))})}(e),"int32");return Hv(n.model.execute(r))})},t.prototype.segment=function(e,n){return n===void 0&&(n={}),Xb(this,void 0,void 0,function(){var r,i,s,o,a,l,c,u,d,f,h=this;return Qb(this,function(m){switch(m.label){case 0:if(!(n.colormap&&n.labels||this.base))throw new Error("Calling the 'segment' method requires either the 'base' attribute to be defined (e.g. 'pascal', 'cityscapes' or'ade20k'), or 'colormap' and 'labels' options to be set. Aborting, since neither has been provided.");return n.colormap&&n.labels||(n.colormap=Pje(this.base),n.labels=Dje(this.base)),r=n.colormap,i=n.labels,s=n.canvas,o=yt(function(){return h.predict(e)}),a=o.shape,l=a[0],c=a[1],[4,Fje(r,i,o,s)];case 1:return u=m.sent(),d=u.legend,f=u.segmentationMap,Fr(o),[2,{legend:d,height:l,width:c,segmentationMap:f}]}})})},t.prototype.dispose=function(){return Xb(this,void 0,void 0,function(){return Qb(this,function(e){return this.model&&this.model.dispose(),[2]})})},t}();/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fu={},U1={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Bje(t,e){fu[t]=e}function ko(t,e){if(!(t in fu)||e!=null){const r=jje(t,e);if(r!==null)fu[t]=r;else return console.log("Could not get context for WebGL version",t),null}const n=fu[t];return n==null||n.isContextLost()?(delete fu[t],ko(t)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),fu[t])}function zje(t){if(typeof OffscreenCanvas<"u"&&t===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function jje(t,e){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=e??zje(t);return n.addEventListener("webglcontextlost",r=>{r.preventDefault(),delete fu[t]},!1),ie().getBool("SOFTWARE_WEBGL_ENABLED")&&(U1.failIfMajorPerformanceCaveat=!1),t===1?n.getContext("webgl",U1)||n.getContext("experimental-webgl",U1):n.getContext("webgl2",U1)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Jg;(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(Jg||(Jg={}));var ns;(function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"})(ns||(ns={}));var gr;(function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(gr||(gr={}));function Yv(t,e){return[e,t]}function Vje(t,e){return t*e}function W1(t){const e=le(t),n=Math.ceil(e/4);return Db(n)}function mp(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function Uje(t,e){const[n,r]=mp(t,e);return n*r*4}function _P(t,e){const n=t;let r,i,s,o,a,l,c,u,d,f;return ie().getNumber("WEBGL_VERSION")===2?(r=n.R32F,i=n.R16F,s=n.RGBA16F,o=n.RGBA32F,a=n.RED,c=4,u=1,d=n.HALF_FLOAT,f=n.FLOAT,l=n.RGBA8):(r=t.RGBA,i=t.RGBA,s=t.RGBA,o=n.RGBA,a=t.RGBA,c=4,u=4,d=e!=null?e.HALF_FLOAT_OES:null,f=t.FLOAT,l=t.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:i,internalFormatPackedHalfFloat:s,internalFormatPackedFloat:o,textureFormatFloat:a,downloadTextureFormat:l,downloadUnpackNumChannels:c,defaultNumChannels:u,textureTypeHalfFloat:d,textureTypeFloat:f}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ze(t,e){const n=e();return ie().getBool("DEBUG")&&Wje(t),n}function Wje(t){const e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+Kje(t,e))}const Gje=596e-10,Hje=65504;function qje(t){return!!(ie().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||Gje<Math.abs(t)&&Math.abs(t)<Hje)}function Kje(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${e}`}}function G1(t,e){return gl(t,()=>t.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function Xje(t,e){const n=gl(t,()=>t.createShader(t.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(ze(t,()=>t.shaderSource(n,e)),ze(t,()=>t.compileShader(n)),t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function Qje(t,e){const n=gl(t,()=>t.createShader(t.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(ze(t,()=>t.shaderSource(n,e)),ze(t,()=>t.compileShader(n)),ie().get("ENGINE_COMPILE_ONLY"))return n;if(t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw CQ(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const Yje=/ERROR: [0-9]+:([0-9]+):/g;function CQ(t,e){const n=Yje.exec(e);if(n==null){console.log(`Couldn't parse line number in error: ${e}`),console.log(t);return}const r=+n[1],i=t.split(`
`),s=i.length.toString().length+2,o=i.map((d,f)=>Tu((f+1).toString(),s)+d);let a=0;for(let d=0;d<o.length;d++)a=Math.max(o[d].length,a);const l=o.slice(0,r-1),c=o.slice(r-1,r),u=o.slice(r);console.log(l.join(`
`)),console.log(e.split(`
`)[0]),console.log(`%c ${Tu(c[0],a)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join(`
`))}function Jje(t){return gl(t,()=>t.createProgram(),"Unable to create WebGLProgram.")}function Zje(t,e){if(ze(t,()=>t.linkProgram(e)),!ie().get("ENGINE_COMPILE_ONLY")&&t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function JT(t,e){if(ze(t,()=>t.validateProgram(e)),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function eVe(t,e){const n=gl(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return ze(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),ze(t,()=>t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function tVe(t,e){const n=gl(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return ze(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)),ze(t,()=>t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function nVe(t){return gl(t,()=>t.createTexture(),"Unable to create WebGLTexture.")}function rVe(t,e){const n=ie().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){const r=`[${t}x${e}]`;throw new Error("Requested texture size "+r+" is invalid.")}if(t>n||e>n){const r=`[${t}x${e}]`,i=`[${n}x${n}]`;throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+i+".")}}function iVe(t){return gl(t,()=>t.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function HB(t,e,n,r,i,s,o){const a=t.getAttribLocation(e,n);return a===-1?!1:(ze(t,()=>t.bindBuffer(t.ARRAY_BUFFER,r)),ze(t,()=>t.vertexAttribPointer(a,i,t.FLOAT,!1,s,o)),ze(t,()=>t.enableVertexAttribArray(a)),!0)}function sVe(t,e,n){uVe(t,n),ze(t,()=>t.activeTexture(t.TEXTURE0+n)),ze(t,()=>t.bindTexture(t.TEXTURE_2D,e))}function oVe(t,e,n){return gl(t,()=>t.getUniformLocation(e,n),'uniform "'+n+'" not present in program.')}function aVe(t,e,n){return t.getUniformLocation(e,n)}function lVe(t,e,n,r){ze(t,()=>sVe(t,e,r)),ze(t,()=>t.uniform1i(n,r))}function ZT(t,e,n){ze(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,n)),ze(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0))}function qB(t,e){ze(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,e)),ze(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0))}function H1(t){const e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+cVe(t,e))}function cVe(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${e}`}}function gl(t,e,n){const r=ze(t,()=>e());if(r==null)throw new Error(n);return r}function uVe(t,e){const n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n){const i=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${i}.`)}}function Ah(t,e=2){return le(t.slice(0,t.length-e))}function Ph(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function e_(t){let e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[Ah(t),...Ph(t)]),e}function dVe(t,e=!1){let n=ie().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=ie().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");r===1/0&&ie().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),e&&(n=n*2,r=r*2,t=t.map((a,l)=>l>=t.length-2?R2(t[l]):t[l]),t.length===1&&(t=[2,t[0]])),t.length!==2&&(t=dl(t).newShape);let i=le(t),s=null;t.length<=1&&i<=n?s=[1,i]:t.length===2&&t[0]<=n&&t[1]<=n?s=t:t.length===3&&t[0]*t[1]<=n&&t[2]<=n?s=[t[0]*t[1],t[2]]:t.length===3&&t[0]<=n&&t[1]*t[2]<=n?s=[t[0],t[1]*t[2]]:t.length===4&&t[0]*t[1]*t[2]<=n&&t[3]<=n?s=[t[0]*t[1]*t[2],t[3]]:t.length===4&&t[0]<=n&&t[1]*t[2]*t[3]<=n&&(s=[t[0],t[1]*t[2]*t[3]]);const o=s!=null&&Math.max(...s)>r&&Math.min(...s)<=(e?2:1)&&Math.min(...s)>0;if(s==null||o)if(e){const a=Ah(t);let l=2,c=2;t.length&&([l,c]=Ph(t)),i=a*(l/2)*(c/2),s=Db(i).map(u=>u*2)}else s=Db(i);return s}function q1(t){return t%2===0}function Yb(t,e){if(t=t.slice(-2),e=e.slice(-2),Mt(t,e)||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){const n=t.slice(-1)[0],r=e.slice(-1)[0];if(n===r||q1(n)&&q1(r)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&q1(t[0])&&q1(e[0])}let t_,n_;function fVe(t){if(t_==null){const e=ko(t);t_=e.getParameter(e.MAX_TEXTURE_SIZE)}return t_}function hVe(t){if(n_==null){const e=ko(t);n_=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,n_)}function pVe(t){if(t===0)return 0;let e;const n=ko(t);return Ms(n,"EXT_disjoint_timer_query_webgl2")&&t===2?e=2:Ms(n,"EXT_disjoint_timer_query")?e=1:e=0,e}function Ms(t,e){return t.getExtension(e)!=null}function KB(t){try{if(ko(t)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function mVe(t){if(t===0)return!1;const e=ko(t);if(t===1){if(!Ms(e,"OES_texture_float"))return!1}else if(!Ms(e,"EXT_color_buffer_float"))return!1;return cN(e)}function gVe(t){if(t===0)return!1;const e=ko(t);if(t===1){if(!Ms(e,"OES_texture_float")||!Ms(e,"WEBGL_color_buffer_float"))return!1}else{if(Ms(e,"EXT_color_buffer_float"))return cN(e);const r="EXT_color_buffer_half_float";if(Ms(e,r)){const i=e.getExtension(r);return yVe(e,i)}return!1}return cN(e)}function cN(t){const e=_P(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);const s=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,s),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);const o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(s),o}function yVe(t,e){const n=_P(t,e),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);const a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(r),t.deleteFramebuffer(o),a}function vVe(t){return t!==2?!1:ko(t).fenceSync!=null}function Jv(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&B(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGL backend.`)})}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const We=ie();We.registerFlag("HAS_WEBGL",()=>We.getNumber("WEBGL_VERSION")>0);We.registerFlag("WEBGL_VERSION",()=>KB(2)?2:KB(1)?1:0);We.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);We.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>We.get("WEBGL_VERSION")===2);We.registerFlag("WEBGL_CPU_FORWARD",()=>!0);We.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);We.registerFlag("WEBGL_PACK",()=>We.getBool("HAS_WEBGL"));We.registerFlag("WEBGL_PACK_NORMALIZATION",()=>We.getBool("WEBGL_PACK"));We.registerFlag("WEBGL_PACK_CLIP",()=>We.getBool("WEBGL_PACK"));We.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>We.getBool("WEBGL_PACK"));We.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>We.getBool("WEBGL_PACK"));We.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>We.getBool("WEBGL_PACK"));We.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>We.getBool("WEBGL_PACK"));We.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>We.getBool("WEBGL_PACK"));We.registerFlag("WEBGL_PACK_REDUCE",()=>We.getBool("WEBGL_PACK"));We.registerFlag("WEBGL_LAZILY_UNPACK",()=>We.getBool("WEBGL_PACK"));We.registerFlag("WEBGL_CONV_IM2COL",()=>We.getBool("WEBGL_PACK"));We.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>fVe(We.getNumber("WEBGL_VERSION")));We.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>hVe(We.getNumber("WEBGL_VERSION")));We.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const t=We.getNumber("WEBGL_VERSION");return t===0?0:pVe(t)});We.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>We.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!K3());We.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>mVe(We.getNumber("WEBGL_VERSION")));We.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>We.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:We.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));We.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>gVe(We.getNumber("WEBGL_VERSION")));We.registerFlag("WEBGL_FENCE_API_ENABLED",()=>vVe(We.getNumber("WEBGL_VERSION")));We.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>We.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);We.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,t=>{if(t<0&&t!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${t}.`)});We.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>K3()?1:-1,t=>{if(t<0&&t!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${t}.`)});We.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);We.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);We.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);We.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);We.registerFlag("WEBGL_EXP_CONV",()=>!1);We.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>We.getBool("IS_TEST"));We.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);We.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);We.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ii(){let t,e,n,r,i,s,o,a,l,c;return ie().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",r="in",i="texture",s="outputColor",o="out vec4 outputColor;",a=ie().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",l="",c=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(t="",e="attribute",n="varying",r="varying",i="texture2D",s="gl_FragColor",o="",a=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,c=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:t,attribute:e,varyingVs:n,varyingFs:r,texture2D:i,output:s,defineOutput:o,defineSpecialNaN:a,defineSpecialInf:l,defineRound:c}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sd(t,e,n="index"){const r=qe(e);return r.map((i,s)=>{const o=`int ${t[s]} = ${n} / ${i}`,a=s===r.length-1?`int ${t[s+1]} = ${n} - ${t[s]} * ${i}`:`index -= ${t[s]} * ${i}`;return`${o}; ${a};`}).join("")}function Gk(t,e,n="index"){const r=qe(e);return r.map((i,s)=>{const o=`int ${t[s]} = ${n} / outShapeStrides[${s}]`,a=s===r.length-1?`int ${t[s+1]} = ${n} - ${t[s]} * outShapeStrides[${s}]`:`index -= ${t[s]} * outShapeStrides[${s}]`;return`${o}; ${a};`}).join("")}function xVe(t,e){const n=t.length,r=t.map(s=>`${e}[${s}]`),i=new Array(n-1);i[n-2]=r[n-1];for(let s=n-3;s>=0;--s)i[s]=`(${i[s+1]} * ${r[s+1]})`;return i}function bVe(t,e,n="index"){const r=t.map((s,o)=>o),i=xVe(r,e);return i.map((s,o)=>{const a=`int ${t[o]} = ${n} / ${i[o]}`,l=o===i.length-1?`int ${t[o+1]} = ${n} - ${t[o]} * ${i[o]}`:`index -= ${t[o]} * ${i[o]}`;return`${a}; ${l};`}).join("")}function IP(t){const e=qe(t).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function $P(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const EQ=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{getBroadcastDims:TQ}=xQ;function wVe(t,e,n){const r=[];if(t.forEach(h=>{const m=le(h.shapeInfo.logicalShape);if(h.shapeInfo.isUniform?r.push(`uniform float ${h.name}${m>1?`[${m}]`:""};`):(r.push(`uniform sampler2D ${h.name};`),r.push(`uniform int offset${h.name};`)),n.enableShapeUniforms){const{uniformShape:y}=NP(n.packedInputs,h.shapeInfo.logicalShape,h.shapeInfo.texShape);switch(y.length){case 1:r.push(`uniform int ${h.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${h.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${h.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${h.name}Shape;`);break}r.push(`uniform ivec2 ${h.name}TexShape;`)}}),n.enableShapeUniforms){switch(e.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;");break}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(h=>{r.push(`uniform ${h.type} ${h.name}${h.arrayIndex?`[${h.arrayIndex}]`:""};`)});const i=r.join(`
`),s=t.map(h=>SVe(h,e,n.packedInputs,n.enableShapeUniforms)).join(`
`),o=e.texShape,a=ii(),l=EVe(a);let c,u,d=IVe(a);return e.isPacked?(c=kVe(e.logicalShape,o,n.enableShapeUniforms),u=_Ve(a)):(c=CVe(e.logicalShape,o,n.enableShapeUniforms),u=TVe(a)),n.packedInputs&&(d+=RVe),[d,l,u,i,c,s,n.userCode].join(`
`)}function gp(t,e=!1){const n=t.shapeInfo.logicalShape;switch(n.length){case 0:return WVe(t,e);case 1:return HVe(t,e);case 2:return KVe(t,e);case 3:return QVe(t,e);case 4:return JVe(t,e);case 5:return ZVe(t);case 6:return e9e(t);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function _Q(t,e){switch(t.shapeInfo.logicalShape.length){case 0:return UVe(t);case 1:return GVe(t,e);case 2:return qVe(t,e);case 3:return XVe(t,e);default:return YVe(t,e)}}function SVe(t,e,n=!1,r){let i="";n?i+=_Q(t,r):i+=gp(t,r);const s=t.shapeInfo.logicalShape,o=e.logicalShape;return s.length<=o.length&&(n?i+=t9e(t,e):i+=n9e(t,e)),i}function kVe(t,e,n){switch(t.length){case 0:return IQ();case 1:return AVe(t,e,n);case 2:return jVe(t,e,n);case 3:return DVe(t,e,n);default:return LVe(t,e,n)}}function CVe(t,e,n){switch(t.length){case 0:return IQ();case 1:return PVe(t,e,n);case 2:return VVe(t,e,n);case 3:return FVe(t,e,n);case 4:return MVe(t,e,n);case 5:return BVe(t,e);case 6:return zVe(t,e);default:throw new Error(`${t.length}-D output sampling is not yet supported`)}}function EVe(t){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${t.texture2D}(textureSampler, uv).r;
    }
  `}function TVe(t){return`
    void setOutput(float val) {
      ${t.output} = vec4(val, 0, 0, 0);
    }
  `}function _Ve(t){return`
    void setOutput(vec4 val) {
      ${t.output} = val;
    }
  `}function IVe(t){return`${t.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${t.varyingFs} vec2 resultUV;
    ${t.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${t.defineSpecialNaN}
    ${t.defineSpecialInf}
    ${t.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${$Ve}
    ${NVe}
    ${OVe}
  `}const $Ve=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,NVe=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,OVe=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,RVe=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function IQ(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function AVe(t,e,n){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return r[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${r[1]}.0);
      }
    `:r[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${r[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);
    }
  `}function PVe(t,e,n){return e[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${e[1]}.0);
      }
    `:e[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${e[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      return resTexRC.x * ${e[1]} + resTexRC.y;
    }
  `}function DVe(t,e,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],i=Math.ceil(t[2]/2),s=i*Math.ceil(t[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      int b = index / ${s};
      index -= b * ${s};

      int r = 2 * (index / ${i});
      int c = imod(index, ${i}) * 2;

      return ivec3(b, r, c);
    }
  `}function FVe(t,e,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${Gk(["r","c","d"],t)}
    return ivec3(r, c, d);
  }
`;const r=Sd(["r","c","d"],t);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec3(r, c, d);
    }
  `}function LVe(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],i=Math.ceil(t[t.length-1]/2),s=i*Math.ceil(t[t.length-2]/2);let o=s,a="",l="b, r, c";for(let c=2;c<t.length-1;c++)o*=t[t.length-c-1],a=`
      int b${c} = index / ${o};
      index -= b${c} * ${o};
    `+a,l=`b${c}, `+l;return`
    ivec${t.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      ${a}

      int b = index / ${s};
      index -= b * ${s};

      int r = 2 * (index / ${i});
      int c = imod(index, ${i}) * 2;

      return ivec${t.length}(${l});
    }
  `}function MVe(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${Gk(["r","c","d","d2"],t)}
      return ivec4(r, c, d, d2);
    }
  `;const r=Sd(["r","c","d","d2"],t);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec4(r, c, d, d2);
    }
  `}function BVe(t,e){const n=Sd(["r","c","d","d2","d3"],t);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${e[0]},
                             ${e[1]}));

      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function zVe(t,e){const n=Sd(["r","c","d","d2","d3","d4"],t);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function jVe(t,e,n){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(Mt(t,e))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));
      }
    `;const i=Math.ceil(t[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));

      int index = resTexRC.x * ${r[1]} + resTexRC.y;
      int r = 2 * (index / ${i});
      int c = imod(index, ${i}) * 2;

      return ivec2(r, c);
    }
  `}function VVe(t,e,n){return Mt(t,e)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:t[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:t[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${t[1]};
      int c = index - r * ${t[1]};
      return ivec2(r, c);
    }
  `}function kd(t){return`offset${t}`}function UVe(t){const e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=ii();return`
    vec4 ${n}() {
      return ${r.texture2D}(${e}, halfCR);
    }
  `}function WVe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[i,s]=t.shapeInfo.texShape;if(i===1&&s===1)return`
      float ${r}() {
        return sampleTexture(${n}, halfCR);
      }
    `;const o=kd(n);if(e)return`
    float ${r}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${o});
      return sampleTexture(${n}, uv);
    }
  `;const[a,l]=t.shapeInfo.texShape;return`
    float ${r}() {
      vec2 uv = uvFromFlat(${a}, ${l}, ${o});
      return sampleTexture(${n}, uv);
    }
  `}function GVe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t.shapeInfo.texShape,s=ii();if(e)return`
    vec4 ${r}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${s.texture2D}(${n}, uv);
    }
  `;const o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return`
    vec4 ${r}(int index) {
      vec2 uv = packedUVfrom1D(
        ${o[0]}, ${o[1]}, index);
      return ${s.texture2D}(${n}, uv);
    }
  `}function HVe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`
      float ${r}(int index) {
        ${yp(t)}
      }
    `;const i=t.shapeInfo.texShape,s=i[0],o=i[1];if(o===1&&s===1)return`
      float ${r}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;const a=kd(n);return o===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${a}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${a}) + 0.5) / ${s}.0);
        return sampleTexture(${n}, uv);
      }
    `:s===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${a}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${a}) + 0.5) / ${o}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:e?`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${a});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${s}, ${o}, index + ${a});
      return sampleTexture(${n}, uv);
    }
  `}function qVe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),s=t.shapeInfo.texShape,o=s[0],a=s[1],l=ii();if(s!=null&&Mt(n,s))return e?`
      vec4 ${i}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);

        return ${l.texture2D}(${r}, uv);
      }
    `:`
      vec4 ${i}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${a}.0, ${o}.0);

        return ${l.texture2D}(${r}, uv);
      }
    `;if(e)return`
    vec4 ${i}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `;const c=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],u=Math.ceil(n[1]/2);return`
    vec4 ${i}(int row, int col) {
      vec2 uv = packedUVfrom2D(${u}, ${c[0]}, ${c[1]}, row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `}function KVe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),s=t.shapeInfo.texShape;if(s!=null&&Mt(n,s)){if(e)return`
      float ${i}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `;const f=s[0],h=s[1];return`
    float ${i}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${h}.0, ${f}.0);
      return sampleTexture(${r}, uv);
    }
  `}const{newShape:o,keptDims:a}=dl(n),l=o;if(l.length<n.length){const f=vp(t,l),h=["row","col"];return`
      ${gp(f,e)}
      float ${i}(int row, int col) {
        return ${i}(${xp(h,a)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${i}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${yp(t)}
      }
    `;const c=s[0],u=s[1],d=kd(r);return u===1?e?`
      float ${i}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${i}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${c}.0);
      return sampleTexture(${r}, uv);
    }
  `:c===1?e?`
      float ${i}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${i}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${u}.0, 0.5);
      return sampleTexture(${r}, uv);
    }
  `:e?`
      float ${i}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${r}Shape[1] + col + ${d};
        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
        return sampleTexture(${r}, uv);
      }
    `:`
  float ${i}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${d};
    vec2 uv = uvFromFlat(${c}, ${u}, index);
    return sampleTexture(${r}, uv);
  }
`}function XVe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),s=t.shapeInfo.texShape,o=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];if(n[0]===1){const f=n.slice(1),h=[1,2],m=vp(t,f),y=["b","row","col"];return`
        ${_Q(m,e)}
        vec4 ${i}(int b, int row, int col) {
          return ${i}(${xp(y,h)});
        }
      `}const a=ii();if(e)return`
    vec4 ${i}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${a.texture2D}(${r}, uv);
    }
  `;const l=o[0],c=o[1],u=Math.ceil(n[2]/2),d=u*Math.ceil(n[1]/2);return`
    vec4 ${i}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${l}, ${c}, ${d}, ${u}, b, row, col);
      return ${a.texture2D}(${r}, uv);
    }
  `}function QVe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),s=n[1]*n[2],o=n[2],{newShape:a,keptDims:l}=dl(n),c=a;if(c.length<n.length){const y=vp(t,c),x=["row","col","depth"];return`
        ${gp(y,e)}
        float ${i}(int row, int col, int depth) {
          return ${i}(${xp(x,l)});
        }
      `}if(t.shapeInfo.isUniform)return`
      float ${i}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${s}, ${o}, 1)));
        ${yp(t)}
      }
    `;const u=t.shapeInfo.texShape,d=u[0],f=u[1],h=t.shapeInfo.flatOffset;if(f===s&&h==null)return e?`
      float ${i}(int row, int col, int depth) {
        int stride1 = ${r}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
        float ${i}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${o}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${f}.0, ${d}.0);
          return sampleTexture(${r}, uv);
        }
      `;if(f===o&&h==null)return e?`
      float ${i}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${i}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${f}.0, ${d}.0);
      return sampleTexture(${r}, uv);
    }
  `;const m=kd(r);return e?`
    float ${i}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${r}Shape[1] * ${r}Shape[2];
      int stride1 = ${r}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${m};
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
      return sampleTexture(${r}, uv);
    }
    `:`
      float ${i}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${s} + col * ${o} + depth + ${m};
        vec2 uv = uvFromFlat(${d}, ${f}, index);
        return sampleTexture(${r}, uv);
      }
  `}function YVe(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=ii();if(e)return`
    vec4 ${r}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${i.texture2D}(${n}, uv);
    }
  `;const s=t.shapeInfo.logicalShape,o=s.length,a=t.shapeInfo.texShape,l=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],c=l[0],u=l[1],d=Math.ceil(s[o-1]/2);let f=d*Math.ceil(s[o-2]/2),h="int b, int row, int col",m=`b * ${f} + (row / 2) * ${d} + (col / 2)`;for(let y=2;y<o-1;y++)h=`int b${y}, `+h,f*=s[o-y-1],m=`b${y} * ${f} + `+m;return`
    vec4 ${r}(${h}) {
      int index = ${m};
      int texR = index / ${u};
      int texC = index - texR * ${u};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${u}, ${c});
      return ${i.texture2D}(${n}, uv);
    }
  `}function JVe(t,e){const n=t.shapeInfo.logicalShape,r=t.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),s=n[3],o=n[2]*s,a=n[1]*o,{newShape:l,keptDims:c}=dl(n);if(l.length<n.length){const b=vp(t,l),w=["row","col","depth","depth2"];return`
      ${gp(b,e)}
      float ${i}(int row, int col, int depth, int depth2) {
        return ${i}(${xp(w,c)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${i}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${a}, ${o}, ${s}, 1)));
        ${yp(t)}
      }
    `;const u=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,f=d[0],h=d[1],m=`int stride2 = ${r}Shape[3];`,y=`int stride1 = ${r}Shape[2] * stride2;`,x=`int stride0 = ${r}Shape[1] * stride1;`;if(h===a&&u==null)return e?`
      float ${i}(int row, int col, int depth, int depth2) {
        ${m}
        ${y}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${i}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${o}, ${s}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${f}.0);
        return sampleTexture(${r}, uv);
      }
    `;if(h===s&&u==null)return e?`
      float ${i}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${i}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${f}.0);
        return sampleTexture(${r}, uv);
      }
    `;const v=kd(r);return e?`
    float ${i}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${m}
      ${y}
      ${x}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${v});
      return sampleTexture(${r}, uv);
    }
  `:`
    float ${i}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${a} + col * ${o} +
          depth * ${s} + depth2;
      vec2 uv = uvFromFlat(${f}, ${h}, index + ${v});
      return sampleTexture(${r}, uv);
    }
  `}function ZVe(t){const e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e[4],s=e[3]*i,o=e[2]*s,a=e[1]*o,{newShape:l,keptDims:c}=dl(e);if(l.length<e.length){const y=vp(t,l),x=["row","col","depth","depth2","depth3"];return`
      ${gp(y)}
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        return ${r}(${xp(x,c)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${a}, ${o}, ${s}, ${i})) +
          depth3;
        ${yp(t)}
      }
    `;const u=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,f=d[0],h=d[1];if(h===a&&u==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${o}, ${s}, ${i}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${f}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(h===i&&u==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]},
               ${e[2]*e[3]}, ${e[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${f}.0);
        return sampleTexture(${n}, uv);
      }
    `;const m=kd(n);return`
    float ${r}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${a} + col * ${o} + depth * ${s} +
          depth2 * ${i} + depth3 + ${m};
      vec2 uv = uvFromFlat(${f}, ${h}, index);
      return sampleTexture(${n}, uv);
    }
  `}function e9e(t){const e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:i,keptDims:s}=dl(e);if(i.length<e.length){const x=vp(t,i),v=["row","col","depth","depth2","depth3","depth4"];return`
      ${gp(x)}
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${r}(${xp(v,s)});
      }
    `}const o=e[5],a=e[4]*o,l=e[3]*a,c=e[2]*l,u=e[1]*c;if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${u}, ${c}, ${l}, ${a})) +
          dot(
            vec2(depth3, depth4),
            vec2(${o}, 1)));
        ${yp(t)}
      }
    `;const d=t.shapeInfo.flatOffset,f=t.shapeInfo.texShape,h=f[0],m=f[1];if(m===u&&d==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${c}, ${l}, ${a}, ${o})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${m}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(m===o&&d==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]*e[4]},
               ${e[2]*e[3]*e[4]},
               ${e[3]*e[4]},
               ${e[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${m}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;const y=kd(n);return`
    float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${u} + col * ${c} + depth * ${l} +
          depth2 * ${a} + depth3 * ${o} + depth4 + ${y};
      vec2 uv = uvFromFlat(${h}, ${m}, index);
      return sampleTexture(${n}, uv);
    }
  `}function yp(t){const e=t.name,n=le(t.shapeInfo.logicalShape);return n<2?`return ${e};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${e}[i];
      }
    }
  `}function t9e(t,e){const n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",s=t.shapeInfo.logicalShape.length,o=e.logicalShape.length,a=TQ(t.shapeInfo.logicalShape,e.logicalShape),l=Wt(o),c=o-s;let u;const d=["x","y","z","w","u","v"];s===0?u="":o<2&&a.length>=1?u="coords = 0;":u=a.map(b=>`coords.${d[b+c]} = 0;`).join(`
`);let f="";o<2&&s>0?f="coords":f=t.shapeInfo.logicalShape.map((b,w)=>`coords.${d[w+c]}`).join(", ");let h="return outputValue;";const y=le(t.shapeInfo.logicalShape)===1,v=le(e.logicalShape)===1;if(s===1&&!y&&!v)h=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(y&&!v)o===1?h=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:h=`
        return vec4(outputValue.x);
      `;else if(a.length){const b=s-2,w=s-1;a.indexOf(b)>-1&&a.indexOf(w)>-1?h="return vec4(outputValue.x);":a.indexOf(b)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":a.indexOf(w)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${i}() {
      ${l} coords = getOutputCoords();
      ${u}
      vec4 outputValue = get${r}(${f});
      ${h}
    }
  `}function n9e(t,e){const n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",s=e.texShape,o=t.shapeInfo.texShape,a=t.shapeInfo.logicalShape.length,l=e.logicalShape.length;if(!t.shapeInfo.isUniform&&a===l&&t.shapeInfo.flatOffset==null&&Mt(o,s))return`
      float ${i}() {
        return sampleTexture(${n}, resultUV);
      }
    `;const c=Wt(l),u=TQ(t.shapeInfo.logicalShape,e.logicalShape),d=l-a;let f;const h=["x","y","z","w","u","v"];a===0?f="":l<2&&u.length>=1?f="coords = 0;":f=u.map(y=>`coords.${h[y+d]} = 0;`).join(`
`);let m="";return l<2&&a>0?m="coords":m=t.shapeInfo.logicalShape.map((y,x)=>`coords.${h[x+d]}`).join(", "),`
    float ${i}() {
      ${c} coords = getOutputCoords();
      ${f}
      return get${r}(${m});
    }
  `}function Wt(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error(`GPU for rank ${t} is not yet supported`)}function NP(t,e,n){const{newShape:r,keptDims:i}=dl(e),s=e.length,o=t&&s===3&&e[0]===1,a=o?e.slice(1):r,l=!t&&s>1&&!Mt(e,n)&&r.length<s||o;return{useSqueezeShape:l,uniformShape:l?a:e,keptDims:i}}function vp(t,e){const n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function xp(t,e){return e.map(n=>t[n]).join(", ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r9e(t,e,n,r){const i=n.map((u,d)=>{const f={logicalShape:u.shape,texShape:u.isUniform?null:u.texData.texShape,isUniform:u.isUniform,isPacked:u.isUniform?!1:u.texData.isPacked,flatOffset:null};return u.texData!=null&&u.texData.slice!=null&&u.texData.slice.flatOffset>0&&(f.flatOffset=u.texData.slice.flatOffset),{name:e.variableNames[d],shapeInfo:f}}),s=i.map(u=>u.shapeInfo),o={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},a=wVe(i,o,e),l=Qje(t.gl,a),c=t.createProgram(l);return ie().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:l,source:a,webGLProgram:c,inShapeInfos:s,outShapeInfo:o,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:e,fragmentShader:l,source:a,webGLProgram:c,inShapeInfos:s,outShapeInfo:o},$Q(t,e,c))}function $Q(t,e,n){const r={},i={},s={},o=[];let a,l,c,u=null,d=null;d=t.getUniformLocation(n,"NAN",!1),ie().getNumber("WEBGL_VERSION")===1&&(u=t.getUniformLocation(n,"INFINITY",!1));const f=!1;for(let h=0;h<e.variableNames.length;h++){const m=e.variableNames[h];r[m]=t.getUniformLocation(n,m,f),r[`offset${m}`]=t.getUniformLocation(n,`offset${m}`,f),e.enableShapeUniforms&&(i[`${m}Shape`]=t.getUniformLocation(n,`${m}Shape`,f),s[`${m}TexShape`]=t.getUniformLocation(n,`${m}TexShape`,f))}return e.enableShapeUniforms&&(a=t.getUniformLocation(n,"outShape",f),c=t.getUniformLocation(n,"outShapeStrides",f),l=t.getUniformLocation(n,"outTexShape",f)),e.customUniforms&&e.customUniforms.forEach((h,m)=>{o[m]=t.getUniformLocation(n,h.name,f)}),{uniformLocations:r,customUniformLocations:o,infLoc:u,nanLoc:d,inShapesLocations:i,inTexShapesLocations:s,outShapeLocation:a,outShapeStridesLocation:c,outTexShapeLocation:l}}function XB(t,e){if(t.length!==e.length)throw Error(`Binary was compiled with ${t.length} inputs, but was executed with ${e.length} inputs`);t.forEach((n,r)=>{const i=n.logicalShape,s=e[r],o=s.shape;if(!Mt(i,o))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${i} and ${o} must match`);if(n.isUniform&&s.isUniform)return;const a=n.texShape,l=s.isUniform?null:s.texData.texShape;if(!Mt(a,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${a} and ${l} must match`)})}function i9e(t,e,n,r,i){e.program.enableShapeUniforms||(XB(e.inShapeInfos,n),XB([e.outShapeInfo],[r]));const s=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?t.setOutputPackedMatrixTexture(s.texture,o[0],o[1]):t.setOutputMatrixTexture(s.texture,o[0],o[1]),t.setProgram(e.webGLProgram),ie().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&t.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&t.gl.uniform1f(e.nanLoc,NaN),n.forEach((l,c)=>{const u=e.program.variableNames[c],d=e.uniformLocations[u],f=e.uniformLocations[`offset${u}`],h=e.inShapesLocations[`${u}Shape`],m=e.inTexShapesLocations[`${u}TexShape`];if(h){const{uniformShape:y}=NP(e.program.packedInputs,l.shape,l.texData.texShape);switch(y.length){case 1:t.gl.uniform1iv(h,new Int32Array(y));break;case 2:t.gl.uniform2iv(h,new Int32Array(y));break;case 3:t.gl.uniform3iv(h,new Int32Array(y));break;case 4:t.gl.uniform4iv(h,new Int32Array(y));break}}if(m&&t.gl.uniform2i(m,l.texData.texShape[0],l.texData.texShape[1]),d!=null){if(l.isUniform){if(le(l.shape)<2)t.gl.uniform1f(d,l.uniformValues[0]);else{let y=l.uniformValues;y instanceof Float32Array||(y=new Float32Array(y)),t.gl.uniform1fv(d,y)}return}l.texData.slice!=null&&f!=null&&t.gl.uniform1i(f,l.texData.slice.flatOffset),t.setInputMatrixTexture(l.texData.texture.texture,d,c)}});const a=e.outShapeLocation;if(a)switch(r.shape.length){case 1:t.gl.uniform1iv(a,new Int32Array(r.shape));break;case 2:t.gl.uniform2iv(a,new Int32Array(r.shape));break;case 3:t.gl.uniform3iv(a,new Int32Array(r.shape));break;case 4:t.gl.uniform4iv(a,new Int32Array(r.shape));break}if(e.outShapeStridesLocation){const l=qe(r.shape);switch(r.shape.length){case 2:t.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(l));break;case 3:t.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(l));break;case 4:t.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(l));break}}e.outTexShapeLocation&&t.gl.uniform2i(e.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),e.program.customUniforms&&i&&e.program.customUniforms.forEach((l,c)=>{const u=e.customUniformLocations[c],d=i[c];if(l.type==="float")t.gl.uniform1fv(u,d);else if(l.type==="vec2")t.gl.uniform2fv(u,d);else if(l.type==="vec3")t.gl.uniform3fv(u,d);else if(l.type==="vec4")t.gl.uniform4fv(u,d);else if(l.type==="int")t.gl.uniform1iv(u,d);else if(l.type==="ivec2")t.gl.uniform2iv(u,d);else if(l.type==="ivec3")t.gl.uniform3iv(u,d);else if(l.type==="ivec4")t.gl.uniform4iv(u,d);else throw Error(`uniform type ${l.type} is not supported yet.`)}),t.executeProgram()}function s9e(t,e,n){let r="";e.concat(n).forEach(o=>{const a=o.texData!=null&&o.texData.slice!=null&&o.texData.slice.flatOffset>0;if(t.enableShapeUniforms&&!o.isUniform){const l=o.texData.texShape,{useSqueezeShape:c,uniformShape:u,keptDims:d}=NP(t.packedInputs,o.shape,l);let f="",h="",m="";if(u.length===1&&t.packedInputs){const E=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];f=`${E[0]>1}_${E[1]>1}`}else if(u.length===2&&!t.packedInputs)h=`${u[0]>1}_${u[1]>1}`;else if(u.length>2&&!t.packedInputs){const E=qe(u);m=`${E[0]===l[1]}_${E[E.length-1]===l[1]}`}const y=o.shape.length,x=u.length===2&&Mt(o.shape,l),v=le(o.shape)===1,b=Xu(o.shape,n.shape),w=!t.packedInputs&&y===n.shape.length&&Mt(l,n.texData.texShape),k=t.packedInputs||u.length>2?"":`${l[0]>1}_${l[1]>1}`;r+=`${y}_${w}_${c?d:""}_${u.length}_${v}_${b}_${x}_${f}_${h}_${m}_${k}_${a}`}else{const l=o.isUniform?"uniform":o.texData.texShape;r+=`${o.shape}_${l}_${a}`}});const i=t.userCode;let s=t.constructor.name;return s+="_"+r+"_"+i+`${ie().getNumber("WEBGL_VERSION")}`,s}function si(t){return ie().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&t<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class o9e{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Jg.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=ii();this.outputShape=e,this.enableShapeUniforms=si(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?Gk(["r","c","d"],e):Sd(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class a9e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Jg.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=ii();this.outputShape=e,this.enableShapeUniforms=si(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?Gk(["r","c","d"],e):Sd(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class l9e{constructor(e){this.variableNames=["A"],this.outTexUsage=ns.DOWNLOAD;const n=ii();this.outputShape=e,this.userCode=`
      ${EQ}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class c9e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=ns.DOWNLOAD;const n=ii();this.outputShape=e,this.userCode=`
      ${EQ}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class u9e{constructor(e,n=!1){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=ii();this.outputShape=e,this.enableShapeUniforms=si(this.outputShape.length);let i="result";n&&(i="floor(result * 255. + 0.5)"),this.userCode=`
      ${this.enableShapeUniforms?$P():IP(e)}

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);

        int r = flatIndex / texShape[1];
        int c = imod(flatIndex, texShape[1]);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
        vec4 values = ${r.texture2D}(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        ${r.output} = vec4(${i}, 0., 0., 0.);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class d9e{constructor(e,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=ii();this.outputShape=e,this.enableShapeUniforms=si(this.outputShape.length);let i="",s="result";n&&(s="floor(result * 255. + 0.5)");for(let o=0;o<=1;o++)for(let a=0;a<=1;a++){const l=o*2+a;i+=`
          localCoords = coords;
          if(localCoords[2] + ${a} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${a};
          if (localCoords[1] + ${o} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${o};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${r.texture2D}(A, uv);

            if (offset == 0) {
              result[${l}] = values[0];
            } else if (offset == 1) {
              result[${l}] = values[1];
            } else if (offset == 2) {
              result[${l}] = values[2];
            } else {
              result[${l}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?$P():IP(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${i}

          ${r.output} = ${s};
        }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f9e(t){const e=ii(),n=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return Xje(t,n)}function h9e(t){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return eVe(t,e)}function p9e(t){const e=new Uint16Array([0,1,2,2,1,3]);return tVe(t,e)}function Zv(t,e,n,r,i,s){rVe(e,n);const o=nVe(t),a=t.TEXTURE_2D;return ze(t,()=>t.bindTexture(a,o)),ze(t,()=>t.texParameteri(a,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)),ze(t,()=>t.texParameteri(a,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),ze(t,()=>t.texParameteri(a,t.TEXTURE_MIN_FILTER,t.NEAREST)),ze(t,()=>t.texParameteri(a,t.TEXTURE_MAG_FILTER,t.NEAREST)),ie().getNumber("WEBGL_VERSION")===1?ze(t,()=>t.texImage2D(a,0,r,e,n,0,i,s,null)):ze(t,()=>t.texStorage2D(a,1,r,e,n)),ze(t,()=>t.bindTexture(t.TEXTURE_2D,null)),{texture:o,texShape:[n,e]}}function NQ(t){return t.internalFormatFloat}function m9e(t,e,n,r){const[i,s]=Yv(e,n);return Zv(t,i,s,NQ(r),r.textureFormatFloat,t.FLOAT)}function OQ(t){return t.internalFormatHalfFloat}function g9e(t,e,n,r){const[i,s]=Yv(e,n);return Zv(t,i,s,OQ(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function RQ(t){return t.downloadTextureFormat}function y9e(t,e,n,r){const[i,s]=Yv(e,n);return Zv(t,i,s,RQ(r),t.RGBA,t.UNSIGNED_BYTE)}function AQ(t){return t.internalFormatPackedFloat}function v9e(t,e,n,r){const[i,s]=mp(e,n);return Zv(t,i,s,AQ(r),t.RGBA,t.FLOAT)}function PQ(t){return t.internalFormatPackedHalfFloat}function x9e(t,e,n,r){const[i,s]=mp(e,n);return Zv(t,i,s,PQ(r),t.RGBA,r.textureTypeHalfFloat)}function b9e(t,e,n){return ze(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),HB(t,e,"clipSpacePos",n,3,20,0)&&HB(t,e,"uv",n,2,20,12)}function w9e(t,e,n,r,i,s){ze(t,()=>t.bindTexture(t.TEXTURE_2D,e));let o,a,l;i instanceof Uint8Array?(o=new Uint8Array(n*r*4),a=t.UNSIGNED_BYTE,l=t.RGBA):(o=new Float32Array(n*r*4),a=t.FLOAT,l=s.internalFormatPackedFloat),o.set(i),ie().getNumber("WEBGL_VERSION")===2?ze(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,r,t.RGBA,a,o)):ze(t,()=>t.texImage2D(t.TEXTURE_2D,0,l,n,r,0,t.RGBA,a,o)),ze(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function S9e(t,e,n){ze(t,()=>t.bindTexture(t.TEXTURE_2D,e)),n.data instanceof Uint8Array?ie().getNumber("WEBGL_VERSION")===2?ze(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,n.data)):ze(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n.width,n.height,0,t.RGBA,t.UNSIGNED_BYTE,n.data)):ie().getNumber("WEBGL_VERSION")===2?ze(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,n)):ze(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)),ze(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function k9e(t,e,n,r){const i=t.createBuffer();ze(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,i));const a=4*4*e*n;return ze(t,()=>t.bufferData(t.PIXEL_PACK_BUFFER,a,t.STREAM_READ)),ze(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,0)),ze(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,null)),i}function C9e(t,e,n){const r=t,i=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}function E9e(t,e,n,r){const[i,s]=Yv(e,n),o=4,a=new Uint8Array(Vje(e*n,o));return ze(t,()=>t.readPixels(0,0,i,s,r.downloadTextureFormat,t.UNSIGNED_BYTE,a)),new Float32Array(a.buffer)}function T9e(t,e,n,r,i,s,o,a){const l=t,c=new Float32Array(Uje(s,o));return l.bindBuffer(l.PIXEL_PACK_BUFFER,e),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}function _9e(t,e,n){const r=new Float32Array(e*n*4);return ze(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,r)),r}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class r_{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const n=ie().getNumber("WEBGL_VERSION");e!=null?(this.gl=e,Bje(n,e)):this.gl=ko(n);let r="WEBGL_color_buffer_float";const i="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),ie().getNumber("WEBGL_VERSION")===1){const s="OES_texture_float",o="OES_texture_half_float";if(this.textureFloatExtension=G1(this.gl,s),Ms(this.gl,o))this.textureHalfFloatExtension=G1(this.gl,o);else if(ie().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),Ms(this.gl,i))this.colorBufferHalfFloatExtension=G1(this.gl,i);else if(ie().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",Ms(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else if(Ms(this.gl,i))this.colorBufferHalfFloatExtension=this.gl.getExtension(i);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=h9e(this.gl),this.indexBuffer=p9e(this.gl),this.framebuffer=iVe(this.gl),this.textureConfig=_P(this.gl,this.textureHalfFloatExtension)}get debug(){return ie().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;ze(e,()=>e.finish()),ze(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),ze(e,()=>e.deleteFramebuffer(this.framebuffer)),ze(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),ze(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),ze(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,n){return this.throwIfDisposed(),m9e(this.gl,e,n,this.textureConfig)}createFloat16MatrixTexture(e,n){return this.throwIfDisposed(),g9e(this.gl,e,n,this.textureConfig)}createUnsignedBytesMatrixTexture(e,n){return this.throwIfDisposed(),y9e(this.gl,e,n,this.textureConfig)}uploadPixelDataToTexture(e,n){this.throwIfDisposed(),S9e(this.gl,e,n)}uploadDenseMatrixToTexture(e,n,r,i){this.throwIfDisposed(),w9e(this.gl,e,n,r,i,this.textureConfig)}createFloat16PackedMatrixTexture(e,n){return this.throwIfDisposed(),x9e(this.gl,e,n,this.textureConfig)}createPackedMatrixTexture(e,n){return this.throwIfDisposed(),v9e(this.gl,e,n,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(qB(this.gl,this.framebuffer),this.outputTexture=null),ze(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,n,r){return this.downloadMatrixDriver(e,()=>E9e(this.gl,n,r,this.textureConfig))}downloadPackedMatrixFromBuffer(e,n,r,i,s,o){return T9e(this.gl,e,n,r,i,s,o,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,n){return C9e(this.gl,e,n)}createBufferFromTexture(e,n,r){this.bindTextureToFrameBuffer(e);const i=k9e(this.gl,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),i}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,r;if(ie().getBool("WEBGL_FENCE_API_ENABLED")){const i=e,s=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=()=>{const o=i.clientWaitSync(s,0,0);return o===i.ALREADY_SIGNALED||o===i.CONDITION_SATISFIED},n=s}else ie().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=()=>this.isQueryAvailable(n,ie().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):r=()=>!0;return{query:n,isFencePassed:r}}downloadMatrixFromPackedTexture(e,n,r){return this.downloadMatrixDriver(e,()=>_9e(this.gl,n,r))}createProgram(e){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=f9e(n));const r=Jje(n);return ze(n,()=>n.attachShader(r,this.vertexShader)),ze(n,()=>n.attachShader(r,e)),Zje(n,r),this.debug&&JT(n,r),this.vertexAttrsAreBound||(this.setProgram(r),this.vertexAttrsAreBound=b9e(n,this.program,this.vertexBuffer)),r}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&ze(this.gl,()=>this.gl.deleteProgram(e))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&JT(this.gl,this.program),ze(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,n,r=!0){return this.throwIfDisposed(),r?oVe(this.gl,e,n):aVe(this.gl,e,n)}getAttributeLocation(e,n){return this.throwIfDisposed(),ze(this.gl,()=>this.gl.getAttribLocation(e,n))}getUniformLocationNoThrow(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)}setInputMatrixTexture(e,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),lVe(this.gl,e,n,r)}setOutputMatrixTexture(e,n,r){this.setOutputMatrixTextureDriver(e,r,n)}setOutputPackedMatrixTexture(e,n,r){this.throwIfDisposed();const[i,s]=mp(n,r);this.setOutputMatrixTextureDriver(e,i,s)}setOutputMatrixWriteRegion(e,n,r,i){this.setOutputMatrixWriteRegionDriver(r,e,i,n)}setOutputPackedMatrixWriteRegion(e,n,r,i){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&JT(this.gl,this.program),H1(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;this.debug&&this.debugValidate(),ze(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),ze(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=G1(this.gl,ie().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(ie().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const r=this.gl,i=this.getQueryTimerExtensionWebGL2(),s=r.createQuery();return r.beginQuery(i.TIME_ELAPSED_EXT,s),s}const e=this.getQueryTimerExtensionWebGL1(),n=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,n),n}endQuery(){if(ie().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await O$(()=>this.disposed||this.isQueryAvailable(e,ie().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,ie().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,n){if(n===0)return null;if(n===2){const r=this.gl;return r.getQueryParameter(e,r.QUERY_RESULT)/1e6}else{const r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,n){if(n===0)return!0;if(n===2){const r=this.gl,i=this.getQueryTimerExtensionWebGL2(),s=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),s&&!this.disjoint}else{const r=this.getQueryTimerExtensionWebGL1(),i=r.getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint}}pollFence(e){return new Promise(n=>{this.addItemToPoll(()=>e.isFencePassed(),()=>n())})}pollItems(){const e=I9e(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=e;++n){const{resolveFn:r}=this.itemsToPoll[n];r()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,n){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1)return;let r;"setTimeoutCustom"in ie().platform&&(r=ie().platform.setTimeoutCustom.bind(ie().platform)),O$(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,r)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),ZT(this.gl,e,this.framebuffer),this.debug&&H1(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(ZT(this.gl,this.outputTexture,this.framebuffer),this.debug&&H1(this.gl)):qB(this.gl,this.framebuffer)}downloadMatrixDriver(e,n){this.bindTextureToFrameBuffer(e);const r=n();return this.unbindTextureToFrameBuffer(),r}setOutputMatrixTextureDriver(e,n,r){this.throwIfDisposed();const i=this.gl;ZT(i,e,this.framebuffer),this.debug&&H1(i),this.outputTexture=e,ze(i,()=>i.viewport(0,0,n,r)),ze(i,()=>i.scissor(0,0,n,r))}setOutputMatrixWriteRegionDriver(e,n,r,i){this.throwIfDisposed(),ze(this.gl,()=>this.gl.scissor(e,n,r,i))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function I9e(t){let e=0;for(;e<t.length&&t[e]();++e);return e-1}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Be(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&B(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the CPU backend.`)})}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DQ(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}const $9e=t=>{const{x:e}=t.inputs,n=t.backend;Be(e,"abs");let r=new Float32Array(le(e.shape));const i=n.data.get(e.dataId).values;return r=DQ(i),n.makeOutput(r,e.shape,e.dtype)},N9e={kernelName:P2,backendName:"cpu",kernelFunc:$9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bn(t){return(e,n,r,i,s)=>{const o=pt(e,n),a=o.length,l=qe(o),c=le(o),u=Kn(s,c),d=e.length,f=n.length,h=qe(e),m=qe(n),y=Xu(e,o),x=Xu(n,o);if(y.length+x.length===0)for(let v=0;v<u.length;++v)u[v]=t(r[v%r.length],i[v%i.length]);else for(let v=0;v<u.length;++v){const b=xd(v,a,l),w=b.slice(-d);y.forEach(I=>w[I]=0);const k=bo(w,d,h),E=b.slice(-f);x.forEach(I=>E[I]=0);const _=bo(E,f,m);u[v]=t(r[k],i[_])}return[u,o]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ai(t){const{inputs:e,backend:n}=t,{real:r,imag:i}=e,s=n.data.get(r.dataId).values,o=n.data.get(i.dataId).values,a=n.makeTensorInfo(r.shape,"complex64"),l=n.data.get(a.dataId);return l.complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",s),imag:n.makeTensorInfo(i.shape,"float32",o)},a}const O9e={kernelName:H2,backendName:"cpu",kernelFunc:Ai};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jb(t,e,n="float32"){if(n==="complex64"){const i=Jb(t,e,"float32"),s=Jb(t,e,"float32");return Ai({inputs:{real:i,imag:s},backend:t})}const r=vr(le(e),n);return t.makeTensorInfo(e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fa(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const R9e={kernelName:tv,backendName:"cpu",kernelFunc:fa};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zu(t){const{inputs:e,backend:n}=t,{input:r}=e,i=n.data.get(r.dataId).complexTensorInfos.real,s=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,s)}const A9e={kernelName:WS,backendName:"cpu",kernelFunc:Zu};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FQ(t,e,n,r){if(r==="int32"){const i=Int32Array.from(t);return[e,"int32",i]}if(r==="bool"){const i=Oc([0],n),[s,o]=Bn((a,l)=>a!==l?1:0)(e,[],t,i,"bool");return[o,"bool",s]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function wc(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{dtype:s}=r;if(s==="complex64"){if(i.dtype==="complex64")return fa({inputs:{x:i},backend:n});const u=Jb(n,i.shape,i.dtype),d=wc({inputs:{x:i},backend:n,attrs:{dtype:"float32"}}),f=Ai({inputs:{real:d,imag:u},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),f}if(i.dtype==="complex64"){const u=Zu({inputs:{input:i},backend:n}),d=wc({inputs:{x:u},backend:n,attrs:{dtype:s}});return n.disposeIntermediateTensorInfo(u),d}if(!N3(i.dtype,s)){const u=fa({inputs:{x:i},backend:n});return{dataId:u.dataId,shape:u.shape,dtype:s}}const o=n.data.get(i.dataId).values,[a,l,c]=FQ(o,i.shape,i.dtype,s);return n.makeTensorInfo(a,l,c)}const P9e={kernelName:zy,backendName:"cpu",kernelFunc:wc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ar(t,e,n,r){return n==null?({inputs:i,backend:s})=>{const{a:o,b:a}=i,l=s;Be([o,a],t);const c=l.data.get(o.dataId).values,u=l.data.get(a.dataId).values,d=o.dtype==="string"?Yu(c):c,f=o.dtype==="string"?Yu(u):u,h=r||o.dtype,[m,y]=e(o.shape,a.shape,d,f,h);return l.makeTensorInfo(y,h,m)}:({inputs:i,backend:s})=>{const{a:o,b:a}=i,l=s;if(o.dtype==="complex64"||a.dtype==="complex64"){const c=wc({inputs:{x:o},backend:l,attrs:{dtype:"complex64"}}),u=l.data.get(c.dataId),d=u.complexTensorInfos.real,f=u.complexTensorInfos.imag,h=l.data.get(d.dataId).values,m=l.data.get(f.dataId).values,y=wc({inputs:{x:a},backend:l,attrs:{dtype:"complex64"}}),x=l.data.get(y.dataId),v=x.complexTensorInfos.real,b=x.complexTensorInfos.imag,w=l.data.get(v.dataId).values,k=l.data.get(b.dataId).values,[E,_,I]=n(o.shape,a.shape,h,m,w,k),N=l.makeTensorInfo(I,"float32",E),D=l.makeTensorInfo(I,"float32",_),P=Ai({inputs:{real:N,imag:D},backend:l});return l.disposeIntermediateTensorInfo(c),l.disposeIntermediateTensorInfo(y),l.disposeIntermediateTensorInfo(N),l.disposeIntermediateTensorInfo(D),P}else{const c=l.data.get(o.dataId).values,u=l.data.get(a.dataId).values,d=r||o.dtype,[f,h]=e(o.shape,a.shape,c,u,d);return l.makeTensorInfo(h,d,f)}}}function OP(t){return(e,n,r,i,s,o)=>{const a=pt(e,n),l=le(a),c=a.length,u=qe(a),d=Kn("float32",l),f=Kn("float32",l),h=Xu(e,a),m=Xu(n,a),y=tl(r,i),x=tl(s,o),v=e.length,b=qe(e),w=n.length,k=qe(n);if(h.length+m.length===0)for(let E=0;E<d.length;E++){const _=E%y.length,I=E%x.length,N=t(y[_*2],y[_*2+1],x[I*2],x[I*2+1]);d[E]=N.real,f[E]=N.imag}else for(let E=0;E<d.length;E++){const _=xd(E,c,u),I=_.slice(-v);h.forEach(U=>I[U]=0);const N=bo(I,v,b),D=_.slice(-w);m.forEach(U=>D[U]=0);const P=bo(D,w,k),F=t(y[N*2],y[N*2+1],x[P*2],x[P*2+1]);d[E]=F.real,f[E]=F.imag}return[d,f,a]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LQ=Bn((t,e)=>t+e),D9e=OP((t,e,n,r)=>({real:t+n,imag:e+r})),Dh=ar(up,LQ,D9e),F9e={kernelName:up,backendName:"cpu",kernelFunc:Dh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RP(t,e,n,r,i){const s=le(r),o=vr(i,n);for(let a=0;a<t.length;a++){const l=t[a];if(l<0)throw new Error("Input x must be non-negative!");l>=i||(s>0?o[l]+=e[a]:o[l]+=1)}return o}function MQ(t,e,n,r=!1){const i=t.shape[0],s=t.shape[1],o=it([i,n],e.dtype);for(let a=0;a<i;a++)for(let l=0;l<s;l++){const c=t.get(a,l);if(c<0)throw new Error("Input x must be non-negative!");c>=n||(r?o.set(1,a,c):e.size>0?o.set(o.get(a,c)+e.get(a,l),a,c):o.set(o.get(a,c)+1,a,c))}return o}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lc(t){return(e,n,r)=>{const i=Kn(n,e.length);for(let s=0;s<e.length;++s)i[s]=t(e[s],r);return i}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rt(t,e,n){return({inputs:r,attrs:i,backend:s})=>{const{x:o}=r;if(Be(o,t),o.dtype==="string"||n==="string")throw new Error("unaryKernelFunc does not support string input/output");const a=s,l=a.data.get(o.dataId).values,c=le(o.shape),u=n||o.dtype,d=Gn(u,c);for(let f=0;f<c;++f)d[f]=e(l[f],i);return a.makeTensorInfo(o.shape,u,d)}}function bp(t,e,n){return({inputs:r,attrs:i,backend:s})=>{const{x:o}=r;if(Be(o,t),o.dtype==="string"||n==="string")throw new Error("unaryKernelFunc does not support string input/output");const a=s,l=a.data.get(o.dataId).values,c=n||o.dtype,u=e(l,c,i);return a.makeTensorInfo(o.shape,c,u)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BQ=Lc(t=>Math.ceil(t)),L9e=bp(jy,BQ),M9e={kernelName:jy,backendName:"cpu",kernelFunc:L9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zQ(t,e,n,r){const i=Gn(n,le(e));if(r&&n!=="string"){let s=0;t.forEach(o=>{const a=le(o.shape);i.set(o.vals,s),s+=a})}else{let s=0;t.forEach(o=>{const a=n==="string"?Yu(o.vals):o.vals;let l=0;for(let c=0;c<o.shape[0];++c){const u=c*e[1]+s;for(let d=0;d<o.shape[1];++d)i[u+d]=a[l++]}s+=o.shape[1]})}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jQ=Bn((t,e)=>t===e?1:0),VQ=ar(Ky,jQ,null,"bool"),B9e={kernelName:Ky,backendName:"cpu",kernelFunc:VQ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UQ=Lc(t=>Math.exp(t)),WQ=bp(Xy,UQ,"float32"),z9e={kernelName:Xy,backendName:"cpu",kernelFunc:WQ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GQ=Lc(t=>Math.expm1(t)),j9e=bp(Qy,GQ),V9e={kernelName:Qy,backendName:"cpu",kernelFunc:j9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HQ=Lc(t=>Math.floor(t)),U9e=bp(Yy,HQ),W9e={kernelName:Yy,backendName:"cpu",kernelFunc:U9e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qQ(t,e,n,r,i,s,o,a,l){const c=it([r,s],n);for(let u=0;u<r;u++){const d=[];let f=0;for(let h=0;h<i;h++){const m=t[u*i+h];f+=m*o[h],d.push(m)}if(f<0||f>=l/s)throw new Error(`Invalid indices: ${d} does not index into ${a}`);for(let h=0;h<s;h++)c.values[u*s+h]=e.get(...e.indexToLoc(f*s+h))}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KQ(t,e,n){const r=it(n,t.dtype);for(let i=0;i<r.size;++i){const o=r.indexToLoc(i).slice(),a=o[0],l=o[2],c=e.locToIndex([a,l]);o[2]=e.values[c];const u=t.locToIndex(o);0<=u&&u<t.values.length&&(r.values[i]=t.values[u])}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XQ=Bn((t,e)=>t>e?1:0),G9e=ar(Zy,XQ,null,"bool"),H9e={kernelName:Zy,backendName:"cpu",kernelFunc:G9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QQ=Bn((t,e)=>t>=e?1:0),q9e=ar(ev,QQ,null,"bool"),K9e={kernelName:ev,backendName:"cpu",kernelFunc:q9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YQ=Bn((t,e)=>t<e?1:0),X9e=ar(sv,YQ,null,"bool"),Q9e={kernelName:sv,backendName:"cpu",kernelFunc:X9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JQ=Bn((t,e)=>t<=e?1:0),Y9e=ar(ov,JQ,null,"bool"),J9e={kernelName:ov,backendName:"cpu",kernelFunc:Y9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZQ(t,e,n){const r=(e-t)/(n-1),i=vr(n,"float32");i[0]=t;for(let s=1;s<i.length;s++)i[s]=i[s-1]+r;return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eY=Lc(t=>Math.log(t)),Z9e=bp(av,eY),e7e={kernelName:av,backendName:"cpu",kernelFunc:Z9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tY(t,e,n,r){const i=Kn(r,le(n));for(let s=0;s<i.length;++s){const o=s*e;let a=t[o];for(let l=0;l<e;++l){const c=t[o+l];(Number.isNaN(c)||c>a)&&(a=c)}i[s]=a}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nY=Bn((t,e)=>Math.max(t,e)),t7e=ar(fv,nY),n7e={kernelName:fv,backendName:"cpu",kernelFunc:t7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rY=Bn((t,e)=>Math.min(t,e)),r7e=ar(hv,rY),i7e={kernelName:hv,backendName:"cpu",kernelFunc:r7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AP=Bn((t,e)=>t*e),s7e=OP((t,e,n,r)=>({real:t*n-e*r,imag:t*r+e*n})),Hk=ar(mv,AP,s7e),o7e={kernelName:mv,backendName:"cpu",kernelFunc:Hk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iY(t,e,n){const r=fl(-1,n);return AP([],e,r,t,n)}function a7e(t){const{inputs:e,backend:n}=t,{x:r}=e;Be(r,"neg");const i=n.data.get(r.dataId).values,[s,o]=iY(i,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,s)}const l7e={kernelName:OS,backendName:"cpu",kernelFunc:a7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sY=Bn((t,e)=>t!==e?1:0),c7e=ar(gv,sY,null,"bool"),u7e={kernelName:gv,backendName:"cpu",kernelFunc:c7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PP(t,e,n,r,i){const s=e.length,o=le(e),a=qe(e),l=qe(i),c=Kn(n,le(i));for(let u=0;u<o;++u){const d=xd(u,s,a),f=new Array(d.length);for(let m=0;m<f.length;m++)f[m]=d[r[m]];const h=bo(f,s,l);c[h]=t[u]}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gi(t){const{inputs:e,attrs:n,backend:r}=t,{x:i}=e,{perm:s}=n;Be(i,"transpose");const o=i.shape.length,a=new Array(o);for(let d=0;d<a.length;d++)a[d]=i.shape[s[d]];const l=r.data.get(i.dataId).values,c=PP(l,i.shape,i.dtype,s,a);return{dataId:r.write(c,a,i.dtype),shape:a,dtype:i.dtype}}const d7e={kernelName:Yf,backendName:"cpu",kernelFunc:gi};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oY(t,e,n,r){const[i,s]=Sr(t,r),o=mi(e,"int32"),a=vr(le(i),o),l=le(s);for(let c=0;c<a.length;++c){const u=c*l;let d=1;for(let f=0;f<l;++f)d*=n[u+f];a[c]=d}return{outVals:a,outShape:i,outDtype:o}}function f7e(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s,keepDims:o}=r;Be(i,"prod");const a=i.shape.length,l=wt(s,i.shape),c=An(l,a);let u=l,d=i;const f=[];c!=null&&(d=gi({inputs:{x:i},backend:n,attrs:{perm:c}}),f.push(d),u=Pn(u.length,a));const h=n.data.get(d.dataId).values,{outVals:m,outShape:y,outDtype:x}=oY(d.shape,d.dtype,h,u);let v=y;return o&&(v=Qn(y,l)),f.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.makeTensorInfo(v,x,m)}const h7e={kernelName:zS,backendName:"cpu",kernelFunc:f7e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p7e(t,e,n){t.forEach((r,i)=>{if(r<0||r>=n){const s=xd(i,e.length,qe(e)).join(",");throw new Error(`indices[${s}] = ${r} is not in [0, ${n})`)}})}function m7e(t,e){for(let n=0;n<t.length;++n){const r=t[n],i=n===t.length-1?e:t[n+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>i)throw new Error("Ragged splits must not point past values");for(let s=1;s<r.length;++s)if(r[s-1]>r[s])throw new Error("Ragged splits must be sorted in ascending order")}}function g7e(t,e,n,r){const i=[];let s=0;const o=e.length-1+n.length,a=new Array(o).fill(null).map(()=>[0]);m7e(n,r);let l=1;for(let c=0;c<e.length-1;++c){l*=e[c];const u=e[c+1];for(let d=1;d<l+1;++d)a[c].push(d*u)}for(let c=0;c<t.length;++c){let u=t[c],d=t[c]+1;for(let f=0;f<n.length;++f){const h=n[f],m=f+e.length-1;if(m>=0){const y=a[m],x=y[y.length-1]-h[u];for(let v=u;v<d;++v)a[m].push(h[v+1]+x)}u=h[u],d=h[d]}d!==u&&(i.push([u,d]),s+=d-u)}return{outSplits:a,valueSlices:i,numValues:s}}function y7e(t){const e=[];for(let n=0;n<t.length;++n){const r=t[n].length,i=Gn("int32",r);e.push(i),t[n].forEach((s,o)=>i[o]=s)}return e}function QB(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let r=e;r<t.length;r++)n[e-1]*=t[r];return n}function v7e(t,e,n,r,i,s){const o=QB(e,2)[1],a=QB(s,2)[1];let l=0;for(const c of n)for(let u=c[0];u<c[1];++u){for(let d=0;d<r;++d)i[l*a+d]=t[u*o+d];++l}}function x7e(t,e,n,r,i){const s=e.slice();s[0]=i;const o=Gn(n,le(s)),a=t.length,l=a===0?0:a/e[0];return v7e(t,e,r,l,o,s),[o,s]}function aY(t,e,n,r,i,s,o,a){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const l=e[0][0]-1;if(p7e(s,o,l),r.length===0)throw new Error("params.rank must be nonzero");const c=r[0],{outSplits:u,valueSlices:d,numValues:f}=g7e(s,o,t,c),h=y7e(u),m=x7e(n,r,i,d,f);return[h,m[0],m[1]]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Es=ho;class Zb{constructor(e,n,r,i,s,o,a,l,c,u){this.shape=e,this.shapeShape=n,this.values=r,this.valuesShape=i,this.valuesDType=s,this.defaultValue=o,this.defaultValueShape=a,this.rowPartitionValues=l,this.rowPartitionValuesShapes=c,this.rowPartitionTypes=QX(u),this.raggedRank=YX(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===Es.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===Es.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case Es.VALUE_ROWIDS:return Zb.getMaxWidthValueRowID(n);case Es.ROW_SPLITS:return Zb.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${Es[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let r=0;for(let i=0;i<n-1;++i){const s=e[i+1]-e[i];s>r&&(r=s)}return r}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let r=0,i=e[0],s=0;for(let o=1;o<n;++o){const a=e[o];a!==i&&(i=a,s=Math.max(o-r,s),r=o)}return Math.max(n-r,s)}tensorShapeFromTensor(e,n,r=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return JB(e,r)}calculateOutputSize(e){const n=this.valuesShape,r=this.defaultValueShape;JX(r,n);const i=this.tensorShapeFromTensor(this.shape,this.shapeShape),o=XX(this.raggedRank,i,n);o[0]<0&&(o[0]=e);for(let a=1;a<=this.raggedRank;++a)o[a]<0&&(o[a]=this.getMaxWidth(a));return o}calculateFirstParentOutputIndex(e,n,r){const i=Math.min(e,r),s=[];let o=0;for(let a=0;a<i;++a,o+=n)s.push(o);for(let a=i;a<e;++a)s.push(-1);return B(s.length===e,()=>"Final length of result must be equal to firstDimension."),s}calculateOutputIndexRowSplit(e,n,r,i){const s=e.length,o=[];for(let a=0;a<s-1;++a){const l=e[a+1]-e[a];let c=Math.min(i,l),u=n[a];u===-1&&(c=0);for(let d=0;d<c;++d)o.push(u),u+=r;for(let d=0;d<l-c;++d)o.push(-1)}if(s>0&&o.length!==e[s-1])throw new Error("Invalid row split size.");return o}calculateOutputIndexValueRowID(e,n,r,i){const s=e.length,o=[];if(s===0)return[];let a=0,l=e[0];if(l>=n.length)throw new Error(`Got currentValueRowId=${l}, which is not less than ${n.length}`);let c=n[l];o.push(c);for(let u=1;u<s;++u){const d=e[u];if(d===l)c>=0&&(++a,a<i?c+=r:c=-1);else{if(a=0,l=d,d>=n.length)throw new Error(`Got nextValueRowId=${d} which is not less than ${n.length}`);c=n[d]}o.push(c)}if(o.length!==e.length)throw new Error("Invalid row ids.");return o}calculateOutputIndex(e,n,r,i){const s=this.getRowPartitionTensor(e),o=this.getRowPartitionTypeByDimension(e);switch(o){case Es.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(s,n,r,i);case Es.ROW_SPLITS:if(s.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${s.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(s,n,r,i);default:throw new Error(`Unsupported partition type: ${Es[o]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case Es.FIRST_DIM_SIZE:return e[0];case Es.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Es.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${Es[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),r=this.calculateOutputSize(n),i=new Array(this.raggedRank+1);i[i.length-1]=1;for(let l=i.length-2;l>=0;--l)i[l]=i[l+1]*r[l+1];const s=JB(r,!1),o=Gn(this.valuesDType,le(s));if(i[0]*r[0]>0){let l=this.calculateFirstParentOutputIndex(n,i[0],r[0]);for(let c=1;c<=this.raggedRank;++c)l=this.calculateOutputIndex(c-1,l,i[c],r[c]);this.setOutput(this.raggedRank,l,o,s)}return[s,o]}setOutput(e,n,r,i){if(r.length===0)return;const s=this.values,o=r;let a=i.slice();a=a.slice(e+1);const l=le(a),c=n.length;let u=this.defaultValue;if(u.length!==l&&u.length!==1){const m=this.defaultValueShape;yt(()=>{const y=pe(u,m);u=eh(y,a).dataSync()})}let d=0,f=0,h=0;for(let m=0;m<=c;++m){let y=m<c?n[m]:-1;if(y===h){++h;continue}if(f<h){const x=s.subarray(d*l),v=o.subarray(f*l),b=(h-f)*l;YB(v,x,b)}if(m>=c){const x=r.length;y=Math.floor(x/l)}if(y>h)if(this.defaultValue.length===1)o.subarray(h*l,y*l).fill(this.defaultValue[0]),h=y;else for(;y>h;){const x=o.slice(h*l);YB(x,u,l),++h}y<0?(d=m+1,f=h):(d=m,f=h,h=f+1)}}}function YB(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function JB(t,e){const n=[];for(let r of t){if(r<0){if(!e)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function lY(t,e,n,r,i,s,o,a,l,c){return new Zb(t,e,n,r,i,s,o,a,l,c).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cY(t,e,n,r){const i=t===e,s=t<e&&n<0,o=e<t&&n>1;if(i||s||o)return vr(0,r);const a=Math.abs(Math.ceil((e-t)/n)),l=vr(a,r);e<t&&n===1&&(n=-1),l[0]=t;for(let c=1;c<l.length;c++)l[c]=l[c-1]+n;return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uY=Lc(t=>1/Math.sqrt(t)),b7e=bp(Sv,uY),w7e={kernelName:Sv,backendName:"cpu",kernelFunc:b7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ff(t,e,n,r,i,s,o,a,l,c){const u=[r/i,i],d=t.values,f=e.values;if(r===0)return it(n,e.dtype);const h=it(u,e.dtype);typeof l=="string"||typeof l=="number"?h.values.fill(l):typeof l=="boolean"&&h.values.fill(+l);for(let m=0;m<s;m++){const y=[];let x=0;for(let v=0;v<o;v++){const b=d[m*o+v];y.push(b),x+=b*a[v]}if(x<0||x>=r/i)throw new Error(`Invalid indices: ${y} does not index into ${n}`);for(let v=0;v<i;v++)c?h.values[x*i+v]+=f[m*i+v]:h.values[x*i+v]=e.rank===0?f[0]:f[m*i+v]}return h}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S7e=Lc(t=>1/(1+Math.exp(-t))),dY=Rt(_v,t=>1/(1+Math.exp(-t))),k7e={kernelName:_v,backendName:"cpu",kernelFunc:dY};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fY(t,e,n,r,i){const s=dA(r,e,n),o=le(n),a=qe(r);if(s){const d=fA(e,a);return i==="string"?t.slice(d,d+o):t.subarray(d,d+o)}const l=i==="string"?Yu(t):t,c=it(r,i,l),u=it(n,i);for(let d=0;d<u.size;++d){const f=u.indexToLoc(d),h=f.map((m,y)=>m+e[y]);u.set(c.get(...h),...f)}return i==="string"?vQ(u.values):u.values}function ed(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{begin:s,size:o}=r;Be(i,"slice");const[a,l]=hA(i,s,o);cA(i,a,l);const c=n.data.get(i.dataId).values,u=fY(c,a,l,i.shape,i.dtype);return n.makeTensorInfo(l,i.dtype,u)}const C7e={kernelName:JS,backendName:"cpu",kernelFunc:ed};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hY(t,e,n,r,i,s,o){const a=e[0],l=s[0],c=new Array(l),u=new Array(a),d=e[1];if(l===0){if(a!==0)throw new Error(sQ(a));const x=Gn(n,0),v=Gn(i,0);return[x,[0,d],v,c,u]}let f=!0,h=0;const m=new Array(l).fill(0);for(let x=0;x<a;++x){const v=t[x*d];if(v<0)throw new Error(oQ(x,v));if(v>=l)throw new Error(aQ(x,v,l));++m[v],f=f&&v>=h,h=v}let y=!0;for(let x=0;x<l;++x){const v=m[x]===0;c[x]=v,y=y&&!v,m[x]=Math.max(m[x],1),x>0&&(m[x]+=m[x-1])}if(y&&f){const x=t,v=r;for(let b=0;b<a;++b)u[b]=b;return[x,[a,d],v,c,u]}else{const x=m[l-1],v=Gn(n,x*d),b=Gn(i,x),w=new Array(l).fill(0);for(let k=0;k<a;++k){const E=t[k*d],_=w[E],I=(E===0?0:m[E-1])+_;w[E]++;for(let N=0;N<d;++N)v[I*d+N]=t[k*d+N];b[I]=r[k],u[k]=I}for(let k=0;k<l;++k)if(w[k]===0){const _=k===0?0:m[k-1];v[_*d+0]=k;for(let I=1;I<d;++I)v[_*d+I]=0;b[_]=o}return[v,[x,d],b,c,u]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pY(t,e,n,r,i){const s=le(r),o=e[0],a=i.length,l=[];let c=1,u=-1;for(let x=0;x<a;++x){const v=i[x];if(v===-1){if(u!==-1)throw new Error(lQ(u,x));u=x,l.push(1)}else{if(v<0)throw new Error(cQ(x,v));c*=v,l.push(v)}}if(u!==-1){if(c<=0)throw new Error(uQ());const x=Math.trunc(s/c);if(c*x!==s)throw new Error(dQ(r,l));l[u]=x}if(le(l)!==s)throw new Error(fQ(r,l));const f=r.length,h=[];if(f>0){h[f-1]=1;for(let x=f-2;x>=0;--x)h[x]=h[x+1]*r[x+1]}const m=[];if(a>0){m[a-1]=1;for(let x=a-2;x>=0;--x)m[x]=m[x+1]*l[x+1]}const y=Gn(n,o*a);for(let x=0;x<o;++x){let v=0;for(let b=0;b<f;++b)v+=t[x*f+b]*h[b];for(let b=0;b<a;++b)y[x*a+b]=Math.trunc(v/m[b]),v%=m[b]}return[y,[o,a],l]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DP(t,e,n,r,i,s=!1,o=0){const a=r.length,l=[e[0],t.length/e[0]],c=l[1],d=a>0?i[a-1]+1:0;if(d<0)throw new Error(Y$());const f=e.slice();f[0]=d;const h=f.reduce((w,k)=>w*k,1),m=Gn(n,h);if(a===0)return d>0&&m.fill(o),[m,f];if(d<=0)throw new Error(Y$());let y=0,x=1,v=0,b=i[y];for(;;){let w=0;if(x<a){if(w=i[x],b===w){++x;continue}if(b>=w)throw new Error(hQ())}if(b<0||b>=d)throw new Error(pQ(b,d));b>v&&m.fill(o,v*c,b*c);for(let k=y;k<x;++k){const E=r[k];if(E<0||E>=l[0])throw new Error(mQ(k,r[k],l[0]));for(let _=0;_<c;_++)m[b*c+_]+=t[E*c+_]}if(s)for(let k=0;k<c;k++)m[b*c+k]/=x-y;if(y=x,++x,v=b+1,b=w,x>a)break}return v<d&&m.fill(o,v*c,d*c),[m,f]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E7e=Lc(t=>Math.sqrt(t)),T7e=Rt($v,t=>Math.sqrt(t)),_7e={kernelName:$v,backendName:"cpu",kernelFunc:T7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mY=Bn((t,e)=>{const n=t-e;return n*n}),I7e=ar(Nv,mY),$7e={kernelName:Nv,backendName:"cpu",kernelFunc:I7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gY(t,e,n,r){const i=it(t,e.dtype);for(let s=0;s<i.size;s++){const o=i.indexToLoc(s),a=new Array(o.length);for(let l=0;l<a.length;l++)a[l]=o[l]*n[l]+r[l];i.set(e.get(...a),...o)}return i}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class N7e{constructor(e,n,r,i,s,o){this.separator=na(e),this.nGramWidths=n,this.leftPad=na(r),this.rightPad=na(i),this.padWidth=s,this.preserveShort=o}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const r=this.getPadWidth(n);return Math.max(0,e+2*r-n+1)}createNGrams(e,n,r,i,s,o){for(let a=0;a<s;++a){const l=this.getPadWidth(o),c=Math.max(0,l-a),u=Math.max(0,l-(s-(a+1))),d=o-(c+u),f=n+(c>0?0:a-l);let h=0;h+=c*this.leftPad.length;for(let b=0;b<d;++b)h+=e[f+b].length;h+=u*this.rightPad.length;const m=c+u+d-1;h+=m*this.separator.length,r[i+a]=new Uint8Array(h);const y=r[i+a];let x=0;const v=b=>b.forEach(w=>y[x++]=w);for(let b=0;b<c;++b)v(this.leftPad),v(this.separator);for(let b=0;b<d-1;++b)v(e[f+b]),v(this.separator);if(d>0){v(e[f+d-1]);for(let b=0;b<u;++b)v(this.separator),v(this.rightPad)}else{for(let b=0;b<u-1;++b)v(this.rightPad),v(this.separator);v(this.rightPad)}}}compute(e,n){const r=e.length,i=n.length;if(i>0){let l=n[0];if(l!==0)throw new Error(`First split value must be 0, got ${l}`);for(let c=1;c<i;++c){let u=n[c]>=l;if(u=u&&n[c]<=r,!u)throw new Error(`Invalid split value ${n[c]}, must be in [${l}, ${r}]`);l=n[c]}if(l!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${l}`)}const s=i-1,o=Gn("int32",i);if(r===0||i===0){const l=new Array(r);for(let c=0;c<=s;++c)o[c]=0;return[l,o]}o[0]=0;for(let l=1;l<=s;++l){const c=n[l]-n[l-1];let u=0;this.nGramWidths.forEach(d=>{u+=this.getNumNGrams(c,d)}),this.preserveShort&&c>0&&u===0&&(u=1),o[l]=o[l-1]+u}const a=new Array(o[s]);for(let l=0;l<s;++l){const c=n[l];let u=o[l];if(this.nGramWidths.forEach(d=>{const f=n[l+1]-n[l],h=this.getNumNGrams(f,d);this.createNGrams(e,c,a,u,h,d),u+=h}),this.preserveShort&&u===o[l]){const d=n[l+1]-n[l];if(d===0)continue;const f=d+2*this.padWidth;this.createNGrams(e,c,a,u,1,f)}}return[a,o]}}function yY(t,e,n,r,i,s,o,a){return new N7e(n,r,i,s,o,a).compute(t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O7e(t,e,n,r){if(!t.length)return;if(e.length===0){for(let s=0;s<t.length;++s)r.push(t.subarray(s,s+1));return}if(e.length===1){const s=e[0];let o=t.indexOf(s);for(;o!==-1;){const a=t.subarray(0,o);(!n||a.length!==0)&&r.push(a),t=t.subarray(o+1),o=t.indexOf(s)}(!n||t.length!==0)&&r.push(t);return}let i=0;for(let s=0;s<t.length+1;s++)if(s===t.length||e.indexOf(t[s])!==-1){const o=t.subarray(i,s);(!n||o.length!==0)&&r.push(o),i=s+1}}function vY(t,e,n){const r=t.length,i=[];let s=0,o=0;const a=new Array(r);for(let f=0;f<r;++f){const h=i.length;O7e(t[f],e,n,i);const m=i.length-h;a[f]=m,s+=m,o=Math.max(o,m)}const l=Gn("int32",s*2),c=new Array(s),u=[r,o];let d=0;for(let f=0;f<r;++f)for(let h=0;h<a[f];++h)l[d*2]=f,l[d*2+1]=h,c[d]=i[d],++d;return[l,c,u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xY(t,e){const n=Gn("int32",t.length);for(let r=0;r<t.length;++r)n[r]=YH(t[r]).modulo(e).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bY=Bn((t,e)=>t-e),R7e=OP((t,e,n,r)=>({real:t-n,imag:e-r})),FP=ar(Ov,bY,R7e),A7e={kernelName:Ov,backendName:"cpu",kernelFunc:FP};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wY(t,e){const n=new Array(t.rank);for(let i=0;i<n.length;i++)n[i]=t.shape[i]*e[i];const r=it(n,t.dtype);for(let i=0;i<r.values.length;++i){const s=r.indexToLoc(i),o=new Array(t.rank);for(let l=0;l<o.length;l++)o[l]=s[l]%t.shape[l];const a=t.locToIndex(o);r.values[i]=t.values[a]}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Om=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function SY(t,e,n=0,r=t.length-1){for(;r>n;){if(r-n>600){const a=r-n+1,l=e-n+1,c=Math.log(a),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(a-u)/a)*Math.sign(l-a/2),f=Math.max(n,Math.floor(e-l*u/a+d)),h=Math.min(r,Math.floor(e+(a-l)*u/a+d));SY(t,e,f,h)}const i=t[e];let s=n,o=r;for(Aa(t,n,e),Om(t[r],i)>0&&Aa(t,n,r);s<o;){for(Aa(t,s,o),s++,o--;Om(t[s],i)<0;)s=s+1;for(;Om(t[o],i)>0;)o=o-1}Om(t[n],i)===0?Aa(t,n,o):(o=o+1,Aa(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}}function kY(t,e,n,r,i){const s=e[e.length-1],[o,a]=[t.length/s,s],l=Kn(n,o*r),c=Kn("int32",o*r);for(let d=0;d<o;d++){const f=d*a,h=t.subarray(f,f+a);let m=new Array(h.length);h.forEach((b,w)=>m[w]={value:b,index:w}),r<m.length&&(SY(m,r),m=m.slice(0,r)),i&&m.sort(Om);const y=d*r,x=l.subarray(y,y+r),v=c.subarray(y,y+r);for(let b=0;b<r;b++)x[b]=m[b].value,v[b]=m[b].index}const u=e.slice();return u[u.length-1]=r,[it(u,n,l),it(u,"int32",c)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CY(t,e,n,r){const i=wt(e,n)[0],s=[1,n[0],1];for(let m=0;m<i;m++)s[0]*=n[m];s[1]=n[i];for(let m=i+1;m<n.length;m++)s[2]*=n[m];const o={},a=new Int32Array(n[i]),l=new qn(s,r,t),c=[],u=s[0]===1&&s[2]===1;for(let m=0;m<n[i];m++){let y;if(u)y=t[m].toString();else{const x=[];for(let v=0;v<s[0];v++)for(let b=0;b<s[2];b++)x.push(l.get(v,m,b));y=x.join(",")}if(o[y]!==void 0)a[m]=o[y];else{const x=Object.keys(o).length;o[y]=x,a[m]=x,c.push(m)}}const d=s.slice();d[1]=Object.keys(o).length;const f=new qn(d,r);c.forEach((m,y)=>{for(let x=0;x<s[0];x++)for(let v=0;v<s[2];v++)f.set(l.get(x,m,v),x,y,v)});const h=n.slice();return h[i]=d[1],{outputValues:f.values,outputShape:h,indices:a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P7e=Object.freeze(Object.defineProperty({__proto__:null,addImpl:LQ,bincountImpl:RP,bincountReduceImpl:MQ,castImpl:FQ,ceilImpl:BQ,concatImpl:zQ,equalImpl:jQ,expImpl:UQ,expm1Impl:GQ,floorImpl:HQ,gatherNdImpl:qQ,gatherV2Impl:KQ,greaterEqualImpl:QQ,greaterImpl:XQ,lessEqualImpl:JQ,lessImpl:YQ,linSpaceImpl:ZQ,logImpl:eY,maxImpl:tY,maximumImpl:nY,minimumImpl:rY,multiplyImpl:AP,negImpl:iY,notEqualImpl:sY,prodImpl:oY,raggedGatherImpl:aY,raggedTensorToTensorImpl:lY,rangeImpl:cY,rsqrtImpl:uY,scatterImpl:Ff,sigmoidImpl:S7e,simpleAbsImpl:DQ,sliceImpl:fY,sparseFillEmptyRowsImpl:hY,sparseReshapeImpl:pY,sparseSegmentReductionImpl:DP,sqrtImpl:E7e,squaredDifferenceImpl:mY,stridedSliceImpl:gY,stringNGramsImpl:yY,stringSplitImpl:vY,stringToHashBucketFastImpl:xY,subImpl:bY,tileImpl:wY,topKImpl:kY,transposeImpl:PP,uniqueImpl:CY},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:D7e,bincountImpl:EY,bincountReduceImpl:F7e,castImpl:L7e,ceilImpl:M7e,concatImpl:B7e,equalImpl:z7e,expImpl:j7e,expm1Impl:V7e,floorImpl:U7e,gatherNdImpl:W7e,gatherV2Impl:G7e,greaterImpl:H7e,greaterEqualImpl:q7e,lessImpl:K7e,lessEqualImpl:X7e,linSpaceImpl:Q7e,logImpl:Y7e,maxImpl:J7e,maximumImpl:Z7e,minimumImpl:eUe,multiplyImpl:tUe,negImpl:nUe,notEqualImpl:rUe,prodImpl:iUe,raggedGatherImpl:sUe,raggedTensorToTensorImpl:oUe,rangeImpl:aUe,rsqrtImpl:lUe,scatterImpl:cUe,sigmoidImpl:uUe,simpleAbsImpl:TY,sliceImpl:dUe,sparseFillEmptyRowsImpl:fUe,sparseReshapeImpl:hUe,sparseSegmentReductionImpl:_Y,sqrtImpl:pUe,stridedSliceImpl:mUe,stringNGramsImpl:gUe,stringSplitImpl:yUe,stringToHashBucketFastImpl:vUe,subImpl:xUe,tileImpl:bUe,topKImpl:wUe,transposeImpl:LP,uniqueImpl:SUe}=P7e;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IY(t,e){return["x","y","z","w","u","v"].slice(0,e).map(n=>`${t}.${n}`)}function ti(t,e){return e===1?[t]:IY(t,e)}function kUe(t,e){if(t===1)return"rc";let n="";for(let r=0;r<t;r++)n+=e[r],r<t-1&&(n+=",");return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class CUe{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=si(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const n=ti("rc",this.rank),r=Wt(this.rank),i=this.getOutOfBoundsCondition(n),s=this.getSetup(n),o=this.getOutput(n);this.userCode=`
        void main() {
          ${r} rc = getOutputCoords();

          if(${i}) {
            setOutput(vec4(0));
          } else {
            ${s}

            setOutput(vec4(${o}));
          }
        }
      `}}getSourceCoordsArr(e){const n=[];for(let r=0;r<=1;r++)for(let i=0;i<=1;i++){let s=`${r===0?"r":"rp1"}, ${i===0?"c":"cp1"}`;for(let o=2;o<this.rank;o++)s=`${e[e.length-1-o]},`+s;n.push(s)}return n}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let n="";for(let r=this.rank-2;r<this.rank;r++)n+=`${e[r]} >= ${this.enableShapeUniforms?`outShape[${r}]`:this.outputShape[r]}`,r<this.rank-1&&(n+="||");return n}getSetup(e){if(this.rank===1)return"";const n=e.slice(-2),r=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],i=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${n[0]};
      int c = ${n[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${r};
      bool rEdge = rp1 >= ${i};
    `}getOutput(e){const n=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${n[0]}),
            cEdge ? 0. : getA(${n[1]}),
            rEdge ? 0. : getA(${n[2]}),
            rEdge || cEdge ? 0. : getA(${n[3]})`}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $Y{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=si(this.outputShape.length);let r="";for(let i=0;i<4;i++){let s="thisRC = rc;";i%2===1&&(s+="thisRC.z += 1;"),i>1&&(s+="thisRC.y += 1;"),r+=`
        ${s}
        ${i>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${i}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${i>0?"}":""}
      `}this.userCode=`
      ${EUe(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?$P():IP(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${r}

        setOutput(result);
      }
    `}}function EUe(t,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?bVe(["r","c","d"],"inputShape"):Sd(["r","c","d"],t)}
      return ivec3(r, c, d);
    }
  `}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class TUe{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,n,r){const i=e8(n,r),s=t8(e,i,r);s in this.freeTextures||(this.freeTextures[s]=[]),s in this.usedTextures||(this.usedTextures[s]=[]);const o=ZB(e,i,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[s].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();const l=this.freeTextures[s].shift();return this.usedTextures[s].push(l),l}let a;return i===gr.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):i===gr.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):i===gr.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):i===gr.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):i===gr.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[s].push(a),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),a}releaseTexture(e,n,r,i){if(this.freeTextures==null)return;const s=e8(r,i),o=t8(n,s,i);o in this.freeTextures||(this.freeTextures[o]=[]);const a=ZB(n,s,this.gpgpu.gl,this.gpgpu.textureConfig,i),l=ie().get("WEBGL_DELETE_TEXTURE_THRESHOLD");l!==-1&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=a):(this.freeTextures[o].push(e),this.numFreeTextures++,this._numBytesFree+=a),this.numUsedTextures--;const c=this.usedTextures[o],u=c.indexOf(e);if(u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c.splice(u,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function _Ue(t,e){const n=t;if(e===n.R32F)return 4;if(e===n.R16F)return 2;if(e===n.RGBA32F)return 16;if(e===t.RGBA)return 16;if(e===n.RGBA16F)return 8;if(e===n.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function ZB(t,e,n,r,i){const s=IUe(e,r);let o;if(i){const[l,c]=mp(t[0],t[1]);o=l*c}else{const[l,c]=Yv(t[0],t[1]);o=l*c}const a=_Ue(n,s);return o*a}function IUe(t,e){switch(t){case gr.PACKED_2X2_FLOAT32:return AQ(e);case gr.PACKED_2X2_FLOAT16:return PQ(e);case gr.UNPACKED_FLOAT32:return NQ(e);case gr.UNPACKED_FLOAT16:return OQ(e);case gr.PACKED_4X1_UNSIGNED_BYTE:return RQ(e);default:throw new Error(`Unknown physical texture type ${t}`)}}function $Ue(t){return ie().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?gr.PACKED_2X2_FLOAT32:gr.UNPACKED_FLOAT32:t?gr.PACKED_2X2_FLOAT16:gr.UNPACKED_FLOAT16}function e8(t,e){if(t===ns.UPLOAD)return gr.PACKED_2X2_FLOAT32;if(t===ns.RENDER||t==null)return $Ue(e);if(t===ns.DOWNLOAD||t===ns.PIXELS)return gr.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${t}`)}function t8(t,e,n){return`${t[0]}_${t[1]}_${e}_${n}`}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ma{constructor(e,n){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=si(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const Qs="if (isnan(x)) return x;",NUe="return x;",n8="return abs(x);",OUe="return (x >= 0.0) ? x : (exp(x) - 1.0);",RUe=Qs+`
  return (x < 0.0) ? 0.0 : x;
`,AUe=Qs+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,Gd="return x;",PUe="return 1.0 / (1.0 + exp(-1.0 * x));";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DUe="return x;",FUe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,LUe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,MUe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,BUe="return 1.0 / (1.0 + exp(-1.0 * x));";class bu{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=si(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zUe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=si(this.outputShape.length);const n=e.length,r=ti("rc",n),i=Wt(n),s=kUe(n,r),o=r.slice(-2),a=n<=1?"rc":`vec2(${o.join(",")})`;this.userCode=`
      void main() {
        ${i} rc = getOutputCoords();
        vec4 packedInput = getA(${s});

        setOutput(getChannel(packedInput, ${a}));
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jUe=$k,VUe=1e-7,UUe=1e-4,K1={};function WUe(t){return t in K1||(K1[t]={}),K1[t]}const GUe=ie().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),HUe=600;function qUe(){return ie().global.screen==null?1024:ie().global.screen.height*ie().global.screen.width*window.devicePixelRatio*HUe/1024/1024}class qk extends O2{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!ie().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(e!=null){if(e instanceof r_)n=e;else{const r=ko(ie().getNumber("WEBGL_VERSION"),e);n=new r_(r)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const r=ko(ie().getNumber("WEBGL_VERSION"));n=new r_(r),this.binaryCache=WUe(ie().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new TUe(this.gpgpu),this.numMBBeforeWarning=qUe(),this.texData=new I3(this,Na())}nextDataId(){return qk.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}write(e,n,r){if((ie().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||ie().getBool("DEBUG"))&&this.checkNumericalProblems(e),r==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const i={id:this.nextDataId()};return this.texData.set(i,{shape:n,dtype:r,values:e,usage:ns.UPLOAD,refCount:1}),i}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const n=this.texData.get(e);n.refCount++}decRef(e){if(this.texData.has(e)){const n=this.texData.get(e);n.refCount--}}move(e,n,r,i,s){if(ie().getBool("DEBUG")&&this.checkNumericalProblems(n),i==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:r,dtype:i,values:n,usage:ns.UPLOAD,refCount:s})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const n=this.texData.get(e),{values:r,dtype:i,complexTensorInfos:s,slice:o,shape:a,isPacked:l}=n;if(o!=null){let f;l?f=new bu(a,Gd):f=new Ma(a,Gd);const h=this.runWebGLProgram(f,[{dataId:e,shape:a,dtype:i}],i),m=this.readSync(h.dataId);return this.disposeIntermediateTensorInfo(h),m}if(r!=null)return this.convertAndCacheOnCPU(e);if(i==="string")return r;const c=this.activeTimers!=null;let u;c&&(u=Oi());let d;if(i==="complex64"){const f=this.readSync(s.real.dataId),h=this.readSync(s.imag.dataId);d=tl(f,h)}else d=this.getValuesFromTexture(e);return c&&(this.downloadWaitMs+=Oi()-u),this.convertAndCacheOnCPU(e,d)}async read(e){if(this.pendingRead.has(e)){const m=this.pendingRead.get(e);return new Promise(y=>m.push(y))}const n=this.texData.get(e),{values:r,shape:i,slice:s,dtype:o,complexTensorInfos:a,isPacked:l}=n;if(s!=null){let m;l?m=new bu(i,Gd):m=new Ma(i,Gd);const y=this.runWebGLProgram(m,[{dataId:e,shape:i,dtype:o}],o),x=this.read(y.dataId);return this.disposeIntermediateTensorInfo(y),x}if(r!=null)return this.convertAndCacheOnCPU(e);if(ie().getBool("DEBUG")&&!ie().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&ie().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let c=null,u;if(o!=="complex64"&&ie().get("WEBGL_BUFFER_SUPPORTED")){u=this.decode(e);const m=this.texData.get(u.dataId);c=this.gpgpu.createBufferFromTexture(m.texture.texture,...W1(i))}this.pendingRead.set(e,[]),o!=="complex64"&&await this.gpgpu.createAndWaitForFence();let d;if(o==="complex64"){const m=await Promise.all([this.read(a.real.dataId),this.read(a.imag.dataId)]),y=m[0],x=m[1];d=tl(y,x)}else if(c==null)d=this.getValuesFromTexture(e);else{const m=le(i);d=this.gpgpu.downloadFloat32MatrixFromBuffer(c,m)}if(u!=null&&this.disposeIntermediateTensorInfo(u),c!=null){const m=this.gpgpu.gl;ze(m,()=>m.deleteBuffer(c))}const f=this.convertAndCacheOnCPU(e,d),h=this.pendingRead.get(e);return this.pendingRead.delete(e),h.forEach(m=>m(f)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&Na().removeDataId(e,this),this.pendingDeletes--),f}readToGPU(e,n={}){const r=this.texData.get(e),{values:i,shape:s,slice:o,dtype:a,isPacked:l,texture:c}=r;if(a==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(o!=null){let h;l?h=new bu(s,Gd):h=new Ma(s,Gd);const m=this.runWebGLProgram(h,[{dataId:e,shape:s,dtype:a}],a),y=this.readToGPU(m,n);return this.disposeIntermediateTensorInfo(m),y}if(c==null)throw i!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,n.customTexShape),d=Na().makeTensorFromTensorInfo(u),f=this.texData.get(u.dataId);return Object.assign({tensorRef:d},f.texture)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(i=>Za(i));return it(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return it(e.shape,e.dtype,n)}checkNumericalProblems(e){if(e!=null)for(let n=0;n<e.length;n++){const r=e[n];if(!qje(r))throw ie().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${r} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:n,dtype:r,isPacked:i}=this.texData.get(e),s=le(n);if(ie().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const f=this.decode(e),h=this.texData.get(f.dataId),m=this.gpgpu.downloadMatrixFromPackedTexture(h.texture.texture,...W1(n)).subarray(0,s);return this.disposeIntermediateTensorInfo(f),m}const o=ie().getBool("WEBGL_PACK")&&i===!0,a=o?e_(n):n,l=o?new c9e(a):new l9e(a),c=this.runWebGLProgram(l,[{shape:a,dtype:r,dataId:e}],"float32"),u=this.texData.get(c.dataId),d=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,s);return this.disposeIntermediateTensorInfo(c),d}timerAvailable(){return ie().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const n=this.activeTimers,r=[];let i=!1;this.programTimersStack==null?(this.programTimersStack=r,i=!0):this.activeTimers.push(r),this.activeTimers=r,e();const s=Ja(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),o=Ja(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=n,i&&(this.programTimersStack=null);const a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(ie().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const l=await Promise.all(s);a.kernelMs=PH(l),a.getExtraProfileInfo=()=>l.map((c,u)=>({name:o[u],ms:c})).map(c=>`${c.name}: ${c.ms}`).join(", ")}else a.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,a})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return ie().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Oi(),endMs:null}}endTimer(e){return ie().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=Oi(),e)}async getQueryTime(e){if(ie().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const n=e;return n.endMs-n.startMs}disposeData(e,n=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(n?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!n&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:r}=this.texData.get(e);return r!=null&&(this.disposeData(r.real.dataId,n),this.disposeData(r.imag.dataId,n)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:n,dtype:r,texShape:i,usage:s,isPacked:o,slice:a}=this.texData.get(e),l=a&&a.origDataId||e,c=this.dataRefCount.get(l);c>1?this.dataRefCount.set(l,c-1):(this.dataRefCount.delete(l),n!=null&&(this.numBytesInGPU-=this.computeBytes(i,r),this.textureManager.releaseTexture(n,i,s,o)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,n=GUe){return ie().getBool("WEBGL_CPU_FORWARD")&&e.every(r=>this.texData.get(r.dataId).texture==null&&le(r.shape)<n)}getGPGPUContext(){return this.gpgpu}where(e){es("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=e.dataSync();return jUe(e.shape,n)}packedUnaryOp(e,n,r){const i=new bu(e.shape,n),s=this.compileAndRun(i,[e],r);return Na().makeTensorFromTensorInfo(s)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const i=TY(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,i)}if(ie().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,n8,e.dtype);const n=new Ma(e.shape,n8),r=this.compileAndRun(n,[e]);return Na().makeTensorFromTensorInfo(r)}makeTensorInfo(e,n,r){let i;if(n==="string"&&r!=null&&r.length>0&&Ho(r[0])){const s=r.map(o=>na(o));i=this.write(s,e,n)}else i=this.write(r,e,n);return this.texData.get(i).usage=null,{dataId:i,shape:e,dtype:n}}makeOutput(e,n,r){return Na().makeTensorFromTensorInfo(this.makeTensorInfo(e,n,r),this)}unpackTensor(e){const n=new zUe(e.shape);return this.runWebGLProgram(n,[e],e.dtype)}packTensor(e){const n=new CUe(e.shape);return this.runWebGLProgram(n,[e],e.dtype,null,!0)}packedReshape(e,n){const r=[Ah(e.shape),...Ph(e.shape)],i={dtype:e.dtype,shape:r,dataId:e.dataId},s=[Ah(n),...Ph(n)],o=new $Y(s,r),a=!0,l=[r],c=this.runWebGLProgram(o,[i],e.dtype,l,a);return{dataId:c.dataId,shape:n,dtype:c.dtype}}decode(e,n){const r=this.texData.get(e),{isPacked:i,shape:s,dtype:o}=r;if(n!=null){const f=le(s),h=n[0]*n[1]*4;B(f<=h,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const a=e_(s);let l;i?l=new a9e(a):l=new o9e(a);const c=!0,u=[n??W1(a)],d=this.runWebGLProgram(l,[{shape:a,dtype:o,dataId:e}],o,u,c,n);return{dtype:o,shape:s,dataId:d.dataId}}runWebGLProgram(e,n,r,i,s=!1,o){const a=this.makeTensorInfo(e.outputShape,r),l=this.texData.get(a.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===Jg.DENSE){const v=o??W1(e.outputShape);l.texShape=v.map(b=>b*2)}if(e.outTexUsage!=null&&(l.usage=e.outTexUsage),le(a.shape)===0)return l.values=Kn(a.dtype,0),a;const c=[],u=n.map(v=>{if(v.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let b=this.texData.get(v.dataId);if(b.texture==null){if(!e.packedInputs&&le(v.shape)<=ie().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:v.shape,texData:null,isUniform:!0,uniformValues:b.values};e.packedInputs&&(b.isPacked=!0,b.shape=v.shape)}if(this.uploadToGPU(v.dataId),!!b.isPacked!=!!e.packedInputs)v=b.isPacked?this.unpackTensor(v):this.packTensor(v),c.push(v),b=this.texData.get(v.dataId);else if(b.isPacked&&!Yb(b.shape,v.shape)){const w=v,k=v.shape;v.shape=b.shape,v=this.packedReshape(v,k),c.push(v),b=this.texData.get(v.dataId),w.shape=k}return{shape:v.shape,texData:b,isUniform:!1}});this.uploadToGPU(a.dataId);const d={shape:a.shape,texData:l,isUniform:!1},f=s9e(e,u,d),h=this.getAndSaveBinary(f,()=>r9e(this.gpgpu,e,u,d)),m=this.activeTimers!=null;let y;m&&(y=this.startTimer()),ie().get("ENGINE_COMPILE_ONLY")||i9e(this.gpgpu,h,u,d,i),c.forEach(v=>this.disposeIntermediateTensorInfo(v)),m&&(y=this.endTimer(y),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(y)}));const x=ie().get("WEBGL_FLUSH_THRESHOLD");if(x>0){const v=Oi();v-this.lastGlFlushTime>x&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=v)}if(!ie().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&s===!1){const v=this.unpackTensor(a);return this.disposeIntermediateTensorInfo(a),v}return a}compileAndRun(e,n,r,i,s=!1){return r=r||n[0].dtype,this.runWebGLProgram(e,n,r,i,s)}getAndSaveBinary(e,n){return e in this.binaryCache||(this.binaryCache[e]=n()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(ie().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=yt(()=>{if(!ie().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=ie().getBool("DEBUG");ie().set("DEBUG",!1);const n=this.abs(ft(1e-8)).dataSync()[0];if(ie().set("DEBUG",e),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?VUe:UUe}uploadToGPU(e){const n=this.texData.get(e),{shape:r,dtype:i,values:s,texture:o,usage:a,isPacked:l}=n;if(o!=null)return;const c=this.activeTimers!=null;let u;c&&(u=Oi());let d=n.texShape;if(d==null&&(d=dVe(r,l),n.texShape=d),s!=null){const f=e_(r);let h,m=d[1],y=d[0];const x=s instanceof Uint8Array||s instanceof Uint8ClampedArray;(l||!x)&&([m,y]=mp(d[0],d[1])),l?h=new d9e(f,x):h=new u9e(f,x);const v=x?[y,m]:d,b=this.makeTensorInfo(v,i),w=this.texData.get(b.dataId);x?w.usage=ns.PIXELS:w.usage=ns.UPLOAD,w.texShape=v,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(b.dataId),m,y,s);const k=[[y,m]],_=this.runWebGLProgram(h,[b],i,k,!0),I=this.texData.get(_.dataId);n.texShape=I.texShape,n.isPacked=I.isPacked,n.usage=I.usage,ie().get("ENGINE_COMPILE_ONLY")?this.disposeData(_.dataId):(n.texture=I.texture,n.values=null,this.texData.delete(_.dataId)),this.disposeIntermediateTensorInfo(b),c&&(this.uploadWaitMs+=Oi()-u)}else{const f=this.acquireTexture(d,a,i,l);n.texture=f}}convertAndCacheOnCPU(e,n){const r=this.texData.get(e),{dtype:i}=r;return this.releaseGPUData(e),n!=null&&(r.values=KUe(n,i)),r.values}acquireTexture(e,n,r,i){if(this.numBytesInGPU+=this.computeBytes(e,r),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const s=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${s} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,n,i)}computeBytes(e,n){return e[0]*e[1]*Fb(n)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(n));return Promise.all(e)}else{for(const[,n]of Object.entries(this.binaryCache)){const r=new Promise(i=>{try{this.checkCompletion_(n),i(!0)}catch(s){throw s}});e.push(r)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await KX(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(CQ(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const[,e]of Object.entries(this.binaryCache)){const{uniformLocations:n,customUniformLocations:r,infLoc:i,nanLoc:s,inShapesLocations:o,inTexShapesLocations:a,outShapeLocation:l,outShapeStridesLocation:c,outTexShapeLocation:u}=$Q(this.gpgpu,e.program,e.webGLProgram);e.uniformLocations=n,e.customUniformLocations=r,e.infLoc=i,e.nanLoc=s,e.inShapesLocations=o,e.inTexShapesLocations=a,e.outShapeLocation=l,e.outShapeStridesLocation=c,e.outTexShapeLocation=u}}}qk.nextDataId=0;function KUe(t,e){if(e==="float32"||e==="complex64")return t;if(e==="int32"||e==="bool"){const n=e==="int32"?new Int32Array(t.length):new Uint8Array(t.length);for(let r=0;r<n.length;++r)n[r]=Math.round(t[r]);return n}else throw new Error(`Unknown dtype ${e}`)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */X3()&&iA("webgl",()=>new qk,2);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MP=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class Fh{constructor(e,n,r){this.variableNames=["A","B"],this.outputShape=pt(n,r),this.enableShapeUniforms=si(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e0=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class t0{constructor(e,n,r,i=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=pt(n,r);const s=this.outputShape.length;this.enableShapeUniforms=si(s);let o="";if(i)if(s===0||le(this.outputShape)===1)o=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(o=`
          ${Wt(s)} coords = getOutputCoords();
        `,s===1)this.enableShapeUniforms?o+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:o+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const l=ti("coords",s);this.enableShapeUniforms?o+=`
            bool nextRowOutOfBounds =
              (${l[s-2]} + 1) >= outShape[${s} - 2];
            bool nextColOutOfBounds =
              (${l[s-1]} + 1) >= outShape[${s} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:o+=`
            bool nextRowOutOfBounds =
              (${l[s-2]} + 1) >= ${this.outputShape[s-2]};
            bool nextColOutOfBounds =
              (${l[s-1]} + 1) >= ${this.outputShape[s-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${o}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gi(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const XUe={kernelName:tv,backendName:"webgl",kernelFunc:Gi};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mc(t){const{inputs:e,backend:n}=t,{real:r,imag:i}=e,s=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(s.dataId),a=Gi({inputs:{x:r},backend:n}),l=Gi({inputs:{x:i},backend:n});return o.complexTensorInfos={real:a,imag:l},s}const QUe={kernelName:H2,backendName:"webgl",kernelFunc:Mc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NY="return (a < 0.) ? b * a : a;",OY=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function YUe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{alpha:s}=r,o=n.makeTensorInfo([],"float32",fl(s,"float32")),a=ie().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new t0(OY,i.shape,o.shape):new Fh(NY,i.shape,o.shape),l=n.runWebGLProgram(a,[i,o],"float32");return n.disposeIntermediateTensorInfo(o),l}const JUe={kernelName:bS,backendName:"webgl",kernelFunc:YUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RY="return (a < 0.) ? b * a : a;",AY=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function ZUe(t){const{inputs:e,backend:n}=t,{x:r,alpha:i}=e,s=ie().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new t0(AY,r.shape,i.shape):new Fh(RY,r.shape,i.shape);return n.runWebGLProgram(s,[r,i],"float32")}const eWe={kernelName:BS,backendName:"webgl",kernelFunc:ZUe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wp="if (isnan(x)) return x;";function xt({opSnippet:t,packedOpSnippet:e,cpuKernelImpl:n,dtype:r}){return({inputs:i,backend:s})=>{const{x:o}=i,a=s,l=r||o.dtype;if(a.shouldExecuteOnCPU([o])&&n!=null){const d=a.texData.get(o.dataId),f=n(d.values,l);return a.makeTensorInfo(o.shape,l,f)}const c=ie().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let u;return c?u=new bu(o.shape,e):u=new Ma(o.shape,t),a.runWebGLProgram(u,[o],l)}}function Cr({opSnippet:t,packedOpSnippet:e,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:i,dtype:s}){return({inputs:o,backend:a})=>{const{a:l,b:c}=o,u=a;if(r&&l.dtype==="complex64"){const m=u.texData.get(l.dataId),y=u.texData.get(c.dataId),[x,v]=[[m.complexTensorInfos.real,y.complexTensorInfos.real],[m.complexTensorInfos.imag,y.complexTensorInfos.imag]].map(w=>{const[k,E]=w,_={dataId:k.dataId,dtype:k.dtype,shape:l.shape},I={dataId:E.dataId,dtype:E.dtype,shape:c.shape},N=new Fh(t,l.shape,c.shape);return u.runWebGLProgram(N,[_,I],mi(k.dtype,E.dtype))}),b=Mc({inputs:{real:x,imag:v},backend:u});return u.disposeIntermediateTensorInfo(x),u.disposeIntermediateTensorInfo(v),b}const d=s||mi(l.dtype,c.dtype);if((l.dtype==="string"||c.dtype==="string"||u.shouldExecuteOnCPU([l,c]))&&i!=null){const m=u.texData.get(l.dataId).values,y=u.texData.get(c.dataId).values,x=l.dtype==="string"?Yu(m):m,v=l.dtype==="string"?Yu(y):y,[b,w]=i(l.shape,c.shape,x,v,d),k=u.makeTensorInfo(w,d),E=u.texData.get(k.dataId);return E.values=b,k}const f=ie().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let h;return f?h=new t0(e,l.shape,c.shape,n):h=new Fh(t,l.shape,c.shape),u.runWebGLProgram(h,[l,c],d)}}function Zg(t,e=!1){if(t==="linear")return e?DUe:NUe;if(t==="relu")return e?LUe:RUe;if(t==="elu")return e?FUe:OUe;if(t==="relu6")return e?MUe:AUe;if(t==="prelu")return e?AY:RY;if(t==="leakyrelu")return e?OY:NY;if(t==="sigmoid")return e?BUe:PUe;throw new Error(`Activation ${t} has not been implemented for the WebGL backend.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class PY{constructor(e,n,r,i=!1,s=!1,o=!1,a=null,l=!1,c=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=si(this.outputShape.length);const u=i?e[1]:e[2],d=Math.ceil(u/2),f=i?"i * 2, rc.y":"rc.y, i * 2",h=s?"rc.z, i * 2":"i * 2, rc.z",m=i?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],y=s?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let x="",v="";a&&(l?x=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${a}
        }`:c?x=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${a}
        }`:x=`vec4 activation(vec4 x) {
          ${a}
        }`,v="result = activation(result);");const b=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");let w="rc.x",k="rc.x";e[0]<n[0]?w=`int(min(float(rc.x), ${e[0]-1}.))`:n[0]<e[0]&&(k=`int(min(float(rc.x), ${n[0]-1}.))`),this.userCode=`
      ${x}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${d}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < ${d}; i++) {
          int batchA = ${w};
          int batchB = ${k};
          vec4 a = getMatrixA(batchA, ${f});
          vec4 b = getMatrixB(batchB, ${h});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${m[0]} * ${y[0]});
          result += (${m[1]} * ${y[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${b}

        ${v}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r8={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class i8{constructor(e,n,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=pt(n,r),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s8="return a * b;";function BP(t){const{inputs:e,backend:n}=t,{a:r,b:i}=e,s=mi(r.dtype,i.dtype);if(r.dtype==="complex64"){const a=n.texData.get(r.dataId),l=n.texData.get(i.dataId),c=new i8(r8.REAL,r.shape,i.shape),u=new i8(r8.IMAG,r.shape,i.shape),d=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:r.shape},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:i.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:i.shape}],f=n.runWebGLProgram(c,d,"float32"),h=n.runWebGLProgram(u,d,"float32"),m=Mc({inputs:{real:f,imag:h},backend:n});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),m}if(n.shouldExecuteOnCPU([r,i])){const a=n.texData.get(r.dataId),l=n.texData.get(i.dataId),[c,u]=tUe(r.shape,i.shape,a.values,l.values,s),d=n.makeTensorInfo(u,s),f=n.texData.get(d.dataId);return f.values=c,d}let o;return ie().getBool("WEBGL_PACK_BINARY_OPERATIONS")?o=new t0(s8,r.shape,i.shape):o=new Fh(s8,r.shape,i.shape),n.runWebGLProgram(o,[r,i],s)}const tWe={kernelName:mv,backendName:"webgl",kernelFunc:BP};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nWe(t,e,n){const r=[Ah(t.shape),...Ph(t.shape)],i={dtype:t.dtype,shape:r,dataId:t.dataId},s=[Ah(e),...Ph(e)],o=new $Y(s,r),a=!0,l=[r],c=n.runWebGLProgram(o,[i],t.dtype,l,a);return{dataId:c.dataId,shape:e,dtype:c.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _e(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{shape:s}=r,o=n,a=le(i.shape),l=$3(s,a),c=le(l);B(a===c,()=>`The new shape (${l}) has ${c} elements and the old shape (${i.shape}) has ${a} elements. The new shape and old shape must have the same number of elements.`);const u=o.texData.get(i.dataId);return u.isPacked&&!Yb(i.shape,l)&&!(u.texture!==null&&Yb(u.shape,l))?nWe(i,l,o):(o.incRef(i.dataId),{dataId:i.dataId,shape:l,dtype:i.dtype})}const rWe={kernelName:GS,backendName:"webgl",kernelFunc:_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class o8{constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:i,inSize:s,outSize:o}=e;this.outputShape=[i,o];const a=Math.floor(r/4)*4,l=r%4;let c="sumValue += dot(values, ones);";if(n!=null){const d=1/n;c=`sumValue += dot(values * ${Wu(d)?d.toPrecision(2):d}, ones);`}let u="";s%r>0&&(u=`
        if (inIdx < 0 || inIdx >= ${s}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${u}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        float sumValue = 0.0;

        for (int i = 0; i < ${a}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${c}
        }

        int inIdx = inOffset + ${a};
        if (${l===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${c}
        } else if (${l===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${c}
        } else if (${l===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${c}
        }
        setOutput(sumValue);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iWe{constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:i,inSize:s,outSize:o}=e;this.outputShape=[i,o];let a="0.0",l="";n==="prod"?a="1.0":n==="min"?(a="1.0 / 1e-20",l="min"):n==="max"&&(a="-1.0 / 1e-20",l="max");let c=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?c="sumValue":n==="prod"?c="prodValue":n==="all"?c="allValue":n==="any"&&(c="anyValue");const u=Math.floor(r/4)*4,d=r%4;let f=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${l}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${l}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,h="vec4";n==="all"?(a="1.0",f=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,h="bvec4"):n==="any"&&(a="0.0",f=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,h="bvec4");let m="";s%r>0&&(m=`
        if (inIdx < 0 || inIdx >= ${s}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${a};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${m}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        vec4 minMaxValue = vec4(${a});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${u}; i += 4) {
          int inIdx = inOffset + i;
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${f}
        }

        int inIdx = inOffset + ${u};
        if (${d===1}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${f}
        } else if (${d===2}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${f}
        } else if (${d===3}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${f}
        }
        setOutput(${c});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sWe(t){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const n=e.length?e[e.length-1].outSize:t[1],r=Wk(n);e.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return e}function Cd(t,e,n,r){const i=sWe(t.shape);let s=t;for(let o=0;o<i.length;o++){const{inSize:a,windowSize:l,outSize:c}=i[o];let u,d;n==="mean"?u=o===0?new o8({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c},a):new o8({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c}):u=new iWe({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c},n),d=s,s=r.runWebGLProgram(u,[s],e),d.dataId!==t.dataId&&r.disposeIntermediateTensorInfo(d)}return s}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oWe{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let o=0;o<r.length;o++)r[o]=e[n[o]];this.outputShape=r,this.rank=r.length;const i=Wt(this.rank),s=aWe(n);this.userCode=`
    void main() {
      ${i} resRC = getOutputCoords();
      setOutput(getA(${s}));
    }
    `}}function aWe(t){const e=t.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(e);for(let i=0;i<t.length;i++)r[t[i]]=n[i];return r.join()}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lWe{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const r=new Array(e.length);for(let u=0;u<r.length;u++)r[u]=e[n[u]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const i=Wt(this.rank),s=IY("rc",this.rank),o=new Array(this.rank);for(let u=0;u<n.length;u++)o[n[u]]=s[u];const a=`vec2(${o.slice(-2).join()})`,l=`++${s[this.rank-1]} < ${r[this.rank-1]}`,c=`getChannel(getA(${o.join()}), ${a})`;this.userCode=`
    void main() {
      ${i} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${c};
      if(${l}) {
        result[1] = ${c};
      }
      --${s[this.rank-1]};
      if(++${s[this.rank-2]} < ${r[this.rank-2]}) {
        result[2] = ${c};
        if(${l}) {
          result[3] = ${c};
        }
      }
      setOutput(result);
    }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kk(t,e,n){const r=ie().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new lWe(t.shape,e):new oWe(t.shape,e);return n.runWebGLProgram(r,[t],t.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cWe(t,e,n,r){const i=e,s=t.shape.length,o=wt(i,t.shape);let a=o;const l=An(a,s),c=l!=null;let u=t;c&&(u=Kk(t,l,r),a=Pn(a.length,s)),kr("sum",a,s);const[d,f]=Sr(u.shape,a);let h=d;n&&(h=Qn(d,o));const m=le(f),x=le(t.shape)/m,v=_e({inputs:{x:u},attrs:{shape:[x,m]},backend:r}),b=bk(t.dtype),w=Cd(v,b,"sum",r),k=_e({inputs:{x:w},attrs:{shape:h},backend:r});return r.disposeIntermediateTensorInfo(v),r.disposeIntermediateTensorInfo(w),c&&r.disposeIntermediateTensorInfo(u),k}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xk(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s,keepDims:o}=r;return cWe(i,s,o,n)}const uWe={kernelName:ZS,backendName:"webgl",kernelFunc:Xk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ri(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{perm:s}=r,o=n,a=i.shape.length,l=new Array(a);for(let u=0;u<l.length;u++)l[u]=i.shape[s[u]];let c;if(o.shouldExecuteOnCPU([i])){const d=o.texData.get(i.dataId).values,f=LP(d,i.shape,i.dtype,s,l);c=o.makeTensorInfo(l,i.dtype);const h=o.texData.get(c.dataId);h.values=f}else c=Kk(i,s,o);return c}const dWe={kernelName:Yf,backendName:"webgl",kernelFunc:ri};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DY=1e3;function ew({a:t,b:e,transposeA:n,transposeB:r,backend:i,bias:s=null,preluActivationWeights:o=null,leakyreluAlpha:a=0,activation:l=null}){const c=t.shape.length,u=e.shape.length,d=n?t.shape[c-2]:t.shape[c-1],f=r?e.shape[u-1]:e.shape[u-2],h=n?t.shape[c-1]:t.shape[c-2],m=r?e.shape[u-2]:e.shape[u-1],y=t.shape.slice(0,-2),x=e.shape.slice(0,-2),v=le(y),b=le(x),k=pt(t.shape.slice(0,-2),e.shape.slice(0,-2)).concat([h,m]);B(d===f,()=>`Error in matMul: inner shapes (${d}) and (${f}) of Tensors with shapes ${t.shape} and ${e.shape} and transposeA=${n} and transposeB=${r} must match.`);const E=n?[v,d,h]:[v,h,d],_=r?[b,m,f]:[b,f,m],I=_e({inputs:{x:t},backend:i,attrs:{shape:E}}),N=_e({inputs:{x:e},backend:i,attrs:{shape:_}}),D=[I,N],P=Math.max(v,b),F=n?I.shape[1]:I.shape[2],U=s!=null,j=o!=null,W=l==="leakyrelu",q=l!=null?Zg(l,!0):null,Q=U||j||W||q!=null;let ee;if((h===1||m===1)&&F>DY&&Q===!1){let H=I,Y=N;n&&(H=ri({inputs:{x:I},backend:i,attrs:{perm:[0,2,1]}}),D.push(H)),r&&(Y=ri({inputs:{x:N},backend:i,attrs:{perm:[0,2,1]}}),D.push(Y));const Z=m!==1,se=m===1;let ce=H;Z&&(ce=_e({inputs:{x:H},backend:i,attrs:{shape:[P,F,1]}}),D.push(ce));const de=m===1?2:1;let fe=Y;se&&(fe=_e({inputs:{x:Y},backend:i,attrs:{shape:[P,1,F]}}),D.push(fe));const ge=BP({inputs:{a:ce,b:fe},backend:i});ee=Xk({inputs:{x:ge},backend:i,attrs:{axis:de,keepDims:!0}}),D.push(ge)}else{const H=mi(t.dtype,e.dtype),Y=new PY(E,_,[P,h,m],n,r,U,q,j,W),Z=[I,N];if(s!=null&&Z.push(s),j&&Z.push(o),W){const se=i.makeTensorInfo([],"float32",fl(a,"float32"));Z.push(se),D.push(se)}ee=i.runWebGLProgram(Y,Z,H)}const V=_e({inputs:{x:ee},backend:i,attrs:{shape:k}});D.push(ee);for(const H of D)i.disposeIntermediateTensorInfo(H);return V}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fWe(t){const{inputs:e,backend:n,attrs:r}=t,{a:i,b:s,bias:o,preluActivationWeights:a}=e,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=r;return ew({a:i,b:s,transposeA:l,transposeB:c,backend:n,bias:o,preluActivationWeights:a,leakyreluAlpha:d,activation:u})}const hWe={kernelName:jg,backendName:"webgl",kernelFunc:fWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a8="return abs(x);";function pWe(t){const{inputs:e,backend:n}=t,{x:r}=e;if(n.shouldExecuteOnCPU([r])&&r.dtype!=="complex64"){const s=n.texData.get(r.dataId),o=TY(s.values);return n.makeTensorInfo(r.shape,r.dtype,o)}let i;return ie().getBool("WEBGL_PACK_UNARY_OPERATIONS")?i=new bu(r.shape,a8):i=new Ma(r.shape,a8),n.runWebGLProgram(i,[r],r.dtype)}const mWe={kernelName:P2,backendName:"webgl",kernelFunc:pWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gWe=Qs+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,yWe=xt({opSnippet:gWe}),vWe={kernelName:Ay,backendName:"webgl",kernelFunc:yWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xWe=Qs+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,bWe=xt({opSnippet:xWe}),wWe={kernelName:Py,backendName:"webgl",kernelFunc:bWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l8="return a + b;",SWe=Cr({opSnippet:l8,packedOpSnippet:l8,supportsComplex:!0,cpuKernelImpl:D7e}),kWe={kernelName:up,backendName:"webgl",kernelFunc:SWe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class CWe{constructor(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map((s,o)=>`T${o}`);const r=[];this.variableNames.forEach(s=>{r.push(`float v${s} = get${s}AtOutCoords();`)});const i=this.variableNames.map(s=>`v${s}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        float result = ${i};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EWe{constructor(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((s,o)=>`T${o}`);const r=[];this.variableNames.forEach(s=>{r.push(`vec4 v${s} = get${s}AtOutCoords();`)});const i=this.variableNames.map(s=>`v${s}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        vec4 result = ${i};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ix(t){const{inputs:e,backend:n}=t,r=e;if(r.length===1)return Gi({inputs:{x:r[0]},backend:n});if(r.length>ie().get("WEBGL_MAX_TEXTURES_IN_SHADER")){const l=Math.floor(r.length/2),c=Ix({inputs:r.slice(0,l),backend:n}),u=Ix({inputs:r.slice(l),backend:n});return Ix({inputs:[c,u],backend:n})}const i=r.map(l=>l.dtype).reduce((l,c)=>mi(l,c)),s=r.map(l=>l.shape),a=ie().getBool("WEBGL_PACK")?new EWe(r[0].shape,s):new CWe(r[0].shape,s);return n.runWebGLProgram(a,r,i)}const TWe={kernelName:D2,backendName:"webgl",kernelFunc:Ix};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _We(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s,keepDims:o}=r,a=i.shape.length,l=wt(s,i.shape);let c=l;const u=An(c,a);let d=i;u!=null&&(d=ri({inputs:{x:i},backend:n,attrs:{perm:u}}),c=Pn(c.length,a)),kr("all",c,a);const[f,h]=Sr(d.shape,c),m=le(h),y=_e({inputs:{x:d},backend:n,attrs:{shape:[-1,m]}}),x=Cd(y,y.dtype,"all",n);let v;if(o){const b=Qn(f,l);v=_e({inputs:{x},backend:n,attrs:{shape:b}})}else v=_e({inputs:{x},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(x),u!=null&&n.disposeIntermediateTensorInfo(d),v}const IWe={kernelName:F2,backendName:"webgl",kernelFunc:_We};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $We(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s,keepDims:o}=r,a=i.shape.length,l=wt(s,i.shape);let c=l;const u=An(c,a);let d=i;u!=null&&(d=ri({inputs:{x:i},backend:n,attrs:{perm:u}}),c=Pn(c.length,a)),kr("any",c,a);const[f,h]=Sr(d.shape,c),m=le(h),y=_e({inputs:{x:d},backend:n,attrs:{shape:[-1,m]}}),x=Cd(y,y.dtype,"any",n);let v;if(o){const b=Qn(f,l);v=_e({inputs:{x},backend:n,attrs:{shape:b}})}else v=_e({inputs:{x},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(x),u!=null&&n.disposeIntermediateTensorInfo(d),v}const NWe={kernelName:L2,backendName:"webgl",kernelFunc:$We};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OWe{constructor(e,n,r){this.variableNames=["A"];const{windowSize:i,batchSize:s,outSize:o}=e;r||this.variableNames.push("bestIndicesA"),this.outputShape=[s,o];const a=n==="max"?">":"<",l=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${i};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${i}; i++) {
          int inIdx = ${l};
          float candidate = getA(batch, inIdx);
          if (candidate ${a} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class RWe{constructor(e,n,r,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,B(e.length>2,()=>`Packed arg${r.charAt(0).toUpperCase()+r.slice(1)} supports only inputs with rank above 2.`);const s=e[e.length-1],o=Math.ceil(s/n);this.outputShape=e.slice(0,-1),o>1&&this.outputShape.push(o),i||this.variableNames.push("bestIndicesA");const a=this.outputShape,l=a.length,c=Wt(l),u=ti("coords",l);let d,f;if(o===1){f=l+1;const N=Wt(f);d=`
        ${N} sourceLocR = ${N}(${u.join()}, 0);
        ++${u[l-1]};
        ${N} sourceLocG = ${N}(${u.join()}, 0);
        ++${u[l-2]};
        ${N} sourceLocA = ${N}(${u.join()}, 0);
        --${u[l-1]};
        ${N} sourceLocB = ${N}(${u.join()}, 0);
        --${u[l-2]};`}else f=l,d=`
        ${c} sourceLocR = coords;
        ++${u[l-1]};
        ${c} sourceLocG = coords;
        ++${u[l-2]};
        ${c} sourceLocA = coords;
        --${u[l-1]};
        ${c} sourceLocB = coords;
        --${u[l-2]};`;const h=["x","y","z","w","u","v"].slice(0,f),m="."+h[f-1],y=h.map(N=>"int "+N),x=ti("sourceLocR",f-1).concat("inIdx.r"),v=ti("sourceLocG",f-1).concat("inIdx.g"),b=ti("sourceLocB",f-1).concat("inIdx.b"),w=ti("sourceLocA",f-1).concat("inIdx.a"),k=r==="max"?"greaterThan":"lessThan",E=i?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${x.join()}),
                             getBestIndicesAChannel(${v.join()}),
                             getBestIndicesAChannel(${b.join()}),
                             getBestIndicesAChannel(${w.join()})));`,_=`vec4(
            getAChannel(${x.join()}),
            hasNextCol ? getAChannel(${v.join()}) : 0.,
            hasNextRow ? getAChannel(${b.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${w.join()}) : 0.)`,I=i?"":`
      float getBestIndicesAChannel(${y.join()}) {
        return getChannel(getBestIndicesA(${h.join()}),
                                          vec2(${h.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${y.join()}) {
        return getChannel(getA(${h.join()}),
                               vec2(${h.slice(-2).join()}));
      }
      ${I}
      void main() {
        ${c} coords = getOutputCoords();
        bool hasNextCol = ${u[l-1]} < ${a[l-1]-1};
        bool hasNextRow = ${u[l-2]} < ${a[l-2]-1};
        ${d}
        ivec4 srcIdx = ivec4(sourceLocR${m}, sourceLocG${m},
          sourceLocB${m}, sourceLocA${m}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${_};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${E}
          vec4 candidate = ${_};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${k}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FY(t,e,n,r=null){let i=e.shape[0],s=e.shape[1];r!=null&&(i=r.shape[0],s=r.shape[1]);const o=Wk(s),a={windowSize:o,inSize:s,batchSize:i,outSize:Math.ceil(s/o)},l=new OWe(a,n,r==null),c=[e];r!=null&&c.push(r);const u=t.runWebGLProgram(l,c,"int32");if(u.shape[1]===1)return u;const d=FY(t,e,n,u);return t.disposeIntermediateTensorInfo(u),d}function LY(t,e,n,r=null){const i=r!=null?r.shape:e.shape,s=i[i.length-1],o=Wk(s),a=new RWe(i,o,n,r==null),l=r==null?[e]:[e,r],c=t.runWebGLProgram(a,l,"int32");if(c.shape.length===e.shape.length){const u=LY(t,e,n,c);return t.disposeIntermediateTensorInfo(c),u}return c}function MY(t,e,n,r){const i=[n];if(kr("arg"+r.charAt(0).toUpperCase()+r.slice(1),i,e.shape.length),!ie().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const s=[],o=t.texData.get(e.dataId),a=o!==null&&o.isPacked;let l=e;a&&(l=t.unpackTensor(e),s.push(l));const[c,u]=Sr(l.shape,i),d=le(u),f=_e({inputs:{x:l},backend:t,attrs:{shape:[-1,d]}});s.push(f);const h=FY(t,f,r);s.push(h);const m=_e({inputs:{x:h},backend:t,attrs:{shape:c}});return s.forEach(y=>t.disposeIntermediateTensorInfo(y)),m}return LY(t,e,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AWe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s}=r;let o=wt(s,i.shape);const a=An(o,i.shape.length);let l=i;const c=[];a!=null&&(l=ri({inputs:{x:i},backend:n,attrs:{perm:a}}),c.push(l),o=Pn(o.length,l.shape.length)),kr("argMax",[o[0]],l.shape.length);const u=MY(n,l,o[0],"max");return c.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const PWe={kernelName:M2,backendName:"webgl",kernelFunc:AWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DWe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s}=r;let o=wt(s,i.shape);const a=An(o,i.shape.length);let l=i;const c=[];a!=null&&(l=ri({inputs:{x:i},backend:n,attrs:{perm:a}}),c.push(l),o=Pn(o.length,l.shape.length)),kr("argMin",[o[0]],l.shape.length);const u=MY(n,l,o[0],"min");return c.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const FWe={kernelName:B2,backendName:"webgl",kernelFunc:DWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LWe=Qs+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,MWe=xt({opSnippet:LWe}),BWe={kernelName:Dy,backendName:"webgl",kernelFunc:MWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zWe=Qs+"return log(x + sqrt(x * x + 1.0));",jWe=xt({opSnippet:zWe}),VWe={kernelName:Fy,backendName:"webgl",kernelFunc:jWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UWe=Qs+`
  return atan(x);
`,WWe=xt({opSnippet:UWe}),GWe={kernelName:Ly,backendName:"webgl",kernelFunc:WWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HWe=MP+`
  return atan(a, b);
`,qWe=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+e0+`
  return result;
`,KWe=Cr({opSnippet:HWe,packedOpSnippet:qWe}),XWe={kernelName:By,backendName:"webgl",kernelFunc:KWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QWe=Qs+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,YWe=xt({opSnippet:QWe}),JWe={kernelName:My,backendName:"webgl",kernelFunc:YWe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ey{constructor(e,n,r,i=!1,s=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,a=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterHeight,f=e.effectiveFilterWidth,h=e.padInfo.top,m=e.padInfo.left;this.outputShape=e.outShape;const y=n==="avg",x=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,v=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let b="0.0";if(y||(b="-1.0 / 1e-20"),r){const N=">=";this.userCode=`
        const ivec2 strides = ivec2(${a}, ${l});
        const ivec2 pads = ivec2(${h}, ${m});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${d};
              wR += ${c}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${f};
                wC += ${u}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${N} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${i?s?x:v:`wR * ${f} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const w="max";let k=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(k="avgValue / count");const E=Math.floor(o/4)*4,_=o%4,I=`
      if (${y}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${w}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${a}, ${l});
      const ivec2 pads = ivec2(${h}, ${m});
      const float initializationValue = ${b};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${b});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${d};
            wR += ${c}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${E}; wC += 4) {
            int xC = xCCorner + wC * ${u};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              getValue(batch, xR, xC + 3 * ${u}, d)
            );

            ${I}
          }

          int xC = xCCorner + ${E};
          if (${_===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${I}
          } else if (${_===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              initializationValue,
              initializationValue
            );

            ${I}
          } else if (${_===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              initializationValue
            );

            ${I}
          }
        }
        setOutput(${k});
      }
    `}}class zP{constructor(e,n,r,i=!1,s=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,a=e.strideDepth,l=e.strideHeight,c=e.strideWidth,u=e.dilationDepth,d=e.dilationHeight,f=e.dilationWidth,h=e.effectiveFilterDepth,m=e.effectiveFilterHeight,y=e.effectiveFilterWidth,x=e.padInfo.front,v=e.padInfo.top,b=e.padInfo.left;this.outputShape=e.outShape;const w=n==="avg";let k="0.0";if(w||(k="-1.0 / 1e-20"),r){const P=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${a}, ${l}, ${c});
        const ivec3 pads = ivec3(${x}, ${v}, ${b});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${h};
              wD += ${u}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${m};
                wR += ${d}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${y};
                  wC += ${f}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${P} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${i?s?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${m} * ${y} +
                      wR * ${y} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const E="max";let _=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(_="avgValue / count");const I=Math.floor(o/4)*4,N=o%4,D=`
      if (${w}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${E}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${a}, ${l}, ${c});
      const ivec3 pads = ivec3(${x}, ${v}, ${b});
      const float initializationValue = ${k};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${k});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${h};
            wD += ${u}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${m};
            wR += ${d}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${I}; wC += 4) {
              int xC = xCCorner + wC * ${f};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                getValue(batch, xD, xR, xC + 2 * ${f}, ch),
                getValue(batch, xD, xR, xC + 3 * ${f}, ch)
              );

              ${D}
            }

            int xC = xCCorner + ${I};
            if (${N===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${D}
            } else if (${N===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                initializationValue,
                initializationValue
              );

              ${D}
            } else if (${N===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                getValue(batch, xD, xR, xC + 2 * ${f}, ch),
                initializationValue
              );

              ${D}
            }
          }
          setOutput(${_});
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZWe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e;Jv(i,"avgPool");const{filterSize:s,strides:o,pad:a,dimRoundingMode:l}=r,c=1;B(Br(o,c),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${c}'`);const u=Ks(i.shape,s,o,c,a,l);if(u.filterWidth===1&&u.filterHeight===1&&Mt(u.inShape,u.outShape))return Gi({inputs:{x:i},backend:n});const d=new ey(u,"avg",!1);return n.runWebGLProgram(d,[i],"float32")}const eGe={kernelName:z2,backendName:"webgl",kernelFunc:ZWe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tGe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{filterSize:s,strides:o,pad:a,dimRoundingMode:l,dataFormat:c}=r,u=[1,1,1],d=hl(i.shape,s,o,u,a,l,c),f=new zP(d,"avg",!1);return n.runWebGLProgram(f,[i],"float32")}const nGe={kernelName:j2,backendName:"webgl",kernelFunc:tGe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rGe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,i=e.strideHeight,s=e.strideWidth,o=e.dilationHeight,a=e.dilationWidth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=l-1-e.padInfo.top,d=c-1-e.padInfo.left,f=1/(n*r);this.userCode=`
      const ivec2 pads = ivec2(${u}, ${d});
      const float avgMultiplier = float(${f});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${l};
            wR += ${o}) {
          float dyR = float(dyRCorner + wR) / ${i}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${c};
            wC+= ${a}) {
            float dyC = float(dyCCorner + wC) / ${s}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class iGe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,i=e.filterWidth,s=e.strideDepth,o=e.strideHeight,a=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterDepth,f=e.effectiveFilterHeight,h=e.effectiveFilterWidth,m=d-1-e.padInfo.front,y=f-1-e.padInfo.top,x=h-1-e.padInfo.left,v=1/(n*r*i);this.userCode=`
      const ivec3 pads = ivec3(${m}, ${y}, ${x});
      const float avgMultiplier = float(${v});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${d};
            wD += ${l}) {
          float dyD = float(dyDCorner + wD) / ${s}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${f};
              wR += ${c}) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${h};
                wC += ${u}) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sGe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,input:s}=e,o=s,{filterSize:a,strides:l,pad:c,dimRoundingMode:u}=r,d=[1,1,1],f=hl(o.shape,a,l,d,c,u),h=new iGe(f);return n.runWebGLProgram(h,[i],o.dtype)}const oGe={kernelName:F3,backendName:"webgl",kernelFunc:sGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aGe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,input:s}=e,o=s;Jv([i,s],"avgPoolGrad");const{filterSize:a,strides:l,pad:c}=r,u=Ks(o.shape,a,l,1,c),d=new rGe(u);return n.runWebGLProgram(d,[i],o.dtype)}const lGe={kernelName:D3,backendName:"webgl",kernelFunc:aGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cGe(t){const{inputs:e,backend:n,attrs:r}=t,{a:i,b:s}=e,{transposeA:o,transposeB:a}=r;return ew({a:i,b:s,transposeA:o,transposeB:a,backend:n})}const uGe={kernelName:V2,backendName:"webgl",kernelFunc:cGe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dGe{constructor(e,n,r,i,s,o){this.outputShape=[],this.variableNames=["x","mean","variance"],pt(e,n),pt(e,r);let a="0.0";i!=null&&(pt(e,i),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let l="1.0";s!=null&&(pt(e,s),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${a};
        float scale = ${l};
        float inv = scale * inversesqrt(variance + float(${o}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fGe{constructor(e,n,r,i,s,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],pt(e,n),pt(e,r);let a="vec4(0.0)";i!=null&&(pt(e,i),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let l="vec4(1.0)";s!=null&&(pt(e,s),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${a};
        vec4 scale = ${l};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${o}));

        setOutput((x - mean) * inv + offset);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hGe=({inputs:t,backend:e,attrs:n})=>{const{x:r,mean:i,variance:s,offset:o,scale:a}=t;B(i.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),B(o==null||i.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),B(a==null||i.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;l==null&&(l=.001);const c=[r,i,s];let u=null;o!=null&&(u=o.shape,c.push(o));let d=null;a!=null&&(d=a.shape,c.push(a));const f=ie().getBool("WEBGL_PACK_NORMALIZATION")?new fGe(r.shape,i.shape,s.shape,u,d,l):new dGe(r.shape,i.shape,s.shape,u,d,l);return e.runWebGLProgram(f,c,c[0].dtype)},pGe={kernelName:mS,backendName:"webgl",kernelFunc:hGe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mGe{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const n=Wt(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const r=gGe(this.rank);let i;const s=e.map((o,a)=>`sourceLoc.${uN[a]} = start[${a}] + coords.${uN[a]};`);i=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${s.join(`
`)}
      `,this.userCode=`
      void main() {
        ${i}
        setOutput(getSource(${r}));
      }
    `}}const uN=["x","y","z","w","u","v"];function gGe(t){if(t===1)return"sourceLoc";if(t<=6)return uN.slice(0,t).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yGe{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=Wt(this.rank),r=ti("coords",this.rank),i=ti("sourceLoc",this.rank),s=this.rank===1?"sourceLoc":`vec2(${i.slice(-2).join()})`,o=`getChannel(getSource(${i.join()}), ${s})`,a=`
      result.x = ${o};
      if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
        ++${i[this.rank-1]};
        result.y = ${o};
        --${i[this.rank-1]};
      }
    `,l=this.rank===1?"":`
      --${r[this.rank-1]};
      if (++${r[this.rank-2]} < ${e[this.rank-2]}) {
        ++${i[this.rank-2]};
        result.z = ${o};
        if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
          ++${i[this.rank-1]};
          result.w = ${o};
        }
      }
    `,c=this.rank<=4?`sourceLoc = coords +
            ${n}(${e.map((u,d)=>`start[${d}]`).join()});`:e.map((u,d)=>`${i[d]} = ${r[d]} + start[${d}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${c}
        vec4 result = vec4(0.);
        ${a}
        ${l}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vGe(t,e,n,r){const i=r.texData.get(t.dataId),s=r.makeTensorInfo(n,t.dtype),o=r.texData.get(s.dataId);Object.assign(o,i),o.refCount=1,o.shape=n,o.dtype=t.dtype;let a=fA(e,qe(t.shape));i.slice&&(a+=i.slice.flatOffset),o.slice={flatOffset:a,origDataId:i.slice&&i.slice.origDataId||t.dataId};const l=r.dataRefCount.get(o.slice.origDataId)||1;return r.dataRefCount.set(o.slice.origDataId,l+1),s}function Sp(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{begin:s,size:o}=r,[a,l]=hA(i,s,o);if(cA(i,a,l),le(l)===0)return n.makeTensorInfo(l,i.dtype,[]);if(n.shouldExecuteOnCPU([i])||i.dtype==="string"){const d=n.texData.get(i.dataId),f=dUe(d.values,a,l,i.shape,i.dtype);return n.makeTensorInfo(l,i.dtype,f)}const{isPacked:c}=n.texData.get(i.dataId),u=dA(i.shape,a,l);if(c||!u){const d=ie().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new yGe(l):new mGe(l),f=[a];return n.runWebGLProgram(d,[i],i.dtype,f)}return n.uploadToGPU(i.dataId),vGe(i,a,l,n)}const xGe={kernelName:JS,backendName:"webgl",kernelFunc:Sp};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bGe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{blockShape:s,crops:o}=r;B(i.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const a=s.reduce((b,w)=>b*w),l=Kv(i.shape,s,a),c=Xv(l.length,s.length),u=Qv(i.shape,s,a),d=lP(o,s.length),f=cP(u,o,s.length),h=[],m=_e({inputs:{x:i},backend:n,attrs:{shape:l}}),y=ri({inputs:{x:m},backend:n,attrs:{perm:c}}),x=_e({inputs:{x:y},backend:n,attrs:{shape:u}}),v=Sp({inputs:{x},backend:n,attrs:{begin:d,size:f}});return h.push(m),h.push(y),h.push(x),h.forEach(b=>n.disposeIntermediateTensorInfo(b)),v},wGe={kernelName:U2,backendName:"webgl",kernelFunc:bGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SGe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,weights:s}=e,{size:o}=r,a=n.readSync(i.dataId),l=n.readSync(s.dataId),c=EY(a,l,s.dtype,s.shape,o);return n.makeTensorInfo([o],s.dtype,c)}const kGe={kernelName:W2,backendName:"webgl",kernelFunc:SGe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CGe(t){const{inputs:e,backend:n}=t,{s0:r,s1:i}=e,s=n.readSync(r.dataId),o=n.readSync(i.dataId),a=pt(Array.from(s),Array.from(o));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const EGe={kernelName:G2,backendName:"webgl",kernelFunc:CGe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TGe="return float(a != b);",BY=Cr({opSnippet:TGe,cpuKernelImpl:rUe,dtype:"bool"}),_Ge={kernelName:gv,backendName:"webgl",kernelFunc:BY};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n0(t){const{inputs:e,backend:n}=t,{input:r}=e,i=n.texData.get(r.dataId);return Gi({inputs:{x:i.complexTensorInfos.real},backend:n})}const IGe={kernelName:WS,backendName:"webgl",kernelFunc:n0};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Ge="return float(int(x));";function NGe(t,e){const n=new Ma(t.shape,$Ge),r=e.runWebGLProgram(n,[t],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dN(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{dtype:s}=r;if(s==="complex64"){if(i.dtype==="complex64")return Gi({inputs:{x:i},backend:n});const o=xc(i.shape),a=dN({inputs:{x:i},backend:n,attrs:{dtype:"float32"}}),l=Mc({inputs:{real:a,imag:o},backend:n});return o.dispose(),n.disposeIntermediateTensorInfo(a),l}if(i.dtype==="complex64"){const o=n0({inputs:{input:i},backend:n}),a=dN({inputs:{x:o},backend:n,attrs:{dtype:s}});return n.disposeIntermediateTensorInfo(o),a}if(!N3(i.dtype,s)){const o=Gi({inputs:{x:i},backend:n});return{dataId:o.dataId,shape:o.shape,dtype:s}}if(n.shouldExecuteOnCPU([i])){const o=n.texData.get(i.dataId).values,[a,l,c]=L7e(o,i.shape,i.dtype,s);return n.makeTensorInfo(a,l,c)}if(s==="int32")return NGe(i,n);if(s==="bool"){const o=n.makeTensorInfo([],"bool",Kn("bool",1)),l=BY({inputs:{a:i,b:o},backend:n});return n.disposeIntermediateTensorInfo(o),l}throw new Error(`Error in Cast: failed to cast ${i.dtype} to ${s}`)}const OGe={kernelName:zy,backendName:"webgl",kernelFunc:dN};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c8="return ceil(x);",RGe=xt({opSnippet:c8,packedOpSnippet:c8,cpuKernelImpl:M7e}),AGe={kernelName:jy,backendName:"webgl",kernelFunc:RGe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class PGe{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class DGe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FGe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{clipValueMin:s,clipValueMax:o}=r;let a;ie().getBool("WEBGL_PACK_CLIP")?a=new DGe(i.shape):a=new PGe(i.shape);const l=[[s],[o]];return n.runWebGLProgram(a,[i],i.dtype,l)}const LGe={kernelName:Vy,backendName:"webgl",kernelFunc:FGe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class MGe{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u8(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}function BGe(t){const{inputs:e,backend:n}=t,{x:r}=e,i=n.texData.get(r.dataId),s=new MGe(r.shape),o=[u8(r,i.complexTensorInfos.real),u8(r,i.complexTensorInfos.imag)];return n.runWebGLProgram(s,o,o[0].dtype)}const zGe={kernelName:q2,backendName:"webgl",kernelFunc:BGe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jGe{constructor(e){this.outputShape=[],this.outputShape=ia(e,1),this.variableNames=e.map((o,a)=>`T${a}`);const n=new Array(e.length-1);n[0]=e[0][1];for(let o=1;o<n.length;o++)n[o]=n[o-1]+e[o][1];const r=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let o=1;o<n.length;o++){const a=n[o-1];r.push(`else if (yC < ${n[o]}) setOutput(getT${o}(yR, yC-${a}));`)}const i=n.length,s=n[n.length-1];r.push(`else setOutput(getT${i}(yR, yC-${s}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${r.join(`
        `)}
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class VGe{constructor(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=ia(e,n);const r=this.outputShape,i=r.length,s=Wt(i),o=ti("coords",i),a=["x","y","z","w","u","v"].slice(0,i);this.variableNames=e.map((y,x)=>`T${x}`);const l=new Array(e.length-1);l[0]=e[0][n];for(let y=1;y<l.length;y++)l[y]=l[y-1]+e[y][n];const c=a[n],u=a.slice(-2),d=a.join();let f=`if (${c} < ${l[0]}) {
        return getChannel(
            getT0(${d}), vec2(${u.join()}));
        }`;for(let y=1;y<l.length;y++){const x=l[y-1];f+=`
        if (${c} < ${l[y]}  && ${c} >= ${l[y-1]}) {
          return getChannel(
            getT${y}(${X1(a,c,x)}),
            vec2(${X1(u,c,x)}));
        }`}const h=l.length,m=l[l.length-1];f+=`
        return getChannel(
          getT${h}(${X1(a,c,m)}),
          vec2(${X1(u,c,m)}));`,this.userCode=`
      float getValue(${a.map(y=>"int "+y)}) {
        ${f}
      }

      void main() {
        ${s} coords = getOutputCoords();
        vec4 result = vec4(getValue(${o}), 0., 0., 0.);

        ${o[i-1]} = ${o[i-1]} + 1;
        if (${o[i-1]} < ${r[i-1]}) {
          result.g = getValue(${o});
        }

        ${o[i-2]} = ${o[i-2]} + 1;
        if (${o[i-2]} < ${r[i-2]}) {
          result.a = getValue(${o});
        }

        ${o[i-1]} = ${o[i-1]} - 1;
        if (${o[i-2]} < ${r[i-2]} &&
            ${o[i-1]} < ${r[i-1]}) {
          result.b = getValue(${o});
        }
        setOutput(result);
      }
    `}}function X1(t,e,n){const r=t.indexOf(e);return t.map((s,o)=>o===r?`${s} - ${n}`:s).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qk(t){const{inputs:e,backend:n}=t,{input:r}=e,i=n.texData.get(r.dataId);return Gi({inputs:{x:i.complexTensorInfos.imag},backend:n})}const UGe={kernelName:xS,backendName:"webgl",kernelFunc:Qk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rm(t,e,n){const r=t[0].dtype;if(r==="complex64"){const d=t.map(x=>n0({inputs:{input:x},backend:n})),f=t.map(x=>Qk({inputs:{input:x},backend:n})),h=Rm(d,e,n),m=Rm(f,e,n),y=Mc({inputs:{real:h,imag:m},backend:n});return d.forEach(x=>n.disposeIntermediateTensorInfo(x)),f.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),y}let i=n.shouldExecuteOnCPU(t);if(r==="string"&&(i=!0),i){const d=t.map(b=>{const k=[-1,le(b.shape.slice(e))];return _e({inputs:{x:b},backend:n,attrs:{shape:k}})}),f=d.map(b=>({vals:n.readSync(b.dataId),shape:b.shape})),h=ia(d.map(b=>b.shape),1),m=d[0].shape[0]===1,y=B7e(f,h,r,m),x=ia(t.map(b=>b.shape),e),v=n.makeTensorInfo(x,r,y);return d.forEach(b=>n.disposeIntermediateTensorInfo(b)),v}const s=ie().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(t.length>s){const d=[];for(let h=0;h<t.length;h+=s){const m=t.slice(h,h+s);d.push(Rm(m,e,n))}const f=Rm(d,e,n);for(const h of d)n.disposeIntermediateTensorInfo(h);return f}if(ie().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&t[0].shape.length>1){const d=new VGe(t.map(f=>f.shape),e);return n.runWebGLProgram(d,t,r)}const{tensors2D:o,outShape:a}=WGe(t,e,n),l=new jGe(o.map(d=>d.shape)),c=n.runWebGLProgram(l,o,r);o.forEach(d=>n.disposeIntermediateTensorInfo(d));const u=_e({inputs:{x:c},attrs:{shape:a},backend:n});return n.disposeIntermediateTensorInfo(c),u}function WGe(t,e,n){const r=ia(t.map(s=>s.shape),e);return{tensors2D:t.map(s=>_e({inputs:{x:s},attrs:{shape:[-1,le(s.shape.slice(e))]},backend:n})),outShape:r}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zY(t){const{inputs:e,backend:n,attrs:r}=t,{axis:i}=r,s=wt(i,e[0].shape)[0],o=e.map(c=>c.shape);sP(o,s);const a=ia(e.map(c=>c.shape),s);if(le(a)===0)return n.makeTensorInfo(a,e[0].dtype,[]);const l=e.filter(c=>le(c.shape)>0);return l.length===1?Gi({inputs:{x:l[0]},backend:n}):Rm(l,s,n)}const GGe={kernelName:K2,backendName:"webgl",kernelFunc:zY};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jY{constructor(e,n=!1,r=null,i=!1,s=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const o=e.padInfo.top,a=e.padInfo.left,l=e.strideHeight,c=e.strideWidth,u=e.dilationHeight,d=e.dilationWidth,f=e.filterHeight,h=e.filterWidth,m=Math.floor(e.inChannels/4)*4,y=e.inChannels%4,x=e.dataFormat==="channelsLast",v=x?1:2,b=x?2:3,w=x?3:1;let k="",E="";r&&(i?k=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:s?k=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:k=`
          float activation(float x) {
            ${r}
          }
        `,E="result = activation(result);");const _=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${k}

      const ivec2 strides = ivec2(${l}, ${c});
      const ivec2 pads = ivec2(${o}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${w}];

        ivec2 xRCCorner =
            ivec2(coords[${v}], coords[${b}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${f}; wR++) {
          int xR = xRCorner + wR * ${u};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${h}; wC++) {
            int xC = xCCorner + wC * ${d};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${m}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${x}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${y===1}) {

              if (${x}) {
                dotProd +=
                    getX(batch, xR, xC, ${m}) *
                    getW(wR, wC, ${m}, d2);
              } else {
                dotProd +=
                    getX(batch, ${m}, xR, xC) *
                    getW(wR, wC, ${m}, d2);
              }

            } else if (${y===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${m}, d2),
                getW(wR, wC, ${m} + 1, d2)
              );

              if (${x}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${m}),
                  getX(batch, xR, xC, ${m} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${m}, xR, xC),
                  getX(batch, ${m} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${y===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${m}, d2),
                getW(wR, wC, ${m} + 1, d2),
                getW(wR, wC, ${m} + 2, d2)
              );

              if (${x}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${m}),
                  getX(batch, xR, xC, ${m} + 1),
                  getX(batch, xR, xC, ${m} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${m}, xR, xC),
                  getX(batch, ${m} + 1, xR, xC),
                  getX(batch, ${m} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${_}
        ${E}
        setOutput(result);
      }
    `}}class HGe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const n=e.padInfo.front,r=e.padInfo.top,i=e.padInfo.left,s=e.strideDepth,o=e.strideHeight,a=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,d=e.filterDepth,f=e.filterHeight,h=e.filterWidth,m=Math.floor(e.inChannels/4)*4,y=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${s}, ${o}, ${a});
      const ivec3 pads = ivec3(${n}, ${r}, ${i});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${d}; wF++) {
          int xF = xFCorner + wF * ${l};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${f}; wR++) {
            int xR = xRCorner + wR * ${c};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${h}; wC++) {
              int xC = xCCorner + wC * ${u};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${m}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${y===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${m}) *
                  getW(wF, wR, wC, ${m}, d2);
              } else if (${y===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${m}),
                  getX(batch, xF, xR, xC, ${m} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${m}, d2),
                  getW(wF, wR, wC, ${m} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${y===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${m}),
                  getX(batch, xF, xR, xC, ${m} + 1),
                  getX(batch, xF, xR, xC, ${m} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${m}, d2),
                  getW(wF, wR, wC, ${m} + 1, d2),
                  getW(wF, wR, wC, ${m} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class VY{constructor(e,n=!1,r=null,i=!1,s=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=si(this.outputShape.length);const o=e.padInfo.left,a=e.strideWidth,l=e.dilationWidth,c=e.filterHeight,u=e.filterWidth,d=u;let f=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let x=0;x<u;x++)f+=`
           vec4 xTexelC${x*2};
           int xTexelC${x*2}Ready;
           vec4 xTexelC${x*2+1};
           int xTexelC${x*2+1}Ready;
           vec4 xC${x};`;f+=`
     for (int r = 0; r < ${c}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let x=0;x<u;x++)f+=`
           xTexelC${x*2} = vec4(0.0);
           xTexelC${x*2}Ready = 0;
           xTexelC${x*2+1} = vec4(0.0);
           xTexelC${x*2+1}Ready = 0;
           xC${x} = vec4(0.0);`;f+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let x=0;x<(d+1)/2;x++){const v=x*2;if(f+=`
           xC = xCCorner + ${v*l};
           `,a===1){if(v<u&&(o%2===1?(f+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }
               `,l===1&&v>0?f+=`
                 xC${v} = vec4(xTexelC${v-2}.zw, xTexelC${v}.xy);
                 `:f+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${v} = vec4(previous.zw, xTexelC${v}.xy);
                   } else {
                     xC${v} = vec4(0.0, 0.0, xTexelC${v}.xy);
                   }
                   `):f+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }

                 xC${v} = xTexelC${v};
                 `,v+1<u)){const b=o%2===0?R2(l):l;l%2===0&&o%2===1||l%2!==0&&o%2!==1?(f+=`
                   xCOffset = xC + imod(pads[1], 2) + ${b};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                     xTexelC${v+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${v+1}.zw = vec2(0.0);
                     }
                     xTexelC${v+1}Ready = 1;
                   }
                   `,l>1?f+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${v+1} = vec4(previous.zw, xTexelC${v+1}.xy);
                     } else {
                      xC${v+1} = vec4(0.0, 0.0, xTexelC${v+1}.xy);
                     }
                     `:f+=`
                     xC${v+1} = vec4(xTexelC${v}.zw, xTexelC${v+1}.xy);
                     `):b===1?f+=`
                     xC${v+1} = xTexelC${v};
                     `:f+=`
                     xCOffset = xC + ${b};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                       xTexelC${v+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${v+1}.zw = vec2(0.0);
                       }
                       xTexelC${v+1}Ready = 1;
                     }

                     xC${v+1} = xTexelC${v+1};
                     `}}else v<u&&(o%2===1?(f+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${v+1}Ready == 0) {
                   xTexelC${v+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${v+1}.zw = vec2(0.0);
                   }
                   xTexelC${v+1}Ready = 1;
                 }

                 xC${v} = vec4(xTexelC${v}.zw, xTexelC${v+1}.zw);
               `,v+1<u&&(f+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${v+1} = vec4(xTexelC${v+1}.xy, final.xy);
                 `)):(f+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                   xTexelC${v+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${v+1}.zw = vec2(0.);
                   }
                   xTexelC${v+1}Ready = 1;
                 }

                 xC${v} = vec4(
                   xTexelC${v}.xy, xTexelC${v+1}.xy);
               `,v+1<u&&(f+=`
                   xC${v+1} = vec4(xTexelC${v}.zw, xTexelC${v+1}.zw);
                 `)));v<u&&(f+=`
             wTexel = getW(r, ${v}, d1, d2);
             dotProd += xC${v}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${v}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,v+1<u&&(f+=`
               wTexel = getW(r, ${v+1}, d1, d2);
               dotProd += xC${v+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${v+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}f+=`
     }
   `,f+=`
     }
   `,f+=`
     }
   `;let h="",m="";r&&(i?h=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${r}
         }`:s?h=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${r}
         }`:h=`vec4 activation(vec4 x) {
           ${r}
         }`,m="result = activation(result);");const y=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${h}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${f}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${y}
         ${m}
         setOutput(result);
       }
     `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qGe{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=si(this.outputShape.length);const{dataFormat:r}=n,i=ii(),s=r==="channelsLast",o=s?1:2,a=s?2:3,l=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let c="";for(let u=0;u<=1;u++)for(let d=0;d<=1;d++)c+=`
          blockIndex = rc.z + ${d};
          pos = rc.y + ${u};

          ${l}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${o}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${a}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${s}) {
                  innerDims = vec2(d1, ch);
                  result[${u*2+d}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${u*2+d}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${c}

        ${i.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tw(t,e){const n=t.length;return n>=3?e?[...t.slice(0,-3),t[n-3]*t[n-2],t[n-1]]:[...t.slice(0,-3),t[n-3],t[n-2]*t[n-1]]:!e&&n===1&&t[0]>1?[t[0],1]:null}function UY({x:t,filter:e,convInfo:n,backend:r,bias:i=null,preluActivationWeights:s=null,leakyreluAlpha:o=0,activation:a=null}){const l=t.shape,c=r.texData.get(t.dataId),u=n.inChannels,d=l[0]*l[1]*l[2],f=n.outChannels,h=n.dataFormat==="channelsLast",m=!1,y=!1;let x;const v=[];if(s!=null){const k=tw(s.shape,h);k!=null&&(s=_e({inputs:{x:s},backend:r,attrs:{shape:k}}),v.push(s))}if(i!=null){const k=tw(i.shape,h);k!=null&&(i=_e({inputs:{x:i},backend:r,attrs:{shape:k}}),v.push(i))}if(!((d===1||f===1)&&u>DY)&&c.isPacked&&h&&c.texture!=null&&l[2]%2!==0&&Mt(c.shape.slice(-3),l.slice(-3))){const k=l[0]*l[1]*(l[2]+1),E={dataId:t.dataId,shape:[1,k,n.inChannels],dtype:t.dtype},_=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,B(Yb(c.shape,E.shape),()=>`packed reshape ${c.shape} to ${E.shape} isn't free`);const I=_e({inputs:{x:e},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});v.push(I);const N=ew({a:E,b:I,backend:r,transposeA:m,transposeB:y,bias:i,activation:a,preluActivationWeights:s,leakyreluAlpha:o}),D=r.texData.get(N.dataId);B(D.isPacked,()=>"batchMatMul result is expected to be packed"),c.shape=_,D.shape=n.outShape,x=Gi({inputs:{x:N},backend:r}),x.shape=n.outShape,v.push(N)}else{const k=n.outHeight*n.outWidth,E=_e({inputs:{x:t},backend:r,attrs:{shape:h?[n.batchSize,k,n.inChannels]:[n.batchSize,n.inChannels,k]}}),_=_e({inputs:{x:e},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),I=ew({a:h?E:_,b:h?_:E,transposeA:!h,transposeB:y,backend:r,bias:i,activation:a,preluActivationWeights:s,leakyreluAlpha:o});x=_e({inputs:{x:I},backend:r,attrs:{shape:n.outShape}}),v.push(E),v.push(_),v.push(I)}for(const k of v)r.disposeIntermediateTensorInfo(k);return x}function WY({x:t,filter:e,convInfo:n,backend:r,bias:i=null,preluActivationWeights:s=null,leakyreluAlpha:o=0,activation:a=null}){const{filterWidth:l,filterHeight:c,inChannels:u,outWidth:d,outHeight:f,dataFormat:h}=n,m=h==="channelsLast",y=l*c*u,x=f*d,v=[n.batchSize,y,x],b=!0,w=!1,k=[];if(s!=null){const V=tw(s.shape,m);V!=null&&(s=_e({inputs:{x:s},backend:r,attrs:{shape:V}}),k.push(s))}if(i!=null){const V=tw(i.shape,m);V!=null&&(i=_e({inputs:{x:i},backend:r,attrs:{shape:V}}),k.push(i))}const E=_e({inputs:{x:e},backend:r,attrs:{shape:[1,y,le(e.shape)/y]}});k.push(E);const _=new qGe(v,n),I=[t.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],N=r.runWebGLProgram(_,[t],"float32",I),D=_e({inputs:{x:N},backend:r,attrs:{shape:v}});k.push(N),k.push(D);const P=i!=null,F=s!=null,U=a==="leakyrelu",j=a?Zg(a,!0):null,W=new PY(m?D.shape:E.shape,m?E.shape:D.shape,m?[n.batchSize,x,n.outChannels]:[n.batchSize,n.outChannels,x],b,w,P,j,F,U),q=m?[D,E]:[E,D];if(i&&q.push(i),F&&q.push(s),U){const V=r.makeTensorInfo([],"float32",fl(o,"float32"));q.push(V),k.push(V)}const Q=r.runWebGLProgram(W,q,"float32"),ee=_e({inputs:{x:Q},backend:r,attrs:{shape:n.outShape}});k.push(Q);for(const V of k)r.disposeIntermediateTensorInfo(V);return ee}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KGe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:s}=e,{strides:o,pad:a,dataFormat:l,dilations:c,dimRoundingMode:u}=r,d=pl(l),f=or(i.shape,s.shape,o,c,a,u,!1,d);let h;if(f.filterHeight===1&&f.filterWidth===1&&f.dilationHeight===1&&f.dilationWidth===1&&f.strideHeight===1&&f.strideWidth===1&&(f.padInfo.type==="SAME"||f.padInfo.type==="VALID"))h=UY({x:i,filter:s,convInfo:f,backend:n});else if(f.strideWidth<=2&&d==="channelsLast"&&ie().getBool("WEBGL_EXP_CONV")){const y=new VY(f),x=[[f.padInfo.top,f.padInfo.left],[f.strideHeight,f.strideWidth],[f.dilationHeight,f.dilationWidth],[f.inHeight,f.inWidth]];h=n.runWebGLProgram(y,[i,s],"float32",x)}else if(ie().getBool("WEBGL_CONV_IM2COL"))h=WY({x:i,filter:s,convInfo:f,backend:n});else{const y=new jY(f);h=n.runWebGLProgram(y,[i,s],"float32")}const m=_e({inputs:{x:h},backend:n,attrs:{shape:f.outShape}});return n.disposeIntermediateTensorInfo(h),m}const XGe={kernelName:X2,backendName:"webgl",kernelFunc:KGe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class QGe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,i=e.padInfo.top,s=e.padInfo.left,o=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${i};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${s};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              if (${o}) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class YGe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,i=e.strideHeight,s=e.strideWidth,o=e.dataFormat==="channelsLast",a=n-1-e.padInfo.top,l=r-1-e.padInfo.left,c=o?1:2,u=o?2:3,d=o?3:1;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${d}];

        ivec2 dyCorner = ivec2(coords[${c}], coords[${u}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${i}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${s}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${o}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class JGe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideDepth,r=e.strideHeight,i=e.strideWidth,s=e.padInfo.front,o=e.padInfo.top,a=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${s};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${r} - ${o};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${i} - ${a};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class ZGe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,i=e.filterWidth,s=e.strideDepth,o=e.strideHeight,a=e.strideWidth,l=n-1-e.padInfo.front,c=r-1-e.padInfo.top,u=i-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${l}, ${c}, ${u});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${s}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${r}; wR++) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${r} - 1 - wR;

            for (int wC = 0; wC < ${i}; wC++) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${i} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,dy:s}=e,{strides:o,pad:a,dataFormat:l,dimRoundingMode:c,filterShape:u}=r,d=pl(l),f=or(i.shape,u,o,1,a,c,!1,d),h=new QGe(f);return n.runWebGLProgram(h,[i,s],"float32")}const tHe={kernelName:Q2,backendName:"webgl",kernelFunc:eHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nHe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,filter:s}=e,{inputShape:o,strides:a,pad:l,dataFormat:c,dimRoundingMode:u}=r,d=pl(c),f=or(o,s.shape,a,1,l,u,!1,d),h=new YGe(f);return n.runWebGLProgram(h,[i,s],"float32")}const rHe={kernelName:Y2,backendName:"webgl",kernelFunc:nHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:s}=e,{strides:o,pad:a,dilations:l}=r,c=Pc(i.shape,s.shape,o,l,a),u=new HGe(c);return n.runWebGLProgram(u,[i,s],"float32")}const sHe={kernelName:J2,backendName:"webgl",kernelFunc:iHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,dy:s}=e,{strides:o,pad:a,filterShape:l}=r,c=Pc(i.shape,l,o,1,a),u=new JGe(c);return n.runWebGLProgram(u,[i,s],"float32")}const aHe={kernelName:L3,backendName:"webgl",kernelFunc:oHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lHe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,filter:s}=e,{pad:o,strides:a,inputShape:l}=r,c=Pc(l,s.shape,a,1,o),u=new ZGe(c);return n.runWebGLProgram(u,[i,s],"float32")}const cHe={kernelName:Z2,backendName:"webgl",kernelFunc:lHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uHe=wp+`
  return cos(x);
`,dHe=xt({opSnippet:uHe}),fHe={kernelName:Uy,backendName:"webgl",kernelFunc:dHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hHe=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,pHe=xt({opSnippet:hHe}),mHe={kernelName:Wy,backendName:"webgl",kernelFunc:pHe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gHe{constructor(e,n,r,i,s){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[o,a,l,c]=e,[u]=n,[d,f]=r;this.outputShape=[u,d,f,c];const h=i==="bilinear"?1:0,[m,y]=[`${a-1}.0`,`${l-1}.0`],[x,v,b]=d>1?[`${(a-1)/(d-1)}`,"(y2-y1) * height_ratio",`y1*${m} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${m}`],[w,k,E]=f>1?[`${(l-1)/(f-1)}`,"(x2-x1) * width_ratio",`x1*${y} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${y}`];this.userCode=`
      const float height_ratio = float(${x});
      const float width_ratio = float(${w});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${o}) {
          return;
        }

        float height_scale = ${v};
        float width_scale = ${k};

        float in_y = ${b};
        if( in_y < 0.0 || in_y > ${m} ) {
          setOutput(float(${s}));
          return;
        }
        float in_x = ${E};
        if( in_x < 0.0 || in_x > ${y} ) {
          setOutput(float(${s}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${h} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yHe=t=>{const{inputs:e,backend:n,attrs:r}=t,{image:i,boxes:s,boxInd:o}=e,{cropSize:a,method:l,extrapolationValue:c}=r,u=new gHe(i.shape,s.shape,a,l,c);return n.runWebGLProgram(u,[i,s,o],"float32")},vHe={kernelName:nS,backendName:"webgl",kernelFunc:yHe};var ty;(function(t){t.Prod="*",t.Sum="+"})(ty||(ty={}));class d8{constructor(e,n,r,i){this.op=e,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const s=this.outputShape.length,o=this.op===ty.Prod?"1.0":"0.0",a=r?o:`getX(${f8(s,"coords",this.op)})`,l=this.outputShape[this.outputShape.length-1];let c="",u="";r?(c=i?`end != ${l-1}`:"end != 0",u=i?"end + 1":"end - 1"):(c=i?`end + pow2 < ${l}`:"end >= pow2",u=i?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${Wt(s)} coords = getOutputCoords();
        int end = ${h8(s,"coords",this.op)};
        float val = ${a};
        int pow2 = int(pow(2.0, index));
        if (${c}) {
          int idx = ${u};
          ${h8(s,"coords",this.op)} = idx;
          val ${this.op}= getX(${f8(s,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function f8(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.x, ${e}.y`;if(t===3)return`${e}.x, ${e}.y, ${e}.z`;if(t===4)return`${e}.x, ${e}.y, ${e}.z, ${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}function h8(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.y`;if(t===3)return`${e}.z`;if(t===4)return`${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GY(t,e,n,r,i,s){const o=e.shape.length,a=An([r],o);let l=e;a!=null&&(l=ri({inputs:{x:e},backend:n,attrs:{perm:a}}));const c=Pn(1,o)[0];if(c!==o-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${e.shape.length-1} but got axis=${r}`);const u=l.shape[c];let d=Gi({inputs:{x:l},backend:n});for(let f=0;f<=Math.ceil(Math.log2(u))-1;f++){const h=new d8(t,l.shape,!1,s),m=[[f]],y=d;d=n.runWebGLProgram(h,[d],d.dtype,m),n.disposeIntermediateTensorInfo(y)}if(i){const f=new d8(t,l.shape,i,s),h=d;d=n.runWebGLProgram(f,[d],d.dtype),n.disposeIntermediateTensorInfo(h)}if(a!=null){const f=Vv(a),h=ri({inputs:{x:d},backend:n,attrs:{perm:f}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(l),h}return d}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s,exclusive:o,reverse:a}=r;return GY(ty.Prod,i,n,s,o,a)}const bHe={kernelName:eS,backendName:"webgl",kernelFunc:xHe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s,exclusive:o,reverse:a}=r;return GY(ty.Sum,i,n,s,o,a)}const SHe={kernelName:tS,backendName:"webgl",kernelFunc:wHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,weights:s}=e,{size:o,binaryOutput:a}=r;if(i.shape.length===1){const l=n.readSync(i.dataId),c=n.readSync(s.dataId),u=EY(l,c,s.dtype,s.shape,o);return n.makeTensorInfo([o],s.dtype,u)}else if(i.shape.length===2){const l=n.bufferSync(i),c=n.bufferSync(s),u=F7e(l,c,o,a);return n.makeTensorInfo(u.shape,s.dtype,u.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${i.shape.length}.`)}const CHe={kernelName:rS,backendName:"webgl",kernelFunc:kHe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EHe{constructor(e,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function THe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{blockSize:s,dataFormat:o}=r,a=i.shape[0],l=o==="NHWC"?i.shape[1]:i.shape[2],c=o==="NHWC"?i.shape[2]:i.shape[3],u=o==="NHWC"?i.shape[3]:i.shape[1],d=l*s,f=c*s,h=u/(s*s),m=o==="NHWC"?[a,d,f,h]:[a,h,d,f],y=new EHe(m,s,o);return n.runWebGLProgram(y,[i],i.dtype)}const _He={kernelName:iS,backendName:"webgl",kernelFunc:THe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class HY{constructor(e,n=!1,r=null,i=!1,s=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=si(this.outputShape.length);const o=e.filterHeight,a=e.filterWidth,l=e.outChannels/e.inChannels;let c="",u="";r&&(i?c=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:s?c=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:c=`
          float activation(float x) {
            ${r}
          }
        `,u="result = activation(result);");const d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${c}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${l};
        int q = d2 - d1 * ${l};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${o}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${a}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${d}
        ${u}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qY{constructor(e,n=!1,r=null,i=!1,s=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=si(this.outputShape.length);const o=e.outChannels/e.inChannels,a=e.padInfo.left,l=e.strideWidth,c=e.dilationWidth,u=e.filterHeight,d=e.filterWidth,f=d;let h=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let v=0;v<d;v++)h+=`
          vec4 xTexelC${v*2};
          int xTexelC${v*2}Ready;
          vec4 xTexelC${v*2+1};
          int xTexelC${v*2+1}Ready;
          vec4 xC${v};`;h+=`
    for (int r = 0; r < ${u}; r++) {
      `;for(let v=0;v<d;v++)h+=`
          xTexelC${v*2} = vec4(0.0);
          xTexelC${v*2}Ready = 0;
          xTexelC${v*2+1} = vec4(0.0);
          xTexelC${v*2+1}Ready = 0;
          xC${v} = vec4(0.0);`;h+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let v=0;v<(f+1)/2;v++){const b=v*2;if(h+=`
          xC = xCCorner + ${b*c};
          `,l===1){if(b<d&&(a%2===1?(h+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }
              `,c===1&&b>0?h+=`
                xC${b} = vec4(xTexelC${b-2}.zw, xTexelC${b}.xy);
                `:h+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${b} = vec4(previous.zw, xTexelC${b}.xy);
                  } else {
                    xC${b} = vec4(0.0, 0.0, xTexelC${b}.xy);
                  }
                  `):h+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                xC${b} = xTexelC${b};
                `,b+1<d)){const w=a%2===0?R2(c):c;c%2===0&&a%2===1||c%2!==0&&a%2!==1?(h+=`
                  xCOffset = xC + imod(pads[1], 2) + ${w};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                    xTexelC${b+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${b+1}.zw = vec2(0.0);
                    }
                    xTexelC${b+1}Ready = 1;
                  }
                  `,c>1?h+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${b+1} = vec4(previous.zw, xTexelC${b+1}.xy);
                    } else {
                     xC${b+1} = vec4(0.0, 0.0, xTexelC${b+1}.xy);
                    }
                    `:h+=`
                    xC${b+1} = vec4(xTexelC${b}.zw, xTexelC${b+1}.xy);
                    `):w===1?h+=`
                    xC${b+1} = xTexelC${b};
                    `:h+=`
                    xCOffset = xC + ${w};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                      xTexelC${b+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${b+1}.zw = vec2(0.0);
                      }
                      xTexelC${b+1}Ready = 1;
                    }

                    xC${b+1} = xTexelC${b+1};
                    `}}else b<d&&(a%2===1?(h+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${b+1}Ready == 0) {
                  xTexelC${b+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${b+1}.zw = vec2(0.0);
                  }
                  xTexelC${b+1}Ready = 1;
                }

                xC${b} = vec4(xTexelC${b}.zw, xTexelC${b+1}.zw);
              `,b+1<d&&(h+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${b+1} = vec4(xTexelC${b+1}.xy, final.xy);
                `)):(h+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                  xTexelC${b+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b+1}.zw = vec2(0.);
                  }
                  xTexelC${b+1}Ready = 1;
                }

                xC${b} = vec4(
                  xTexelC${b}.xy, xTexelC${b+1}.xy);
              `,b+1<d&&(h+=`
                  xC${b+1} = vec4(xTexelC${b}.zw, xTexelC${b+1}.zw);
                `)));b<d&&(h+=`
            wTexel = getW(r, ${b}, d1, q);
            dotProd += xC${b} * vec4(wTexel.xz, wTexel.xz);
          `,b+1<d&&(h+=`
              wTexel = getW(r, ${b+1}, d1, q);
              dotProd += xC${b+1} * vec4(wTexel.xz, wTexel.xz);
            `))}h+=`
    }
  `,h+=`
      }
    `;let m="",y="";r&&(i?m=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:s?m=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:m=`vec4 activation(vec4 x) {
          ${r}
        }`,y="result = activation(result);");const x=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${m}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${o};
        int q = d2 - d1 * ${o};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${h}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${x}
        ${y}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:s}=e,{strides:o,pad:a,dilations:l,dimRoundingMode:c}=r;let u=l;u==null&&(u=[1,1]),B(Br(o,u),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const d=or(i.shape,s.shape,o,u,a,c,!0);let f;ie().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?f=new qY(d):f=new HY(d);const h=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(f,[i,s],"float32",h)}const $He={kernelName:sS,backendName:"webgl",kernelFunc:IHe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NHe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,i=e.padInfo.top,s=e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${o} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${i};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${s};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class OHe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,i=e.strideHeight,s=e.strideWidth,o=n-1-e.padInfo.top,a=r-1-e.padInfo.left,l=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${i}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${s}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${l}; dm++) {
              int d2 = d1 * ${l} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,dy:s}=e,{strides:o,dilations:a,pad:l,dimRoundingMode:c,filterShape:u}=r,d=or(i.shape,u,o,a,l,c,!0),f=new NHe(d);return n.runWebGLProgram(f,[i,s],"float32")}const AHe={kernelName:oS,backendName:"webgl",kernelFunc:RHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PHe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,filter:s}=e,{strides:o,dilations:a,pad:l,dimRoundingMode:c,inputShape:u}=r,d=or(u,s.shape,o,a,l,c,!0),f=new OHe(d);return n.runWebGLProgram(f,[i,s],"float32")}const DHe={kernelName:aS,backendName:"webgl",kernelFunc:PHe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class FHe{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LHe(t){const{inputs:e,backend:n}=t,{x:r}=e,i=[...r.shape,...r.shape],s=le(r.shape),o=_e({inputs:{x:r},backend:n,attrs:{shape:[s]}}),a=new FHe(s),l=n.runWebGLProgram(a,[o],o.dtype),c=_e({inputs:{x:l},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),c}const MHe={kernelName:lS,backendName:"webgl",kernelFunc:LHe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class BHe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:n,inWidth:r,padInfo:i,strideHeight:s,strideWidth:o,filterHeight:a,filterWidth:l,dilationHeight:c,dilationWidth:u}=e,{top:d,left:f}=i;this.userCode=`
      const ivec2 strides = ivec2(${s}, ${o});
      const ivec2 pads = ivec2(${d}, ${f});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${a}; h++) {
          int hIn = hBeg + h * ${c};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${l}; w++) {
              int wIn = wBeg + w * ${u};

              if (wIn >= 0 && wIn < ${r}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zHe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:s}=e,{strides:o,pad:a,dilations:l}=r,c=Bv(i.shape,s.shape,o,a,"NHWC",l);let u;const d=new BHe(c);u=n.runWebGLProgram(d,[i,s],"float32");const f=_e({inputs:{x:u},backend:n,attrs:{shape:c.outShape}});return n.disposeIntermediateTensorInfo(u),f}const jHe={kernelName:cS,backendName:"webgl",kernelFunc:zHe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VHe(t){const{inputs:e,backend:n,attrs:r}=t,{equation:i}=r,s=e,{allDims:o,summedDims:a,idDims:l}=xP(i,s.length);wP(o.length,l,s);const{path:c,steps:u}=SP(a,l),d=u.length;let f=null,h=o.length;const m=[];for(let y=0;y<d;++y){for(const x of u[y]){const{permutationIndices:v,expandDims:b}=bP(h,l[x]);let w;kP(v)?w=s[x]:(w=ri({inputs:{x:s[x]},backend:n,attrs:{perm:v}}),m.push(w));const k=w.shape.slice();for(let E=0;E<b.length;++E)k.splice(b[E],0,1);Mt(w.shape,k)||(w=_e({inputs:{x:w},backend:n,attrs:{shape:k}}),m.push(w)),f===null?f=w:(f=BP({inputs:{a:w,b:f},backend:n}),m.push(f))}y<d-1&&(c[y]>=0&&(f=Xk({inputs:{x:f},backend:n,attrs:{axis:c[y]-(o.length-h),keepDims:!1}}),m.push(f)),h--)}for(const y of m)y!==f&&n.disposeIntermediateTensorInfo(y);return f}const UHe={kernelName:uS,backendName:"webgl",kernelFunc:VHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WHe="return (x >= 0.0) ? x : (exp(x) - 1.0);",GHe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,HHe=xt({opSnippet:WHe,packedOpSnippet:GHe}),qHe={kernelName:Hy,backendName:"webgl",kernelFunc:HHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KHe="return (b >= 1.0) ? a : a * (b + 1.0);",XHe=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,QHe=t=>{const{inputs:e,backend:n}=t,{dy:r,y:i}=e,s=ie().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new t0(XHe,r.shape,i.shape):new Fh(KHe,r.shape,i.shape);return n.runWebGLProgram(s,[r,i],r.dtype)},YHe={kernelName:M3,backendName:"webgl",kernelFunc:QHe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JHe=`
  return vec4(equal(a, b));
`,ZHe="return float(a == b);",eqe=Cr({opSnippet:ZHe,packedOpSnippet:JHe,dtype:"bool",cpuKernelImpl:z7e}),tqe={kernelName:Ky,backendName:"webgl",kernelFunc:eqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nqe=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${fP};
  float a1 = ${hP};
  float a2 = ${pP};
  float a3 = ${mP};
  float a4 = ${gP};
  float a5 = ${yP};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,rqe=xt({opSnippet:nqe}),iqe={kernelName:qy,backendName:"webgl",kernelFunc:rqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sqe=wp+`
  return exp(x);
`,oqe=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,KY=xt({opSnippet:sqe,packedOpSnippet:oqe,cpuKernelImpl:j7e,dtype:"float32"}),aqe={kernelName:Xy,backendName:"webgl",kernelFunc:KY};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fN(t){const{inputs:e,attrs:n,backend:r}=t,{dim:i}=n,{input:s}=e,o=s.shape.length,a=s.shape.slice();let l=i;return i<0&&(B(-(o+1)<=i,()=>`Axis must be in the interval [${-(o+1)}, ${o}]`),l=o+i+1),a.splice(l,0,1),_e({inputs:{x:s},backend:r,attrs:{shape:a}})}const lqe={kernelName:dS,backendName:"webgl",kernelFunc:fN};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p8="return exp(x) - 1.0;",cqe=xt({opSnippet:p8,packedOpSnippet:p8,cpuKernelImpl:V7e}),uqe={kernelName:Qy,backendName:"webgl",kernelFunc:cqe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class m8{constructor(e,n,r){this.variableNames=["real","imag"];const i=n[1];this.outputShape=n;const s=r?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,o=r?`${i}.0`:"1.0";let a;if(e==="real")a="return real * expR - imag * expI;";else if(e==="imag")a="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${s};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${a}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${i});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${i}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${o};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XY(t,e,n){const r=n.texData.get(t.dataId),i=le(t.shape),s=t.shape[t.shape.length-1],o=i/s,a=_e({inputs:{x:t},backend:n,attrs:{shape:[o,s]}}),l=a.shape,c=new m8("real",l,e),u=new m8("imag",l,e),d=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:l},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:l}],f=n.runWebGLProgram(c,d,"float32"),h=n.runWebGLProgram(u,d,"float32"),m=Mc({inputs:{real:f,imag:h},backend:n});n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h);const y=_e({inputs:{x:m},backend:n,attrs:{shape:t.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(m),y}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dqe(t){const{inputs:e,backend:n}=t,{input:r}=e;return XY(r,!1,n)}const fqe={kernelName:fS,backendName:"webgl",kernelFunc:dqe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hqe{constructor(e,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r0(t){const{backend:e,attrs:n}=t,{shape:r,value:i}=n;let{dtype:s}=n;if(s=s||cp(i),s==="string"){const o=Gn(s,le(r));return o.fill(i),e.makeTensorInfo(r,s,o)}else{const o=new hqe(r,i),a=[[i]];return e.runWebGLProgram(o,[],s,a)}}const pqe={kernelName:hS,backendName:"webgl",kernelFunc:r0};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mqe{constructor(e){this.variableNames=["Image"],this.outputShape=[];const n=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gqe={kernelName:pS,backendName:"webgl",kernelFunc:({inputs:t,backend:e})=>{const{image:n}=t,r=e,i=new mqe(n.shape);return r.runWebGLProgram(i,[n],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g8="return floor(x);",yqe=xt({opSnippet:g8,packedOpSnippet:g8,cpuKernelImpl:U7e}),vqe={kernelName:Yy,backendName:"webgl",kernelFunc:yqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xqe=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,bqe=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,wqe=Cr({opSnippet:xqe,packedOpSnippet:bqe,dtype:"int32"}),Sqe={kernelName:Jy,backendName:"webgl",kernelFunc:wqe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kqe{constructor(e){this.variableNames=["A"];const n=ii(),[r,i]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${i}.0, ${r}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Cqe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=ii(),[r,i]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${i}.0, ${r}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eqe={kernelName:Mb,backendName:"webgl",kernelFunc:Tqe};let Hd,i_=ie().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function Tqe(t){const{inputs:e,backend:n,attrs:r}=t;let{pixels:i}=e;const{numChannels:s}=r,o=typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement,a=typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement,[l,c]=o?[i.videoWidth,i.videoHeight]:[i.width,i.height],u=[c,l],d=[c,l,s];if(a||o){const y=ie().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(Hd==null||y!==i_)&&(i_=y,Hd=document.createElement("canvas").getContext("2d",{willReadFrequently:i_})),Hd.canvas.width=l,Hd.canvas.height=c,Hd.drawImage(i,0,0,l,c),i=Hd.canvas}const f=n.makeTensorInfo(u,"int32");n.texData.get(f.dataId).usage=ns.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(f.dataId),i);const h=ie().getBool("WEBGL_PACK")?new Cqe(d):new kqe(d),m=n.runWebGLProgram(h,[f],"int32");return n.disposeData(f.dataId),m}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _qe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:s,bias:o,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:f,activation:h,leakyreluAlpha:m}=r,y=pl(u),x=or(i.shape,s.shape,l,d,c,f,!1,y);let v;const b=[],w=o!=null,k=a!=null,E=h==="leakyrelu",_=()=>{const N=[i,s],D=(P,F)=>{if(F==="NCHW"&&P.shape.length===1&&P.shape[0]!==1){const U=_e({inputs:{x:P},backend:n,attrs:{shape:[P.shape[0],1,1]}});return b.push(U),U}return P};if(w&&N.push(D(o,u)),k&&N.push(D(a,u)),E){const P=n.makeTensorInfo([],"float32",fl(m,"float32"));N.push(P),b.push(P)}return N};if(x.filterHeight===1&&x.filterWidth===1&&x.dilationHeight===1&&x.dilationWidth===1&&x.strideHeight===1&&x.strideWidth===1&&(x.padInfo.type==="SAME"||x.padInfo.type==="VALID"))v=UY({x:i,filter:s,convInfo:x,backend:n,bias:o,activation:h,preluActivationWeights:a,leakyreluAlpha:m});else if(x.strideWidth<=2&&y==="channelsLast"&&ie().getBool("WEBGL_EXP_CONV")){const N=h?Zg(h,!0):null,D=new VY(x,w,N,k,E),P=[[x.padInfo.top,x.padInfo.left],[x.strideHeight,x.strideWidth],[x.dilationHeight,x.dilationWidth],[x.inHeight,x.inWidth]],F=_();v=n.runWebGLProgram(D,F,"float32",P)}else if(ie().getBool("WEBGL_CONV_IM2COL"))v=WY({x:i,filter:s,convInfo:x,backend:n,bias:o,activation:h,preluActivationWeights:a,leakyreluAlpha:m});else{const N=h?Zg(h,!1):null,D=new jY(x,w,N,k,E),P=_();v=n.runWebGLProgram(D,P,"float32")}const I=_e({inputs:{x:v},backend:n,attrs:{shape:x.outShape}});return b.push(v),b.forEach(N=>n.disposeIntermediateTensorInfo(N)),I}const Iqe={kernelName:Vg,backendName:"webgl",kernelFunc:_qe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $qe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:s,bias:o,preluActivationWeights:a}=e,{strides:l,pad:c,dilations:u,dimRoundingMode:d,activation:f,leakyreluAlpha:h}=r,m=[];let y=u;y==null&&(y=[1,1]),B(Br(l,y),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${y}'`);const x=or(i.shape,s.shape,l,y,c,d,!0),v=ie().getBool("WEBGL_PACK_DEPTHWISECONV")&&x.strideWidth<=2&&x.outChannels/x.inChannels===1,b=f?Zg(f,v):null,w=[i,s],k=o!=null,E=a!=null,_=f==="leakyrelu";if(k&&w.push(o),E&&w.push(a),_){const P=n.makeTensorInfo([],"float32",fl(h,"float32"));w.push(P),m.push(P)}let I;v?I=new qY(x,k,b,E,_):I=new HY(x,k,b,E,_);const N=[[x.padInfo.top,x.padInfo.left],[x.strideHeight,x.strideWidth],[x.dilationHeight,x.dilationWidth],[x.inHeight,x.inWidth]],D=n.runWebGLProgram(I,w,"float32",N);return m.forEach(P=>n.disposeIntermediateTensorInfo(P)),D}const Nqe={kernelName:Ug,backendName:"webgl",kernelFunc:$qe};class Oqe{constructor(e,n,r,i){this.sliceDim=e,this.strides=n,this.paramsShape=i,this.variableNames=["x","indices"],this.outputShape=r;const s=Wt(r.length);let o=`
    int index;`;for(let a=0;a<this.sliceDim;a++)o+=`
          index = round(getIndices(coords[0], ${a}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[a]};
          flattenIndex += index * ${this.strides[a]};`;this.userCode=`
         void main() {
          ${s} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${o}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rqe(t){const{inputs:e,backend:n}=t,{params:r,indices:i}=e,s=i.shape,o=s[s.length-1],a=le(r.shape),[l,c,u,d]=wk(r,i),f=_e({inputs:{x:i},backend:n,attrs:{shape:[c,o]}}),h=_e({inputs:{x:r},backend:n,attrs:{shape:[le(r.shape)/u,u]}});if(n.shouldExecuteOnCPU([r,i])||r.dtype==="string"){const v=n.readSync(i.dataId),b=n.bufferSync(r),w=W7e(v,b,r.dtype,c,o,u,d,r.shape,a);return n.makeTensorInfo(l,r.dtype,w.values)}const m=new Oqe(o,d,[c,u],r.shape),y=n.runWebGLProgram(m,[h,f],h.dtype),x=_e({inputs:{x:y},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(y),x}const Aqe={kernelName:yS,backendName:"webgl",kernelFunc:Rqe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Pqe{constructor(e,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const r=Wt(this.rank),i=Dqe(e);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${i}));
      }
    `}}function Dqe(t,e){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let i=0;i<t.length;i++)i===2?r.push("index"):r.push(`${n[i]}`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QY(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,indices:s}=e,{axis:o,batchDims:a}=r,l=wt(o,i.shape)[0];if(ie().get("DEBUG")){const b=n.readSync(s.dataId),w=i.shape[l];for(let k=0;k<b.length;++k){const E=b[k];B(E<=w-1&&E>=0,()=>`GatherV2: the index value ${E} is not in [0, ${w-1}]`)}}const c=EP(i,s,l,a),u=le(s.shape),d=[],f=_e({inputs:{x:i},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),h=_e({inputs:{x:s},backend:n,attrs:{shape:[c.batchSize,u/c.batchSize]}});d.push(f),d.push(h);const m=[c.batchSize,c.outerSize,u/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([i,s])||i.dtype==="string"){const b=n.bufferSync(h),w=n.bufferSync(f),k=G7e(w,b,m);return d.forEach(E=>n.disposeIntermediateTensorInfo(E)),n.makeTensorInfo(c.outputShape,k.dtype,k.values)}const y=new Pqe(f.shape,m),x=n.runWebGLProgram(y,[f,h],f.dtype);d.push(x);const v=_e({inputs:{x},backend:n,attrs:{shape:c.outputShape}});return d.forEach(b=>n.disposeIntermediateTensorInfo(b)),v}const Fqe={kernelName:gS,backendName:"webgl",kernelFunc:QY};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lqe="return float(a > b);",Mqe=`
  return vec4(greaterThan(a, b));
`,Bqe=Cr({opSnippet:Lqe,packedOpSnippet:Mqe,cpuKernelImpl:H7e,dtype:"bool"}),zqe={kernelName:Zy,backendName:"webgl",kernelFunc:Bqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jqe="return float(a >= b);",Vqe=`
  return vec4(greaterThanEqual(a, b));
`,Uqe=Cr({opSnippet:jqe,packedOpSnippet:Vqe,dtype:"bool",cpuKernelImpl:q7e}),Wqe={kernelName:ev,backendName:"webgl",kernelFunc:Uqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gqe(t){const{inputs:e,backend:n}=t,{input:r}=e;return XY(r,!0,n)}const Hqe={kernelName:vS,backendName:"webgl",kernelFunc:Gqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qqe="return float(!isnan(x) && !isinf(x));",Kqe=xt({opSnippet:qqe,dtype:"bool"}),Xqe={kernelName:nv,backendName:"webgl",kernelFunc:Kqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qqe="return float(isinf(x));",Yqe=xt({opSnippet:Qqe,dtype:"bool"}),Jqe={kernelName:rv,backendName:"webgl",kernelFunc:Yqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zqe="return float(isnan(x));",eKe=xt({opSnippet:Zqe,dtype:"bool"}),tKe={kernelName:iv,backendName:"webgl",kernelFunc:eKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nKe="return float(a < b);",rKe=`
  return vec4(lessThan(a, b));
`,iKe=Cr({opSnippet:nKe,packedOpSnippet:rKe,cpuKernelImpl:K7e,dtype:"bool"}),sKe={kernelName:sv,backendName:"webgl",kernelFunc:iKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oKe="return float(a <= b);",aKe=`
  return vec4(lessThanEqual(a, b));
`,lKe=Cr({opSnippet:oKe,packedOpSnippet:aKe,cpuKernelImpl:X7e,dtype:"bool"}),cKe={kernelName:ov,backendName:"webgl",kernelFunc:lKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uKe(t){const{backend:e,attrs:n}=t,{start:r,stop:i,num:s}=n,o=Q7e(r,i,s);return e.makeTensorInfo([o.length],"float32",o)}const dKe={kernelName:wS,backendName:"webgl",kernelFunc:uKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fKe=wp+`
  return x < 0.0 ? 0./0. : log(x);
`,hKe=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,pKe=xt({opSnippet:fKe,packedOpSnippet:hKe,cpuKernelImpl:Y7e}),mKe={kernelName:av,backendName:"webgl",kernelFunc:pKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gKe=wp+`
  return log(1.0 + x);
`,yKe=xt({opSnippet:gKe}),vKe={kernelName:lv,backendName:"webgl",kernelFunc:yKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xKe="return float(a >= 1.0 && b >= 1.0);",bKe=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,wKe=Cr({opSnippet:xKe,packedOpSnippet:bKe,dtype:"bool"}),SKe={kernelName:cv,backendName:"webgl",kernelFunc:wKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kKe="return float(!(x >= 1.0));",CKe=xt({opSnippet:kKe}),EKe={kernelName:uv,backendName:"webgl",kernelFunc:CKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TKe="return float(a >= 1.0 || b >= 1.0);",_Ke=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,IKe=Cr({opSnippet:TKe,packedOpSnippet:_Ke,dtype:"bool"}),$Ke={kernelName:dv,backendName:"webgl",kernelFunc:IKe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NKe{constructor(e,n,r,i,s){this.variableNames=["x"],this.outputShape=[];const o=n,a=e[3]-1;this.outputShape=e;let l;const c=`float(${r}) + float(${i}) * sum`;s===.5?l=`inversesqrt(${c})`:s===1?l=`1.0/(${c})`:l=`exp(log(${c}) * float(-${s}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${o}; j <= ${o}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${a}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${l};
        setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OKe{constructor(e,n,r,i,s){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const o=n,a=e[3]-1;this.outputShape=e;let l;const c=`float(${r}) + float(${i}) * sum`;s===.5?l=`inversesqrt(${c})`:s===1?l=`1.0/(${c})`:l=`exp(log(${c}) * float(-${s}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${o};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${o}; j <= ${o}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${a}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${l};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RKe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{depthRadius:s,bias:o,alpha:a,beta:l}=r,c=ie().getBool("WEBGL_PACK_NORMALIZATION")?new OKe(i.shape,s,o,a,l):new NKe(i.shape,s,o,a,l);return n.runWebGLProgram(c,[i],i.dtype)},AKe={kernelName:SS,backendName:"webgl",kernelFunc:RKe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class PKe{constructor(e,n,r,i,s){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=r,this.alpha=i,this.beta=s,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${i}) * norm + float(${r});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${i})
                * float(${s})
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${s});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DKe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:i,y:s,dy:o}=e,{depthRadius:a,bias:l,alpha:c,beta:u}=r,d=new PKe(i.shape,a,l,c,u);return n.runWebGLProgram(d,[i,s,o],i.dtype)},FKe={kernelName:B3,backendName:"webgl",kernelFunc:DKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LKe(t,e,n,r){const i=le(e),o=le(t.shape)/i,a=_e({inputs:{x:t},attrs:{shape:[o,i]},backend:r}),l=Cd(a,t.dtype,"max",r),c=_e({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(l),c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YY(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{reductionIndices:s,keepDims:o}=r,a=i.shape.length,l=wt(s,i.shape);let c=l;const u=An(c,a),d=u!=null,f=n.shouldExecuteOnCPU([i]);let h=i;if(d){if(f){const w=n.texData.get(h.dataId).values,k=new Array(a);for(let I=0;I<k.length;I++)k[I]=i.shape[u[I]];const E=LP(w,i.shape,i.dtype,u,k);h=n.makeTensorInfo(k,i.dtype);const _=n.texData.get(h.dataId);_.values=E}else h=Kk(i,u,n);c=Pn(c.length,a)}kr("max",c,a);const[m,y]=Sr(h.shape,c);let x=m;o&&(x=Qn(m,l));let v;if(f){const w=n.texData.get(h.dataId).values,k=J7e(w,le(y),x,i.dtype);v=n.makeTensorInfo(x,i.dtype);const E=n.texData.get(v.dataId);E.values=k}else v=LKe(h,y,x,n);return d&&n.disposeIntermediateTensorInfo(h),v}const MKe={kernelName:kS,backendName:"webgl",kernelFunc:YY};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BKe=MP+`
  return max(a, b);
`,zKe=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+e0+`
  return result;
`,jKe=Cr({opSnippet:BKe,packedOpSnippet:zKe,cpuKernelImpl:Z7e}),VKe={kernelName:fv,backendName:"webgl",kernelFunc:jKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UKe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e;Jv(i,"maxPool");const{filterSize:s,strides:o,pad:a,dimRoundingMode:l}=r,c=1;B(Br(o,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${c}'`);const u=Ks(i.shape,s,o,c,a,l);if(u.filterWidth===1&&u.filterHeight===1&&Mt(u.inShape,u.outShape))return Gi({inputs:{x:i},backend:n});const d=new ey(u,"max",!1);return n.runWebGLProgram(d,[i],i.dtype)}const WKe={kernelName:CS,backendName:"webgl",kernelFunc:UKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GKe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{filterSize:s,strides:o,pad:a,dataFormat:l,dimRoundingMode:c}=r,u=[1,1,1],d=hl(i.shape,s,o,u,a,c,l),f=new zP(d,"max",!1);return n.runWebGLProgram(f,[i],i.dtype)}const HKe={kernelName:ES,backendName:"webgl",kernelFunc:GKe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qKe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideHeight,r=e.strideWidth,i=e.dilationHeight,s=e.effectiveFilterHeight,o=e.effectiveFilterWidth,a=s-1-e.padInfo.top,l=o-1-e.padInfo.left,c=s*o-1;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${s};
          wR += ${i}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${o}; wC++) {
            float dyC = float(dyCCorner + wC) / ${r}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${c} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${o} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class KKe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideDepth,r=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,o=e.dilationHeight,a=e.dilationWidth,l=e.effectiveFilterDepth,c=e.effectiveFilterHeight,u=e.effectiveFilterWidth,d=l-1-e.padInfo.front,f=c-1-e.padInfo.top,h=u-1-e.padInfo.left,m=l*c*u-1;this.userCode=`
      const ivec3 pads = ivec3(${d}, ${f}, ${h});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${l};
           wD += ${s}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${c};
              wR += ${o}) {
            float dyR = float(dyRCorner + wR) / ${r}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${u};
                wC += ${a}) {
              float dyC = float(dyCCorner + wC) / ${i}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${m} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${c} * ${u} +
                  wR * ${u} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XKe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,input:s}=e,o=s,{filterSize:a,strides:l,pad:c,dimRoundingMode:u}=r,d=[1,1,1],f=hl(o.shape,a,l,d,c,u),h=new zP(f,"max",!0),m=n.runWebGLProgram(h,[o],o.dtype),y=new KKe(f),x=n.runWebGLProgram(y,[i,m],o.dtype);return n.disposeIntermediateTensorInfo(m),x}const QKe={kernelName:j3,backendName:"webgl",kernelFunc:XKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YKe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,input:s,output:o}=e,a=s;Jv([s,o],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=r,f=Ks(a.shape,l,c,1,u,d),h=!0,m=new ey(f,"max",h),y=n.runWebGLProgram(m,[a],a.dtype),x=new qKe(f),v=n.runWebGLProgram(x,[i,y],a.dtype);return n.disposeIntermediateTensorInfo(y),v}const JKe={kernelName:z3,backendName:"webgl",kernelFunc:YKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZKe(t,e,n,r){let i=new ey(n,"max",!1);const s=r.runWebGLProgram(i,[t],"float32");i=new ey(n,"max",!0,!0,e);const o=r.runWebGLProgram(i,[t],"float32");return[s,o]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eXe={kernelName:TS,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:i,strides:s,pad:o,includeBatchInIndex:a}=e,l=n;B(r.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);const c=[1,1];B(Br(s,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${c}'`);const u=Ks(r.shape,i,s,c,o),[d,f]=ZKe(r,a,u,l);return[d,f]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tXe(t,e,n,r){const i=le(e),o=le(t.shape)/i,a=_e({inputs:{x:t},attrs:{shape:[o,i]},backend:r}),l=Cd(a,"float32","mean",r),c=_e({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(l),c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nXe={kernelName:_S,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{keepDims:i,axis:s}=e,o=n,a=r.shape.length,l=wt(s,r.shape);let c=l;const u=An(c,a),d=u!=null,f=o.shouldExecuteOnCPU([r]),h=[];let m=r;if(d){if(f){const k=o.texData.get(m.dataId).values,E=new Array(a);for(let N=0;N<E.length;N++)E[N]=r.shape[u[N]];const _=LP(k,r.shape,r.dtype,u,E);m=o.makeTensorInfo(E,r.dtype);const I=o.texData.get(m.dataId);I.values=_}else m=Kk(r,u,o);h.push(m),c=Pn(c.length,a)}kr("sum",c,a);const[y,x]=Sr(m.shape,c);let v=y;i&&(v=Qn(y,l));const b=tXe(m,x,v,o);for(const w of h)o.disposeIntermediateTensorInfo(w);return b}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rXe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s,keepDims:o}=r,a=i.shape.length,l=wt(s,i.shape);let c=l;const u=An(c,a);let d=i;u!=null&&(d=ri({inputs:{x:i},backend:n,attrs:{perm:u}}),c=Pn(c.length,i.shape.length)),kr("min",c,a);const[f,h]=Sr(d.shape,c),m=le(h),y=_e({inputs:{x:d},backend:n,attrs:{shape:[-1,m]}}),x=Cd(y,y.dtype,"min",n);let v;if(o){const b=Qn(f,l);v=_e({inputs:{x},backend:n,attrs:{shape:b}})}else v=_e({inputs:{x},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(x),u!=null&&n.disposeIntermediateTensorInfo(d),v}const iXe={kernelName:IS,backendName:"webgl",kernelFunc:rXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sXe=MP+`
  return min(a, b);
`,oXe=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+e0+`
  return result;
`,aXe=Cr({opSnippet:sXe,packedOpSnippet:oXe,cpuKernelImpl:eUe}),lXe={kernelName:hv,backendName:"webgl",kernelFunc:aXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cXe{constructor(e,n,r){this.variableNames=["x"],this.outputShape=n.map((u,d)=>u[0]+e[d]+u[1]);const i=e.length,s=Wt(i),o=n.map(u=>u[0]).join(","),a=n.map((u,d)=>u[0]+e[d]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,i),c=r==="reflect"?0:1;if(i===1){this.userCode=`
        int start = ${o};
        int end = ${a};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${c};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${c};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${s} start = ${s}(${o});
      ${s} end = ${s}(${a});

      void main() {
        ${s} outC = getOutputCoords();
        for (int i = 0; i < ${i}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${c};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${c};
          }
        }
        ${s} coords = outC - start;
        setOutput(getX(${l}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uXe{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((m,y)=>m[0]+e[y]+m[1]);const i=e.length,s=Wt(i),o=n.map(m=>m[0]).join(","),a=n.map((m,y)=>m[0]+e[y]).join(","),l=ti("rc",i),c=ti("source",i),u=`${l[i-1]} < ${this.outputShape[i-1]}`,d=i===1?"source":`vec2(${c.slice(-2).join()})`,f=r==="reflect"?0:1;let h="";if(i===1){const m=`
        ${s} source = rc;
        if (source < start) {
          source = start * 2 - source - ${f};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${f};
        }
        source -= start;
      `;h=`
        ${s} rc = outputLoc;
        ${m}
        result[0] = getChannel(getX(${c.join()}), ${d});
        ${l[i-1]} += 1;
        if(${u}) {
          ${m}
          result[1] = getChannel(getX(${c.join()}), ${d});
        }
      `}else{const m=`
        ${s} source = rc;
        ${s} lt = ${s}(lessThan(source, start));
        ${s} gte = ${s}(greaterThanEqual(source, end));
        ${s} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${f}) +
                gte * ((end - 1) * 2 - source + ${f});
        source -= start;
      `;h=`
        ${s} rc = outputLoc;
        ${m}
        result[0] = getChannel(getX(${c.join()}), ${d});
        ${l[i-1]} += 1;
        if(${u}) {
          ${m}
          result[1] = getChannel(getX(${c.join()}), ${d});
        }
        rc = outputLoc;
        ${l[i-2]} += 1;
        if(${l[i-2]} < ${this.outputShape[i-2]}) {
          ${m}
          result[2] = getChannel(getX(${c.join()}), ${d});
          ${l[i-1]} += 1;
          if(${u}) {
            ${m}
            result[3] = getChannel(getX(${c.join()}), ${d});
          }
        }
      `}this.userCode=`
      const ${s} start = ${s}(${o});
      const ${s} end = ${s}(${a});

      void main() {
        ${s} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${h}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dXe=({inputs:t,backend:e,attrs:n})=>{const{x:r}=t,{paddings:i,mode:s}=n,o=ie().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new uXe(r.shape,i,s):new cXe(r.shape,i,s);return e.runWebGLProgram(o,[r],r.dtype)},fXe={kernelName:$S,backendName:"webgl",kernelFunc:dXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hXe=`if (b == 0.0) return NAN;
  return mod(a, b);`,pXe=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+e0+`
  return result;
`,mXe=Cr({opSnippet:hXe,packedOpSnippet:pXe}),gXe={kernelName:pv,backendName:"webgl",kernelFunc:mXe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yXe{constructor(e,n,r){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,r],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vXe=`
if (a == b) {
  return 1.0;
};
return a / b;`,xXe=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,JY=Cr({opSnippet:vXe,packedOpSnippet:xXe,checkOutOfBounds:!0}),bXe={kernelName:Gy,backendName:"webgl",kernelFunc:JY};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y8="return a - b;",ZY=Cr({opSnippet:y8,packedOpSnippet:y8,supportsComplex:!0,cpuKernelImpl:xUe}),wXe={kernelName:Ov,backendName:"webgl",kernelFunc:ZY};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eJ(t){const{inputs:e,backend:n,attrs:r}=t,{logits:i}=e,{dim:s}=r,o=wt([s],i.shape),a=YY({inputs:{x:i},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),l=Qn(a.shape,o),c=_e({inputs:{x:a},backend:n,attrs:{shape:l}}),u=ZY({inputs:{a:i,b:c},backend:n}),d=KY({inputs:{x:u},backend:n}),f=Xk({inputs:{x:d},backend:n,attrs:{axis:o,keepDims:!1}}),h=_e({inputs:{x:f},backend:n,attrs:{shape:l}}),m=JY({inputs:{a:d,b:h},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),m}const SXe={kernelName:nk,backendName:"webgl",kernelFunc:eJ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kXe(t){const{inputs:e,backend:n,attrs:r}=t,{logits:i}=e,{numSamples:s,seed:o,normalized:a}=r,l=a?i:eJ({inputs:{logits:i},backend:n,attrs:{dim:i.shape.length-1}}),c=l.shape[0],u=l.shape[1],d=new yXe(c,u,s),f=[[o]],h=n.runWebGLProgram(d,[l],"int32",f);return a||n.disposeIntermediateTensorInfo(l),h}const CXe={kernelName:NS,backendName:"webgl",kernelFunc:kXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EXe=Qs+`
  return -x;
`,TXe=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function _Xe(t){const{inputs:e,backend:n}=t,{x:r}=e;if(n.shouldExecuteOnCPU([r])){const s=n.texData.get(r.dataId),[o,a]=nUe(s.values,r.shape,r.dtype);return n.makeTensorInfo(a,r.dtype,o)}let i;return ie().getBool("WEBGL_PACK_UNARY_OPERATIONS")?i=new bu(r.shape,TXe):i=new Ma(r.shape,EXe),n.runWebGLProgram(i,[r],r.dtype)}const IXe={kernelName:OS,backendName:"webgl",kernelFunc:_Xe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Xe=Dk;function NXe(t){es("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:i,scores:s}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l}=r,c=n.readSync(i.dataId),u=n.readSync(s.dataId),{selectedIndices:d}=$Xe(c,u,o,a,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const OXe={kernelName:RS,backendName:"webgl",kernelFunc:NXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RXe=Fk;function AXe(t){es("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:i,scores:s}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l,padToMaxOutputSize:c}=r,u=n.readSync(i.dataId),d=n.readSync(s.dataId),{selectedIndices:f,validOutputs:h}=RXe(u,d,o,a,l,c);return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const PXe={kernelName:AS,backendName:"webgl",kernelFunc:AXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DXe=Lk;function FXe(t){es("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:i,scores:s}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l,softNmsSigma:c}=r,u=n.readSync(i.dataId),d=n.readSync(s.dataId),f=o,h=a,m=l,y=c,{selectedIndices:x,selectedScores:v}=DXe(u,d,f,h,m,y);return[n.makeTensorInfo([x.length],"int32",new Int32Array(x)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}const LXe={kernelName:PS,backendName:"webgl",kernelFunc:FXe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class MXe{constructor(e,n,r,i){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${i}), float(${r}),
                      float(index == coords.y)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BXe=t=>{const{inputs:e,backend:n,attrs:r}=t,{indices:i}=e,{dtype:s,depth:o,onValue:a,offValue:l}=r,c=le(i.shape),u=new MXe(c,o,a,l),d=_e({inputs:{x:i},backend:n,attrs:{shape:[c]}}),f=n.runWebGLProgram(u,[d],s);n.disposeIntermediateTensorInfo(d);const h=[...i.shape,o],m=_e({inputs:{x:f},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),m},zXe={kernelName:FS,backendName:"webgl",kernelFunc:BXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nw(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="complex64"){const i=n0({inputs:{input:r},backend:n}),s=nw({inputs:{x:i},backend:n}),o=Qk({inputs:{input:r},backend:n}),a=nw({inputs:{x:o},backend:n}),l=Mc({inputs:{real:s,imag:a},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),l}else return r0({attrs:{shape:r.shape,dtype:r.dtype,value:r.dtype==="string"?"":0},backend:n})}const jXe={kernelName:yk,backendName:"webgl",kernelFunc:nw};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tJ(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(r.dtype==="complex64"){const i=n0({inputs:{input:r},backend:n}),s=tJ({inputs:{x:i},backend:n}),o=Qk({inputs:{input:r},backend:n}),a=nw({inputs:{x:o},backend:n}),l=Mc({inputs:{real:s,imag:a},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),l}else return r0({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:n})}const VXe={kernelName:DS,backendName:"webgl",kernelFunc:tJ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UXe(t){const{inputs:e,backend:n,attrs:r}=t,{axis:i}=r;if(e.length===1)return fN({inputs:{input:e[0]},backend:n,attrs:{dim:i}});const s=e[0].shape,o=e[0].dtype;e.forEach(u=>{wr(s,u.shape,"All tensors passed to stack must have matching shapes"),B(o===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],l=e.map(u=>{const d=fN({inputs:{input:u},backend:n,attrs:{dim:i}});return a.push(d),d}),c=zY({inputs:l,backend:n,attrs:{axis:i}});return a.forEach(u=>n.disposeIntermediateTensorInfo(u)),c}const WXe={kernelName:LS,backendName:"webgl",kernelFunc:UXe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GXe{constructor(e,n,r){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((c,u)=>c[0]+e[u]+c[1]);const i=e.length,s=Wt(i),o=n.map(c=>c[0]).join(","),a=n.map((c,u)=>c[0]+e[u]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,i);if(i===1){this.userCode=`
        int start = ${o};
        int end = ${a};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${s} start = ${s}(${o});
      ${s} end = ${s}(${a});

      void main() {
        ${s} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${s} coords = outC - start;
          setOutput(getX(${l}));
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class HXe{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((y,x)=>y[0]+e[x]+y[1]);const i=e.length,s=Wt(i),o=n.map(y=>y[0]).join(","),a=n.map((y,x)=>y[0]+e[x]).join(","),l=ti("rc",i),c=ti("source",i),u=`${l[i-1]} < ${this.outputShape[i-1]}`,d=i===1?"source":`vec2(${c.slice(-2).join()})`,f=[`${s} rc = outputLoc;`,`${l[i-1]} += 1;
       if(${u}) {
      `,i===1?"":`}
       rc = outputLoc;
       ${l[i-2]} += 1;
       if(${l[i-2]} < ${this.outputShape[i-2]}) {`,i===1?"":`  ${l[i-1]} += 1;
         if(${u}) {`],h=i===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let m="";for(let y=0,x=i===1?2:4;y<x;y++)m+=`
        ${f[y]}
        if (${h}) {
          result[${y}] = float(value);
        } else {
          ${s} source = rc - start;
          result[${y}] = getChannel(getX(${c.join()}), ${d});
        }
      `;m+=i===1?"} ":"}}",this.userCode=`
      const ${s} start = ${s}(${o});
      const ${s} end = ${s}(${a});

      void main() {
        ${s} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${m}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nJ=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{paddings:s,constantValue:o}=r;if(le(i.shape)===0){const c=s.map((u,d)=>u[0]+i.shape[d]+u[1]);return r0({backend:n,attrs:{shape:c,value:o,dtype:i.dtype}})}const a=ie().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new HXe(i.shape,s,o):new GXe(i.shape,s,o),l=[[o]];return n.runWebGLProgram(a,[i],i.dtype,l)},qXe={kernelName:MS,backendName:"webgl",kernelFunc:nJ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KXe=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,XXe=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+e0+`
  return result;
`,QXe=Cr({opSnippet:KXe,packedOpSnippet:XXe}),YXe={kernelName:yv,backendName:"webgl",kernelFunc:QXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JXe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s,keepDims:o}=r,a=i.shape.length,l=[],c=wt(s,i.shape);let u=c;const d=An(u,a);let f=i;d!=null&&(f=ri({inputs:{x:i},backend:n,attrs:{perm:d}}),u=Pn(u.length,a),l.push(f)),kr("prod",u,a);let h;if(n.shouldExecuteOnCPU([f])){const m=n.texData.get(f.dataId).values,{outVals:y,outShape:x,outDtype:v}=iUe(f.shape,f.dtype,m,u);h=n.makeTensorInfo(x,v,y)}else{const[m,y]=Sr(f.shape,u),x=le(y),v=_e({inputs:{x:f},backend:n,attrs:{shape:[-1,x]}}),b=bk(i.dtype),w=Cd(v,b,"prod",n);h=_e({inputs:{x:w},backend:n,attrs:{shape:m}}),l.push(v),l.push(w)}if(o){l.push(h);const m=Qn(h.shape,c);h=_e({inputs:{x:h},backend:n,attrs:{shape:m}})}return l.forEach(m=>n.disposeIntermediateTensorInfo(m)),h}const ZXe={kernelName:zS,backendName:"webgl",kernelFunc:JXe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eQe(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:i,paramsDenseValues:s,indices:o}=e,{outputRaggedRank:a}=r,l=i.map(v=>n.readSync(v.dataId)),c=i.map(v=>v.shape),u=n.readSync(s.dataId),d=n.readSync(o.dataId),[f,h,m]=sUe(l,c,u,s.shape,s.dtype,d,o.shape,a),y=f.map(v=>n.makeTensorInfo([v.length],"int32",v)),x=n.makeTensorInfo(m,s.dtype,h);return y.concat([x])}const tQe={kernelName:jS,backendName:"webgl",kernelFunc:eQe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nQe(t){const{inputs:e,backend:n,attrs:r}=t,{shape:i,values:s,defaultValue:o,rowPartitionTensors:a}=e,{rowPartitionTypes:l}=r,c=n.readSync(i.dataId),u=n.readSync(s.dataId),d=n.readSync(o.dataId),f=a.map(x=>n.readSync(x.dataId)),h=a.map(x=>x.shape),[m,y]=oUe(c,i.shape,u,s.shape,s.dtype,d,o.shape,f,h,l);return n.makeTensorInfo(m,s.dtype,y)}const rQe={kernelName:VS,backendName:"webgl",kernelFunc:nQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rJ=t=>{const{backend:e,attrs:n}=t,{start:r,stop:i,step:s,dtype:o}=n,a=aUe(r,i,s,o);return e.makeTensorInfo([a.length],o,a)},iQe={kernelName:US,backendName:"webgl",kernelFunc:rJ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sQe="return 1.0 / x;",oQe=xt({opSnippet:sQe}),aQe={kernelName:vv,backendName:"webgl",kernelFunc:oQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lQe=Qs+`
  return (x < 0.0) ? 0.0 : x;
`,cQe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,uQe=xt({opSnippet:lQe,packedOpSnippet:cQe}),dQe={kernelName:xv,backendName:"webgl",kernelFunc:uQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fQe=Qs+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,hQe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,pQe=xt({opSnippet:fQe,packedOpSnippet:hQe}),mQe={kernelName:bv,backendName:"webgl",kernelFunc:pQe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gQe{constructor(e,n,r,i,s){this.variableNames=["A"],this.outputShape=[];const[o,a,l,c]=e;this.outputShape=[o,n,r,c];const u=[i&&n>1?a-1:a,i&&r>1?l-1:l],d=[i&&n>1?n-1:n,i&&r>1?r-1:r];let f;s?f="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":f="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/d[0]},
          ${u[1]/d[1]});
      const vec2 inputShapeRC = vec2(${a}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${f};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yQe{constructor(e,n,r,i,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,a,l,c]=e;this.outputShape=[o,n,r,c];const u=[i&&n>1?a-1:a,i&&r>1?l-1:l],d=[i&&n>1?n-1:n,i&&r>1?r-1:r];let f;s?f="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":f="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/d[0]},
          ${u[1]/d[1]},
          ${u[1]/d[1]});
      const vec3 inputShapeRC = vec3(${a}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${f};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${c-1};
        bool hasNextRow = coords.z < ${r-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vQe(t){const{inputs:e,backend:n,attrs:r}=t,{images:i}=e,{alignCorners:s,halfPixelCenters:o,size:a}=r,[l,c]=a,u=ie().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new yQe(i.shape,l,c,s,o):new gQe(i.shape,l,c,s,o);return n.runWebGLProgram(u,[i],"float32")}const xQe={kernelName:qS,backendName:"webgl",kernelFunc:vQe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bQe{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,i,s]=n,[,o,a]=e,l=[r&&o>1?i-1:i,r&&a>1?s-1:s],c=[r&&o>1?o-1:o,r&&a>1?a-1:a],u=l[0]/c[0],d=l[1]/c[1],f=1/u,h=1/d,m=Math.ceil(f)*2+2,y=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${d});

        const float invHeightScale = float(${f});
        const float invWidthScale = float(${h});

        const int winHeight = int(${m});
        const int winWidth = int(${y});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${o}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${a}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${i-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${s-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wQe(t){const{inputs:e,backend:n,attrs:r}=t,{images:i,dy:s}=e,{alignCorners:o}=r,a=new bQe(s.shape,i.shape,o);return n.runWebGLProgram(a,[s],s.dtype)}const SQe={kernelName:U3,backendName:"webgl",kernelFunc:wQe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kQe{constructor(e,n,r,i,s){this.variableNames=["A"],this.outputShape=[];const[o,a,l,c]=e;this.outputShape=[o,n,r,c];const u=[i&&n>1?a-1:a,i&&r>1?l-1:l],d=[i&&n>1?n-1:n,i&&r>1?r-1:r],f=i?"0.5":"0.0";let h;s?h="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/d[0]},
          ${u[1]/d[1]});
      const vec2 inputShapeRC = vec2(${a}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${f})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class CQe{constructor(e,n,r,i,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,a,l,c]=e;this.outputShape=[o,n,r,c];const u=[i&&n>1?a-1:a,i&&r>1?l-1:l],d=[i&&n>1?n-1:n,i&&r>1?r-1:r],f=i?"0.5":"0.0";let h;s?h="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/d[0]},
          ${u[1]/d[1]},
          ${u[1]/d[1]});
      const vec3 inputShapeRC = vec3(${a}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${f})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${c-1};
        bool hasNextRow = coords.z < ${r-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EQe(t){const{inputs:e,backend:n,attrs:r}=t,{images:i}=e,{alignCorners:s,halfPixelCenters:o,size:a}=r,[l,c]=a,u=ie().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new CQe(i.shape,l,c,s,o):new kQe(i.shape,l,c,s,o);return n.runWebGLProgram(u,[i],i.dtype)}const TQe={kernelName:HS,backendName:"webgl",kernelFunc:EQe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _Qe{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,i,s]=n,[,o,a]=e,l=[r&&o>1?i-1:i,r&&a>1?s-1:s],c=[r&&o>1?o-1:o,r&&a>1?a-1:a],u=l[0]/c[0],d=l[1]/c[1],f=1/u,h=1/d,m=Math.ceil(f)*2+2,y=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${d});

        const float invHeightScale = float(${f});
        const float invWidthScale = float(${h});

        const int winHeight = int(${m});
        const int winWidth = int(${y});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${o}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${a}) {
              continue;
            }

            float sourceFracRow =
              float(${l[0]}) *
                (float(dyR) / float(${c[0]}));

            float sourceFracCol =
                float(${l[1]}) *
                  (float(dyC) / float(${c[1]}));

            int sourceNearestRow = int(min(
                float(int(${i}) - 1),
                ${r} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${s}) - 1),
                ${r} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IQe(t){const{inputs:e,backend:n,attrs:r}=t,{images:i,dy:s}=e,{alignCorners:o}=r,a=new _Qe(s.shape,i.shape,o);return n.runWebGLProgram(a,[s],s.dtype)}const $Qe={kernelName:V3,backendName:"webgl",kernelFunc:IQe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NQe{constructor(e,n){this.variableNames=["x"];const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);if(this.outputShape=e,r===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}const i=a=>n.indexOf(a)!==-1&&e[a]!==1?`${e[a]} - coords[${a}] - 1`:`coords[${a}]`,s=e.map((a,l)=>i(l)).join(","),o=Wt(r);this.userCode=`
      void main() {
        ${o} coords = getOutputCoords();
        setOutput(getX(${s}));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OQe{constructor(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);this.outputShape=e;const i=ti("rc",r),s=`${i[r-1]} + 1 < ${this.outputShape[r-1]}`,o=`${i[r-2]} + 1 < ${this.outputShape[r-2]}`,a=Wt(r);r===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${s}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${a} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${l(i.slice())};
          if(${s}){
            result.g = ${c(i.slice())};
          }
          if(${o}) {
            result.b = ${u(i.slice())};
            if(${s}) {
              result.a = ${d(i.slice())};
            }
          }
          setOutput(result);
        }
    `;function l(m){return f(m)}function c(m){return m[r-1]="("+m[r-1]+" + 1)",f(m)}function u(m){return m[r-2]="("+m[r-2]+" + 1)",f(m)}function d(m){return m[r-1]="("+m[r-1]+" + 1)",m[r-2]="("+m[r-2]+" + 1)",f(m)}function f(m){const y=e.map((b,w)=>h(w,m)),x=y.join(","),v=y.slice(-2).join(",");return`getChannel(getX(${x}), vec2(${v}))`}function h(m,y){return n.indexOf(m)!==-1&&e[m]!==1?`${e[m]} - ${y[m]} - 1`:`${y[m]}`}}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RQe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{dims:s}=r,o=i.shape.length,a=wt(s,i.shape);if(o===0)return Gi({inputs:{x:i},backend:n});const l=ie().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new OQe(i.shape,a):new NQe(i.shape,a);return n.runWebGLProgram(l,[i],i.dtype)}const AQe={kernelName:KS,backendName:"webgl",kernelFunc:RQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class PQe{constructor(e,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const r=e[1],i=e[2];this.outputShape=e;let s="";typeof n=="number"?s=`float outputValue = ${n.toFixed(2)};`:s=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${s}
          if(coordX >= 0 && coordX < ${i} && coordY >= 0 && coordY < ${r}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DQe={kernelName:vk,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:i,fillValue:s,center:o}=e,a=n,l=new PQe(r.shape,s),[c,u]=aP(o,r.shape[1],r.shape[2]),d=[[c,u,Math.sin(i),Math.cos(i)]];return a.runWebGLProgram(l,[r],r.dtype,d)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FQe=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,LQe=xt({opSnippet:FQe}),MQe={kernelName:wv,backendName:"webgl",kernelFunc:LQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BQe="return inversesqrt(x);",zQe=xt({opSnippet:BQe,cpuKernelImpl:lUe}),jQe={kernelName:Sv,backendName:"webgl",kernelFunc:zQe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iJ{constructor(e,n,r,i,s,o,a=!0){this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;const l=Wt(s.length),c=Wt(o.length);let u="";r===1?u="i":r===2&&(u="i, j");const d=`getIndices(${u})`;let f="";i===1?f="i":i===2&&(f="i, coords[1]");const h=`getUpdates(${f})`,m=n>1?"strides[j]":"strides";this.userCode=`
        ${l} strides = ${l}(${s});

        void main() {
          ${c} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${d});
              flattenedIndex += index * ${m};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${h};
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VQe(t){const{inputs:e,backend:n,attrs:r}=t,{indices:i,updates:s}=e,{shape:o}=r,{sliceRank:a,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=dp(s,i,o),f=[d/c,c];if(d===0)return n.makeTensorInfo(o,i.dtype);const h=_e({inputs:{x:i},backend:n,attrs:{shape:[l,a]}}),m=_e({inputs:{x:s},backend:n,attrs:{shape:[l,c]}}),y=n.makeTensorInfo([],"float32",new Float32Array([0])),x=new iJ(l,a,h.shape.length,m.shape.length,u,f),v=n.runWebGLProgram(x,[m,h,y],m.dtype),b=_e({inputs:{x:v},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(y),b}const UQe={kernelName:XS,backendName:"webgl",kernelFunc:VQe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class WQe{constructor(e,n,r,i){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,r];const s="while (left < right) {",o=`for (int i = 0; i < ${Math.ceil(Math.log2(n+1))}; ++i) { if (left >= right) break;`,a=ie().getNumber("WEBGL_VERSION")===2?s:o,l=i==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${a}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${l} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GQe(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:i,values:s}=e,{side:o}=r,a=new WQe(i.shape[0],i.shape[1],s.shape[1],o),l=[[i.shape[1]]];return n.runWebGLProgram(a,[i,s],"int32",l)}const HQe={kernelName:QS,backendName:"webgl",kernelFunc:GQe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qQe{constructor(e,n,r){this.variableNames=["c","a","b"],this.outputShape=n;let i,s;if(r>4)throw Error(`Where for rank ${r} is not yet supported`);if(r===1)s="resRC",i="resRC";else{const a=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],c=[];for(let u=0;u<n.length;u++)c.push(`${a[u]}`),u<e&&l.push(`${a[u]}`);i=l.join(),s=c.join()}const o=Wt(r);this.userCode=`
      void main() {
        ${o} resRC = getOutputCoords();
        float cVal = getC(${i});
        if (cVal >= 1.0) {
          setOutput(getA(${s}));
        } else {
          setOutput(getB(${s}));
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KQe(t){const{inputs:e,backend:n}=t,{condition:r,t:i,e:s}=e,o=new qQe(r.shape.length,i.shape,i.shape.length);return n.runWebGLProgram(o,[r,i,s],mi(i.dtype,s.dtype))}const XQe={kernelName:YS,backendName:"webgl",kernelFunc:KQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QQe=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${uP};
  float scale = ${dP};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,YQe=xt({opSnippet:QQe}),JQe={kernelName:kv,backendName:"webgl",kernelFunc:YQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZQe=wp+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,eYe=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,tYe=xt({opSnippet:ZQe,packedOpSnippet:eYe,cpuKernelImpl:uUe}),nYe={kernelName:_v,backendName:"webgl",kernelFunc:tYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rYe=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,iYe=xt({opSnippet:rYe}),sYe={kernelName:Tv,backendName:"webgl",kernelFunc:iYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oYe=wp+`
  return sin(x);
`,aYe=xt({opSnippet:oYe}),lYe={kernelName:Cv,backendName:"webgl",kernelFunc:aYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cYe=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,uYe=xt({opSnippet:cYe}),dYe={kernelName:Ev,backendName:"webgl",kernelFunc:uYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fYe=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,hYe=xt({opSnippet:fYe}),pYe={kernelName:Iv,backendName:"webgl",kernelFunc:hYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mYe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{blockShape:s,paddings:o}=r;B(i.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const a=s.reduce((v,b)=>v*b),l=[[0,0]];l.push(...o);for(let v=1+s.length;v<i.shape.length;++v)l.push([0,0]);const c=[],u=nJ({inputs:{x:i},backend:n,attrs:{paddings:l,constantValue:0}}),d=Kv(u.shape,s,a,!1),f=Xv(d.length,s.length,!1),h=Qv(u.shape,s,a,!1),m=_e({inputs:{x:u},backend:n,attrs:{shape:d}}),y=ri({inputs:{x:m},backend:n,attrs:{perm:f}}),x=_e({inputs:{x:y},backend:n,attrs:{shape:h}});return c.push(u),c.push(m),c.push(y),c.forEach(v=>n.disposeIntermediateTensorInfo(v)),x},gYe={kernelName:ek,backendName:"webgl",kernelFunc:mYe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yYe(t){const{inputs:e,backend:n}=t,{indices:r,values:i,denseShape:s,defaultValue:o}=e;if(s.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${s.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${r.shape}`);if(i.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${i.shape}`);if(o.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${o.shape}`);const a=n.readSync(r.dataId),l=n.readSync(i.dataId),c=n.readSync(s.dataId),u=n.readSync(o.dataId)[0],[d,f,h,m,y]=fUe(a,r.shape,r.dtype,l,i.dtype,c,u);return[n.makeTensorInfo(f,r.dtype,d),n.makeTensorInfo([f[0]],i.dtype,h),n.makeTensorInfo([m.length],"bool",new Uint8Array(m.map(x=>Number(x)))),n.makeTensorInfo([y.length],r.dtype,new Int32Array(y))]}const vYe={kernelName:rk,backendName:"webgl",kernelFunc:yYe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xYe(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:i,newShape:s}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(i.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${i.shape}`);if(s.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${s.shape}`);const o=Array.from(n.readSync(i.dataId)),a=n.readSync(r.dataId),l=Array.from(n.readSync(s.dataId)),[c,u,d]=hUe(a,r.shape,r.dtype,o,l);return[n.makeTensorInfo(u,r.dtype,c),n.makeTensorInfo([d.length],s.dtype,new Int32Array(d))]}const bYe={kernelName:ik,backendName:"webgl",kernelFunc:xYe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wYe(t){const{inputs:e,backend:n}=t,{data:r,indices:i,segmentIds:s}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(i.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${i.shape}`);if(s.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${s.shape}`);const o=n.readSync(r.dataId),a=n.readSync(i.dataId),l=n.readSync(s.dataId),[c,u]=_Y(o,r.shape,r.dtype,a,l,!0);return n.makeTensorInfo(u,r.dtype,c)}const SYe={kernelName:sk,backendName:"webgl",kernelFunc:wYe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kYe(t){const{inputs:e,backend:n}=t,{data:r,indices:i,segmentIds:s}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(i.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${i.shape}`);if(s.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${s.shape}`);const o=n.readSync(r.dataId),a=n.readSync(i.dataId),l=n.readSync(s.dataId),[c,u]=_Y(o,r.shape,r.dtype,a,l);return n.makeTensorInfo(u,r.dtype,c)}const CYe={kernelName:ok,backendName:"webgl",kernelFunc:kYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EYe(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:i,sparseValues:s,defaultValue:o}=e,{outputShape:a}=r,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:f}=dp(s,i,a),h=!1;if(s.dtype==="string"){const v=n.bufferSync(i),b=n.bufferSync(s),w=Za(n.readSync(o.dataId)[0]),k=cUe(v,b,a,f,u,c,l,d,w,h);return n.makeTensorInfo(a,k.dtype,k.values)}const m=new iJ(c,l,i.shape.length,s.shape.length,d,[f,1],h),y=n.runWebGLProgram(m,[s,i,o],s.dtype),x=_e({inputs:{x:y},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(y),x}const TYe={kernelName:ak,backendName:"webgl",kernelFunc:EYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Ye(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{numOrSizeSplits:s,axis:o}=r,a=wt(o,i.shape)[0],l=CP(i,s,a),c=i.shape.length,u=new Array(c).fill(0),d=i.shape.slice();return l.map(f=>{const h=[...d];h[a]=f;const m=Sp({inputs:{x:i},backend:n,attrs:{begin:u,size:h}});return u[a]+=f,m})}const IYe={kernelName:tk,backendName:"webgl",kernelFunc:_Ye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v8="return sqrt(x);",$Ye=xt({opSnippet:v8,packedOpSnippet:v8,cpuKernelImpl:pUe}),NYe={kernelName:$v,backendName:"webgl",kernelFunc:$Ye};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OYe="return x * x;",RYe=xt({opSnippet:OYe}),AYe={kernelName:W3,backendName:"webgl",kernelFunc:RYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x8="return (a - b) * (a - b);",PYe=Cr({opSnippet:x8,packedOpSnippet:x8}),DYe={kernelName:Nv,backendName:"webgl",kernelFunc:PYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FYe({inputs:t,attrs:e,backend:n}){const{x:r}=t,i=Qs+`
    return x > 0.0 ? 1.0 : float(${e.alpha});
  `,s=new Ma(r.shape,i);return n.runWebGLProgram(s,[r],r.dtype)}const LYe={kernelName:Dv,backendName:"webgl",kernelFunc:FYe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class MYe{constructor(e,n,r){this.variableNames=["x"],this.outputShape=r;const i=r.length,s=Wt(r.length),o=Wt(r.length);let a="";if(i===1)a="coords * strides + begin";else{let l=0;a=r.map((c,u)=>(l++,r.length===1?`coords * strides[${u}] + begin[${u}]`:`coords[${l-1}] * strides[${u}] + begin[${u}]`)).join(",")}this.userCode=`
      ${s} begin = ${s}(${e});
      ${s} strides = ${s}(${n});

      void main() {
        ${o} coords = getOutputCoords();
        setOutput(getX(${a}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BYe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{begin:s,end:o,strides:a,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:f}=r,{finalShapeSparse:h,finalShape:m,isIdentity:y,sliceDim0:x,isSimpleSlice:v,begin:b,end:w,strides:k}=pA(i.shape,s,o,a,l,c,u,d,f);let E;if(y)E=_e({inputs:{x:i},backend:n,attrs:{shape:m}});else if(x||v){B(i.shape.length>=1,()=>`Input must have rank at least 1, got: ${i.shape.length}`);const I=uA(b,w,k),N=Sp({inputs:{x:i},backend:n,attrs:{begin:b,size:I}});E=_e({inputs:{x:N},backend:n,attrs:{shape:m}}),n.disposeIntermediateTensorInfo(N)}else if(n.shouldExecuteOnCPU([i])){const N=n.readSync(i.dataId),D=it(i.shape,i.dtype,N),P=mUe(h,D,k,b);E=n.makeTensorInfo(m,i.dtype,P.values)}else{const N=new MYe(b,k,h);E=n.runWebGLProgram(N,[i],i.dtype)}const _=_e({inputs:{x:E},backend:n,attrs:{shape:m}});return n.disposeIntermediateTensorInfo(E),_}const zYe={kernelName:lk,backendName:"webgl",kernelFunc:BYe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jYe(t){const{inputs:e,backend:n,attrs:r}=t,{separator:i,nGramWidths:s,leftPad:o,rightPad:a,padWidth:l,preserveShortSequences:c}=r,{data:u,dataSplits:d}=e,f=n.readSync(u.dataId),h=n.readSync(d.dataId),[m,y]=gUe(f,h,i,s,o,a,l,c);return[n.makeTensorInfo([m.length],"string",m),n.makeTensorInfo(d.shape,"int32",y)]}const VYe={kernelName:ck,backendName:"webgl",kernelFunc:jYe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UYe(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:i}=r,{input:s,delimiter:o}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");if(s.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${s.shape}`);if(o.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${o.shape}`);const a=n.readSync(s.dataId),l=n.readSync(o.dataId)[0],[c,u,d]=yUe(a,l,i),f=u.length;return[n.makeTensorInfo([f,2],"int32",c),n.makeTensorInfo([f],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const WYe={kernelName:uk,backendName:"webgl",kernelFunc:UYe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GYe(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:i}=r,{input:s}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");if(i<=0)throw new Error("Number of buckets must be at least 1");const o=n.readSync(s.dataId),a=vUe(o,i);return n.makeTensorInfo(s.shape,"int32",a)}const HYe={kernelName:dk,backendName:"webgl",kernelFunc:GYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qYe="return tan(x);",KYe=xt({opSnippet:qYe}),XYe={kernelName:Rv,backendName:"webgl",kernelFunc:KYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QYe=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,YYe=xt({opSnippet:QYe}),JYe={kernelName:Av,backendName:"webgl",kernelFunc:YYe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ZYe{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let o=0;o<r.length;o++)r[o]=e[o]*n[o];this.outputShape=r,this.rank=r.length;const i=Wt(this.rank),s=eJe(e);this.userCode=`
      void main() {
        ${i} resRC = getOutputCoords();
        setOutput(getA(${s}));
      }
    `}}function eJe(t){const e=t.length;if(e>5)throw Error(`Tile for rank ${e} is not yet supported`);if(e===1)return`imod(resRC, ${t[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let i=0;i<t.length;i++)r.push(`imod(${n[i]}, ${t[i]})`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sJ(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{reps:s}=r;if(i.dtype==="string"||i.shape.length>5){const l=n.readSync(i.dataId),c=i.dtype==="string"?l.map(f=>Za(f)):l,u=it(i.shape,i.dtype,c),d=bUe(u,s);return n.makeTensorInfo(d.shape,d.dtype,d.values)}const o=new ZYe(i.shape,s);return n.runWebGLProgram(o,[i],i.dtype)}const tJe={kernelName:Pv,backendName:"webgl",kernelFunc:sJ};class nJe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class rJe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yc(t,e){e!==null&&t.disposeIntermediateTensorInfo(e)}function b8(t){let e=1;for(;e<t;)e*=2;return e}function iJe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{k:s,sorted:o}=r,a=ie().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=ie().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=i.shape,u=c[c.length-1];if(n.shouldExecuteOnCPU([i])||u<a||s>l){const P=n.readSync(i.dataId),[F,U]=wUe(P,c,i.dtype,s,o);return[n.makeTensorInfo(F.shape,F.dtype,F.values),n.makeTensorInfo(U.shape,U.dtype,U.values)]}if(s===0)return c[c.length-1]=0,[n.makeTensorInfo(c,i.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(u===1)return[i,r0({attrs:{shape:c,dtype:"int32",value:0},backend:n})];const d=n.texData.get(i.dataId),f=d!==null&&d.isPacked,h=f?n.unpackTensor(i):i,y=le(c)/u,x=_e({inputs:{x:h},attrs:{shape:[y,u]},backend:n});f&&Yc(n,h);const v=b8(s),b=b8(u);let w=null;const k=()=>w===null?[x,x]:[x,w],E=(P,F,U)=>{const j=k(),W=new nJe(U),Q=[[u],[w===null?1:0],[Number.NEGATIVE_INFINITY],[P],[F]],ee=w;w=n.runWebGLProgram(W,j,"int32",Q),Yc(n,ee)};for(let P=1;P<v;P*=2){const F=P*2;for(let U=P;U>=1;U/=2)E(F,U,[y,b])}for(let P=b;P>v;P/=2){const F=k(),U=new rJe([y,P/2]),W=[[u],[w===null?1:0],[v]],q=w;w=n.runWebGLProgram(U,F,"int32",W),Yc(n,q);const Q=v/2,ee=Q*2;for(let V=Q;V>=1;V/=2)E(ee,V,w.shape)}let _=w;w=Sp({inputs:{x:w},backend:n,attrs:{begin:0,size:[y,s]}}),Yc(n,_);let I=QY({inputs:{x,indices:w},backend:n,attrs:{axis:1,batchDims:1}});Yc(n,x);const N=c.slice(0,-1);N.push(s),_=w,w=_e({inputs:{x:w},attrs:{shape:N},backend:n}),Yc(n,_);const D=I;return I=_e({inputs:{x:I},attrs:{shape:N},backend:n}),Yc(n,D),[I,w]}const sJe={kernelName:fk,backendName:"webgl",kernelFunc:iJe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oJe{constructor(e,n,r,i,s,o){this.variableNames=["Image","Transforms"],this.outputShape=o;const a=r==="nearest"?1:2;let l;switch(i){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${l} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${s});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${s});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${e}));

                if (${a} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aJe(t){const{inputs:e,backend:n,attrs:r}=t,{image:i,transforms:s}=e,{interpolation:o,fillMode:a,fillValue:l,outputShape:c}=r,[u,d,f,h]=i.shape,[m,y]=c??[d,f],x=[u,m,y,h],v=new oJe(d,f,o,a,l,x);return n.runWebGLProgram(v,[i,s],"float32")}const lJe={kernelName:hk,backendName:"webgl",kernelFunc:aJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cJe(t){const{inputs:e,attrs:n,backend:r}=t,{axis:i}=n,{x:s}=e;Jv(s,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const o=r.readSync(s.dataId),{outputValues:a,outputShape:l,indices:c}=SUe(o,i,s.shape,s.dtype);return[r.makeTensorInfo(l,s.dtype,a),r.makeTensorInfo([c.length],"int32",c)]}const uJe={kernelName:pk,backendName:"webgl",kernelFunc:cJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dJe(t){const{inputs:e,backend:n,attrs:r}=t,{value:i}=e;let{axis:s}=r;s<0&&(s+=i.shape.length);const o=i,a=o.shape.length,l=i.shape[s],c=new Array(a-1);let u=0;for(let y=0;y<a;y++)y!==s&&(c[u++]=o.shape[y]);const d=[],f=new Array(a).fill(0),h=o.shape.slice();h[s]=1;const m=new Array(l);for(let y=0;y<m.length;y++){f[s]=y;const x=Sp({inputs:{x:o},backend:n,attrs:{begin:f,size:h}}),v=_e({inputs:{x},backend:n,attrs:{shape:c}});m[y]=v,d.push(x)}return d.forEach(y=>n.disposeIntermediateTensorInfo(y)),m}const fJe={kernelName:mk,backendName:"webgl",kernelFunc:dJe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hJe{constructor(e,n){this.variableNames=["x","segmentIds"];const r=e.windowSize,i=e.batchSize,s=e.inSize,o=e.numSegments,a=o*Math.ceil(s/r);this.outputShape=[i,a];const l="0.0",c="sumValue",u=Math.floor(r/4)*4,d=r%4,f=`
        sumValue += dot(values, segFilter);
    `;let h="";s%r>0&&(h=`
        if (inIdx < 0 || inIdx >= ${s}) {
          return initializationValue;
        }
      `);let m="";s%r>0&&(m=`
        if (inIdx < 0 || inIdx >= ${s}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${l};

      float getValue(int batch, int inIdx) {
        ${h}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${m}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${o})) * float(${r}));
        int currentSeg = int(mod(float(outIdx), float(${o})));

        float sumValue = 0.0;

        for (int i = 0; i < ${u}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${f}
        }

        int inIdx = inOffset + ${u};
        if (${d===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${f}
        } else if (${d===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${f}
        } else if (${d===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${f}
        }
        setOutput(${c});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pJe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,segmentIds:s}=e,{numSegments:o}=r,a=i.shape.length,l=[];let c=0;const u=An([c],a);let d=i;u!=null&&(d=ri({inputs:{x:i},backend:n,attrs:{perm:u}}),l.push(d),c=Pn(1,a)[0]);const f=yQ(d.shape,c,o),h=le([d.shape[c]]),m=_e({inputs:{x:d},backend:n,attrs:{shape:[-1,h]}});l.push(m);const y=bk(i.dtype),x=(k,E,_,I,N)=>{const D=k.shape[0],P=k.shape[1],F=gQ(P,N),U={windowSize:F,inSize:P,batchSize:D,numSegments:N},j=new hJe(U,E),W=n.compileAndRun(j,[k,_],I);if(l.push(W),W.shape[1]===N)return W;const q=rJ({backend:n,attrs:{start:0,stop:N,step:1,dtype:"float32"}}),Q=sJ({inputs:{x:q},backend:n,attrs:{reps:[P/F]}});return l.push(q),l.push(Q),x(W,E,Q,I,N)},v=x(m,"unsortedSegmentSum",s,y,o),b=_e({inputs:{x:v},backend:n,attrs:{shape:f}});let w=b;if(u!=null){l.push(b);const k=Vv(u);w=ri({inputs:{x:w},backend:n,attrs:{perm:k}})}return l.forEach(k=>n.disposeIntermediateTensorInfo(k)),w}const mJe={kernelName:gk,backendName:"webgl",kernelFunc:pJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gJe=[hWe,mWe,vWe,wWe,kWe,TWe,IWe,NWe,PWe,FWe,BWe,VWe,GWe,XWe,JWe,eGe,nGe,oGe,lGe,uGe,pGe,wGe,kGe,EGe,OGe,AGe,LGe,QUe,zGe,GGe,XGe,tHe,rHe,sHe,aHe,cHe,fHe,mHe,vHe,bHe,SHe,CHe,_He,$He,AHe,DHe,MHe,jHe,UHe,qHe,YHe,tqe,iqe,aqe,lqe,uqe,fqe,pqe,gqe,vqe,Sqe,Eqe,Iqe,Nqe,Aqe,Fqe,zqe,Wqe,XUe,Hqe,UGe,Xqe,Jqe,tKe,JUe,sKe,cKe,dKe,mKe,vKe,SKe,EKe,$Ke,AKe,FKe,MKe,VKe,WKe,HKe,QKe,JKe,eXe,nXe,iXe,lXe,fXe,gXe,CXe,tWe,IXe,OXe,PXe,LXe,_Ge,zXe,VXe,WXe,qXe,YXe,eWe,ZXe,tQe,rQe,iQe,IGe,bXe,aQe,dQe,mQe,rWe,xQe,SQe,TQe,$Qe,AQe,DQe,MQe,jQe,UQe,HQe,XQe,JQe,nYe,sYe,lYe,dYe,xGe,SXe,pYe,gYe,vYe,bYe,SYe,CYe,TYe,IYe,NYe,AYe,DYe,LYe,zYe,VYe,WYe,HYe,wXe,uWe,XYe,JYe,tJe,sJe,lJe,dWe,uJe,fJe,mJe,jXe];for(const t of gJe)xk(t);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yJe=$k;class Yk extends O2{constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new I3(this,Na())}nextDataId(){return Yk.nextDataId++}write(e,n,r){this.firstUse&&(this.firstUse=!1,ie().get("IS_NODE")&&es(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const i={id:this.nextDataId()};return this.data.set(i,{values:e,dtype:r,refCount:1}),i}makeTensorInfo(e,n,r){let i;if(n==="string"&&r!=null&&r.length>0&&Ho(r[0])){const s=r.map(o=>na(o));i=this.write(s,e,n)}else i=this.write(r,e,n);return{dataId:i,shape:e,dtype:n}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const n=this.data.get(e);n.refCount++}decRef(e){if(this.data.has(e)){const n=this.data.get(e);n.refCount--}}move(e,n,r,i,s){this.data.set(e,{values:n,dtype:i,refCount:s})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:r}=this.data.get(e);if(n==="complex64"){const i=this.readSync(r.real.dataId),s=this.readSync(r.imag.dataId);return tl(i,s)}return this.data.get(e).values}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(i=>Za(i));return it(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return it(e.shape,e.dtype,n)}makeOutput(e,n,r){return Na().makeTensorFromTensorInfo(this.makeTensorInfo(n,r,e),this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(e);r!=null&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=Oi();return e(),{kernelMs:Oi()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){Be([e],"where");const n=this.readSync(e.dataId);return yJe(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}Yk.nextDataId=0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */iA("cpu",()=>new Yk,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oJ=Rt(Hy,t=>t>=0?t:Math.exp(t)-1),vJe={kernelName:Hy,backendName:"cpu",kernelFunc:oJ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aJ(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{alpha:s}=r;Be([i],"leakyRelu");const o=le(i.shape),a=n.data.get(i.dataId).values,l=Kn("float32",o);for(let c=0;c<a.length;c++)l[c]=a[c]<0?s*a[c]:a[c];return n.makeTensorInfo(i.shape,"float32",l)}const xJe={kernelName:bS,backendName:"cpu",kernelFunc:aJ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bJe=Bn((t,e)=>t<0?e*t:t);function lJ(t){const{inputs:e,backend:n}=t,{x:r,alpha:i}=e;Be([r,i],"prelu");const s=n.data.get(r.dataId).values,o=n.data.get(i.dataId).values,[a,l]=bJe(r.shape,i.shape,s,o,"float32");return n.makeTensorInfo(l,"float32",a)}const wJe={kernelName:BS,backendName:"cpu",kernelFunc:lJ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cJ=Rt(xv,t=>Math.max(0,t)),SJe={kernelName:xv,backendName:"cpu",kernelFunc:cJ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uJ=Rt(bv,t=>Math.min(Math.max(0,t),6)),kJe={kernelName:bv,backendName:"cpu",kernelFunc:uJ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rw(t,e,n,r,i){if(n==="linear")return fa({inputs:{x:e},backend:t});if(n==="relu")return cJ({inputs:{x:e},backend:t});if(n==="elu")return oJ({inputs:{x:e},backend:t});if(n==="relu6")return uJ({inputs:{x:e},backend:t});if(n==="prelu")return lJ({inputs:{x:e,alpha:r},backend:t});if(n==="leakyrelu")return aJ({inputs:{x:e},backend:t,attrs:{alpha:i}});if(n==="sigmoid")return dY({inputs:{x:e},backend:t});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gt(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{shape:s}=r,o=le(i.shape),a=$3(s,o),l=le(a);B(o===l,()=>`The new shape (${a}) has ${l} elements and the old shape (${i.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`),n.incRef(i.dataId);const c=n.data.get(i.dataId);if(c.complexTensorInfos!=null){const u=c.complexTensorInfos.real,d=c.complexTensorInfos.imag;u.shape=a,d.shape=a}return{dataId:i.dataId,shape:a,dtype:i.dtype}}const CJe={kernelName:GS,backendName:"cpu",kernelFunc:Gt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dJ(t){const{inputs:e,backend:n,attrs:r}=t,{a:i,b:s}=e,{transposeA:o,transposeB:a}=r;Be([i,s],"matMul");const l=i.shape.length,c=s.shape.length,u=o?i.shape[l-2]:i.shape[l-1],d=a?s.shape[c-1]:s.shape[c-2],f=o?i.shape[l-1]:i.shape[l-2],h=a?s.shape[c-2]:s.shape[c-1],m=i.shape.slice(0,-2),y=s.shape.slice(0,-2),x=le(m),v=le(y),w=pt(i.shape.slice(0,-2),s.shape.slice(0,-2)).concat([f,h]);B(u===d,()=>`Error in matMul: inner shapes (${u}) and (${d}) of Tensors with shapes ${i.shape} and ${s.shape} and transposeA=${o} and transposeB=${a} must match.`);const k=o?[x,u,f]:[x,f,u],E=a?[v,h,d]:[v,d,h],_=Gt({inputs:{x:i},backend:n,attrs:{shape:k}}),I=Gt({inputs:{x:s},backend:n,attrs:{shape:E}}),N=o?_.shape[1]:_.shape[2],D=o?_.shape[2]:_.shape[1],P=a?I.shape[1]:I.shape[2],F=Math.max(x,v),U=n.data.get(_.dataId).values,j=n.data.get(I.dataId).values,W=qe(_.shape),q=qe(I.shape),[Q,ee,V]=o?[W[0],1,W[1]]:[W[0],W[1],1],[H,Y,Z]=a?[1,q[1],q[0]]:[q[1],1,q[0]],se=D*P,ce=it([F,D,P],_.dtype),de=ce.values,fe=n.blockSize;for(let ge=0;ge<F;ge++)for(let ke=0;ke<D;ke+=fe)for(let Ie=0;Ie<P;Ie+=fe)for(let $e=0;$e<N;$e+=fe){const De=Math.min(ke+fe,D),Oe=Math.min(Ie+fe,P),Qe=Math.min($e+fe,N);for(let Xe=ke;Xe<De;Xe++)for(let et=Ie;et<Oe;et++){let He=0;for(let rt=$e;rt<Qe;rt++){const nt=Math.min(ge,x-1)*Q,bt=Math.min(ge,v-1)*Z,ln=U[nt+Xe*ee+rt*V],lt=j[rt*H+et*Y+bt];He+=ln*lt}de[ge*se+(Xe*P+et)]+=He}}return n.disposeIntermediateTensorInfo(_),n.disposeIntermediateTensorInfo(I),n.makeTensorInfo(w,ce.dtype,ce.values)}const EJe={kernelName:V2,backendName:"cpu",kernelFunc:dJ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TJe(t){const{inputs:e,backend:n,attrs:r}=t,{a:i,b:s,bias:o,preluActivationWeights:a}=e,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=r;let f,h,m;const y=[];f=dJ({inputs:{a:i,b:s},attrs:{transposeA:l,transposeB:c},backend:n}),o&&(h=Dh({inputs:{a:f,b:o},backend:n}),y.push(f),f=h),u&&(m=rw(n,f,u,a,d),y.push(f),f=m);for(const v of y)n.disposeIntermediateTensorInfo(v);return f}const _Je={kernelName:jg,backendName:"cpu",kernelFunc:TJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IJe=Rt(Ay,t=>Math.acos(t)),$Je={kernelName:Ay,backendName:"cpu",kernelFunc:IJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NJe=Rt(Py,t=>Math.acosh(t)),OJe={kernelName:Py,backendName:"cpu",kernelFunc:NJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RJe(t){const{inputs:e,backend:n}=t,r=e;Be(e,"addN");const i=r.map(a=>n.data.get(a.dataId).values),s=it(r[0].shape,r[0].dtype),o=s.values;for(let a=0;a<r.length;a++){const l=i[a];for(let c=0;c<o.length;c++)o[c]+=l[c]}return n.makeTensorInfo(s.shape,s.dtype,s.values)}const AJe={kernelName:D2,backendName:"cpu",kernelFunc:RJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PJe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s,keepDims:o}=r;Be(i,"all");const a=wt(s,i.shape);let l=a;const c=An(l,i.shape.length);let u=i;c!=null&&(u=gi({inputs:{x:i},backend:n,attrs:{perm:c}}),l=Pn(l.length,i.shape.length)),kr("all",l,u.shape.length);const[d,f]=Sr(u.shape,l),h=le(f),m=vr(le(d),u.dtype),y=n.data.get(u.dataId).values;for(let v=0;v<m.length;++v){const b=v*h;let w=y[b];for(let k=0;k<h;++k){const E=y[b+k];w=w&&E}m[v]=w}c!=null&&n.disposeIntermediateTensorInfo(u);const x=n.makeTensorInfo(d,u.dtype,m);if(o){const v=Qn(d,a),b=Gt({inputs:{x},backend:n,attrs:{shape:v}});return n.disposeIntermediateTensorInfo(x),b}return x}const DJe={kernelName:F2,backendName:"cpu",kernelFunc:PJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FJe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s,keepDims:o}=r;Be(i,"any");const a=wt(s,i.shape);let l=a;const c=An(l,i.shape.length);let u=i;c!=null&&(u=gi({inputs:{x:i},backend:n,attrs:{perm:c}}),l=Pn(l.length,i.shape.length)),kr("any",l,u.shape.length);const[d,f]=Sr(u.shape,l),h=le(f),m=vr(le(d),u.dtype),y=n.data.get(u.dataId).values;for(let v=0;v<m.length;++v){const b=v*h;let w=y[b];for(let k=0;k<h;++k){const E=y[b+k];w=w||E}m[v]=w}c!=null&&n.disposeIntermediateTensorInfo(u);const x=n.makeTensorInfo(d,u.dtype,m);if(o){const v=Qn(d,a),b=Gt({inputs:{x},backend:n,attrs:{shape:v}});return n.disposeIntermediateTensorInfo(x),b}return x}const LJe={kernelName:L2,backendName:"cpu",kernelFunc:FJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MJe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s}=r;Be(i,"argMax");let o=wt(s,i.shape);const a=An(o,i.shape.length);let l=i;const c=[];a!=null&&(l=gi({inputs:{x:i},backend:n,attrs:{perm:a}}),c.push(l),o=Pn(o.length,l.shape.length)),o=[o[0]],kr("argMax",o,l.shape.length);const[u,d]=Sr(l.shape,o),f=le(u),h=vr(f,"int32"),m=le(d),y=n.data.get(l.dataId).values;for(let x=0;x<h.length;++x){const v=x*m;let b=y[v],w=0;for(let k=0;k<m;++k){const E=y[v+k];E>b&&(b=E,w=k)}h[x]=w}return c.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.makeTensorInfo(u,"int32",h)}const BJe={kernelName:M2,backendName:"cpu",kernelFunc:MJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zJe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s}=r;Be(i,"argMin");let o=wt(s,i.shape);const a=An(o,i.shape.length);let l=i;const c=[];a!=null&&(l=gi({inputs:{x:i},backend:n,attrs:{perm:a}}),c.push(l),o=Pn(o.length,l.shape.length)),o=[o[0]],kr("argMin",o,l.shape.length);const[u,d]=Sr(l.shape,o),f=le(u),h=vr(f,"int32"),m=le(d),y=n.data.get(l.dataId).values;for(let x=0;x<h.length;++x){const v=x*m;let b=y[v],w=0;for(let k=0;k<m;++k){const E=y[v+k];E<b&&(b=E,w=k)}h[x]=w}return c.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.makeTensorInfo(u,"int32",h)}const jJe={kernelName:B2,backendName:"cpu",kernelFunc:zJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VJe=Rt(Dy,t=>Math.asin(t)),UJe={kernelName:Dy,backendName:"cpu",kernelFunc:VJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WJe=Rt(Fy,t=>Math.asinh(t)),GJe={kernelName:Fy,backendName:"cpu",kernelFunc:WJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HJe=Rt(Ly,t=>Math.atan(t)),qJe={kernelName:Ly,backendName:"cpu",kernelFunc:HJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KJe=Bn((t,e)=>Math.atan2(t,e)),XJe=ar(By,KJe),QJe={kernelName:By,backendName:"cpu",kernelFunc:XJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YJe=Rt(My,t=>Math.atanh(t)),JJe={kernelName:My,backendName:"cpu",kernelFunc:YJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jP(t,e,n,r,i,s){const o=i.strideHeight,a=i.strideWidth,l=i.dilationHeight,c=i.dilationWidth,u=i.effectiveFilterHeight,d=i.effectiveFilterWidth,f=i.padInfo.top,h=i.padInfo.left,m=s==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,y=it(i.outShape,n),x=y.values,v=i.outShape[1]*i.outShape[2]*i.outShape[3],b=i.outShape[2]*i.outShape[3],w=i.outShape[3];for(let k=0;k<i.batchSize;++k){const E=k*v,_=k*r[0];for(let I=0;I<i.inChannels;++I)for(let N=0;N<i.outHeight;++N){const D=N*o-f,P=Math.max(0,D),F=Math.min(i.inHeight,u+D),U=E+N*b;for(let j=0;j<i.outWidth;++j){const W=j*a-h,q=Math.max(0,W),Q=Math.min(i.inWidth,d+W);let ee=m,V=0,H=0;for(let Z=P;Z<F;Z+=l){const se=_+Z*r[1];for(let ce=q;ce<Q;ce+=c){const de=se+ce*r[2],fe=t[de+I];s==="max"&&fe>ee?ee=fe:s==="avg"&&(V+=fe,H++)}if(isNaN(ee))break}const Y=U+j*w+I;x[Y]=s==="avg"?V/H:ee}}}return y}function fJ(t,e,n,r,i=!1,s=!1){const o=it(r.outShape,"int32"),a=r.strideHeight,l=r.strideWidth,c=r.dilationHeight,u=r.dilationWidth,d=r.effectiveFilterHeight,f=r.effectiveFilterWidth,h=r.padInfo.top,m=r.padInfo.left,y=it(e,n,t);for(let x=0;x<r.batchSize;++x)for(let v=0;v<r.inChannels;++v)for(let b=0;b<r.outHeight;++b){const w=b*a-h;let k=w;for(;k<0;)k+=c;const E=Math.min(r.inHeight,d+w);for(let _=0;_<r.outWidth;++_){const I=_*l-m;let N=I;for(;N<0;)N+=u;const D=Math.min(r.inWidth,f+I);let P=Number.NEGATIVE_INFINITY,F=-1;for(let U=k;U<E;U+=c){const j=U-w;for(let W=N;W<D;W+=u){const q=W-I,Q=y.get(x,U,W,v);Q>P&&(P=Q,i?F=s?((x*r.inHeight+U)*r.inWidth+W)*r.inChannels+v:(U*r.inWidth+W)*r.inChannels+v:F=j*f+q)}}o.set(F,x,b,_,v)}}return o}function hJ(t,e,n,r,i,s){const o=i.strideDepth,a=i.strideHeight,l=i.strideWidth,c=i.dilationDepth,u=i.dilationHeight,d=i.dilationWidth,f=i.effectiveFilterDepth,h=i.effectiveFilterHeight,m=i.effectiveFilterWidth,y=i.padInfo.front,x=i.padInfo.top,v=i.padInfo.left,b=s==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,w=it(i.outShape,n),k=w.values,E=i.outShape[1]*i.outShape[2]*i.outShape[3]*i.outShape[4],_=i.outShape[2]*i.outShape[3]*i.outShape[4],I=i.outShape[3]*i.outShape[4],N=i.outShape[4];for(let D=0;D<i.batchSize;++D){const P=D*E,F=D*r[0];for(let U=0;U<i.inChannels;++U)for(let j=0;j<i.outDepth;++j){const W=j*o-y;let q=W;for(;q<0;)q+=c;const Q=Math.min(i.inDepth,f+W),ee=P+j*_;for(let V=0;V<i.outHeight;++V){const H=V*a-x;let Y=H;for(;Y<0;)Y+=u;const Z=Math.min(i.inHeight,h+H),se=ee+V*I;for(let ce=0;ce<i.outWidth;++ce){const de=ce*l-v;let fe=de;for(;fe<0;)fe+=d;const ge=Math.min(i.inWidth,m+de),ke=se+ce*N;let Ie=b,$e=0,De=0;for(let Qe=q;Qe<Q;Qe+=c){const Xe=F+Qe*r[1];for(let et=Y;et<Z;et+=u){const He=Xe+et*r[2];for(let rt=fe;rt<ge;rt+=d){const nt=He+rt*r[3],bt=t[nt+U];if(s==="max"&&bt>Ie?Ie=bt:s==="avg"&&($e+=bt,De++),isNaN(Ie))break}if(isNaN(Ie))break}if(isNaN(Ie))break}const Oe=ke+U;k[Oe]=s==="avg"?$e/De:Ie}}}}return w}function ZJe(t,e){const n=it(e.outShape,"int32"),r=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=e.dilationDepth,a=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,u=e.effectiveFilterHeight,d=e.effectiveFilterWidth,f=e.padInfo.front,h=e.padInfo.top,m=e.padInfo.left;for(let y=0;y<e.batchSize;++y)for(let x=0;x<e.inChannels;++x)for(let v=0;v<e.outDepth;++v){const b=v*r-f;let w=b;for(;w<0;)w+=o;const k=Math.min(e.inDepth,c+b);for(let E=0;E<e.outHeight;++E){const _=E*i-h;let I=_;for(;I<0;)I+=a;const N=Math.min(e.inHeight,u+_);for(let D=0;D<e.outWidth;++D){const P=D*s-m;let F=P;for(;F<0;)F+=l;const U=Math.min(e.inWidth,d+P);let j=Number.NEGATIVE_INFINITY,W=-1;for(let q=w;q<k;q+=o){const Q=q-b;for(let ee=I;ee<N;ee+=a){const V=ee-_;for(let H=F;H<U;H+=l){const Y=H-P,Z=t.get(y,q,ee,H,x);Z>=j&&(j=Z,W=Q*u*d+V*u+Y)}}}n.set(W,y,v,E,D,x)}}}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eZe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e;Be(i,"avgPool");const{filterSize:s,strides:o,pad:a,dimRoundingMode:l}=r,c=1;B(Br(o,c),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${c}'`);const u=Ks(i.shape,s,o,c,a,l);let d;if(u.filterWidth===1&&u.filterHeight===1&&Mt(u.inShape,u.outShape))d=fa({inputs:{x:i},backend:n});else{const f=n.data.get(i.dataId).values,h=qe(i.shape),m=jP(f,i.shape,i.dtype,h,u,"avg");d=n.makeTensorInfo(u.outShape,i.dtype,m.values)}return d}const tZe={kernelName:z2,backendName:"cpu",kernelFunc:eZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nZe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{filterSize:s,strides:o,pad:a,dimRoundingMode:l,dataFormat:c}=r;Be(i,"avgPool3d");const u=hl(i.shape,s,o,1,a,l,c),d=n.data.get(i.dataId).values,f=hJ(d,i.shape,i.dtype,qe(i.shape),u,"avg");return n.makeTensorInfo(f.shape,"float32",f.values)}const rZe={kernelName:j2,backendName:"cpu",kernelFunc:nZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iZe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,input:s}=e,{filterSize:o,strides:a,pad:l,dimRoundingMode:c}=r;Be([i,s],"avgPool3DGrad");const u=hl(s.shape,o,a,1,l,c),d=u.strideDepth,f=u.strideHeight,h=u.strideWidth,m=u.filterDepth,y=u.filterHeight,x=u.filterWidth,v=u.dilationDepth,b=u.dilationHeight,w=u.dilationWidth,k=u.effectiveFilterDepth,E=u.effectiveFilterHeight,_=u.effectiveFilterWidth,I=k-1-u.padInfo.front,N=_-1-u.padInfo.left,D=E-1-u.padInfo.top,P=it(s.shape,"float32"),F=1/(m*y*x),U=n.bufferSync(i);for(let j=0;j<u.batchSize;++j)for(let W=0;W<u.inChannels;++W)for(let q=0;q<u.inDepth;++q)for(let Q=0;Q<u.inHeight;++Q)for(let ee=0;ee<u.inWidth;++ee){const V=q-I,H=Q-D,Y=ee-N;let Z=0;for(let se=0;se<k;se+=v){const ce=(V+se)/d;if(!(ce<0||ce>=u.outDepth||Math.floor(ce)!==ce))for(let de=0;de<E;de+=b){const fe=(H+de)/f;if(!(fe<0||fe>=u.outHeight||Math.floor(fe)!==fe))for(let ge=0;ge<_;ge+=w){const ke=(Y+ge)/h;if(ke<0||ke>=u.outWidth||Math.floor(ke)!==ke)continue;const Ie=U.get(j,ce,fe,ke,W);Z+=Ie}}}P.set(Z*F,j,q,Q,ee,W)}return n.makeTensorInfo(P.shape,P.dtype,P.values)}const sZe={kernelName:F3,backendName:"cpu",kernelFunc:iZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oZe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,input:s}=e,o=s;Be([i,s],"avgPoolGrad");const{filterSize:a,strides:l,pad:c}=r,u=Ks(o.shape,a,l,1,c),d=u.strideHeight,f=u.strideWidth,h=u.filterHeight,m=u.filterWidth,y=u.dilationHeight,x=u.dilationWidth,v=u.effectiveFilterHeight,b=u.effectiveFilterWidth,w=b-1-u.padInfo.left,k=v-1-u.padInfo.top,E=it(o.shape,"float32"),_=1/(h*m),I=n.data.get(i.dataId).values,N=it(i.shape,"float32",I);for(let D=0;D<u.batchSize;++D)for(let P=0;P<u.inChannels;++P)for(let F=0;F<u.inHeight;++F)for(let U=0;U<u.inWidth;++U){const j=F-k,W=U-w;let q=0;for(let Q=0;Q<v;Q+=y){const ee=(j+Q)/d;if(!(ee<0||ee>=u.outHeight||Math.floor(ee)!==ee))for(let V=0;V<b;V+=x){const H=(W+V)/f;if(H<0||H>=u.outWidth||Math.floor(H)!==H)continue;const Y=N.get(D,ee,H,P);q+=Y}}E.set(q*_,D,F,U,P)}return n.makeTensorInfo(E.shape,E.dtype,E.values)}const aZe={kernelName:D3,backendName:"cpu",kernelFunc:oZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lZe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,scale:s,offset:o,mean:a,variance:l}=e;B(a.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),B(o==null||a.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),B(s==null||a.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),Be([i,a,l,s,o],"batchNorm");let{varianceEpsilon:c}=r;c==null&&(c=.001);const u=n.data.get(i.dataId).values,d=n.data.get(a.dataId).values,f=n.data.get(l.dataId).values,h=s?n.data.get(s.dataId).values:new Float32Array([1]),m=o?n.data.get(o.dataId).values:new Float32Array([0]),y=new Float32Array(u.length),x=m.length,v=h.length,b=f.length,w=d.length;let k=0,E=0,_=0,I=0;for(let N=0;N<u.length;++N)y[N]=m[k++]+(u[N]-d[E++])*h[_++]/Math.sqrt(f[I++]+c),k>=x&&(k=0),E>=w&&(E=0),_>=v&&(_=0),I>=b&&(I=0);return n.makeTensorInfo(i.shape,i.dtype,y)}const cZe={kernelName:mS,backendName:"cpu",kernelFunc:lZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uZe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{blockShape:s,crops:o}=r;Be([i],"batchToSpaceND");const a=s.reduce((v,b)=>v*b),l=Kv(i.shape,s,a),c=Xv(l.length,s.length),u=Qv(i.shape,s,a),d=lP(o,s.length),f=cP(u,o,s.length),h=Gt({inputs:{x:i},backend:n,attrs:{shape:l}}),m=gi({inputs:{x:h},backend:n,attrs:{perm:c}}),y=Gt({inputs:{x:m},backend:n,attrs:{shape:u}}),x=ed({inputs:{x:y},backend:n,attrs:{begin:d,size:f}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),x}const dZe={kernelName:U2,backendName:"cpu",kernelFunc:uZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fZe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,weights:s}=e,{size:o}=r,a=n.data.get(i.dataId).values,l=n.data.get(s.dataId).values,c=RP(a,l,s.dtype,s.shape,o);return n.makeTensorInfo([o],s.dtype,c)}const hZe={kernelName:W2,backendName:"cpu",kernelFunc:fZe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pZe(t){const{inputs:e,backend:n}=t,{s0:r,s1:i}=e,s=n.data.get(r.dataId).values,o=n.data.get(i.dataId).values,a=pt(Array.from(s),Array.from(o));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const mZe={kernelName:G2,backendName:"cpu",kernelFunc:pZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gZe=Rt(Vy,(t,e)=>{const n=e;return t>n.clipValueMax?n.clipValueMax:t<n.clipValueMin?n.clipValueMin:t}),yZe={kernelName:Vy,backendName:"cpu",kernelFunc:gZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vZe=t=>{const{x:e}=t.inputs,n=t.backend,r=new Float32Array(le(e.shape)),i=n.data.get(e.dataId),s=i.complexTensorInfos.real,o=i.complexTensorInfos.imag,a=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values;for(let c=0;c<a.length;c++){const u=a[c],d=l[c];r[c]=Math.hypot(u,d)}return n.makeOutput(r,e.shape,"float32")},xZe={kernelName:q2,backendName:"cpu",kernelFunc:vZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lh(t){const{inputs:e,backend:n}=t,{input:r}=e,i=n.data.get(r.dataId).complexTensorInfos.imag,s=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,s)}const bZe={kernelName:xS,backendName:"cpu",kernelFunc:Lh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mh(t){const{inputs:e,backend:n,attrs:r}=t,{axis:i}=r,s=wt(i,e[0].shape)[0],o=e.map(y=>y.shape);sP(o,s);let a=ia(e.map(y=>y.shape),s);if(le(a)===0)return n.makeTensorInfo(a,e[0].dtype,[]);const l=e.filter(y=>le(y.shape)>0);if(l.length===1)return fa({inputs:{x:l[0]},backend:n});if(l[0].dtype==="complex64"){const y=l.map(k=>Zu({inputs:{input:k},backend:n})),x=l.map(k=>Lh({inputs:{input:k},backend:n})),v=Mh({inputs:y,backend:n,attrs:{axis:s}}),b=Mh({inputs:x,backend:n,attrs:{axis:s}}),w=Ai({inputs:{real:v,imag:b},backend:n});return y.forEach(k=>n.disposeIntermediateTensorInfo(k)),x.forEach(k=>n.disposeIntermediateTensorInfo(k)),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),w}const c=l.map(y=>{const v=[-1,le(y.shape.slice(s))];return Gt({inputs:{x:y},backend:n,attrs:{shape:v}})}),u=c.map(y=>({vals:n.data.get(y.dataId).values,shape:y.shape}));a=ia(c.map(y=>y.shape),1);const d=c[0].shape[0]===1,f=zQ(u,a,e[0].dtype,d),h=ia(l.map(y=>y.shape),s),m=n.makeTensorInfo(h,e[0].dtype,f);return c.forEach(y=>n.disposeIntermediateTensorInfo(y)),m}const wZe={kernelName:K2,backendName:"cpu",kernelFunc:Mh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pJ(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:s}=e,{strides:o,pad:a,dataFormat:l,dilations:c,dimRoundingMode:u}=r;Be([i,s],"conv2d");const d=pl(l),f=or(i.shape,s.shape,o,c,a,u,!1,d),h=f.filterHeight,m=f.filterWidth,y=f.dilationHeight,x=f.dilationWidth,v=f.padInfo.left,b=f.padInfo.top,w=f.dataFormat==="channelsLast",k=new qn(f.outShape,i.dtype),E=qe(i.shape),_=qe(s.shape),I=E[0],N=w?E[1]:E[2],D=w?E[2]:1,P=w?1:E[1],F=k.strides[0],U=w?k.strides[1]:k.strides[2],j=w?k.strides[2]:1,W=w?1:k.strides[1],q=n.data.get(i.dataId).values,Q=n.data.get(s.dataId).values,ee=k.values;for(let V=0;V<f.batchSize;++V){const H=V*I,Y=V*F;for(let Z=0;Z<f.outHeight;++Z){const se=Y+Z*U,ce=Z*f.strideHeight-b;for(let de=0;de<h;++de){const fe=ce+de*y;if(fe<0||fe>=f.inHeight)continue;const ge=de*_[0],ke=H+fe*N;for(let Ie=0;Ie<f.outWidth;++Ie){const $e=se+Ie*j,De=Ie*f.strideWidth-v;for(let Oe=0;Oe<m;++Oe){const Qe=De+Oe*x;if(Qe<0||Qe>=f.inWidth)continue;const Xe=ge+Oe*_[1],et=ke+Qe*D;let He=Xe;for(let rt=0;rt<f.inChannels;++rt){const nt=q[et+rt*P];for(let bt=0;bt<f.outChannels;++bt)ee[$e+bt*W]+=nt*Q[He+bt];He+=f.outChannels}}}}}}return n.makeTensorInfo(k.shape,k.dtype,ee)}const SZe={kernelName:X2,backendName:"cpu",kernelFunc:pJ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kZe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,dy:s}=e,{strides:o,pad:a,dataFormat:l,dimRoundingMode:c,filterShape:u}=r;Be([i,s],"conv2dBackpropFilter");const d=pl(l),f=or(i.shape,u,o,1,a,c,!1,d),{strideHeight:h,strideWidth:m,filterHeight:y,filterWidth:x}=f,v=f.dataFormat==="channelsLast",b=new qn(f.filterShape,"float32"),w=f.padInfo.left,k=f.padInfo.top,E=n.data.get(i.dataId).values,_=n.data.get(s.dataId).values,I=new qn(i.shape,i.dtype,E),N=new qn(s.shape,s.dtype,_);for(let D=0;D<y;++D){const P=Math.max(0,Math.ceil((k-D)/h)),F=Math.min(f.outHeight,(f.inHeight+k-D)/h);for(let U=0;U<x;++U){const j=Math.max(0,Math.ceil((w-U)/m)),W=Math.min(f.outWidth,(f.inWidth+w-U)/m);for(let q=0;q<f.inChannels;++q)for(let Q=0;Q<f.outChannels;++Q){let ee=0;for(let V=0;V<f.batchSize;++V)for(let H=P;H<F;++H){const Y=D+H*h-k;for(let Z=j;Z<W;++Z){const se=U+Z*m-w;v?ee+=I.get(V,Y,se,q)*N.get(V,H,Z,Q):ee+=I.get(V,q,Y,se)*N.get(V,Q,H,Z)}}b.set(ee,D,U,q,Q)}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}const CZe={kernelName:Q2,backendName:"cpu",kernelFunc:kZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EZe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,filter:s}=e,{inputShape:o,strides:a,pad:l,dataFormat:c,dimRoundingMode:u}=r;Be([i,s],"conv2dBackpropInput");const d=qe(s.shape),f=qe(i.shape);let h=pl(c);const m=or(o,s.shape,a,1,l,u,!1,h),y=new qn(m.inShape,"float32"),x=y.values,v=n.data.get(i.dataId).values,b=n.data.get(s.dataId).values,[w,k,E]=d,{batchSize:_,filterHeight:I,filterWidth:N,inChannels:D,inHeight:P,inWidth:F,outChannels:U,outHeight:j,outWidth:W,strideHeight:q,strideWidth:Q}=m;h=m.dataFormat;const ee=I-1-m.padInfo.top,V=N-1-m.padInfo.left,H=h==="channelsLast",Y=y.strides[0],Z=H?y.strides[1]:y.strides[2],se=H?y.strides[2]:1,ce=H?1:y.strides[1],de=f[0],fe=H?f[1]:f[2],ge=H?f[2]:1,ke=H?1:f[1];for(let Ie=0;Ie<_;++Ie)for(let $e=0;$e<D;++$e)for(let De=0;De<P;++De){const Oe=De-ee,Qe=Math.max(0,Math.ceil(Oe/q)),Xe=Math.min(j,(I+Oe)/q);for(let et=0;et<F;++et){const He=et-V,rt=Math.max(0,Math.ceil(He/Q)),nt=Math.min(W,(N+He)/Q);let bt=0;for(let lt=Qe;lt<Xe;++lt){const _n=lt*q-Oe;for(let cn=rt;cn<nt;++cn){const lr=cn*Q-He,ye=de*Ie+fe*lt+ge*cn,Ae=w*(I-1-_n)+k*(N-1-lr)+E*$e;for(let Pe=0;Pe<U;++Pe){const ct=v[ye+ke*Pe],Ct=b[Ae+Pe];bt+=ct*Ct}}}const ln=Y*Ie+Z*De+se*et+ce*$e;x[ln]=bt}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const TZe={kernelName:Y2,backendName:"cpu",kernelFunc:EZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Ze(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:s}=e,{strides:o,pad:a,dilations:l}=r;Be([i,s],"conv3d");const c=Pc(i.shape,s.shape,o,l,a),{filterDepth:u,filterHeight:d,filterWidth:f,dilationDepth:h,dilationHeight:m,dilationWidth:y,padInfo:x}=c,v=x.front,b=x.left,w=x.top,k=new qn(c.outShape,i.dtype),E=n.data.get(i.dataId).values,_=n.data.get(s.dataId).values,I=k.values,N=qe(i.shape),D=qe(s.shape);for(let P=0;P<c.batchSize;++P){const F=P*N[0],U=P*k.strides[0];for(let j=0;j<c.outDepth;++j){const W=U+j*k.strides[1],q=j*c.strideDepth-v;for(let Q=0;Q<u;++Q){const ee=q+Q*h;if(ee<0||ee>=c.inDepth)continue;const V=Q*D[0],H=F+ee*N[1];for(let Y=0;Y<c.outHeight;++Y){const Z=W+Y*k.strides[2],se=Y*c.strideHeight-w;for(let ce=0;ce<d;++ce){const de=se+ce*m;if(de<0||de>=c.inHeight)continue;const fe=V+ce*D[1],ge=H+de*N[2];for(let ke=0;ke<c.outWidth;++ke){const Ie=Z+ke*c.outChannels,$e=ke*c.strideWidth-b;for(let De=0;De<f;++De){const Oe=$e+De*y;if(Oe<0||Oe>=c.inWidth)continue;const Qe=fe+De*D[2],Xe=ge+Oe*c.inChannels;let et=Qe;for(let He=0;He<c.inChannels;++He){const rt=E[Xe+He];for(let nt=0;nt<c.outChannels;++nt)I[Ie+nt]+=rt*_[et+nt];et+=c.outChannels}}}}}}}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}const IZe={kernelName:J2,backendName:"cpu",kernelFunc:_Ze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Ze(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,dy:s}=e,{strides:o,pad:a,filterShape:l}=r;Be([i,s],"conv3dBackpropFilterV2");const c=qe(i.shape),u=qe(s.shape),d=Pc(i.shape,l,o,1,a),f=d.strideDepth,h=d.strideHeight,m=d.strideWidth,y=d.filterDepth,x=d.filterHeight,v=d.filterWidth,b=new qn(d.filterShape,"float32"),w=b.values,[k,E,_,I]=b.strides,N=n.data.get(s.dataId).values,[D,P,F,U]=u,j=n.data.get(i.dataId).values,[W,q,Q,ee]=c,V=d.padInfo.front,H=d.padInfo.left,Y=d.padInfo.top;for(let Z=0;Z<y;++Z){const se=Math.max(0,Math.ceil((V-Z)/f)),ce=Math.min(d.outDepth,(d.inDepth+V-Z)/f),de=Z*k;for(let fe=0;fe<x;++fe){const ge=Math.max(0,Math.ceil((Y-fe)/h)),ke=Math.min(d.outHeight,(d.inHeight+Y-fe)/h),Ie=fe*E+de;for(let $e=0;$e<v;++$e){const De=Math.max(0,Math.ceil((H-$e)/m)),Oe=Math.min(d.outWidth,(d.inWidth+H-$e)/m),Qe=$e*_+Ie;for(let Xe=0;Xe<d.inChannels;++Xe){const et=Xe*I+Qe;for(let He=0;He<d.outChannels;++He){let rt=0;for(let nt=0;nt<d.batchSize;++nt){const bt=nt*W,ln=nt*D;for(let lt=se;lt<ce;++lt){const cn=(Z+lt*f-V)*q+bt,lr=lt*P+ln;for(let ye=ge;ye<ke;++ye){const Pe=(fe+ye*h-Y)*Q+cn,ct=ye*F+lr;for(let Ct=De;Ct<Oe;++Ct){const xi=($e+Ct*m-H)*ee+Pe,Ce=Ct*U+ct;rt+=j[xi+Xe]*N[Ce+He]}}}}w[et+He]=rt}}}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}const NZe={kernelName:L3,backendName:"cpu",kernelFunc:$Ze};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OZe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,filter:s}=e,{pad:o,strides:a,inputShape:l}=r;Be([i],"conv3dBackpropInputV2");const c=qe(i.shape),u=qe(s.shape),d=Pc(l,s.shape,a,1,o),f=new qn(d.inShape,"float32"),h=f.values,[m,y,x,v]=f.strides,b=n.data.get(i.dataId).values,[w,k,E,_]=c,I=n.data.get(s.dataId).values,[N,D,P,F]=u,{batchSize:U,filterDepth:j,filterHeight:W,filterWidth:q,inChannels:Q,inDepth:ee,inHeight:V,inWidth:H,outChannels:Y,outDepth:Z,outHeight:se,outWidth:ce,strideDepth:de,strideHeight:fe,strideWidth:ge}=d,ke=j-1-d.padInfo.front,Ie=W-1-d.padInfo.top,$e=q-1-d.padInfo.left;for(let De=0;De<U;++De)for(let Oe=0;Oe<Q;++Oe)for(let Qe=0;Qe<ee;++Qe){const Xe=Qe-ke,et=Math.max(0,Math.ceil(Xe/de)),He=Math.min(Z,(j+Xe)/de);for(let rt=0;rt<V;++rt){const nt=rt-Ie,bt=Math.max(0,Math.ceil(nt/fe)),ln=Math.min(se,(W+nt)/fe);for(let lt=0;lt<H;++lt){const _n=lt-$e,cn=Math.max(0,Math.ceil(_n/ge)),lr=Math.min(ce,(q+_n)/ge);let ye=0;for(let Ae=et;Ae<He;++Ae){const Pe=Ae*de-Xe;for(let ct=bt;ct<ln;++ct){const Ct=ct*fe-nt;for(let ai=cn;ai<lr;++ai){const xi=ai*ge-_n,Ce=w*De+k*Ae+E*ct+_*ai,qt=N*(j-1-Pe)+D*(W-1-Ct)+P*(q-1-xi)+F*Oe;for(let Yn=0;Yn<Y;++Yn){const Er=b[Ce+Yn],bi=I[qt+Yn];ye+=Er*bi}}}}h[m*De+y*Qe+x*rt+v*lt+Oe]=ye}}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}const RZe={kernelName:Z2,backendName:"cpu",kernelFunc:OZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AZe=Rt(Uy,t=>Math.cos(t)),PZe={kernelName:Uy,backendName:"cpu",kernelFunc:AZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DZe=Rt(Wy,t=>Math.cosh(t)),FZe={kernelName:Wy,backendName:"cpu",kernelFunc:DZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LZe(t){const{inputs:e,backend:n,attrs:r}=t,{image:i,boxes:s,boxInd:o}=e,{cropSize:a,method:l,extrapolationValue:c}=r,[u,d,f,h]=i.shape,m=s.shape[0],[y,x]=a,v=it([m,y,x,h],"float32"),b=n.data.get(s.dataId).values,w=n.data.get(o.dataId).values,k=n.data.get(i.dataId).values,E=qe(i.shape),_=qe(v.shape);for(let I=0;I<m;I++){const N=I*4,D=b[N],P=b[N+1],F=b[N+2],U=b[N+3],j=w[I];if(j>=u)continue;const W=y>1?(F-D)*(d-1)/(y-1):0,q=x>1?(U-P)*(f-1)/(x-1):0;for(let Q=0;Q<y;Q++){const ee=y>1?D*(d-1)+Q*W:.5*(D+F)*(d-1);if(ee<0||ee>d-1){for(let V=0;V<x;V++)for(let H=0;H<h;H++){const Y=H+V*_[2]+Q*_[1]+I*_[0];v.values[Y]=c}continue}if(l==="bilinear"){const V=Math.floor(ee),H=Math.ceil(ee),Y=ee-V;for(let Z=0;Z<x;Z++){const se=x>1?P*(f-1)+Z*q:.5*(P+U)*(f-1);if(se<0||se>f-1){for(let ge=0;ge<h;ge++){const ke=ge+Z*_[2]+Q*_[1]+I*_[0];v.values[ke]=c}continue}const ce=Math.floor(se),de=Math.ceil(se),fe=se-ce;for(let ge=0;ge<h;ge++){let ke=ge+ce*E[2]+V*E[1]+j*E[0];const Ie=k[ke];ke=ge+de*E[2]+V*E[1]+j*E[0];const $e=k[ke];ke=ge+ce*E[2]+H*E[1]+j*E[0];const De=k[ke];ke=ge+de*E[2]+H*E[1]+j*E[0];const Oe=k[ke],Qe=Ie+($e-Ie)*fe,Xe=De+(Oe-De)*fe;ke=ge+Z*_[2]+Q*_[1]+I*_[0],v.values[ke]=Qe+(Xe-Qe)*Y}}}else for(let V=0;V<x;++V){const H=x>1?P*(f-1)+V*q:.5*(P+U)*(f-1);if(H<0||H>f-1){for(let se=0;se<h;se++){const ce=se+V*_[2]+Q*_[1]+I*_[0];v.values[ce]=c}continue}const Y=Math.round(H),Z=Math.round(ee);for(let se=0;se<h;se++){const ce=se+Y*E[2]+Z*E[1]+j*E[0],de=se+V*_[2]+Q*_[1]+I*_[0];v.values[de]=k[ce]}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const MZe={kernelName:nS,backendName:"cpu",kernelFunc:LZe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BZe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s,exclusive:o,reverse:a}=r;Be(i,"cumprod");const l=An([s],i.shape.length);let c=i;l!=null&&(c=gi({inputs:{x:i},backend:n,attrs:{perm:l}}));const u=Pn(1,i.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const d=mi(c.dtype,"int32"),f=A2(le(c.shape),d),h=n.data.get(c.dataId).values,m=c.shape[c.shape.length-1],y=a?(v,b)=>v+m-b-1:(v,b)=>v+b;for(let v=0;v<h.length;v+=m)for(let b=0;b<m;b++){const w=y(v,b);if(b===0)f[w]=o?1:h[w];else{const k=y(v,b-1);f[w]=o?h[k]*f[k]:h[w]*f[k]}}const x=n.makeTensorInfo(c.shape,d,f);if(l!=null){const v=Vv(l),b=gi({inputs:{x},backend:n,attrs:{perm:v}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(c),b}return x}const zZe={kernelName:eS,backendName:"cpu",kernelFunc:BZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jZe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s,exclusive:o,reverse:a}=r;Be(i,"cumsum");const l=An([s],i.shape.length);let c=i;l!=null&&(c=gi({inputs:{x:i},backend:n,attrs:{perm:l}}));const u=Pn(1,i.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const d=mi(c.dtype,"int32"),f=vr(le(c.shape),d),h=n.data.get(c.dataId).values,m=c.shape[c.shape.length-1],y=a?(v,b)=>v+m-b-1:(v,b)=>v+b;for(let v=0;v<h.length;v+=m)for(let b=0;b<m;b++){const w=y(v,b);if(b===0)f[w]=o?0:h[w];else{const k=y(v,b-1);f[w]=o?h[k]+f[k]:h[w]+f[k]}}const x=n.makeTensorInfo(c.shape,d,f);if(l!=null){const v=Vv(l),b=gi({inputs:{x},backend:n,attrs:{perm:v}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(c),b}return x}const VZe={kernelName:tS,backendName:"cpu",kernelFunc:jZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UZe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,weights:s}=e,{size:o,binaryOutput:a}=r;if(i.shape.length===1){const l=n.data.get(i.dataId).values,c=n.data.get(s.dataId).values,u=RP(l,c,s.dtype,s.shape,o);return n.makeTensorInfo([o],s.dtype,u)}else if(i.shape.length===2){const l=n.bufferSync(i),c=n.bufferSync(s),u=MQ(l,c,o,a);return n.makeTensorInfo(u.shape,s.dtype,u.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${i.shape.length}.`)}const WZe={kernelName:rS,backendName:"cpu",kernelFunc:UZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GZe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{blockSize:s,dataFormat:o}=r;B(o==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${o}`);const a=i.shape[0],l=i.shape[1],c=i.shape[2],u=i.shape[3],d=l*s,f=c*s,h=u/(s*s),m=n.data.get(i.dataId).values,y=new Float32Array(a*d*f*h);let x=0;for(let v=0;v<a;++v)for(let b=0;b<d;++b){const w=Math.floor(b/s),k=b%s;for(let E=0;E<f;++E){const _=Math.floor(E/s),I=E%s,N=(k*s+I)*h;for(let D=0;D<h;++D){const F=D+N+u*(_+c*(w+l*v));y[x++]=m[F]}}}return n.makeTensorInfo([a,d,f,h],i.dtype,y)}const HZe={kernelName:iS,backendName:"cpu",kernelFunc:GZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mJ(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:s}=e,{strides:o,pad:a,dilations:l,dimRoundingMode:c}=r;Be([i,s],"depthwiseConv2DNative");const u=qe(i.shape),d=qe(s.shape);let f=l;f==null&&(f=[1,1]),B(Br(o,f),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${f}'`);const h=or(i.shape,s.shape,o,f,a,c,!0),{filterHeight:m,filterWidth:y,dilationHeight:x,dilationWidth:v,padInfo:b}=h,w=b.left,k=b.top,E=h.outChannels/h.inChannels,_=new qn(h.outShape,i.dtype),I=n.data.get(i.dataId).values,N=n.data.get(s.dataId).values,D=_.values;for(let P=0;P<h.batchSize;++P){const F=P*u[0],U=P*_.strides[0];for(let j=0;j<h.outHeight;++j){const W=U+j*_.strides[1],q=j*h.strideHeight-k;for(let Q=0;Q<m;++Q){const ee=q+Q*x;if(ee<0||ee>=h.inHeight)continue;const V=Q*d[0],H=F+ee*u[1];for(let Y=0;Y<h.outWidth;++Y){const Z=W+Y*_.strides[2],se=Y*h.strideWidth-w;for(let ce=0;ce<y;++ce){const de=se+ce*v;if(de<0||de>=h.inWidth)continue;const fe=V+ce*d[1],ge=H+de*h.inChannels;let ke=Z,Ie=fe;for(let $e=0;$e<h.inChannels;++$e){const De=I[ge+$e];for(let Oe=0;Oe<E;++Oe)D[ke+Oe]+=De*N[Ie+Oe];ke+=E,Ie+=E}}}}}}return n.makeTensorInfo(_.shape,_.dtype,_.values)}const qZe={kernelName:sS,backendName:"cpu",kernelFunc:mJ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KZe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,dy:s}=e,{strides:o,dilations:a,pad:l,dimRoundingMode:c,filterShape:u}=r;Be([i,s],"depthwiseConv2dNativeBackpropFilter");const d=or(i.shape,u,o,a,l,c,!0),{strideHeight:f,strideWidth:h,filterHeight:m,filterWidth:y}=d,x=new qn(d.filterShape,"float32"),v=d.padInfo.left,b=d.padInfo.top,w=d.outChannels/d.inChannels,k=n.data.get(i.dataId).values,E=new qn(i.shape,i.dtype,k),_=n.data.get(s.dataId).values,I=new qn(s.shape,s.dtype,_);for(let N=0;N<m;++N){const D=Math.max(0,Math.ceil((b-N)/f)),P=Math.min(d.outHeight,(d.inHeight+b-N)/f);for(let F=0;F<y;++F){const U=Math.max(0,Math.ceil((v-F)/h)),j=Math.min(d.outWidth,(d.inWidth+v-F)/h);for(let W=0;W<d.outChannels;++W){const q=Math.trunc(W/w),Q=W%w;let ee=0;for(let V=0;V<d.batchSize;++V)for(let H=D;H<P;++H){const Y=N+H*f-b;for(let Z=U;Z<j;++Z){const se=F+Z*h-v;ee+=E.get(V,Y,se,q)*I.get(V,H,Z,W)}}x.set(ee,N,F,q,Q)}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const XZe={kernelName:oS,backendName:"cpu",kernelFunc:KZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QZe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,filter:s}=e,{strides:o,dilations:a,pad:l,dimRoundingMode:c,inputShape:u}=r;Be([i,s],"depthwiseConv2DNativeBackpropInput");const d=qe(i.shape),f=qe(s.shape),h=or(u,s.shape,o,a,l,c,!0),m=new qn(h.inShape,"float32"),y=m.values,[x,v,b]=m.strides,w=n.data.get(i.dataId).values,[k,E,_]=d,I=n.data.get(s.dataId).values,[N,D,P]=f,{batchSize:F,filterHeight:U,filterWidth:j,inChannels:W,inHeight:q,inWidth:Q,outChannels:ee,outHeight:V,outWidth:H,strideHeight:Y,strideWidth:Z}=h,se=U-1-h.padInfo.top,ce=j-1-h.padInfo.left,de=ee/W;for(let fe=0;fe<F;++fe)for(let ge=0;ge<W;++ge)for(let ke=0;ke<q;++ke){const Ie=ke-se,$e=Math.max(0,Math.ceil(Ie/Y)),De=Math.min(V,(U+Ie)/Y);for(let Oe=0;Oe<Q;++Oe){const Qe=Oe-ce,Xe=Math.max(0,Math.ceil(Qe/Z)),et=Math.min(H,(j+Qe)/Z);let He=0;for(let rt=$e;rt<De;++rt){const nt=rt*Y-Ie;for(let bt=Xe;bt<et;++bt){const ln=bt*Z-Qe,lt=k*fe+E*rt+_*bt,_n=N*(U-1-nt)+D*(j-1-ln)+P*ge;for(let cn=0;cn<de;++cn){const lr=ge*de+cn,ye=w[lt+lr],Ae=I[_n+cn];He+=ye*Ae}}}y[x*fe+v*ke+b*Oe+ge]=He}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}const YZe={kernelName:aS,backendName:"cpu",kernelFunc:QZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JZe(t){const{inputs:e,backend:n}=t,{x:r}=e,i=le(r.shape),s=n.data.get(r.dataId).values,o=it([i,i],r.dtype),a=o.values;for(let c=0;c<s.length;c++)a[c*i+c]=s[c];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,o.dtype,o.values)}const ZZe={kernelName:lS,backendName:"cpu",kernelFunc:JZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eet={kernelName:cS,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:i}=t,{strides:s,pad:o,dilations:a}=n,l=e,c=l.data.get(r.dataId).values,u=r.shape.length,d=l.data.get(i.dataId).values,f=i.shape.length,{batchSize:h,inHeight:m,inWidth:y,inChannels:x,outHeight:v,outWidth:b,padInfo:w,strideHeight:k,strideWidth:E,filterHeight:_,filterWidth:I,dilationHeight:N,dilationWidth:D,outShape:P}=Bv(r.shape,i.shape,s,o,"NHWC",a),F=le(P),U=P.length,j=Gn(r.dtype,F);for(let q=0;q<h;++q)for(let Q=0;Q<v;++Q){const ee=Q*k-w.top;for(let V=0;V<b;++V){const H=V*E-w.left;for(let Y=0;Y<x;++Y){let Z=Number.MIN_SAFE_INTEGER;for(let ce=0;ce<_;++ce){const de=ee+ce*N;if(de>=0&&de<m)for(let fe=0;fe<I;++fe){const ge=H+fe*D;if(ge>=0&&ge<y){const ke=bo([q,de,ge,Y],u,qe(r.shape)),Ie=bo([ce,fe,Y],f,qe(i.shape)),$e=c[ke]+d[Ie];$e>Z&&(Z=$e)}}}const se=bo([q,Q,V,Y],U,qe(P));j[se]=Z}}}return{dataId:l.write(Oc(j,r.dtype),P,r.dtype),shape:P,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tet={kernelName:A$,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:i,dy:s}=t,{strides:o,pad:a,dilations:l}=n,c=e,u=os(r.shape,c.data.get(r.dataId).values),d=os(i.shape,c.data.get(i.dataId).values),{batchSize:f,inHeight:h,inWidth:m,inChannels:y,outHeight:x,outWidth:v,padInfo:b,strideHeight:w,strideWidth:k,filterHeight:E,filterWidth:_,dilationHeight:I,dilationWidth:N,outShape:D}=Bv(r.shape,i.shape,o,a,"NHWC",l);B(s.rank===D.length,()=>`Error in ${A$}, dy must have the same rank as output ${D.length}, but got ${s.rank}`);const P=os(D,c.data.get(s.dataId).values),F=O3(i.shape,i.dtype);for(let j=0;j<f;++j)for(let W=0;W<x;++W){const q=W*w-b.top;for(let Q=0;Q<v;++Q){const ee=Q*k-b.left;for(let V=0;V<y;++V){let H=Number.MIN_SAFE_INTEGER,Y=0,Z=0;for(let se=0;se<E;++se){const ce=q+se*I;if(ce>=0&&ce<h)for(let de=0;de<_;++de){const fe=ee+de*N;if(fe>=0&&fe<m){const ge=u[j][ce][fe][V]+d[se][de][V];ge>H&&(H=ge,Y=se,Z=de)}}}F[Y][Z][V]+=P[j][W][Q][V]}}}return{dataId:c.write(Oc(F,r.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const net={kernelName:R$,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:i,dy:s}=t,{strides:o,pad:a,dilations:l}=n,c=e,u=os(r.shape,c.data.get(r.dataId).values),d=os(i.shape,c.data.get(i.dataId).values),{batchSize:f,inHeight:h,inWidth:m,inChannels:y,outHeight:x,outWidth:v,padInfo:b,strideHeight:w,strideWidth:k,filterHeight:E,filterWidth:_,dilationHeight:I,dilationWidth:N,outShape:D}=Bv(r.shape,i.shape,o,a,"NHWC",l);B(s.rank===D.length,()=>`Error in ${R$}, dy must have the same rank as output ${D.length}, but got ${s.rank}`);const P=os(D,c.data.get(s.dataId).values),F=O3(r.shape,r.dtype);for(let j=0;j<f;++j)for(let W=0;W<x;++W){const q=W*w-b.top;for(let Q=0;Q<v;++Q){const ee=Q*k-b.left;for(let V=0;V<y;++V){let H=Number.MIN_SAFE_INTEGER,Y=q<0?0:q,Z=ee<0?0:ee;for(let se=0;se<E;++se){const ce=q+se*I;if(ce>=0&&ce<h)for(let de=0;de<_;++de){const fe=ee+de*N;if(fe>=0&&fe<m){const ge=u[j][ce][fe][V]+d[se][de][V];ge>H&&(H=ge,Y=ce,Z=fe)}}}F[j][Y][Z][V]+=P[j][W][Q][V]}}}return{dataId:c.write(Oc(F,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i0(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s,keepDims:o}=r;Be(i,"sum");let a;i.dtype==="bool"?a=wc({inputs:{x:i},backend:n,attrs:{dtype:"int32"}}):a=fa({inputs:{x:i},backend:n});const l=a.shape.length,c=wt(s,a.shape),u=An(c,l);let d=c,f=a;u!=null&&(f=gi({inputs:{x:a},backend:n,attrs:{perm:u}}),d=Pn(d.length,l)),kr("sum",d,f.shape.length);const[h,m]=Sr(f.shape,d),y=mi(f.dtype,"int32");let x=Jb(n,h,y);const v=le(m),b=n.data.get(x.dataId).values,w=n.data.get(f.dataId).values;for(let k=0;k<b.length;++k){const E=k*v;let _=0;for(let I=0;I<v;++I)_+=w[E+I];b[k]=_}if(o){const k=Qn(x.shape,c),E=x;x=Gt({inputs:{x},backend:n,attrs:{shape:k}}),n.disposeIntermediateTensorInfo(E)}return n.disposeIntermediateTensorInfo(a),u!=null&&n.disposeIntermediateTensorInfo(f),x}const ret={kernelName:ZS,backendName:"cpu",kernelFunc:i0};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iet(t){const{inputs:e,backend:n,attrs:r}=t,{equation:i}=r,s=e,{allDims:o,summedDims:a,idDims:l}=xP(i,s.length);wP(o.length,l,s);const{path:c,steps:u}=SP(a,l),d=u.length;let f=null,h=o.length;const m=[];for(let y=0;y<d;++y){for(const x of u[y]){const{permutationIndices:v,expandDims:b}=bP(h,l[x]);let w;kP(v)?w=s[x]:(w=gi({inputs:{x:s[x]},backend:n,attrs:{perm:v}}),m.push(w));const k=w.shape.slice();for(let E=0;E<b.length;++E)k.splice(b[E],0,1);Mt(w.shape,k)||(w=Gt({inputs:{x:w},backend:n,attrs:{shape:k}}),m.push(w)),f===null?f=w:(f=Hk({inputs:{a:w,b:f},backend:n}),m.push(f))}y<d-1&&(c[y]>=0&&(f=i0({inputs:{x:f},backend:n,attrs:{axis:c[y]-(o.length-h),keepDims:!1}}),m.push(f)),h--)}for(const y of m)y!==f&&n.disposeIntermediateTensorInfo(y);return f}const set={kernelName:uS,backendName:"cpu",kernelFunc:iet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oet(t){const{inputs:e,backend:n}=t,{dy:r,y:i}=e;Be([r,i],"eluGrad");const s=new Float32Array(le(i.shape)),o=n.data.get(i.dataId).values,a=n.data.get(r.dataId).values;for(let l=0;l<o.length;++l){const c=o[l];c>=1?s[l]=a[l]:s[l]=a[l]*(c+1)}return n.makeTensorInfo(i.shape,"float32",s)}const aet={kernelName:M3,backendName:"cpu",kernelFunc:oet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cet=fP,uet=hP,det=pP,fet=mP,het=gP,pet=yP,met=Rt(qy,t=>{const e=Math.sign(t),n=Math.abs(t),r=1/(1+cet*n);return e*(1-((((pet*r+het)*r+fet)*r+det)*r+uet)*r*Math.exp(-n*n))}),get={kernelName:qy,backendName:"cpu",kernelFunc:met};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iw(t){const{inputs:e,backend:n,attrs:r}=t,{input:i}=e,{dim:s}=r,o=i.shape.length,a=i.shape.slice();let l=s;return s<0&&(B(-(o+1)<=s,()=>`Axis must be in the interval [${-(o+1)}, ${o}]`),l=o+s+1),a.splice(l,0,1),Gt({inputs:{x:i},backend:n,attrs:{shape:a}})}const yet={kernelName:dS,backendName:"cpu",kernelFunc:iw};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vet=Bn((t,e)=>t/e),VP=ar(Gy,vet),hN={kernelName:Gy,backendName:"cpu",kernelFunc:VP};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gJ(t,e,n){const r=t.shape,i=r[0],s=r[1],o=n.data.get(t.dataId),a=o.complexTensorInfos.real,l=o.complexTensorInfos.imag,c=[i,s],u=le(c),d=Kn("float32",u),f=Kn("float32",u);for(let x=0;x<i;x++){const v=ed({inputs:{x:a},backend:n,attrs:{begin:[x,0],size:[1,s]}}),b=ed({inputs:{x:l},backend:n,attrs:{begin:[x,0],size:[1,s]}}),w=Ai({inputs:{real:v,imag:b},backend:n}),{real:k,imag:E}=xet(w,e,n),_=tl(k,E);for(let I=0;I<s;I++){const N=vP(_,I);d[x*s+I]=N.real,f[x*s+I]=N.imag}n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(w)}const h=n.makeTensorInfo(c,"float32",d),m=n.makeTensorInfo(c,"float32",f),y=Ai({inputs:{real:h,imag:m},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),y}function xet(t,e,n){const r=le(t.shape),i=n.data.get(t.dataId),s=n.data.get(i.complexTensorInfos.real.dataId).values,o=n.data.get(i.complexTensorInfos.imag.dataId).values;if(bet(r)){const a=pN(s,o,r,e,n),l=[t.shape[0],t.shape[1]];if(e){const c=n.makeTensorInfo(l,"float32",a.real),u=n.makeTensorInfo(l,"float32",a.imag),d=n.makeTensorInfo([],"float32",fl(r,"float32")),f=fa({inputs:{x:d},backend:n}),h=hN.kernelFunc({inputs:{a:c,b:d},backend:n}),m=hN.kernelFunc({inputs:{a:u,b:f},backend:n}),y=n.data.get(h.dataId).values,x=n.data.get(m.dataId).values;return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),{real:y,imag:x}}return a}else{const a=tl(s,o),l=wet(a,r,e);return ZX(l)}}function bet(t){return(t&t-1)===0}function pN(t,e,n,r,i){if(n===1)return{real:t,imag:e};const s=tl(t,e),o=n/2,a=eQ(s),l=a.real,c=a.imag,u=[l.length],d=i.makeTensorInfo(u,"float32",l),f=i.makeTensorInfo(u,"float32",c),h=Ai({inputs:{real:d,imag:f},backend:i}),m=tQ(s),y=m.real,x=m.imag,v=[y.length],b=i.makeTensorInfo(v,"float32",y),w=i.makeTensorInfo(v,"float32",x),k=Ai({inputs:{real:b,imag:w},backend:i}),E=pN(l,c,o,r,i),_=E.real,I=E.imag,N=[_.length],D=i.makeTensorInfo(N,"float32",_),P=i.makeTensorInfo(N,"float32",I),F=Ai({inputs:{real:D,imag:P},backend:i}),U=pN(y,x,o,r,i),j=U.real,W=U.imag,q=[j.length],Q=i.makeTensorInfo(q,"float32",j),ee=i.makeTensorInfo(q,"float32",W),V=Ai({inputs:{real:Q,imag:ee},backend:i}),H=rQ(n,r),Y=[H.real.length],Z=i.makeTensorInfo(Y,"float32",H.real),se=i.makeTensorInfo(Y,"float32",H.imag),ce=Ai({inputs:{real:Z,imag:se},backend:i}),de=Hk({inputs:{a:ce,b:V},backend:i}),fe=Dh({inputs:{a:F,b:de},backend:i}),ge=FP({inputs:{a:F,b:de},backend:i}),ke=Zu({inputs:{input:fe},backend:i}),Ie=Zu({inputs:{input:ge},backend:i}),$e=Lh({inputs:{input:fe},backend:i}),De=Lh({inputs:{input:ge},backend:i}),Oe=Mh({inputs:[ke,Ie],backend:i,attrs:{axis:0}}),Qe=Mh({inputs:[$e,De],backend:i,attrs:{axis:0}}),Xe=i.data.get(Oe.dataId).values,et=i.data.get(Qe.dataId).values;return i.disposeIntermediateTensorInfo(d),i.disposeIntermediateTensorInfo(f),i.disposeIntermediateTensorInfo(h),i.disposeIntermediateTensorInfo(b),i.disposeIntermediateTensorInfo(w),i.disposeIntermediateTensorInfo(k),i.disposeIntermediateTensorInfo(D),i.disposeIntermediateTensorInfo(P),i.disposeIntermediateTensorInfo(F),i.disposeIntermediateTensorInfo(Q),i.disposeIntermediateTensorInfo(ee),i.disposeIntermediateTensorInfo(V),i.disposeIntermediateTensorInfo(Z),i.disposeIntermediateTensorInfo(se),i.disposeIntermediateTensorInfo(ce),i.disposeIntermediateTensorInfo(de),i.disposeIntermediateTensorInfo(fe),i.disposeIntermediateTensorInfo(ge),i.disposeIntermediateTensorInfo(ke),i.disposeIntermediateTensorInfo($e),i.disposeIntermediateTensorInfo(Ie),i.disposeIntermediateTensorInfo(De),i.disposeIntermediateTensorInfo(Oe),i.disposeIntermediateTensorInfo(Qe),{real:Xe,imag:et}}function wet(t,e,n){const r=new Float32Array(e*2);for(let i=0;i<e;i++){let s=0,o=0;for(let a=0;a<e;a++){const l=iQ(i*a,e,n),c=vP(t,a);s+=c.real*l.real-c.imag*l.imag,o+=c.real*l.imag+c.imag*l.real}n&&(s/=e,o/=e),nQ(r,s,o,i)}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ket(t){const{inputs:e,backend:n}=t,{input:r}=e,i=le(r.shape),s=r.shape[r.shape.length-1],o=i/s,a=Gt({inputs:{x:r},backend:n,attrs:{shape:[o,s]}}),l=gJ(a,!1,n),c=Gt({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),c}const Cet={kernelName:fS,backendName:"cpu",kernelFunc:ket};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UP(t){const{backend:e,attrs:n}=t,{shape:r,value:i,dtype:s}=n,o=s||cp(i),a=Gn(o,le(r));return Tet(a,i,o),e.makeTensorInfo(r,o,a)}const Eet={kernelName:hS,backendName:"cpu",kernelFunc:UP};function Tet(t,e,n){t.fill(e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _et={kernelName:pS,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,i=n,s=Kn(r.dtype,le(r.shape)),[o,a,l,c]=r.shape,u=i.data.get(r.dataId).values;for(let f=0;f<o;f++){const h=f*l*a*c;for(let m=0;m<a;m++){const y=m*(l*c);for(let x=0;x<l;x++){const v=x*c;for(let b=0;b<c;b++){const w=Math.round(l-x-1),k=h+y+v+b;let E=u[k];if(w>=0&&w<l){const _=w*c,I=h+y+_+b;E=u[I]}s[k]=E}}}}return{dataId:i.write(s,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Iet=Bn((t,e)=>Math.floor(t/e)),$et=ar(Jy,Iet,null,"int32"),Net={kernelName:Jy,backendName:"cpu",kernelFunc:$et};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oet(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:s,bias:o,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:f,activation:h,leakyreluAlpha:m}=r;let y=pJ({inputs:{x:i,filter:s},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:f}});if(o){const x=y;if(u==="NCHW"&&o.shape.length===1&&o.shape[0]!==1){const v=Gt({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});y=Dh({inputs:{a:y,b:v},backend:n}),n.disposeIntermediateTensorInfo(v)}else y=Dh({inputs:{a:y,b:o},backend:n});n.disposeIntermediateTensorInfo(x)}if(h){const x=y;if(u==="NCHW"&&h==="prelu"&&a.shape.length===1&&a.shape[0]!==1){const v=Gt({inputs:{x:a},backend:n,attrs:{shape:[a.shape[0],1,1]}});y=rw(n,y,h,v,m),n.disposeIntermediateTensorInfo(v)}else y=rw(n,y,h,a,m);n.disposeIntermediateTensorInfo(x)}return y}const Ret={kernelName:Vg,backendName:"cpu",kernelFunc:Oet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Aet(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:s,bias:o,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:f,activation:h,leakyreluAlpha:m}=r;let y=mJ({inputs:{x:i,filter:s},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:f}});if(o){const x=y;y=Dh({inputs:{a:y,b:o},backend:n}),n.disposeIntermediateTensorInfo(x)}if(h){const x=y;y=rw(n,y,h,a,m),n.disposeIntermediateTensorInfo(x)}return y}const Pet={kernelName:Ug,backendName:"cpu",kernelFunc:Aet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Det(t){const{inputs:e,backend:n}=t,{params:r,indices:i}=e,s=le(r.shape),o=i.shape,a=o[o.length-1],[l,c,u,d]=wk(r,i);if(c===0)return n.makeTensorInfo(l,r.dtype,[]);const f=n.data.get(i.dataId).values,h=n.bufferSync(r),m=qQ(f,h,r.dtype,c,a,u,d,r.shape,s);return n.makeTensorInfo(l,r.dtype,m.values)}const Fet={kernelName:yS,backendName:"cpu",kernelFunc:Det};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Let(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,indices:s}=e,{axis:o,batchDims:a}=r;Be([i,s],"gatherV2");const l=wt(o,i.shape)[0],c=n.data.get(s.dataId).values,u=i.shape[l];for(let k=0;k<c.length;++k){const E=c[k];B(E<=u-1&&E>=0,()=>`GatherV2: the index value ${E} is not in [0, ${u-1}]`)}let d=a;a==null&&(d=0);const f=le(s.shape),h=EP(i,s,l,d),m=Gt({inputs:{x:i},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),y=Gt({inputs:{x:s},backend:n,attrs:{shape:[h.batchSize,f/h.batchSize]}}),x=[h.batchSize,h.outerSize,f/h.batchSize,h.sliceSize],v=n.bufferSync(y),b=n.bufferSync(m),w=KQ(b,v,x);return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.makeTensorInfo(h.outputShape,w.dtype,w.values)}const Met={kernelName:gS,backendName:"cpu",kernelFunc:Let};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bet(t){const{inputs:e,backend:n}=t,{input:r}=e,i=le(r.shape),s=r.shape[r.shape.length-1],o=i/s,a=Gt({inputs:{x:r},backend:n,attrs:{shape:[o,s]}}),l=gJ(a,!0,n),c=Gt({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),c}const zet={kernelName:vS,backendName:"cpu",kernelFunc:Bet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jet=Rt(nv,t=>Number.isFinite(t)?1:0,"bool"),Vet={kernelName:nv,backendName:"cpu",kernelFunc:jet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uet=Rt(rv,t=>Math.abs(t)===1/0?1:0,"bool"),Wet={kernelName:rv,backendName:"cpu",kernelFunc:Uet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Get=Rt(iv,t=>Number.isNaN(t)?1:0,"bool"),Het={kernelName:iv,backendName:"cpu",kernelFunc:Get};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qet(t){const{backend:e,attrs:n}=t,{start:r,stop:i,num:s}=n,o=ZQ(r,i,s);return e.makeTensorInfo([o.length],"float32",o)}const Ket={kernelName:wS,backendName:"cpu",kernelFunc:qet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xet=Rt(lv,t=>Math.log1p(t)),Qet={kernelName:lv,backendName:"cpu",kernelFunc:Xet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yet=Bn((t,e)=>t&&e),Jet=ar(cv,Yet,null,"bool"),Zet={kernelName:cv,backendName:"cpu",kernelFunc:Jet};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ett=Rt(uv,t=>t?0:1,"bool"),ttt={kernelName:uv,backendName:"cpu",kernelFunc:ett};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ntt=Bn((t,e)=>t||e),rtt=ar(dv,ntt,null,"bool"),itt={kernelName:dv,backendName:"cpu",kernelFunc:rtt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function stt(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{depthRadius:s,bias:o,alpha:a,beta:l}=r;Be(i,"LRN");const c=i.shape[3],u=c-1,d=n.data.get(i.dataId).values,f=le(i.shape),h=new Float32Array(f);function m(y){const x=y%c;let v=y-x+Math.max(0,x-s);const b=y-x+Math.min(x+s,u);let w=0;for(;v<=b;v++){const k=d[v];w+=k*k}return w}for(let y=0;y<f;y++){const x=m(y),v=d[y]*Math.pow(o+a*x,-l);h[y]=v}return n.makeTensorInfo(i.shape,i.dtype,h)}const ott={kernelName:SS,backendName:"cpu",kernelFunc:stt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function att(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,y:s,dy:o}=e,{depthRadius:a,bias:l,alpha:c,beta:u}=r;Be(o,"LRNGrad");const d=le(o.shape),f=o.shape[3],h=n.data.get(o.dataId).values,m=n.data.get(i.dataId).values,y=n.data.get(s.dataId).values,x=new Float32Array(d),v=d;for(let b=0;b<v;b++){const w=b%f,k=b-w+Math.max(0,w-a),E=b-w+Math.min(f,w+a+1);let _=0;for(let I=k;I<E;I++)_+=Math.pow(m[I],2);_=c*_+l;for(let I=k;I<E;I++){let N=-2*c*u*m[I]*y[b]/_;b===I&&(N+=Math.pow(_,-u)),N*=h[b],x[I]+=N}}return n.makeTensorInfo(o.shape,i.dtype,x)}const ltt={kernelName:B3,backendName:"cpu",kernelFunc:att};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yJ(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{reductionIndices:s,keepDims:o}=r,a=n;let l=i.shape;const c=l.length,u=wt(s,l);let d=u;const f=An(d,c);let h=a.data.get(i.dataId).values;if(f!=null){const k=new Array(c);for(let E=0;E<k.length;E++)k[E]=l[f[E]];h=PP(h,l,i.dtype,f,k),d=Pn(d.length,c),l=k}Be(i,"max"),kr("max",d,c);const[m,y]=Sr(l,d),x=le(y),v=tY(h,x,m,i.dtype),b=a.write(v,m,i.dtype);let w=m;return o&&(w=Qn(m,u)),{dataId:b,shape:w,dtype:i.dtype}}const ctt={kernelName:kS,backendName:"cpu",kernelFunc:yJ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function utt(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e;Be(i,"maxPool");const{filterSize:s,strides:o,pad:a,dimRoundingMode:l}=r,c=1;B(Br(o,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${c}'`);const u=Ks(i.shape,s,o,c,a,l);let d;if(u.filterWidth===1&&u.filterHeight===1&&Mt(u.inShape,u.outShape))d=fa({inputs:{x:i},backend:n});else{const f=n.data.get(i.dataId).values,h=qe(i.shape),m=jP(f,i.shape,i.dtype,h,u,"max");d=n.makeTensorInfo(u.outShape,i.dtype,m.values)}return d}const dtt={kernelName:CS,backendName:"cpu",kernelFunc:utt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ftt(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{filterSize:s,strides:o,pad:a,dimRoundingMode:l,dataFormat:c}=r;Be(i,"maxPool3d");const u=hl(i.shape,s,o,1,a,l,c),d=n.data.get(i.dataId).values,f=hJ(d,i.shape,i.dtype,qe(i.shape),u,"max");return n.makeTensorInfo(f.shape,"float32",f.values)}const htt={kernelName:ES,backendName:"cpu",kernelFunc:ftt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ptt(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,input:s}=e,{filterSize:o,strides:a,pad:l,dimRoundingMode:c}=r;Be([i,s],"maxPool3DGrad");const u=hl(s.shape,o,a,1,l,c),d=n.bufferSync(s),f=ZJe(d,u),h=u.strideDepth,m=u.strideHeight,y=u.strideWidth,x=u.dilationDepth,v=u.dilationHeight,b=u.dilationWidth,w=u.effectiveFilterDepth,k=u.effectiveFilterHeight,E=u.effectiveFilterWidth,_=w-1-u.padInfo.front,I=E-1-u.padInfo.left,N=k-1-u.padInfo.top,D=it(s.shape,"float32"),P=n.bufferSync(i);for(let F=0;F<u.batchSize;++F)for(let U=0;U<u.inChannels;++U)for(let j=0;j<u.inDepth;++j)for(let W=0;W<u.inHeight;++W)for(let q=0;q<u.inWidth;++q){const Q=j-_,ee=W-N,V=q-I;let H=0;for(let Y=0;Y<w;Y+=x){const Z=(Q+Y)/h;if(!(Z<0||Z>=u.outDepth||Math.floor(Z)!==Z))for(let se=0;se<k;se+=v){const ce=(ee+se)/m;if(!(ce<0||ce>=u.outHeight||Math.floor(ce)!==ce))for(let de=0;de<E;de+=b){const fe=(V+de)/y;if(fe<0||fe>=u.outWidth||Math.floor(fe)!==fe)continue;const ge=w*k*E-1-f.get(F,Z,ce,fe,U),ke=Y*k*E+se*E+de,Ie=ge===ke?1:0;if(Ie===0)continue;const $e=P.get(F,Z,ce,fe,U);H+=$e*Ie}}}D.set(H,F,j,W,q,U)}return n.makeTensorInfo(D.shape,D.dtype,D.values)}const mtt={kernelName:j3,backendName:"cpu",kernelFunc:ptt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gtt(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,input:s,output:o}=e,a=s;Be([s,o],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=r,f=Ks(a.shape,l,c,1,u,d),h=n.data.get(a.dataId).values,m=it(f.outShape,a.dtype,fJ(h,a.shape,a.dtype,f).values),y=f.strideHeight,x=f.strideWidth,v=f.dilationHeight,b=f.dilationWidth,w=f.effectiveFilterHeight,k=f.effectiveFilterWidth,E=k-1-f.padInfo.left,_=w-1-f.padInfo.top,I=it(a.shape,"float32"),N=n.data.get(i.dataId).values,D=it(i.shape,"float32",N);for(let P=0;P<f.batchSize;++P)for(let F=0;F<f.inChannels;++F)for(let U=0;U<f.inHeight;++U)for(let j=0;j<f.inWidth;++j){const W=U-_,q=j-E;let Q=0;for(let ee=0;ee<w;ee+=v){const V=(W+ee)/y;if(!(V<0||V>=f.outHeight||Math.floor(V)!==V))for(let H=0;H<k;H+=b){const Y=(q+H)/x;if(Y<0||Y>=f.outWidth||Math.floor(Y)!==Y)continue;const Z=w*k-1-m.get(P,V,Y,F),se=ee*k+H,ce=Z===se?1:0;if(ce===0)continue;const de=D.get(P,V,Y,F);Q+=de*ce}}I.set(Q,P,U,j,F)}return n.makeTensorInfo(I.shape,I.dtype,I.values)}const ytt={kernelName:z3,backendName:"cpu",kernelFunc:gtt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vtt(t,e,n,r,i){const s=qe(e),o=jP(t,e,n,s,i,"max"),a=fJ(t,e,n,i,!0,r);return[o.values,a.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xtt={kernelName:TS,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:i,strides:s,pad:o,includeBatchInIndex:a}=e,l=n;Be(r,"MaxPoolWithArgmax");const c=l.data.get(r.dataId).values,u=Ks(r.shape,i,s,[1,1],o),[d,f]=vtt(c,r.shape,r.dtype,a,u),h=l.write(d,u.outShape,r.dtype),m=l.write(f,u.outShape,r.dtype);return[{dataId:h,shape:u.outShape,dtype:r.dtype},{dataId:m,shape:u.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function btt(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s,keepDims:o}=r,a=wt(s,i.shape),c=Sr(i.shape,a)[1],u=le(c),d=[],f=n.makeTensorInfo([],"float32",new Float32Array([u]));d.push(f);const h=wc({inputs:{x:i},backend:n,attrs:{dtype:"float32"}});d.push(h);const m=VP({inputs:{a:h,b:f},backend:n});d.push(m);const y=i0({inputs:{x:m},backend:n,attrs:{axis:s,keepDims:o}});return d.forEach(x=>n.disposeIntermediateTensorInfo(x)),y}const wtt={kernelName:_S,backendName:"cpu",kernelFunc:btt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Stt(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:s,keepDims:o}=r;Be(i,"min");const a=wt(s,i.shape);let l=a;const c=An(l,i.shape.length);let u=i;c!=null&&(u=gi({inputs:{x:i},backend:n,attrs:{perm:c}}),l=Pn(l.length,i.shape.length)),kr("min",l,u.shape.length);const[d,f]=Sr(u.shape,l),h=le(f),m=vr(le(d),u.dtype),y=n.data.get(u.dataId).values;for(let v=0;v<m.length;++v){const b=v*h;let w=y[b];for(let k=0;k<h;++k){const E=y[b+k];(Number.isNaN(E)||E<w)&&(w=E)}m[v]=w}c!=null&&n.disposeIntermediateTensorInfo(u);const x=n.makeTensorInfo(d,u.dtype,m);if(o){const v=Qn(d,a),b=Gt({inputs:{x},backend:n,attrs:{shape:v}});return n.disposeIntermediateTensorInfo(x),b}return x}const ktt={kernelName:IS,backendName:"cpu",kernelFunc:Stt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ctt(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{paddings:s,mode:o}=r;Be(i,"mirrorPad");const a=s.map((w,k)=>w[0]+i.shape[k]+w[1]),l=s.map(w=>w[0]),c=s.map((w,k)=>w[0]+i.shape[k]),u=o==="reflect"?0:1,d=n.data.get(i.dataId).values,f=i.shape.length,h=qe(i.shape),m=le(a),y=a.length,x=qe(a),v=Kn(i.dtype,m);for(let w=0;w<m;w++){let k=xd(w,y,x);for(let _=0;_<y;_++)k[_]<l[_]?k[_]=l[_]*2-k[_]-u:k[_]>=c[_]&&(k[_]=(c[_]-1)*2-k[_]+u);k=k.map((_,I)=>_-l[I]);const E=bo(k,f,h);v[w]=d[E]}return{dataId:n.write(v,a,i.dtype),shape:a,dtype:i.dtype}}const Ett={kernelName:$S,backendName:"cpu",kernelFunc:Ctt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ttt=Bn((t,e)=>{const n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e}),_tt=ar(pv,Ttt),Itt={kernelName:pv,backendName:"cpu",kernelFunc:_tt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vJ(t){const{inputs:e,backend:n,attrs:r}=t,{logits:i}=e,{dim:s}=r,o=i.shape.length;let a=s;if(a===-1&&(a=o-1),a!==o-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${o} and dim was ${a}`);const l=wt([a],i.shape),c=yJ({inputs:{x:i},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),u=Qn(c.shape,l),d=Gt({inputs:{x:c},backend:n,attrs:{shape:u}}),f=FP({inputs:{a:i,b:d},backend:n}),h=WQ({inputs:{x:f},backend:n}),m=i0({inputs:{x:h},backend:n,attrs:{axis:l,keepDims:!1}}),y=Gt({inputs:{x:m},backend:n,attrs:{shape:u}}),x=VP({inputs:{a:h,b:y},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),x}const $tt={kernelName:nk,backendName:"cpu",kernelFunc:vJ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ntt(t){const{inputs:e,backend:n,attrs:r}=t,{logits:i}=e,{numSamples:s,seed:o,normalized:a}=r;Be(i,"multinomial");const l=a?i:vJ({inputs:{logits:i},backend:n,attrs:{dim:-1}}),c=l.shape[0],u=l.shape[1],d=n.data.get(l.dataId).values,f=[c,s],h=vr(le(f),"int32");for(let m=0;m<c;++m){const y=m*u,x=new Float32Array(u-1);x[0]=d[y];for(let w=1;w<x.length;++w)x[w]=x[w-1]+d[y+w];const v=Tk.alea(o.toString()),b=m*s;for(let w=0;w<s;++w){const k=v();h[b+w]=x.length;for(let E=0;E<x.length;E++)if(k<x[E]){h[b+w]=E;break}}}return a||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(f,"int32",h)}const Ott={kernelName:NS,backendName:"cpu",kernelFunc:Ntt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rtt=Dk;function Att(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:i,scores:s}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l}=r;Be(i,"NonMaxSuppression");const c=n.data.get(i.dataId).values,u=n.data.get(s.dataId).values,{selectedIndices:d}=Rtt(c,u,o,a,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const Ptt={kernelName:RS,backendName:"cpu",kernelFunc:Att};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dtt=Fk;function Ftt(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:i,scores:s}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l,padToMaxOutputSize:c}=r;Be(i,"NonMaxSuppressionPadded");const u=n.data.get(i.dataId).values,d=n.data.get(s.dataId).values,{selectedIndices:f,validOutputs:h}=Dtt(u,d,o,a,l,c);return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const Ltt={kernelName:AS,backendName:"cpu",kernelFunc:Ftt};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mtt=Lk;function Btt(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:i,scores:s}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:l,softNmsSigma:c}=r;Be(i,"NonMaxSuppressionWithScore");const u=n.data.get(i.dataId).values,d=n.data.get(s.dataId).values,f=o,h=a,m=l,y=c,{selectedIndices:x,selectedScores:v}=Mtt(u,d,f,h,m,y);return[n.makeTensorInfo([x.length],"int32",new Int32Array(x)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}const ztt={kernelName:PS,backendName:"cpu",kernelFunc:Btt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jtt(t){const{inputs:e,backend:n,attrs:r}=t,{indices:i}=e,{dtype:s,depth:o,onValue:a,offValue:l}=r;Be(i,"oneHot");const c=le(i.shape),u=new Float32Array(c*o);u.fill(l);const d=n.data.get(i.dataId).values;for(let f=0;f<c;++f)d[f]>=0&&d[f]<o&&(u[f*o+d[f]]=a);return n.makeTensorInfo([...i.shape,o],s,u)}const Vtt={kernelName:FS,backendName:"cpu",kernelFunc:jtt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sw(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(r.dtype==="complex64"){const i=Zu({inputs:{input:r},backend:n}),s=sw({inputs:{x:i},backend:n}),o=Lh({inputs:{input:r},backend:n}),a=sw({inputs:{x:o},backend:n}),l=Ai({inputs:{real:s,imag:a},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),l}else return UP({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const Utt={kernelName:yk,backendName:"cpu",kernelFunc:sw};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xJ(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(r.dtype==="complex64"){const i=Zu({inputs:{input:r},backend:n}),s=xJ({inputs:{x:i},backend:n}),o=Lh({inputs:{input:r},backend:n}),a=sw({inputs:{x:o},backend:n}),l=Ai({inputs:{real:s,imag:a},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),l}else return UP({backend:n,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}const Wtt={kernelName:DS,backendName:"cpu",kernelFunc:xJ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bJ(t){const{inputs:e,backend:n,attrs:r}=t,{axis:i}=r;if(e.length===1)return iw({inputs:{input:e[0]},backend:n,attrs:{dim:i}});const s=e[0].shape,o=e[0].dtype;e.forEach(u=>{wr(s,u.shape,"All tensors passed to stack must have matching shapes"),B(o===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],l=e.map(u=>{const d=iw({inputs:{input:u},backend:n,attrs:{dim:i}});return a.push(d),d}),c=Mh({inputs:l,backend:n,attrs:{axis:i}});return a.forEach(u=>n.disposeIntermediateTensorInfo(u)),c}const Gtt={kernelName:LS,backendName:"cpu",kernelFunc:bJ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Htt(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{paddings:s,constantValue:o}=r;Be(i,"pad");const a=s.map((b,w)=>b[0]+i.shape[w]+b[1]),l=s.map(b=>b[0]),c=n.data.get(i.dataId).values,u=le(i.shape),d=i.shape.length,f=qe(i.shape),h=le(a),m=a.length,y=qe(a),x=Kn(i.dtype,h);o!==0&&x.fill(o);for(let b=0;b<u;b++){const k=xd(b,d,f).map((_,I)=>_+l[I]),E=bo(k,m,y);x[E]=c[b]}return{dataId:n.write(x,a,i.dtype),shape:a,dtype:i.dtype}}const wJ={kernelName:MS,backendName:"cpu",kernelFunc:Htt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qtt=Bn((t,e)=>Math.pow(t,e)),Ktt=ar(yv,qtt),Xtt={kernelName:yv,backendName:"cpu",kernelFunc:Ktt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qtt(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:i,paramsDenseValues:s,indices:o}=e,a=i.map(x=>n.data.get(x.dataId).values),l=i.map(x=>x.shape),c=n.data.get(s.dataId).values,u=n.data.get(o.dataId).values,[d,f,h]=aY(a,l,c,s.shape,s.dtype,u,o.shape),m=d.map(x=>n.makeTensorInfo([x.length],"int32",x)),y=n.makeTensorInfo(h,s.dtype,f);return m.concat([y])}const Ytt={kernelName:jS,backendName:"cpu",kernelFunc:Qtt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jtt(t){const{inputs:e,backend:n,attrs:r}=t,{shape:i,values:s,defaultValue:o,rowPartitionTensors:a}=e,{rowPartitionTypes:l}=r,c=n.data.get(i.dataId).values,u=n.data.get(s.dataId).values,d=n.data.get(o.dataId).values,f=a.map(x=>n.data.get(x.dataId).values),h=a.map(x=>x.shape),[m,y]=lY(c,i.shape,u,s.shape,s.dtype,d,o.shape,f,h,l);return n.makeTensorInfo(m,s.dtype,y)}const Ztt={kernelName:VS,backendName:"cpu",kernelFunc:Jtt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ent(t){const{backend:e,attrs:n}=t,{start:r,stop:i,dtype:s,step:o}=n,a=cY(r,i,o,s);return e.makeTensorInfo([a.length],s,a)}const tnt={kernelName:US,backendName:"cpu",kernelFunc:ent};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nnt=Rt(vv,t=>1/t),rnt={kernelName:vv,backendName:"cpu",kernelFunc:nnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function int(t){const{inputs:e,backend:n,attrs:r}=t,{images:i}=e,{alignCorners:s,halfPixelCenters:o,size:a}=r;Be(i,"resizeBilinear");const l=qe(i.shape),[c,u]=a,[d,f,h,m]=i.shape,y=n.data.get(i.dataId).values,x=new Float32Array(le([d,c,u,m])),v=[s&&c>1?f-1:f,s&&u>1?h-1:h],b=[s&&c>1?c-1:c,s&&u>1?u-1:u];let w=0;const k=v[0]/b[0],E=v[1]/b[1];for(let _=0;_<d;_++)for(let I=0;I<c;I++){let N;o?N=k*(I+.5)-.5:N=k*I;const D=Math.max(0,Math.floor(N)),P=N-D,F=Math.min(f-1,Math.ceil(N)),U=_*l[0]+D*l[1],j=_*l[0]+F*l[1];for(let W=0;W<u;W++){let q;o?q=E*(W+.5)-.5:q=E*W;const Q=Math.max(0,Math.floor(q)),ee=q-Q,V=Math.min(h-1,Math.ceil(q)),H=U+Q*l[2],Y=j+Q*l[2],Z=U+V*l[2],se=j+V*l[2];for(let ce=0;ce<m;ce++){const de=y[H+ce],fe=y[Y+ce],ge=y[Z+ce],ke=y[se+ce],Ie=de+(ge-de)*ee,$e=fe+(ke-fe)*ee,De=Ie+($e-Ie)*P;x[w++]=De}}}return n.makeTensorInfo([d,c,u,m],"float32",x)}const snt={kernelName:qS,backendName:"cpu",kernelFunc:int};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ont(t){const{inputs:e,backend:n,attrs:r}=t,{images:i,dy:s}=e,{alignCorners:o}=r;Be([s,i],"resizeBilinearGrad");const a=qe(i.shape),[l,c,u,d]=i.shape,[,f,h]=s.shape,m=new Float32Array(l*c*u*d),y=[o&&f>1?c-1:c,o&&h>1?u-1:u],x=[o&&f>1?f-1:f,o&&h>1?h-1:h],v=y[0]/x[0],b=y[1]/x[1],w=n.data.get(s.dataId).values;let k=0;for(let E=0;E<l;E++){const _=E*a[0];for(let I=0;I<f;I++){const N=I*v,D=Math.floor(N),P=Math.min(Math.ceil(N),c-1),F=_+D*a[1],U=_+P*a[1],j=N-D,W=1-j;for(let q=0;q<h;q++){const Q=q*b,ee=Math.floor(Q),V=Math.min(Math.ceil(Q),u-1),H=Q-ee,Y=1-H,Z=F+ee*a[2],se=F+V*a[2],ce=U+ee*a[2],de=U+V*a[2],fe=W*Y,ge=W*H,ke=j*Y,Ie=j*H;for(let $e=0;$e<d;$e++){const De=w[k++];m[Z+$e]+=De*fe,m[se+$e]+=De*ge,m[ce+$e]+=De*ke,m[de+$e]+=De*Ie}}}}return n.makeTensorInfo([l,u,c,d],"float32",m)}const ant={kernelName:U3,backendName:"cpu",kernelFunc:ont};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lnt(t){const{inputs:e,backend:n,attrs:r}=t,{images:i}=e,{alignCorners:s,halfPixelCenters:o,size:a}=r;Be(i,"resizeNearestNeighbor");const l=qe(i.shape),[c,u]=a,[d,f,h,m]=i.shape,y=n.data.get(i.dataId).values,x=new Float32Array(d*c*u*m),v=[s&&c>1?f-1:f,s&&u>1?h-1:h],b=[s&&c>1?c-1:c,s&&u>1?u-1:u],w=v[0]/b[0],k=v[1]/b[1];let E=0;for(let _=0;_<d;_++){const I=_*l[0];for(let N=0;N<c;N++){const D=o?w*(N+.5):w*N;let P=Math.min(f-1,s?Math.round(D):Math.floor(D));o&&(P=Math.max(0,P));const F=I+P*l[1];for(let U=0;U<u;U++){const j=o?k*(U+.5):k*U;let W=Math.min(h-1,s?Math.round(j):Math.floor(j));o&&(W=Math.max(0,W));const q=F+W*l[2];for(let Q=0;Q<m;Q++){const ee=y[q+Q];x[E++]=ee}}}}return n.makeTensorInfo([d,c,u,m],i.dtype,x)}const cnt={kernelName:HS,backendName:"cpu",kernelFunc:lnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function unt(t){const{inputs:e,backend:n,attrs:r}=t,{images:i,dy:s}=e,{alignCorners:o}=r;Be([s,i],"resizeNearestNeighborGrad");const a=qe(i.shape),l=qe(s.shape),[c,u,d,f]=i.shape,[,h,m]=s.shape,y=new Float32Array(c*u*d*f),x=n.data.get(s.dataId).values,v=[o&&h>1?u-1:u,o&&m>1?d-1:d],b=[o&&h>1?h-1:h,o&&m>1?m-1:m],w=v[0]/b[0],k=v[1]/b[1],E=1/w,_=1/k,I=Math.ceil(E)*2+2,N=Math.ceil(_)*2+2;for(let D=0;D<c;D++){const P=D*a[0];for(let F=0;F<u;F++){const U=P+F*a[1],j=Math.floor(F*E),W=Math.floor(j-I/2);for(let q=0;q<d;q++){const Q=U+q*a[2],ee=Math.floor(q*_),V=Math.floor(ee-N/2);for(let H=0;H<f;H++){let Y=0;for(let Z=0;Z<I;Z++){const se=Z+W;if(se<0||se>=h)continue;const ce=P+se*l[1],de=se*w,fe=Math.min(u-1,o?Math.round(de):Math.floor(de));if(F===fe)for(let ge=0;ge<N;ge++){const ke=ge+V;if(ke<0||ke>=m)continue;const Ie=ce+ke*l[2],$e=ke*k,De=Math.min(d-1,o?Math.round($e):Math.floor($e));q===De&&(Y+=x[Ie+H])}}y[Q+H]=Y}}}}return n.makeTensorInfo(i.shape,i.dtype,y)}const dnt={kernelName:V3,backendName:"cpu",kernelFunc:unt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fnt(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{dims:s}=r;Be(i,"reverse");const o=i.shape.length,a=wt(s,i.shape);if(o===0)return fa({inputs:{x:i},backend:n});const l=new qn(i.shape,i.dtype),c=n.bufferSync(i);for(let u=0;u<l.size;u++){const d=l.indexToLoc(u),f=d.slice();a.forEach(h=>f[h]=i.shape[h]-1-f[h]),l.set(c.get(...f),...d)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}const hnt={kernelName:KS,backendName:"cpu",kernelFunc:fnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pnt={kernelName:vk,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:i,fillValue:s,center:o}=e,a=n,l=Kn(r.dtype,le(r.shape)),[c,u,d,f]=r.shape,[h,m]=aP(o,u,d),y=255,x=Math.sin(i),v=Math.cos(i),b=a.data.get(r.dataId).values;for(let k=0;k<c;k++){const E=k*d*u*f;for(let _=0;_<u;_++){const I=_*(d*f);for(let N=0;N<d;N++){const D=N*f;for(let P=0;P<f;P++){const F=[c,_,N,P],U=F[2],j=F[1];let W=(U-h)*v-(j-m)*x,q=(U-h)*x+(j-m)*v;W=Math.round(W+h),q=Math.round(q+m);let Q=s;if(typeof s!="number"&&(P===3?Q=y:Q=s[P]),W>=0&&W<d&&q>=0&&q<u){const V=q*(d*f),H=W*f,Y=E+V+H+P;Q=b[Y]}const ee=E+I+D+P;l[ee]=Q}}}}return{dataId:a.write(l,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mnt=Rt(wv,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),gnt={kernelName:wv,backendName:"cpu",kernelFunc:mnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ynt(t){const{inputs:e,backend:n,attrs:r}=t,{indices:i,updates:s}=e,{shape:o}=r,{sliceRank:a,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=dp(s,i,o),f=!0,h=n.bufferSync(i),m=n.bufferSync(s),y=Ff(h,m,o,d,c,l,a,u,0,f);return n.makeTensorInfo(o,y.dtype,y.values)}const vnt={kernelName:XS,backendName:"cpu",kernelFunc:ynt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xnt(t,e){let n=0,r=t.length,i=0;for(;n<r;)i=Math.floor((n+r)/2),t[i]<e?n=i+1:r=i;return r}function bnt(t,e){let n=0,r=t.length,i=0;for(;n<r;)i=Math.floor((n+r)/2),t[i]<=e?n=i+1:r=i;return r}function wnt(t,e,n,r,i,s){const o=Gn("int32",n*i);for(let a=0;a<n;++a){const l=t.slice(a*r,(a+1)*r),c=a*i;for(let u=0;u<i;++u)o[c+u]=s==="left"?xnt(l,e[u+c]):bnt(l,e[u+c])}return o}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Snt(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:i,values:s}=e,{side:o}=r,a=n.data.get(i.dataId).values,l=n.data.get(s.dataId).values,c=wnt(a,l,i.shape[0],i.shape[1],s.shape[1],o);return n.makeTensorInfo(s.shape,"int32",c)}const knt={kernelName:QS,backendName:"cpu",kernelFunc:Snt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cnt(t){const{inputs:e,backend:n}=t,{condition:r,t:i,e:s}=e;Be([r,i,s],"select");const o=r.shape.length,a=n.data.get(r.dataId).values,l=n.data.get(i.dataId).values,c=n.data.get(s.dataId).values,u=mi(i.dtype,s.dtype),d=vr(le(i.shape),u);let f=0;const h=o===0||o>1||i.shape.length===1?1:le(i.shape.slice(1));for(let m=0;m<a.length;m++)for(let y=0;y<h;y++)a[m]===1?d[f++]=l[m]:d[f++]=c[m];return n.makeTensorInfo(i.shape,u,d)}const Ent={kernelName:YS,backendName:"cpu",kernelFunc:Cnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tnt=uP,_nt=dP,Int=Rt(kv,t=>t>=0?_nt*t:Tnt*(Math.exp(t)-1)),$nt={kernelName:kv,backendName:"cpu",kernelFunc:Int};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nnt=Rt(Tv,t=>t<0?-1:t>0?1:0),Ont={kernelName:Tv,backendName:"cpu",kernelFunc:Nnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rnt=Rt(Cv,t=>Math.sin(t)),Ant={kernelName:Cv,backendName:"cpu",kernelFunc:Rnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pnt=Rt(Ev,t=>Math.sinh(t)),Dnt={kernelName:Ev,backendName:"cpu",kernelFunc:Pnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fnt=11920928955078125e-23,w8=Math.log(Fnt)+2,Lnt=Rt(Iv,t=>{const e=t>-w8,n=t<w8,r=Math.exp(t);let i;return n?i=r:e?i=t:i=Math.log(1+r),i}),Mnt={kernelName:Iv,backendName:"cpu",kernelFunc:Lnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bnt(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{blockShape:s,paddings:o}=r;Be([i],"spaceToBatchND");const a=le(s),l=[[0,0]];l.push(...o);for(let _=1+s.length;_<i.shape.length;++_)l.push([0,0]);const c=wJ.kernelFunc({inputs:{x:i},backend:n,attrs:{paddings:l,constantValue:0}}),u=Kv(c.shape,s,a,!1),d=Xv(u.length,s.length,!1),f=Qv(c.shape,s,a,!1),y=Gt({inputs:{x:c},backend:n,attrs:{shape:u}}),b=gi({inputs:{x:y},backend:n,attrs:{perm:d}}),E=Gt({inputs:{x:b},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b),E}const znt={kernelName:ek,backendName:"cpu",kernelFunc:Bnt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jnt(t){const{inputs:e,backend:n}=t,{indices:r,values:i,denseShape:s,defaultValue:o}=e;if(s.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${s.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(i.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${i.shape}`);if(o.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${o.shape}`);const a=n.data.get(r.dataId).values,l=n.data.get(i.dataId).values,c=n.data.get(s.dataId).values,u=n.data.get(o.dataId).values[0],[d,f,h,m,y]=hY(a,r.shape,r.dtype,l,i.dtype,c,u);return[n.makeTensorInfo(f,r.dtype,d),n.makeTensorInfo([f[0]],i.dtype,h),n.makeTensorInfo([m.length],"bool",new Uint8Array(m.map(x=>Number(x)))),n.makeTensorInfo([y.length],r.dtype,new Int32Array(y))]}const Vnt={kernelName:rk,backendName:"cpu",kernelFunc:jnt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Unt(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:i,newShape:s}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(i.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${i.shape}`);if(s.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${s.shape}`);const o=Array.from(n.data.get(i.dataId).values),a=n.data.get(r.dataId).values,l=Array.from(n.data.get(s.dataId).values),[c,u,d]=pY(a,r.shape,r.dtype,o,l);return[n.makeTensorInfo(u,r.dtype,c),n.makeTensorInfo([d.length],s.dtype,new Int32Array(d))]}const Wnt={kernelName:ik,backendName:"cpu",kernelFunc:Unt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gnt(t){const{inputs:e,backend:n}=t,{data:r,indices:i,segmentIds:s}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(i.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${i.shape}`);if(s.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${s.shape}`);if(i.shape[0]!==s.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,a=n.data.get(i.dataId).values,l=n.data.get(s.dataId).values,[c,u]=DP(o,r.shape,r.dtype,a,l,!0);return n.makeTensorInfo(u,r.dtype,c)}const Hnt={kernelName:sk,backendName:"cpu",kernelFunc:Gnt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qnt(t){const{inputs:e,backend:n}=t,{data:r,indices:i,segmentIds:s}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(i.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${i.shape}`);if(s.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${s.shape}`);if(i.shape[0]!==s.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,a=n.data.get(i.dataId).values,l=n.data.get(s.dataId).values,[c,u]=DP(o,r.shape,r.dtype,a,l);return n.makeTensorInfo(u,r.dtype,c)}const Knt={kernelName:ok,backendName:"cpu",kernelFunc:qnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xnt(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:i,sparseValues:s,defaultValue:o}=e,{outputShape:a}=r,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:f}=dp(s,i,a),h=!1,m=n.bufferSync(i);let y;switch(s.dtype){case"bool":{const x=n.bufferSync(s),v=!!n.data.get(o.dataId).values[0];y=Ff(m,x,a,f,u,c,l,d,v,h);break}case"float32":{const x=n.bufferSync(s),v=n.data.get(o.dataId).values[0];y=Ff(m,x,a,f,u,c,l,d,v,h);break}case"int32":{const x=n.bufferSync(s),v=n.data.get(o.dataId).values[0];y=Ff(m,x,a,f,u,c,l,d,v,h);break}case"string":{const x=n.bufferSync(s),v=Za(n.data.get(o.dataId).values[0]);y=Ff(m,x,a,f,u,c,l,d,v,h);break}default:throw new Error(`Unsupported type ${s.dtype}`)}return n.makeTensorInfo(a,y.dtype,y.values)}const Qnt={kernelName:ak,backendName:"cpu",kernelFunc:Xnt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ynt(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{numOrSizeSplits:s,axis:o}=r,a=wt(o,i.shape)[0],l=CP(i,s,a),c=new Array(i.shape.length).fill(0),u=i.shape.slice();return l.map(d=>{const f=[...u];f[a]=d;const h=ed({inputs:{x:i},backend:n,attrs:{begin:c,size:f}});return c[a]+=d,h})}const Jnt={kernelName:tk,backendName:"cpu",kernelFunc:Ynt};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Znt={kernelName:W3,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,r=e;Be(n,"square");const i=r.data.get(n.dataId).values,s=new Float32Array(i.length);for(let a=0;a<i.length;++a){const l=i[a];s[a]=l*l}return{dataId:r.write(s,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ert=Rt(Dv,(t,e)=>{const n=e;return isNaN(t)?NaN:t>0?1:n.alpha}),trt={kernelName:Dv,backendName:"cpu",kernelFunc:ert};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nrt(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{begin:s,end:o,strides:a,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:f}=r;Be(i,"stridedSlice");const{finalShapeSparse:h,finalShape:m,isIdentity:y,sliceDim0:x,isSimpleSlice:v,begin:b,end:w,strides:k}=pA(i.shape,s,o,a,l,c,u,d,f);let E;if(y)E=Gt({inputs:{x:i},backend:n,attrs:{shape:m}});else if(x||v){B(i.shape.length>=1,()=>`Input must have rank at least 1, got: ${i.shape.length}`);const _=uA(b,w,k),I=ed({inputs:{x:i},backend:n,attrs:{begin:b,size:_}});E=Gt({inputs:{x:I},backend:n,attrs:{shape:m}}),n.disposeIntermediateTensorInfo(I)}else{const _=n.bufferSync(i),I=gY(h,_,k,b);E=n.makeTensorInfo(m,I.dtype,I.values)}return E}const rrt={kernelName:lk,backendName:"cpu",kernelFunc:nrt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function irt(t){const{inputs:e,backend:n,attrs:r}=t,{separator:i,nGramWidths:s,leftPad:o,rightPad:a,padWidth:l,preserveShortSequences:c}=r,{data:u,dataSplits:d}=e,f=n.data.get(u.dataId).values,h=n.data.get(d.dataId).values,[m,y]=yY(f,h,i,s,o,a,l,c);return[n.makeTensorInfo([m.length],"string",m),n.makeTensorInfo(d.shape,"int32",y)]}const srt={kernelName:ck,backendName:"cpu",kernelFunc:irt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ort(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:i}=r,{input:s,delimiter:o}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");if(s.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${s.shape}`);if(o.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${o.shape}`);const a=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values[0],[c,u,d]=vY(a,l,i),f=u.length;return[n.makeTensorInfo([f,2],"int32",c),n.makeTensorInfo([f],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const art={kernelName:uk,backendName:"cpu",kernelFunc:ort};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lrt(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:i}=r,{input:s}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");if(i<=0)throw new Error("Number of buckets must be at least 1");const o=n.data.get(s.dataId).values,a=xY(o,i);return n.makeTensorInfo(s.shape,"int32",a)}const crt={kernelName:dk,backendName:"cpu",kernelFunc:lrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const urt=Rt(Rv,t=>Math.tan(t)),drt={kernelName:Rv,backendName:"cpu",kernelFunc:urt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const frt=Rt(Av,t=>Math.tanh(t)),hrt={kernelName:Av,backendName:"cpu",kernelFunc:frt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function prt(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{reps:s}=r;Be(i,"tile");const o=wY(n.bufferSync(i),s);return n.makeTensorInfo(o.shape,o.dtype,o.values)}const mrt={kernelName:Pv,backendName:"cpu",kernelFunc:prt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function grt(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{k:s,sorted:o}=r;Be(i,"topk");const a=n.data.get(i.dataId).values,[l,c]=kY(a,i.shape,i.dtype,s,o);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}const yrt={kernelName:fk,backendName:"cpu",kernelFunc:grt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vrt(t){const{inputs:e,attrs:n,backend:r}=t,{image:i,transforms:s}=e,{interpolation:o,fillMode:a,fillValue:l,outputShape:c}=n,[u,d,f,h]=i.shape,[m,y]=c??[d,f],x=[u,m,y,h],v=qe(i.shape),b=v[0],w=v[1],k=v[2],E=qe(x),_=E[0],I=E[1],N=E[2],D=Kn(i.dtype,le(x));D.fill(l);const P=r.data.get(i.dataId).values,F=r.data.get(s.dataId).values;for(let j=0;j<u;++j){const W=s.shape[0]===1?F:F.subarray(j*8,j*8+8);for(let q=0;q<m;++q)for(let Q=0;Q<y;++Q)for(let ee=0;ee<h;++ee){let V;const H=W[6]*Q+W[7]*q+1;if(H===0)continue;const Y=(W[0]*Q+W[1]*q+W[2])/H,Z=(W[3]*Q+W[4]*q+W[5])/H,se=S8(Y,f,a),ce=S8(Z,d,a);switch(o){case"nearest":V=Crt(P,d,f,b,w,k,j,ce,se,ee,l);break;case"bilinear":V=Ert(P,d,f,b,w,k,j,ce,se,ee,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${o}`)}const de=j*_+q*I+Q*N+ee;D[de]=V}return r.makeTensorInfo(x,i.dtype,D)}return{dataId:r.write(D,x,i.dtype),shape:i.shape,dtype:i.dtype}}const xrt={kernelName:hk,backendName:"cpu",kernelFunc:vrt};function S8(t,e,n){switch(n){case"reflect":return brt(t,e);case"wrap":return wrt(t,e);case"nearest":return krt(t,e);case"constant":default:return Srt(t)}}function brt(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=2*e;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-e?n+r:-n-1}else if(n>e-1)if(e<=1)n=0;else{const r=2*e;n-=r*Math.trunc(n/r),n>=e&&(n=r-n-1)}return gc(0,n,e-1)}function wrt(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=e-1;n+=e*(Math.trunc(-n/r)+1)}else if(n>e-1)if(e<=1)n=0;else{const r=e-1;n-=e*Math.trunc(n/r)}return gc(0,n,e-1)}function Srt(t,e){return t}function krt(t,e){return gc(0,t,e-1)}function Am(t,e,n,r,i,s,o,a,l,c,u){const d=o*r+a*i+l*s+c;return 0<=a&&a<e&&0<=l&&l<n?t[d]:u}function Crt(t,e,n,r,i,s,o,a,l,c,u){const d=Math.round(a),f=Math.round(l);return Am(t,e,n,r,i,s,o,d,f,c,u)}function Ert(t,e,n,r,i,s,o,a,l,c,u){const d=Math.floor(a),f=Math.floor(l),h=d+1,m=f+1,y=(m-l)*Am(t,e,n,r,i,s,o,d,f,c,u)+(l-f)*Am(t,e,n,r,i,s,o,d,m,c,u),x=(m-l)*Am(t,e,n,r,i,s,o,h,f,c,u)+(l-f)*Am(t,e,n,r,i,s,o,h,m,c,u);return(h-a)*y+(a-d)*x}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Trt(t){const{inputs:e,attrs:n,backend:r}=t,{axis:i}=n,{x:s}=e;Be(s,"unique");const o=r.data.get(s.dataId).values,{outputValues:a,outputShape:l,indices:c}=CY(o,i,s.shape,s.dtype);return[r.makeTensorInfo(l,s.dtype,a),r.makeTensorInfo([c.length],"int32",c)]}const _rt={kernelName:pk,backendName:"cpu",kernelFunc:Trt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Irt(t){const{inputs:e,backend:n,attrs:r}=t,{value:i}=e;let{axis:s}=r;s<0&&(s+=i.shape.length);const o=i.shape.length,a=i.shape[s],l=new Array(o-1);let c=0;for(let h=0;h<o;h++)h!==s&&(l[c++]=i.shape[h]);const u=new Array(o).fill(0),d=i.shape.slice();d[s]=1;const f=new Array(a);for(let h=0;h<f.length;h++){u[s]=h;const m=ed({inputs:{x:i},backend:n,attrs:{begin:u,size:d}});f[h]=Gt({inputs:{x:m},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(m)}return f}const $rt={kernelName:mk,backendName:"cpu",kernelFunc:Irt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nrt(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,segmentIds:s}=e,{numSegments:o}=r;Be(i,"unsortedSegmentSum");const a=i.shape.length,l=s.shape.length,c=[],u=[],d=a-l;let f=s;for(let m=0;m<d;++m){const y=iw({inputs:{input:f},backend:n,attrs:{dim:m+1}});f=y,u.push(y)}for(let m=0;m<o;++m){const y=fl(m,"int32"),x=n.makeTensorInfo([],"int32",y),v=VQ({inputs:{a:x,b:f},backend:n}),b=wc({inputs:{x:v},backend:n,attrs:{dtype:"float32"}}),w=Hk({inputs:{a:b,b:i},backend:n}),k=i0({inputs:{x:w},backend:n,attrs:{axis:0,keepDims:!1}});c.push(k),u.push(x),u.push(v),u.push(b),u.push(w),u.push(k)}const h=bJ({inputs:c,backend:n,attrs:{axis:0}});return u.forEach(m=>n.disposeIntermediateTensorInfo(m)),h}const Ort={kernelName:gk,backendName:"cpu",kernelFunc:Nrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rrt=[_Je,N9e,$Je,OJe,F9e,AJe,DJe,LJe,BJe,jJe,UJe,GJe,qJe,QJe,JJe,tZe,rZe,sZe,aZe,EJe,cZe,dZe,hZe,mZe,P9e,M9e,yZe,O9e,xZe,wZe,SZe,CZe,TZe,IZe,NZe,RZe,PZe,FZe,MZe,zZe,VZe,WZe,HZe,qZe,XZe,YZe,ZZe,eet,tet,net,set,vJe,aet,B9e,get,z9e,yet,V9e,Cet,Eet,_et,W9e,Net,Ret,Pet,Fet,Met,H9e,K9e,R9e,zet,bZe,Vet,Wet,Het,xJe,Q9e,J9e,Ket,e7e,Qet,Zet,ttt,itt,ott,ltt,ctt,n7e,dtt,htt,mtt,ytt,xtt,wtt,ktt,i7e,Ett,Itt,Ott,o7e,l7e,Ptt,Ltt,ztt,u7e,Vtt,Wtt,Gtt,wJ,Xtt,wJe,h7e,Ytt,Ztt,tnt,A9e,hN,rnt,SJe,kJe,CJe,snt,ant,cnt,dnt,hnt,pnt,gnt,w7e,vnt,knt,Ent,$nt,k7e,Ont,Ant,Dnt,C7e,$tt,Mnt,znt,Vnt,Wnt,Hnt,Knt,Qnt,Jnt,_7e,Znt,$7e,trt,rrt,srt,art,crt,A7e,ret,drt,hrt,mrt,yrt,xrt,d7e,_rt,$rt,Ort,Utt];for(const t of Rrt)xk(t);async function Art(){return await Lje({base:"pascal",quantizationBytes:2})}async function Prt(t,e){const n=await t.segment(e);return Frt(e,n)}function Drt(t,e,n,r,i){const s=document.createElement("canvas"),o=document.createElement("canvas"),a=s.getContext("2d"),l=o.getContext("2d");s.width=r,s.height=i,o.width=r,o.height=i,a.drawImage(e,0,0,r,i),l.putImageData(n,0,0);const c=a.getImageData(0,0,r,i),u=c.data,f=l.getImageData(0,0,r,i).data;for(let h=0,m=f.length;h<m;h+=4)f[h]===t[0]&&f[h+1]===t[1]&&f[h+2]===t[2]&&(u[h+3]=0);return a.putImageData(c,0,0),s.toDataURL()}function Frt(t,e){const{height:n,width:r,segmentationMap:i}=e,s=new ImageData(i,r,n);return Drt([0,0,0],t,s,r,n)}const Lrt=()=>{const t=A.useRef(),e=async n=>await Prt(t.current,n);return A.useEffect(()=>{Art().then(n=>{t.current=n})}),{autoRemoveBackground:e}},Mrt=(t,e,n,r,i,s,o)=>{const{updateItem:a}=br(),l=RH(),{autoRemoveBackground:c}=Lrt(),u=()=>{e.openModal()},d=h=>{if(h.length===1&&h[0].attrs["data-item-type"]==="image"){console.log("in");const m=new Image;m.onload=()=>{console.log("load"),m.width=y.width,m.height=y.height,c(m).then(v=>{a(h[0].id(),b=>({...b,src:v}))})};const{attrs:y}=h[0],x=y.image.src;m.src=x}};return{onClickHotkeyButton:u,getClickCallback:h=>()=>{switch(console.log(h),h){case"select-all":return l.selectAll(t,o);case"flip-horizontally":return l.flipHorizontally(n);case"flip-vertically":return l.flipVertically(n);case"layer-up":return l.layerUp(n);case"layer-down":return l.layerDown(n);case"zoom-in":return l.zoom(t,1);case"zoom-out":return l.zoom(t,-1);case"reset-zoom":return l.resetZoom(t);case"remove-background":return d(n);case"hotkey":return u();default:return null}}}},Brt=({data:t,e,transformer:n,onSelect:r})=>{const{attrs:i}=t,s=A.useRef(),{updateItem:o}=br(),a=()=>{if(s.current===null){console.error("textRef is null");return}s.current.hide(),n.transformerRef.current.hide();const d=s.current.getAbsolutePosition(),f=s.current.getStage(),h=f.container().getBoundingClientRect(),m={x:h.x+d.x,y:h.y+d.y},y=document.createElement("textarea");document.body.appendChild(y),y.id="current_text_editor",y.innerHTML=s.current.text(),y.style.zIndex="100",y.style.position="absolute",y.style.top=`${m.y}px`,y.style.left=`${m.x}px`,y.style.fontSize=`${s.current.fontSize()*f.scaleY()*s.current.scaleY()}px`,y.style.width=`${y.value.split(`
`).sort((I,N)=>N.length-I.length)[0].split("").reduce((I,N)=>N.charCodeAt(0)>=32&&N.charCodeAt(0)<=126?I+s.current.fontSize()*f.scaleY()*s.current.scaleY()*(3/5):I+s.current.fontSize()*f.scaleY()*s.current.scaleY(),0)}px`,y.style.height=`${s.current.height()+s.current.padding()*2+5}px`,y.style.border="none",y.style.padding="0px",y.style.margin="0px",y.style.overflow="hidden",y.style.background="none",y.style.outline="none",y.style.resize="none",y.style.lineHeight=s.current.lineHeight().toString(),y.style.fontFamily=s.current.fontFamily(),y.style.transformOrigin="left top",y.style.textAlign=s.current.align(),y.style.color=s.current.fill();const x=s.current.rotation();let v="";x&&(v+=`rotateZ(${x}deg)`);let b=0;navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(b+=2+Math.round(s.current.fontSize()/20)),v+=`translateY(-${b}px)`,y.style.transform=v,y.style.height="auto",y.style.height=`${y.scrollHeight+3}px`,y.focus();function k(){window.removeEventListener("click",_),s.current.show(),n.transformerRef.current.show(),o(s.current.id(),()=>({...s.current.attrs,width:y.getBoundingClientRect().width/f.scaleY()/s.current.scaleY(),height:y.value.split(`
`).length*s.current.fontSize()*1.2,updatedAt:Date.now()})),y.parentNode.removeChild(y)}function E(){let I=y.value.split(`
`).sort((P,F)=>F.length-P.length)[0].split("").reduce((P,F)=>F.charCodeAt(0)>=32&&F.charCodeAt(0)<=126?P+s.current.fontSize()*f.scaleY()*s.current.scaleY()*.6:P+s.current.fontSize()*f.scaleY()*s.current.scaleY(),0);const N=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),D=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;(N||D)&&(I=Math.ceil(I)),y.style.width=`${I}px`}y.addEventListener("input",I=>{y.style.width=`${y.value.split(`
`).sort((N,D)=>D.length-N.length)[0].split("").reduce((N,D)=>D.charCodeAt(0)>=32&&D.charCodeAt(0)<=126?N+s.current.fontSize()*f.scaleY()*s.current.scaleY()*(3/5):N+s.current.fontSize()*f.scaleY()*s.current.scaleY(),0)}px`}),y.addEventListener("keydown",I=>{I.keyCode===13&&!I.shiftKey&&(s.current.text(y.value),k()),I.keyCode===27&&k()}),y.addEventListener("keydown",I=>{E(),y.style.height="auto",y.style.height=`${y.scrollHeight+s.current.fontSize()}px`});function _(I){I.target!==y&&(s.current.text(y.value),k())}setTimeout(()=>{window.addEventListener("click",_)})},l=A.useCallback(d=>{var f;(f=d.target.getLayer())==null||f.batchDraw()},[]),c=A.useCallback(d=>{var f;d.evt.preventDefault(),d.evt.stopPropagation(),o(d.target.id(),()=>({...d.target.attrs})),(f=d.target.getLayer())==null||f.batchDraw()},[t]),u=d=>{if(d.evt.detail===1){setTimeout(()=>{document.getElementById("current_text_editor")||r(d)},200);return}a()};return R.jsx(m7,{ref:s,text:i.text,fontFamily:i.fontFamily,fontSize:i.fontSize,onClick:u,name:"label-target","data-item-type":"text","data-frame-type":"text",id:t.id,x:i.x,y:i.y,align:i.align??"center",verticalAlign:i.verticalAlign??"middel",width:i.width,height:i.height,scaleX:i.scaleX,scaleY:i.scaleY,fill:i.fill??"#000000",stroke:i.stroke??null,strokeWidth:i.stroke?1:void 0,opacity:i.opacity??1,rotation:i.rotation??0,draggable:!0,onDragMove:l,onDragEnd:c})},zrt=({data:t,e,transformer:n,onSelect:r})=>{const{attrs:i}=t,s=A.useRef(),o=Oy(),{onDragMoveFrame:a,onDragEndFrame:l,checkIsInFrame:c}=Ry(o.stageRef,o.dragBackgroundOrigin);return A.useEffect(()=>{s.current&&(o.setStageRef(s.current.getStage()),c(s.current))},[t]),i.sides===4?R.jsx(l2,{ref:s,onClick:r,name:"label-target","data-item-type":"shape",id:t.id,x:i.x,y:i.y,width:Math.sqrt(i.radius*2),height:Math.sqrt(i.radius*2),sides:i.sides,radius:i.radius,scaleX:i.scaleX,scaleY:i.scaleY,fill:i.fill??"#000000",stroke:i.stroke??null,strokeWidth:i.stroke?5:void 0,opacity:i.opacity??1,rotation:i.rotation??0,draggable:!0,onDragMove:a,onDragEnd:l}):R.jsx(nue,{ref:s,onClick:r,name:"label-target","data-item-type":"shape",id:t.id,x:i.x,y:i.y,sides:i.sides,radius:i.radius,scaleX:i.scaleX,scaleY:i.scaleY,fill:i.fill??"#000000",stroke:i.stroke??null,strokeWidth:i.stroke?5:void 0,opacity:i.opacity??1,rotation:i.rotation??0,draggable:!0,onDragMove:a,onDragEnd:l})},jrt=({data:t,e,onSelect:n})=>{const{attrs:r}=t,i=A.useRef(),[s,o]=A.useState(new Image),{updateItem:a}=br(),l=A.useCallback(u=>{var d;(d=u.target.getLayer())==null||d.batchDraw()},[]),c=A.useCallback(u=>{var d;u.evt.preventDefault(),u.evt.stopPropagation(),a(u.target.id(),()=>({...u.target.attrs})),(d=u.target.getLayer())==null||d.batchDraw()},[t]);return A.useEffect(()=>{ui.Image.fromURL(`/assets/icon/bootstrap/${r.icon}`,u=>{o(u.image())})},[]),R.jsx(p7,{ref:i,image:s,onClick:n,name:"label-target","data-item-type":"icon","data-frame-type":"icon",id:t.id,x:r.x,y:r.y,width:r.width,height:r.height,scaleX:r.scaleX,scaleY:r.scaleY,fill:"transparent",opacity:r.opacity??1,rotation:r.rotation??0,draggable:!0,onDragMove:l,onDragEnd:c})},Vrt=({data:t,e,transformer:n,onSelect:r})=>{const{attrs:{updatedAt:i,zIndex:s,points:o,...a}}=t,l=A.useRef(),{updateItem:c}=br(),u=(h,m)=>{h.beginPath(),h.moveTo(o[0],o[1]),o.length===4?h.lineTo(o[2],o[3]):o.length===6?h.quadraticCurveTo(o[2],o[3],o[4],o[5]):h.bezierCurveTo(o[2],o[3],o[4],o[5],o[6],o[7]),m.strokeWidth(4),h.fillStrokeShape(m)},d=A.useCallback(h=>{var m;(m=h.target.getLayer())==null||m.batchDraw()},[]),f=A.useCallback(h=>{var m;h.evt.preventDefault(),h.evt.stopPropagation(),c(h.target.id(),()=>({...h.target.attrs})),(m=h.target.getLayer())==null||m.batchDraw()},[t]);return R.jsx(h7,{children:R.jsx(rue,{ref:l,onClick:r,sceneFunc:u,name:"label-target","data-item-type":"line",id:t.id,...a,draggable:!0,onDragMove:d,onDragEnd:f})})},Urt=({data:t,e,transformer:n,getCurrentDefaultBackground:r,onSelect:i})=>{const{attrs:s}=t,o=A.useRef(),a=Oy(),{onDragMoveFrame:l,onDragEndFrame:c,checkIsInFrame:u}=Ry(a.stageRef,a.dragBackgroundOrigin),[d,f]=M.useState({x:0,y:0});return A.useEffect(()=>{o.current&&(a.setStageRef(o.current.getStage()),u(o.current)),f({x:r()?r().attrs.x+s.x:s.x,y:r()?r().attrs.y+s.y:s.y})},[t]),R.jsx(l2,{ref:o,onClick:i,name:"label-target","data-item-type":"shape",id:t.id,x:d.x,y:d.y,width:s.width,height:s.height,sides:4,radius:0,scaleX:s.scaleX,scaleY:s.scaleY,fill:s.fill??"#CECECE",stroke:"#000000",strokeWidth:1,opacity:.2})},Wrt=()=>{const[t,e]=A.useState(!1);return{displayModal:t,openModal:()=>{e(!0)},closeModal:()=>{e(!1)}}},Grt=[{id:"moveBackground",name:"Move Backgroud",keys:["spacebar","click & move"],desc:""},{id:"resetZoom",name:"Reset Zoom",keys:["ctrl","0"],desc:""},{id:"zoomIn",name:"Zoom In",keys:["mouse wheel"],desc:""},{id:"zoomOut",name:"Zoom Out",keys:["mouse wheel"],desc:""},{id:"layerUp",name:"Layer Up",keys:["shift","up"],desc:""},{id:"layerDown",name:"Layer Down",keys:["shift","down"],desc:""},{id:"undo",name:"Undo",keys:["ctrl","z"],desc:""},{id:"redo",name:"Redo",keys:["ctrl","y"],desc:""},{id:"deleteItems",name:"Delete",keys:["backspace"],desc:""},{id:"duplicateItems",name:"Duplicate",keys:["ctrl","d"],desc:""},{id:"copyItems",name:"Copy Selected Items",keys:["ctrl","c"],desc:""},{id:"pasteItems",name:"Paste Selected Items",keys:["ctrl","v"],desc:""},{id:"selectAllItems",name:"Select All Items",keys:["ctrl","a"],desc:""},{id:"flipHorizontally",name:"Flip Horizontally",keys:["shift","h"],desc:""},{id:"flipVertically",name:"Flip Vertically",keys:["shift","v"],desc:""}],Hrt={$oid:"669e7f51705ffb021f91bade"},qrt="a68a31a0-664c-40e5-8ed6-f60bee8cdf41",Krt=[{_id:{$oid:"669e7c2c96867fddab68f879"},image:"https://www.dnaswag.ca/rshared/pdimages/1115123/4/prod.jpg?b=14431218&v=1720485250p0",product_code:"L350",product_name:"ATC PRO TEAM SHORT SLEEVE LADIES' TEE / ATCMC T-SHIRT À MANCHES COURTES PRO TEAM POUR FEMMES",product_details_url:"https://www.dnaswag.ca/manage/supplier_products/edit/219175928?_dnpps=W3siayI6ImJsYW5rX3Byb2R1Y3RzIiwicCI6eyJwZXJfcGFnZSI6MTUsInQiOjAsImMiOjAsInMiOjAsImIiOjAsInYiOjAsIm4iOiIiLCJkIjoiIn0sIm4iOnt9fV0%3D&pid=1115123&sid=170608",product_supplier:"SanMar Canada",product_group:"Apparel",blank:"$12.32",dtg:"$12.32",sub:"N/A",emb:"$19.27",scr:"$18.57",trf:"$14.32",dtf:"$17.32",uuid:"0369aecb-c21e-46da-8216-ddee2d7b8982",product_parts:[{_id:{$oid:"669fc01a5edbe4659ff7333d"},uuid:"ec034c86-9732-4444-a6e0-618b08bb4c93",image:"https://www.dnaswag.ca/pimages/1804688/7676278/12/1/prod.jpg?602053&pt=1404213&ts=1718290954",priority:0},{_id:{$oid:"669fc01a5edbe4659ff7333e"},uuid:"14f4f6c6-af20-43ec-9b22-52221431995d",image:"https://www.dnaswag.ca/pimages/1823588/7676278/12/1/prod.jpg?602053&pt=1404218&ts=1718290954",priority:1},{_id:{$oid:"669fc01a5edbe4659ff7333f"},uuid:"d794172d-27bb-4d04-9d9b-6063bb7aae62",image:"https://www.dnaswag.ca/pimages/1823593/7676278/12/1/prod.jpg?602053&pt=1400833&ts=1718290954",priority:2},{_id:{$oid:"669fc01a5edbe4659ff73340"},uuid:"c39fb4d8-34bc-4c86-b8de-615a4e74bed6",image:"https://www.dnaswag.ca/pimages/1823598/7676278/12/1/prod.jpg?602053&pt=1400838&ts=1718290954",priority:3}],image_id:{$oid:"66a1300c998e24b698dd05e8"}},{_id:{$oid:"669e7c2c96867fddab68f882"},image:"https://www.dnaswag.ca/rshared/pdimages/1172468/4/prod.jpg?b=14431218&v=1720485250p0",product_code:"Y355",product_name:"ATC PRO TEAM YOUTH SHORTS",product_details_url:"https://www.dnaswag.ca/manage/supplier_products/edit/219175973?_dnpps=W3siayI6ImJsYW5rX3Byb2R1Y3RzIiwicCI6eyJwZXJfcGFnZSI6MTUsInQiOjAsImMiOjAsInMiOjAsImIiOjAsInYiOjAsIm4iOiIiLCJkIjoiIn0sIm4iOnt9fV0%3D&pid=1172468&sid=170608",product_supplier:"SanMar Canada",product_group:"Apparel",blank:"$21.54",dtg:"N/A",sub:"N/A",emb:"$28.49",scr:"$27.79",trf:"$23.54",dtf:"$26.54",uuid:"a84ce119-ac51-4907-a86a-8c50cb38b0b7",product_parts:[{_id:{$oid:"669fc0615edbe4659ff73361"},uuid:"523061fe-0ed6-4203-8158-2b69ff56ee87",image:"https://www.dnaswag.ca/pimages/4995023/8740543/12/1/prod.jpg?602063&pt=1404258&ts=1710529304",priority:0,print_areas:[{_id:{$oid:"66c887ee7965da5e7bd63ed7"},x:0,y:0,w:400,h:400,priority:1e3}]}],image_id:{$oid:"66a1300f998e24b698dd05f1"}}],s_={_id:Hrt,uuid:qrt,products:Krt},Xrt=(t,e,n,r)=>{const{alterItems:i}=br(),[s,o]=A.useState(null),a=()=>s&&s.length>0?s[0]:null,l=A.useCallback(()=>{if(t.length>0&&s){const f=[...s],h=[...t[t.length-1]];n(m=>[...m.slice(0,t.length-1)]),r(m=>[...m,f]),o(h),i(h)}},[t,s,n,r,i]),c=A.useCallback(()=>{if(e.length>0&&s){const f=[...s],h=e[e.length-1];r(m=>[...m.slice(0,e.length-1)]),n(m=>[...m,f]),o(h),i(h)}},[e,s,r,n,i]),u=A.useCallback(f=>{f.length!==0&&s!==null&&JSON.stringify(f)!==JSON.stringify(s)&&(n(h=>[...h,s]),r([])),f.length!==0&&o(f)},[t,s,n,r,o]);return{goToPast:l,goToFuture:c,recordPast:u,clearHistory:()=>{n([]),r([])},setCurrent:o,getCurrentDefaultBackground:a,current:s}},Qrt=({show:t})=>R.jsx(Pf,{show:t,size:"sm",centered:!0,children:R.jsx(Pf.Body,{className:"text-center",children:R.jsx(fpe,{animation:"border",role:"status",children:R.jsx("span",{className:"sr-only"})})})});var Nr=[];for(var o_=0;o_<256;++o_)Nr.push((o_+256).toString(16).slice(1));function Yrt(t,e=0){return(Nr[t[e+0]]+Nr[t[e+1]]+Nr[t[e+2]]+Nr[t[e+3]]+"-"+Nr[t[e+4]]+Nr[t[e+5]]+"-"+Nr[t[e+6]]+Nr[t[e+7]]+"-"+Nr[t[e+8]]+Nr[t[e+9]]+"-"+Nr[t[e+10]]+Nr[t[e+11]]+Nr[t[e+12]]+Nr[t[e+13]]+Nr[t[e+14]]+Nr[t[e+15]]).toLowerCase()}var Q1,Jrt=new Uint8Array(16);function Zrt(){if(!Q1&&(Q1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Q1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Q1(Jrt)}var eit=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const k8={randomUUID:eit};function SJ(t,e,n){if(k8.randomUUID&&!e&&!t)return k8.randomUUID();t=t||{};var r=t.random||(t.rng||Zrt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Yrt(r)}const tit=()=>({makeProduct:(e,n)=>{let r=[];return{productList:e.map((s,o)=>{const a=s.product_parts.map((u,d)=>({img:u.image,priority:u.priority,active:d==0})),l=s.product_parts[0],c={id:SJ(),attrs:{name:"label-target","data-item-type":"image",x:n?n.originalPosition.x:0,y:n?n.originalPosition.y:0,width:n?n.referenceHeight:862,height:n?n.referenceHeight:862,src:l.image,zIndex:0,brightness:0,draggable:!1,visible:!1,default:!0,updatedAt:Date.now()},className:"sample-image",children:[]};return r.push({id:s.product_code,data:[c]}),{id:s.product_code,preview:s.image,name:s.product_name,active:o==0,parts:a}}),productPartList:r}}}),nit=({items:t,style:e,onItemAdd:n,onItemSelect:r,onItemClose:i})=>{const[s,o]=M.useState(-1),a=M.useRef(null);return R.jsx("div",{className:"product-root",style:e,children:R.jsxs(mT,{as:"ul",className:"product-list",children:[R.jsx(mT.Item,{action:!0,as:"li",className:"product-header",onClick:()=>n(),children:R.jsxs("div",{className:"hstack w-100",children:[R.jsx("label",{className:"me-auto",children:"Product"}),R.jsx("div",{className:"i-plus",children:"+"})]})},"product-header-id"),t.map((l,c)=>R.jsx(mT.Item,{action:!0,as:"li",className:"product-item","data-file-id":l.id,"data-active":l.active,onMouseEnter:()=>o(c),onMouseLeave:()=>o(-1),onClick:u=>{a.current&&!a.current.contains(u.target)&&r&&r(u,l)},children:R.jsxs("div",{className:"hstack w-100",children:[R.jsx("img",{src:l.preview,className:"h-100"}),R.jsx("label",{className:"text-truncate me-auto",children:l.name}),s===c&&R.jsx("div",{className:"i-close",onClick:()=>{i&&i(l)},ref:a,children:"x"})]})},`product-item-${l.id}`))]})})},C8=[{color:"#FFFFFF",sizeList:["S","M","L","XL","2XL","3XL"]},{color:"#A6A5A1",sizeList:["S","M","L","3XL"]},{color:"#A4A4A4",sizeList:["XL","2XL","3XL"]},{color:"#6F6E6B",sizeList:["M","L","XL","2XL","3XL"]},{color:"#404040",sizeList:["S","M","L","XL","2XL","3XL"]},{color:"#2E2E32",sizeList:["S","M","L","XL","2XL","3XL"]},{color:"#000000",sizeList:["XL","2XL","3XL"]},{color:"#26262E",sizeList:["S","M","L","XL"]},{color:"#414147",sizeList:["S","M","L","XL"]},{color:"#303B61",sizeList:["S","M","L","XL","2XL"]},{color:"#29326D",sizeList:["S","M","L","XL"]},{color:"#0092B8",sizeList:["S","M","L","XL"]},{color:"#97ADBD",sizeList:["M","L","XL"]},{color:"#CDEADD",sizeList:["L","XL","2XL","3XL"]},{color:"#DC94B3",sizeList:["M","L","XL","2XL"]},{color:"#A3172A",sizeList:["S","M","L","XL","2XL","3XL"]}],rit=({activedProduct:t,style:e,onColorSelect:n})=>{const[r,i]=M.useState(C8[0].sizeList);return R.jsxs("div",{className:"color-picker-root",style:e,children:[R.jsxs("div",{className:"hstack color-picker-header",children:[R.jsx("div",{className:"text-truncate color-picker-title",children:t.name}),R.jsx("div",{className:"color-picker-close",children:R.jsx("svg",{width:"11",height:"12",viewBox:"0 0 11 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:R.jsx("path",{d:"M7.585 6L10.7122 2.87281C11.0959 2.48906 11.0959 1.86687 10.7122 1.48281L10.0172 0.787813C9.63344 0.404063 9.01125 0.404063 8.62719 0.787813L5.5 3.915L2.37281 0.787813C1.98906 0.404063 1.36688 0.404063 0.982813 0.787813L0.287813 1.48281C-0.0959375 1.86656 -0.0959375 2.48875 0.287813 2.87281L3.415 6L0.287813 9.12719C-0.0959375 9.51094 -0.0959375 10.1331 0.287813 10.5172L0.982813 11.2122C1.36656 11.5959 1.98906 11.5959 2.37281 11.2122L5.5 8.085L8.62719 11.2122C9.01094 11.5959 9.63344 11.5959 10.0172 11.2122L10.7122 10.5172C11.0959 10.1334 11.0959 9.51125 10.7122 9.12719L7.585 6Z",fill:"#777777"})})})]}),R.jsxs("div",{className:"color-picker-body",children:[R.jsx("div",{className:"container",children:R.jsx("div",{className:"row gx-1 gy-1",children:C8.map(s=>R.jsx("div",{className:"col-1 color-item-container",style:{backgroundColor:s.color},onMouseEnter:()=>{i(s.sizeList)},onClick:()=>n(s.color)}))})}),R.jsx("div",{className:"container mt-2",children:R.jsx("hr",{})}),R.jsxs("div",{className:"container",children:[R.jsx("h2",{children:"Sizes by colour"}),R.jsx("div",{className:"size-availability",children:r.map(s=>R.jsx("div",{children:s}))})]})]})]})},iit=({items:t,onItemAdd:e,onItemClose:n,onItemSelect:r})=>{const{getTranslation:i}=gs(),[s,o]=M.useState(!1),[a,l]=M.useState(!1),c=A.useRef(null),u=A.useRef(null),[d,f]=M.useState({height:"19rem"}),[h,m]=M.useState({}),y=[{key:"ActivedItemKey",target:c.current,show:s,component:R.jsx(nit,{items:t,style:d,onItemAdd:e,onItemClose:n,onItemSelect:(v,b)=>{r&&r(v,b)}})},{key:"ActivedColorKey",target:u.current,show:a,component:R.jsx(rit,{activedProduct:t.find(v=>v.active),style:h})}];document.addEventListener("mousedown",v=>{c.current&&!c.current.contains(v.target)&&o(!1),u.current&&!u.current.contains(v.target)&&l(!1)}),M.useEffect(()=>{t.length<=0||(f({width:`${c.current.offsetWidth}px`,...d}),m({width:`${c.current.offsetWidth}px`,transform:"translateX(45%)",...h}))},[t]);const x=()=>R.jsx("label",{children:t.length>0&&t.find(v=>v.active).name});return R.jsxs("div",{children:[y.map(v=>R.jsx(fW,{target:v.target,show:v.show,placement:"top",children:({placement:b,arrowProps:w,show:k,popper:E,hasDoneInitialMeasure:_,...I})=>R.jsx("div",{...I,style:{zIndex:1,...I.style},children:v.component})})),R.jsxs("div",{className:"d-flex flex-row cart-view",children:[R.jsx("section",{className:"color-section",ref:u,onClick:()=>l(!a),children:R.jsx("div",{className:"roundLG bg-white"})}),R.jsxs("section",{className:"products-selector",ref:c,onClick:()=>o(!s),children:[R.jsx("svg",{width:"19",height:"15",viewBox:"0 0 19 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"i-cloth",children:R.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.23554 0.375231C7.30598 0.375527 7.37612 0.375822 7.44584 0.375822C7.65494 0.375822 7.8502 0.480395 7.96608 0.654454C8.37422 1.26747 8.95202 1.54221 9.5 1.54221C10.048 1.54221 10.6258 1.26747 11.0339 0.654454C11.1498 0.480395 11.3451 0.375822 11.5542 0.375822C11.6239 0.375822 11.694 0.375527 11.7645 0.375231C12.297 0.372995 12.8463 0.370689 13.3577 0.495093C13.9851 0.64775 14.539 0.979657 15.0762 1.61159C15.0805 1.61659 15.0846 1.62167 15.0887 1.62681L18.4887 5.89216C18.5999 6.03165 18.6462 6.21201 18.6159 6.38781C18.5857 6.56361 18.4817 6.71809 18.3303 6.81235C18.1439 6.92835 17.9031 7.07834 17.6303 7.24823C16.5973 7.89167 15.1056 8.82074 14.375 9.27115V14C14.375 14.3452 14.0952 14.625 13.75 14.625H5.17917C4.83399 14.625 4.55417 14.3452 4.55417 14V9.26941C4.12374 9.00021 3.42995 8.55956 2.72521 8.11196C1.93536 7.6103 1.13176 7.09991 0.669749 6.81235C0.5183 6.71809 0.414347 6.56361 0.384071 6.38781C0.353796 6.21201 0.400083 6.03165 0.511275 5.89216L3.91128 1.62681C3.91537 1.62167 3.91955 1.61659 3.9238 1.61159C4.46098 0.979657 5.01491 0.64775 5.64236 0.495093C6.15367 0.370689 6.70298 0.372995 7.23554 0.375231ZM5.80417 8.91129V5.46928C5.80417 5.12411 5.52435 4.84428 5.17917 4.84428C4.83399 4.84428 4.55417 5.12411 4.55417 5.46928V7.79213C4.21326 7.57636 3.82191 7.32773 3.42452 7.07527C2.90124 6.74284 2.36751 6.40377 1.92475 6.12431L4.88235 2.41396C5.26341 1.96796 5.5932 1.79352 5.93786 1.70966C6.268 1.62934 6.62598 1.62472 7.13053 1.62536C7.75149 2.388 8.61376 2.79221 9.5 2.79221C10.3862 2.79221 11.2485 2.388 11.8695 1.62536C12.374 1.62472 12.732 1.62934 13.0621 1.70966C13.4068 1.79352 13.7366 1.96796 14.1177 2.41396L17.0737 6.12231C17.0379 6.14458 17.0015 6.16724 16.9646 6.19026C16.1844 6.67617 15.148 7.32172 14.375 7.80119V5.46928C14.375 5.12411 14.0952 4.84428 13.75 4.84428C13.4048 4.84428 13.125 5.12411 13.125 5.46928V8.91128C13.1249 8.91838 13.1249 8.92549 13.125 8.93261V13.375H5.80417V8.9326C5.80429 8.92549 5.80429 8.91839 5.80417 8.91129Z",fill:"#888888"})}),x(),R.jsx("svg",{width:"5",height:"3",viewBox:"0 0 5 3",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"i-arrow",children:R.jsx("path",{d:"M4.66357 3L0.336431 3C0.0370801 3 -0.112596 2.61755 0.0993046 2.39342L2.26203 0.104062C2.39321 -0.0346874 2.60679 -0.0346874 2.73797 0.104061L4.9007 2.39342C5.1126 2.61755 4.96292 3 4.66357 3Z",fill:"#DDDDDD"})})]}),R.jsxs("section",{className:"checkout-section",children:[R.jsx("label",{children:i("cartview","checkout","name")}),R.jsx("div",{children:R.jsx("svg",{width:"14",height:"14",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:R.jsx("path",{d:"M3.875 0.125C6.01562 0.125 7.75 1.85937 7.75 4C7.75 6.14062 6.01562 7.875 3.875 7.875C1.73438 7.875 -7.58119e-08 6.14062 -1.69382e-07 4C-2.62951e-07 1.85938 1.73437 0.125 3.875 0.125ZM5.65469 3.73437L3.5375 1.61719C3.39062 1.47031 3.15312 1.47031 3.00781 1.61719L2.74219 1.88281C2.59531 2.02969 2.59531 2.26719 2.74219 2.4125L4.32969 4L2.74219 5.5875C2.59531 5.73437 2.59531 5.97187 2.74219 6.11719L3.00781 6.38281C3.15469 6.52969 3.39219 6.52969 3.5375 6.38281L5.65469 4.26562C5.80156 4.11875 5.80156 3.88125 5.65469 3.73437Z",fill:"#DDDDDD"})})})]})]})]})},sit=gh`
  query {
    getCart {
      uuid
      products {
        uuid
        product_name
        product_code
        image
        product_parts {
          image
          uuid
          priority
        }
      }
    }
  }
`;function oit(){const[t,e]=A.useState(N$),[n,r]=A.useState([]),[i,s]=A.useState([]),[o]=A.useState(SJ()),[a,l]=A.useState(Pg.Default),[c,u]=A.useState(null),[d,f]=A.useState(null),{data:h,loading:m,error:y}=Boe(sit),x=A.useRef(null),v=A.useRef(null),b=wR(Bu.SETTING_BAR_EVENT),{emit:w}=yy(),{makeProduct:k}=tit(),{goToFuture:E,goToPast:_,recordPast:I,clearHistory:N,getCurrentDefaultBackground:D}=Xrt(n,i,r,s),P=ADe(),{selectedItems:F,onSelectItem:U,setSelectedItems:j,clearSelection:W}=OH(P),{tabList:q,onClickTab:Q,onCreateTab:ee,onDeleteTab:V,onInitTabs:H,onNavSelect:Y}=$De(P,N),{stageData:Z,createItem:se}=br(),{initializeFileDataList:ce,updateFileData:de}=NH(),fe=Oy(),ge=Wrt(),{deleteItems:ke,copyItems:Ie,selectAll:$e,pasteItems:De,duplicateItems:Oe,layerDown:Qe,layerUp:Xe,flipHorizontally:et,flipVertically:He}=RH(),{getTranslation:rt}=gs(),[nt,bt]=A.useState([]),ln=Ce=>{var Er;const{id:qt}=Ce.attrs,Yn=Ce.attrs["data-item-type"]==="frame"?Ce.getParent():Ce;return{id:Is(),attrs:{...((Er=Z.find(bi=>bi.attrs.id===qt))==null?void 0:Er.attrs)??{}},className:Yn.getType(),children:[]}},{getClickCallback:lt}=Mrt(fe,ge,F,j,P,ln,U),_n=A.useMemo(()=>{var Ce;return((Ce=q.find(qt=>qt.active))==null?void 0:Ce.id)??null},[q]),cn=A.useMemo(()=>Z.sort((Ce,qt)=>Ce.attrs.zIndex===qt.attrs.zIndex?Ce.attrs.zIndex<0?qt.attrs.updatedAt-Ce.attrs.updatedAt:Ce.attrs.updatedAt-qt.attrs.updatedAt:Ce.attrs.zIndex-qt.attrs.zIndex),[Z]),lr=Ce=>{se(Ce)},ye=Ce=>{switch(Ce){case 0:return"Font";case 1:return"Rare";case 2:return"Left Sleeve";case 3:return"Right Sleeve";default:return null}},Ae=R.jsx(iit,{items:q,onItemSelect:(Ce,qt)=>{Q(Ce);const Yn=N$.map(Er=>{if(Er.type==="middle")return Er;const bi=qt.parts.sort((wi,Tr)=>wi.priority-Tr.priority).map(wi=>({id:wi.id,type:"top",name:ye(wi.priority),desc:ye(wi.priority),icon:wi.img}));e(Yn.concat(bi))})}}),Pe=Ce=>{Y(Ce)},ct=R.jsx(yDe,{items:t,onClick:lt,onSelect:Pe});ge.displayModal,ge.closeModal,Pf.Header,Pf.Title,Pf.Body,Grt.map(Ce=>R.jsxs(On,{children:[R.jsx("h6",{children:rt("hotkey",Ce.id,"name")}),R.jsx(cs,{className:"justify-content-end",xs:4,children:Ce.keys.map((qt,Yn)=>R.jsxs(M.Fragment,{children:[Yn!==0&&"+",R.jsx(On,{xs:"auto",className:"align-items-center",children:R.jsx(vh,{disabled:!0,children:qt})})]},Ce.name+qt))})]},Ce.name));const Ct=R.jsx(mDe,{ref:x,selectedItems:F,clearSelection:W,stageRef:fe.stageRef,onSubmenuClick:l,onImageUpload:lr}),ai=()=>R.jsx(pDe,{ref:v,menu:a}),xi=Ce=>{switch(Ce.attrs["data-item-type"]){case"frame":return R.jsx(xDe,{data:Ce,onSelect:U},`frame-${Ce.id}`);case"image":return R.jsx(IDe,{data:Ce,onSelect:U},`image-${Ce.id}`);case"text":return R.jsx(Brt,{data:Ce,transformer:P,onSelect:U},`image-${Ce.id}`);case"shape":return R.jsx(zrt,{data:Ce,transformer:P,onSelect:U},`shape-${Ce.id}`);case"icon":return R.jsx(jrt,{data:Ce,transformer:P,onSelect:U},`icon-${Ce.id}`);case"line":return R.jsx(Vrt,{data:Ce,transformer:P,onSelect:U},`line-${Ce.id}`);case"decoration":return R.jsx(Urt,{data:Ce,transformer:P,onSelect:U,getCurrentDefaultBackground:D},`decoration-${Ce.id}`);default:return null}};return Ii("shift+up",Ce=>{Ce.preventDefault(),Xe(F)},{},[F]),Ii("shift+down",Ce=>{Ce.preventDefault(),Qe(F)},{},[F]),Ii("ctrl+d",Ce=>{Ce.preventDefault(),Oe(F,ln)},{},[F,Z]),Ii("ctrl+c",Ce=>{Ce.preventDefault(),Ie(F,bt,ln)},{},[F,Z,nt]),Ii("ctrl+a",Ce=>{Ce.preventDefault(),$e(fe,U)},{},[F]),Ii("ctrl+v",Ce=>{Ce.preventDefault(),De(nt)},{},[nt]),Ii("ctrl+z",Ce=>{Ce.preventDefault(),_()},{},[_]),Ii("ctrl+y",Ce=>{Ce.preventDefault(),E()},{},[E]),Ii("shift+h",Ce=>{Ce.preventDefault(),et(F)},{},[F]),Ii("shift+v",Ce=>{Ce.preventDefault(),He(F)},{},[F]),Ii("backspace",Ce=>{Ce.preventDefault(),ke(F,j,P.transformerRef)},{enabled:!!F.length},[F,P.transformerRef.current]),b.onEvent(Ce=>{u(Ce)}),A.useEffect(()=>{if(!s_.products||!c)return;window.addEventListener("beforeunload",Tr=>{Tr.preventDefault(),Tr.returnValue=""});const Ce=(window.innerWidth-c.width)/4,qt=0,Yn=window.innerWidth-c.width,Er=c.height;f({x:Ce,y:qt,width:Yn,height:Er});const{productList:bi,productPartList:wi}=k(s_.products,{originalPosition:{x:Ce,y:qt},referenceWidth:Yn,referenceHeight:Er});e(bi[0].parts.map(Tr=>({id:Tr.id,type:"top",active:Tr.active,name:Tr.name,desc:ye(Tr.priority),icon:Tr.img}))),H(bi),ce(wi),fe.stageRef.current.setPosition({x:Math.max(Math.ceil(fe.stageRef.current.width()-(window.innerWidth-c.width))/2,0),y:0}),fe.stageRef.current.setSize({width:window.innerWidth-c.width,height:c.height}),console.log(`w=${fe.stageRef.current.width()};h=${fe.stageRef.current.height()}`),fe.stageRef.current.batchDraw()},[s_.products,c]),A.useEffect(()=>{_n&&de({id:_n,data:Z}),I(Z)},[Z]),A.useEffect(()=>{document.addEventListener("mousedown",Ce=>{x.current&&!x.current.contains(Ce.target)&&v.current&&!v.current.contains(Ce.target)&&(l(Pg.Default),w(Bu.CLIPART_BAR_OPEN_EVENT,!1))})},[x,v]),R.jsxs(R.Fragment,{children:[R.jsx(Dme,{settingBarKey:o,footer:Ae,navBar:ct,settingBar:Ct,subMenu:ai,children:R.jsxs(bDe,{onSelect:U,stage:fe,children:[Z.length?cn.map(Ce=>xi(Ce)):null,R.jsx(iue,{ref:P.transformerRef,keepRatio:!0,shouldOverdrawWholeArea:!0,boundBoxFunc:(Ce,qt)=>qt,onTransformEnd:P.onTransformEnd})]})}),R.jsx(Qrt,{show:m}),";"]})}const ait="FILE_META",lit={scale:{x:1,y:1},position:{x:0,y:0}},cit=Yh({name:ait,initialState:lit,reducers:{setFileMeta(t,e){const{scale:n,position:r}=e.payload;t.scale=n,t.position=r}}}),uit=cit.reducer,a_=t=>t.fileMeta;s$(a_,t=>t.scale),s$(a_,t=>t.position);const dit="WORKSPACE_COLOR",$x=xy(),fit=Yh({name:dit,initialState:$x.setAll($x.getInitialState(),[{id:0,value:"#fff"}]),reducers:{changeColor(t,e){$x.updateOne(t,e)}}});$x.getSelectors(t=>t.workspaceColor);const hit=fit.reducer,pit="PAGE_INFO",zo=xy(),mit=Yh({name:pit,initialState:zo.setAll(zo.getInitialState(),[]),reducers:{addItem(t,e){if(Array.isArray(e.payload)){zo.addMany(t,e.payload);return}zo.addOne(t,e.payload)},updateItem(t,e){if(Array.isArray(e.payload)){zo.updateMany(t,e.payload.map(n=>({id:n.id,changes:n})));return}zo.updateOne(t,{id:e.payload.id,changes:e.payload})},removeItem(t,e){if(Array.isArray(e.payload)){zo.removeMany(t,e.payload);return}zo.removeOne(t,e.payload.id)},clearItems(t,e){zo.removeAll(t)}}}),git=mit.reducer;zo.getSelectors(t=>t.pageInfoCollection);const E8=Jye(),yit=Zye(APe),vit=t=>{const e=Yge({reducer:{fileMeta:uit,currentStageData:PPe,stageDataList:kDe,imageAssetList:nve,workspaceColor:hit,pageInfoCollection:git},middleware:IW({serializableCheck:!1}).concat(E8),preloadedState:t});return E8.run(yit),e},xit={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class ow{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||xit,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ow(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ow(this.logger,e)}}var Ko=new ow;class Jk{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a.apply(a,[e,...r])})}}function hm(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function T8(t){return t==null?"":""+t}function bit(t,e,n){t.forEach(r=>{e[r]&&(n[r]=e[r])})}const wit=/###/g;function sg(t,e,n){function r(a){return a&&a.indexOf("###")>-1?a.replace(wit,"."):a}function i(){return!t||typeof t=="string"}const s=typeof e!="string"?e:e.split(".");let o=0;for(;o<s.length-1;){if(i())return{};const a=r(s[o]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++o}return i()?{}:{obj:t,k:r(s[o])}}function _8(t,e,n){const{obj:r,k:i}=sg(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=sg(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=sg(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n}function Sit(t,e,n,r){const{obj:i,k:s}=sg(t,e,Object);i[s]=i[s]||[],r&&(i[s]=i[s].concat(n)),r||i[s].push(n)}function aw(t,e){const{obj:n,k:r}=sg(t,e);if(n)return n[r]}function kit(t,e,n){const r=aw(t,n);return r!==void 0?r:aw(e,n)}function kJ(t,e,n){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):kJ(t[r],e[r],n):t[r]=e[r]);return t}function qd(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Cit={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Eit(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>Cit[e]):t}class Tit{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const _it=[" ",",","?","!",";"],Iit=new Tit(20);function $it(t,e,n){e=e||"",n=n||"";const r=_it.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=Iit.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}function mN(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=n),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i}function lw(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class I8 extends Jk{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):typeof r=="string"&&s?a.push(...r.split(s)):a.push(r)));const l=aw(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||typeof r!="string"?l:mN(this.data&&this.data[e]&&this.data[e][n],r,s)}addResource(e,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),_8(this.data,a,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)(typeof r[s]=="string"||Object.prototype.toString.apply(r[s])==="[object Array]")&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=aw(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?kJ(l,r,s):l={...l,...r},_8(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var CJ={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,n,r,i))}),e}};const $8={};class cw extends Jk{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),bit(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ko.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!$it(e,r,i);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:s};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(i)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],n),l=a[a.length-1],c=n.lng||this.language,u=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(u){const k=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${k}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${k}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o}const d=this.resolve(e,n);let f=d&&d.res;const h=d&&d.usedKey||o,m=d&&d.exactUsedKey||o,y=Object.prototype.toString.apply(f),x=["[object Number]","[object Function]","[object RegExp]"],v=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject;if(b&&f&&(typeof f!="string"&&typeof f!="boolean"&&typeof f!="number")&&x.indexOf(y)<0&&!(typeof v=="string"&&y==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const k=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,f,{...n,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(d.res=k,d.usedParams=this.getUsedParamsDetails(n),d):k}if(s){const k=y==="[object Array]",E=k?[]:{},_=k?m:h;for(const I in f)if(Object.prototype.hasOwnProperty.call(f,I)){const N=`${_}${s}${I}`;E[I]=this.translate(N,{...n,joinArrays:!1,ns:a}),E[I]===N&&(E[I]=f[I])}f=E}}else if(b&&typeof v=="string"&&y==="[object Array]")f=f.join(v),f&&(f=this.extendTranslation(f,e,n,r));else{let k=!1,E=!1;const _=n.count!==void 0&&typeof n.count!="string",I=cw.hasDefaultValue(n),N=_?this.pluralResolver.getSuffix(c,n.count,n):"",D=n.ordinal&&_?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",P=_&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),F=P&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${N}`]||n[`defaultValue${D}`]||n.defaultValue;!this.isValidLookup(f)&&I&&(k=!0,f=F),this.isValidLookup(f)||(E=!0,f=o);const j=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&E?void 0:f,W=I&&F!==f&&this.options.updateMissing;if(E||k||W){if(this.logger.log(W?"updateKey":"missingKey",c,l,o,W?F:f),s){const V=this.resolve(o,{...n,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let q=[];const Q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Q&&Q[0])for(let V=0;V<Q.length;V++)q.push(Q[V]);else this.options.saveMissingTo==="all"?q=this.languageUtils.toResolveHierarchy(n.lng||this.language):q.push(n.lng||this.language);const ee=(V,H,Y)=>{const Z=I&&Y!==f?Y:j;this.options.missingKeyHandler?this.options.missingKeyHandler(V,l,H,Z,W,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(V,l,H,Z,W,n),this.emit("missingKey",V,l,H,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?q.forEach(V=>{const H=this.pluralResolver.getSuffixes(V,n);P&&n[`defaultValue${this.options.pluralSeparator}zero`]&&H.indexOf(`${this.options.pluralSeparator}zero`)<0&&H.push(`${this.options.pluralSeparator}zero`),H.forEach(Y=>{ee([V],o+Y,n[`defaultValue${Y}`]||F)})}):ee(q,o,F))}f=this.extendTranslation(f,e,n,d,r),E&&f===o&&this.options.appendNamespaceToMissingKey&&(f=`${l}:${o}`),(E||k)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,k?f:void 0):f=this.options.parseMissingKeyHandler(f))}return i?(d.res=f,d.usedParams=this.getUsedParamsDetails(n),d):f}extendTranslation(e,n,r,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const f=e.match(this.interpolator.nestingRegexp);u=f&&f.length}let d=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,r.lng||this.language,r),c){const f=e.match(this.interpolator.nestingRegexp),h=f&&f.length;u<h&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,h=new Array(f),m=0;m<f;m++)h[m]=arguments[m];return s&&s[0]===h[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):o.translate(...h,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=CJ.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,o,a;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const f=n.count!==void 0&&typeof n.count!="string",h=f&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),m=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(x=>{this.isValidLookup(r)||(a=x,!$8[`${y[0]}-${x}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&($8[`${y[0]}-${x}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(v=>{if(this.isValidLookup(r))return;o=v;const b=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(b,u,v,x,n);else{let k;f&&(k=this.pluralResolver.getSuffix(v,n.count,n));const E=`${this.options.pluralSeparator}zero`,_=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(b.push(u+k),n.ordinal&&k.indexOf(_)===0&&b.push(u+k.replace(_,this.options.pluralSeparator)),h&&b.push(u+E)),m){const I=`${u}${this.options.contextSeparator}${n.context}`;b.push(I),f&&(b.push(I+k),n.ordinal&&k.indexOf(_)===0&&b.push(I+k.replace(_,this.options.pluralSeparator)),h&&b.push(I+E))}}let w;for(;w=b.pop();)this.isValidLookup(r)||(s=w,r=this.getResource(v,x,w,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&typeof e.replace!="string";let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}function l_(t){return t.charAt(0).toUpperCase()+t.slice(1)}class N8{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ko.create("languageUtils")}getScriptPartFromCode(e){if(e=lw(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=lw(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=l_(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=l_(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=l_(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let Nit=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Oit={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const Rit=["v1","v2","v3"],Ait=["v4"],O8={zero:0,one:1,two:2,few:3,many:4,other:5};function Pit(){const t={};return Nit.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:Oit[e.fc]}})}),t}class Dit{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Ko.create("pluralResolver"),(!this.options.compatibilityJSON||Ait.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Pit()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(lw(e==="dev"?"en":e),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,s)=>O8[i]-O8[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Rit.includes(this.options.compatibilityJSON)}}function R8(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=kit(t,e,n);return!s&&i&&typeof n=="string"&&(s=mN(t,n,r),s===void 0&&(s=mN(e,n,r))),s}class Fit{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ko.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const n=e.interpolation;this.escape=n.escape!==void 0?n.escape:Eit,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?qd(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?qd(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?qd(n.nestingPrefix):n.nestingPrefixEscaped||qd("$t("),this.nestingSuffix=n.nestingSuffix?qd(n.nestingSuffix):n.nestingSuffixEscaped||qd(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(m){return m.replace(/\$/g,"$$$$")}const u=m=>{if(m.indexOf(this.formatSeparator)<0){const b=R8(n,l,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,r,{...i,...n,interpolationkey:m}):b}const y=m.split(this.formatSeparator),x=y.shift().trim(),v=y.join(this.formatSeparator).trim();return this.format(R8(n,l,x,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...i,...n,interpolationkey:x})};this.resetRegExp();const d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>c(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?c(this.escape(m)):c(m)}].forEach(m=>{for(a=0;s=m.regex.exec(e);){const y=s[1].trim();if(o=u(y),o===void 0)if(typeof d=="function"){const v=d(e,s,i);o=typeof v=="string"?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=T8(o));const x=m.safeValue(o);if(e=e.replace(s[0],x),f?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=s[0].length):m.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;function a(l,c){const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let f=`{${d[1]}`;l=d[0],f=this.interpolate(f,o);const h=f.match(/'/g),m=f.match(/"/g);(h&&h.length%2===0&&!m||m.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),c&&(o={...c,...o})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${u}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l}for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const u=i[1].split(this.formatSeparator).map(d=>d.trim());i[1]=u.shift(),l=u,c=!0}if(s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=T8(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),c&&(s=l.reduce((u,d)=>this.format(u,d,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}function Lit(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(!o)return;const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,"");n[a.trim()]||(n[a.trim()]=c),c==="false"&&(n[a.trim()]=!1),c==="true"&&(n[a.trim()]=!0),isNaN(c)||(n[a.trim()]=parseInt(c,10))})}return{formatName:e,formatOptions:n}}function Kd(t){const e={};return function(r,i,s){const o=i+JSON.stringify(s);let a=e[o];return a||(a=t(lw(i),s),e[o]=a),a(r)}}class Mit{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ko.create("formatter"),this.options=e,this.formats={number:Kd((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return s=>i.format(s)}),currency:Kd((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return s=>i.format(s)}),datetime:Kd((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return s=>i.format(s)}),relativetime:Kd((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return s=>i.format(s,r.range||"day")}),list:Kd((n,r)=>{const i=new Intl.ListFormat(n,{...r});return s=>i.format(s)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Kd(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((a,l)=>{const{formatName:c,formatOptions:u}=Lit(l);if(this.formats[c]){let d=a;try{const f=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},h=f.locale||f.lng||i.locale||i.lng||r;d=this.formats[c](a,h,{...u,...i,...f})}catch(f){this.logger.warn(f)}return d}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}function Bit(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class zit extends Jk{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Ko.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},a={},l={};return e.forEach(c=>{let u=!0;n.forEach(d=>{const f=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,u=!1,o[f]===void 0&&(o[f]=!0),s[f]===void 0&&(s[f]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(a[c]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2;const a={};this.queue.forEach(l=>{Sit(l.loaded,[s],o),Bit(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{a[c][d]===void 0&&(a[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>a(null,u)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,n,a)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:s},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;c.length===5?u=c(e,n,r,i,l):u=c(e,n,r,i),u&&typeof u.then=="function"?u.then(d=>a(null,d)).catch(a):a(null,u)}catch(u){a(u)}else c(e,n,r,i,a,l)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}function A8(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(i=>{n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function P8(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Y1(){}function jit(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class ny extends Jk{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=P8(e),this.services={},this.logger=Ko,this.modules={external:[]},jit(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=A8();this.options={...i,...this.options,...P8(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function s(u){return u?typeof u=="function"?new u:u:null}if(!this.options.isClone){this.modules.logger?Ko.init(s(this.modules.logger),this.options):Ko.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=Mit);const d=new N8(this.options);this.store=new I8(this.options.resources,this.options);const f=this.services;f.logger=Ko,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new Dit(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(f.formatter=s(u),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Fit(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new zit(s(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(h){for(var m=arguments.length,y=new Array(m>1?m-1:0),x=1;x<m;x++)y[x-1]=arguments[x];e.emit(h,...y)}),this.modules.languageDetector&&(f.languageDetector=s(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=s(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new cw(this.services,this.options),this.translator.on("*",function(h){for(var m=arguments.length,y=new Array(m>1?m-1:0),x=1;x<m;x++)y[x-1]=arguments[x];e.emit(h,...y)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Y1),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const l=hm(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y1;const i=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&s.indexOf(c)<0&&s.push(c)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,n,r){const i=hm();return e||(e=this.languages),n||(n=this.options.ns),r||(r=Y1),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&CJ.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=hm();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?(s(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||s(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,u=>{o(u,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,n,r){var i=this;const s=function(o,a){let l;if(typeof a!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),d=2;d<c;d++)u[d-2]=arguments[d];l=i.options.overloadTranslationOptionHandler([o,a].concat(u))}else l={...a};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix=l.keyPrefix||r||s.keyPrefix;const f=i.options.keySeparator||".";let h;return l.keyPrefix&&Array.isArray(o)?h=o.map(m=>`${l.keyPrefix}${f}${m}`):h=l.keyPrefix?`${l.keyPrefix}${f}${o}`:o,i.t(h,l)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=hm();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=hm();typeof e=="string"&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0);return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new N8(A8());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new ny(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y1;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new ny(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new I8(this.store.data,i),s.services.resourceStore=s.store),s.translator=new cw(s.services,i),s.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];s.emit(a,...c)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const oi=ny.createInstance();oi.createInstance=ny.createInstance;oi.createInstance;oi.dir;oi.init;oi.loadResources;oi.reloadResources;oi.use;oi.changeLanguage;oi.getFixedT;oi.t;oi.exists;oi.setDefaultNamespace;oi.hasLoadedNamespace;oi.loadNamespaces;oi.loadLanguages;const Vit={id:"image",name:"Image"},Uit={id:"uploadPhoto",name:"Upload Photo"},Wit={id:"browseClipart",name:"Browse Clipart"},Git={id:"font",name:"Font"},Hit={id:"colorPalette",name:"Color Palette",opacity:{name:"Opacity"},brightness:{name:"Brightness"},grayScale:{name:"Gray Scale"},addColor:{name:"Add color"},clearColor:{name:`Remove color
(Press shift to change outline color)`}},qit={id:"align",name:"Align",left:{name:"left"},center:{name:"center"},right:{name:"right"},top:{name:"top"},middle:{name:"middle"},bottom:{name:"bottom"}},Kit={id:"frame",name:"Frame",youtubeVideoThumbnail:{name:"Youtube Video Thumbnail",id:"youtubeVideoThumbnail",width:1280,height:760},youtubeChannelIcon:{name:"Youtube Channel Icon",id:"youtubeChannelIcon",width:800,height:800},youtubeChannelCover:{name:"Youtube Channel Cover",id:"youtubeChannelCover",width:2560,height:1440},instagramSquarePhoto:{name:"Instagram Square Photo",id:"instagramSquarePhoto",width:1080,height:1080},instagramProfile:{name:"Instagram Profile",id:"instagramProfile",width:110,height:110},instagramStory:{name:"Instagram Story",id:"instagramStory",width:1080,height:1920},A4:{name:"A4",id:"A4",width:2480,height:3508},sample_100X100:{name:"sample_100X100",id:"sample_100X100",width:100,height:100},sample_512X512:{name:"sample_512X512",id:"sample_512X512",width:512,height:512},facebookProfile:{name:"Facebook Profile",id:"facebookProfile",width:180,height:180},facebookCoverPhoto:{name:"Facebook Cover Photo",id:"facebookCoverPhoto",width:820,height:312},twitterProfile:{name:"Twitter Profile",id:"twitterProfile",width:400,height:400},twitterHeader:{name:"Twitter Header",id:"twitterHeader",width:1500,height:500},twitterPost:{name:"Twitter Post",id:"twitterPost",width:900,height:450},linkedInProfil:{name:"LinkedIn Profile",id:"linkedInProfil",width:400,height:400},linkedInCover:{name:"LinkedIn Cover",id:"linkedInCover",width:1584,height:396},pinterestBoardImage:{name:"Pinterest Board Image",id:"pinterestBoardImage",width:222,height:150},pinterestPinImage:{name:"Pinterest Pin Image",id:"pinterestPinImage",width:236,height:280},pinterestProfile:{name:"Pinterest Profile",id:"pinterestProfile",width:165,height:165},tumblrProfile:{name:"Tumblr Profile",id:"tumblrProfile",width:128,height:128},tumblrPostImage:{name:"Tumblr Post Image",id:"tumblrPostImage",width:500,height:750},androidAppIcon:{name:"Android App Icon",id:"androidAppIcon",width:512,height:512},androidFeatureGraphic:{name:"Android Feature Graphic",id:"androidFeatureGraphic",width:1024,height:500},androidHorizontal:{name:"Android Horizontal",id:"androidHorizontal",width:1920,height:1080},androidVertical:{name:"Android Vertical",id:"androidVertical",width:1080,height:1920},iosIPhoneVertical6_7:{name:"iOS iPhone Vertical (6.7 inch)",id:"iosIPhoneVertical6_7",width:1284,height:2778},iosIPhoneVertical6_5:{name:"iOS iPhone Vertical (6.5 inch)",id:"iosIPhoneVertical6_5",width:1284,height:2778},iosIPhoneVertical5_8:{name:"iOS iPhone Vertical (5.8 inch)",id:"iosIPhoneVertical5_8",width:1170,height:2532},iosIPhoneVertical5_5:{name:"iOS iPhone Vertical (5.5 inch)",id:"iosIPhoneVertical5_5",width:1242,height:2208},iosIPhoneVertical4_7:{name:"iOS iPhone Vertical (4.7 inch)",id:"iosIPhoneVertical4_7",width:750,height:1334},iosIPhoneVertical4:{name:"iOS iPhone Vertical (4 inch)",id:"iosIPhoneVertical4",width:640,height:1136},iosIPhoneVertical3_5:{name:"iOS iPhone Vertical (3.5 inch)",id:"iosIPhoneVertical3_5",width:640,height:960},iosIPadVertical12_9:{name:"iOS iPad Vertical (12.9 inch)",id:"iosIPadVertical12_9",width:2048,height:2732},iosIPadVertical11:{name:"iOS iPad Vertical (11 inch)",id:"iosIPadVertical11",width:1640,height:2360},iosIPadVertical10_5:{name:"iOS iPad Vertical (10.5 inch)",id:"iosIPadVertical10_5",width:1668,height:2224},iosIPadVertical9_7:{name:"iOS iPad Vertical (9.7 inch)",id:"iosIPadVertical9_7",width:1536,height:2048}},Xit={id:"shape",name:"Shape"},Qit={id:"text",name:"Text"},Yit={id:"icon",name:"Icon",search:{title:"Search Icon",placeholder:"Enter keyword",desc:"Type a keyword to find icon"}},Jit={image:Vit,uploadPhoto:Uit,browseClipart:Wit,font:Git,colorPalette:Hit,align:qit,frame:Kit,shape:Xit,text:Qit,icon:Yit,export:{id:"export",name:"Export","export-all-frame":{type:"export",id:"export-all-frame",name:"Export All Frame",icon:"download"},"export-selected":{type:"export",id:"export-selected",name:"Export Selected Frame",icon:"box-arrow-down"}}},Zit={name:"Move Backgroud",keys:["spacebar","click & move"],desc:""},est={name:"Reset Zoom",keys:["ctrl","0"],desc:""},tst={name:"Zoom In",keys:["mouse wheel"],desc:""},nst={name:"Zoom Out",keys:["mouse wheel"],desc:""},rst={name:"Layer Up",keys:["shift","up"],desc:""},ist={name:"Layer Down",keys:["shift","down"],desc:""},sst={name:"Delete",keys:["backspace"],desc:""},ost={name:"Duplicate",keys:["ctrl","d"],desc:""},ast={name:"Copy Selected Items",keys:["ctrl","c"],desc:""},lst={name:"Paste Selected Items",keys:["ctrl","v"],desc:""},cst={name:"Select All Items",keys:["ctrl","a"],desc:""},ust={name:"Flip Horizontally",keys:["shift","h"],desc:""},dst={name:"Flip Vertically",keys:["shift","v"],desc:""},fst={id:"undo",name:"Undo",keys:["ctrl","z"],desc:""},hst={id:"redo",name:"Redo",keys:["ctrl","y"],desc:""},pst={moveBackground:Zit,resetZoom:est,zoomIn:tst,zoomOut:nst,layerUp:rst,layerDown:ist,deleteItems:sst,duplicateItems:ost,copyItems:ast,pasteItems:lst,selectAllItems:cst,flipHorizontally:ust,flipVertically:dst,undo:fst,redo:hst,"remove-background":{name:"Remove Background of Selected Image",keys:["ctrl","x","b"],desc:"Remove Background of Selected Image"}},mst={id:"checkout",name:"Checkout"},gst={checkout:mst},yst={widget:Jit,hotkey:pst,cartview:gst,workMode:N$.reduce((t,e)=>({...t,[e.id]:e}),{})},vst={id:"image",name:"이미지"},xst={id:"colorPalette",name:"색",opacity:{name:"투명도"},brightness:{name:"밝기"},grayScale:{name:"흑백"},addColor:{name:"색 추가"},clearColor:{name:`색 제거
(shift와 함께 클릭시 아웃라인 변경)`}},bst={id:"align",name:"정렬",left:{name:"왼쪽"},center:{name:"수평 중앙"},right:{name:"오른쪽"},top:{name:"위"},middle:{name:"수직 중앙"},bottom:{name:"아래"}},wst={id:"frame",name:"프레임",youtubeVideoThumbnail:{name:"유튜브 비디오 썸네일",id:"youtubeVideoThumbnail",width:1280,height:760},youtubeChannelIcon:{name:"유튜브 채널 아이콘",id:"youtubeChannelIcon",width:800,height:800},youtubeChannelCover:{name:"유튜브 채널 커버",id:"youtubeChannelCover",width:2560,height:1440},instagramSquarePhoto:{name:"인스타그램 포스트",id:"instagramSquarePhoto",width:1080,height:1080},instagramProfile:{name:"인스타그램 프로필",id:"instagramProfile",width:110,height:110},instagramStory:{name:"인스타그램 스토리",id:"instagramStory",width:1080,height:1920},A4:{name:"A4",id:"A4",width:2480,height:3508},sample_100X100:{name:"100픽셀 정사각형",id:"sample_100X100",width:100,height:100},sample_512X512:{name:"512픽셀 정사각형",id:"sample_512X512",width:512,height:512},facebookProfile:{name:"페이스북 프로필",id:"facebookProfile",width:180,height:180},facebookCoverPhoto:{name:"페이스북 커버",id:"facebookCoverPhoto",width:820,height:312},twitterProfile:{name:"트위터 프로필",id:"twitterProfile",width:400,height:400},twitterHeader:{name:"트위터 헤더",id:"twitterHeader",width:1500,height:500},twitterPost:{name:"트위터 포스트",id:"twitterPost",width:900,height:450},linkedInProfil:{name:"링크드인 프로필",id:"linkedInProfil",width:400,height:400},linkedInCover:{name:"링크드인 커버",id:"linkedInCover",width:1584,height:396},pinterestBoardImage:{name:"핀터레스트 보드",id:"pinterestBoardImage",width:222,height:150},pinterestPinImage:{name:"핀터레스트 핀",id:"pinterestPinImage",width:236,height:280},pinterestProfile:{name:"핀터레스트 프로필",id:"pinterestProfile",width:165,height:165},tumblrProfile:{name:"텀블러 프로필",id:"tumblrProfile",width:128,height:128},tumblrPostImage:{name:"텀블러 포스트",id:"tumblrPostImage",width:500,height:750},androidAppIcon:{name:"안드로이드 앱 아이콘",id:"androidAppIcon",width:512,height:512},androidFeatureGraphic:{name:"안드로이드 그래픽",id:"androidFeatureGraphic",width:1024,height:500},androidHorizontal:{name:"안드로이드 가로 스크린샷",id:"androidHorizontal",width:1920,height:1080},androidVertical:{name:"안드로이드 세로 스크린샷",id:"androidVertical",width:1080,height:1920},iosIPhoneVertical6_7:{name:"아이폰 세로 6.7인치",id:"iosIPhoneVertical6_7",width:1284,height:2778},iosIPhoneVertical6_5:{name:"아이폰 세로 6.5인치",id:"iosIPhoneVertical6_5",width:1284,height:2778},iosIPhoneVertical5_8:{name:"아이폰 세로 5.8인치",id:"iosIPhoneVertical5_8",width:1170,height:2532},iosIPhoneVertical5_5:{name:"아이폰 세로 5.5인치",id:"iosIPhoneVertical5_5",width:1242,height:2208},iosIPhoneVertical4_7:{name:"아이폰 세로 4.7인치",id:"iosIPhoneVertical4_7",width:750,height:1334},iosIPhoneVertical4:{name:"아이폰 세로 4인치",id:"iosIPhoneVertical4",width:640,height:1136},iosIPhoneVertical3_5:{name:"아이폰 세로 3.5인치",id:"iosIPhoneVertical3_5",width:640,height:960},iosIPadVertical12_9:{name:"아이폰 세로 12.9인치",id:"iosIPadVertical12_9",width:2048,height:2732},iosIPadVertical11:{name:"아이폰 세로 11인치",id:"iosIPadVertical11",width:1640,height:2360},iosIPadVertical10_5:{name:"아이폰 세로 10.5인치",id:"iosIPadVertical10_5",width:1668,height:2224},iosIPadVertical9_7:{name:"아이폰 세로 9.7인치",id:"iosIPadVertical9_7",width:1536,height:2048}},Sst={id:"shape",name:"도형"},kst={id:"text",name:"글자"},Cst={id:"icon",name:"아이콘",search:{title:"아이콘 검색",placeholder:"키워드(영어)",desc:"키워드로 아이콘을 검색하세요"}},Est={image:vst,colorPalette:xst,align:bst,frame:wst,shape:Sst,text:kst,icon:Cst,export:{id:"export",name:"내보내기","export-all-frame":{type:"export",id:"export-all-frame",name:"모든 프레임 내보내기",icon:"download"},"export-selected":{type:"export",id:"export-selected",name:"선택한 프레임 내보내기",icon:"box-arrow-down"}}},Tst={name:"배경 움직이기",keys:["spacebar","click & move"],desc:""},_st={name:"줌 초기화",keys:["ctrl","0"],desc:""},Ist={name:"화면 확대",keys:["mouse wheel"],desc:""},$st={name:"화면 축소",keys:["mouse wheel"],desc:""},Nst={name:"레이어 올리기",keys:["shift","up"],desc:""},Ost={name:"레이어 내리기",keys:["shift","down"],desc:""},Rst={name:"선택한 아이템 삭제",keys:["backspace"],desc:""},Ast={name:"선택한 아이템 복제",keys:["ctrl","d"],desc:""},Pst={name:"선택한 아이템 복사",keys:["ctrl","c"],desc:""},Dst={name:"복사한 아이템 붙이기",keys:["ctrl","v"],desc:""},Fst={name:"모든 아이템 선택하기",keys:["ctrl","a"],desc:""},Lst={name:"선택한 아이템 수평 반전",keys:["shift","h"],desc:""},Mst={name:"선택한 아이템 수직 반전",keys:["shift","v"],desc:""},Bst={id:"undo",name:"이전으로 되감기",keys:["ctrl","z"],desc:""},zst={id:"redo",name:"다시 앞으로 감기",keys:["ctrl","y"],desc:""},jst={moveBackground:Tst,resetZoom:_st,zoomIn:Ist,zoomOut:$st,layerUp:Nst,layerDown:Ost,deleteItems:Rst,duplicateItems:Ast,copyItems:Pst,pasteItems:Dst,selectAllItems:Fst,flipHorizontally:Lst,flipVertically:Mst,undo:Bst,redo:zst,"remove-background":{name:"선택한 이미지 배경제거",keys:["[왼쪽 버튼 중 사진 버튼 선택]"],desc:"선택한 이미지 배경제거"}},Vst={id:"hotkey",name:"키보드 단축키",desc:"키보드 단축키",icon:"keyboard-fill"},Ust={"select-all":{id:"select-all",name:"모든 아이템 선택하기",desc:"모든 아이템 선택하기",icon:"bounding-box"},"flip-horizontally":{id:"flip-horizontally",name:"선택한 아이템 수평 반전",desc:"선택한 아이템 수평 반전",icon:"arrow-left-right"},"flip-vertically":{id:"flip-vertically",name:"선택한 아이템 수직 반전",desc:"선택한 아이템 수평 반전",icon:"arrow-down-up"},"reset-zoom":{id:"reset-zoom",name:"화면 확대",desc:"화면 확대",icon:"arrows-fullscreen"},"zoom-in":{id:"zoom-in",name:"화면 확대",desc:"화면 확대",icon:"arrows-angle-expand"},"zoom-out":{id:"zoom-out",name:"화면 축소",desc:"화면 축소",icon:"arrows-angle-contract"},"layer-up":{id:"layer-up",name:"레이어 올리기",desc:"레이어 올리기",icon:"front"},"layer-down":{id:"layer-down",name:"레이어 내리기",desc:"레이어 내리기",icon:"back"},hotkey:Vst},Wst={widget:Est,hotkey:jst,workMode:Ust};oi.use(rge).init({resources:{en:yst,ko:Wst},lng:window.navigator.language??"en",fallbackLng:"en",ns:["widget","hotkey","workMode"],interpolation:{escapeValue:!1}});const Gst=new x9({uri:"http://localhost:4000/graphql",cache:new m9}),Hst=vit(),EJ=document.getElementById("root");if(EJ===null)throw Error("rootElement is null");const qst=c_.createRoot(EJ);qst.render(R.jsx(Ooe,{client:Gst,children:R.jsx(tre,{store:Hst,children:R.jsx(oit,{})})}))});export default Kst();
